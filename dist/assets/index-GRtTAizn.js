var fq=Object.defineProperty;var dq=(r,e,t)=>e in r?fq(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Gn=(r,e,t)=>dq(r,typeof e!="symbol"?e+"":e,t);function pD(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function Rn(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Lx={exports:{}},Qm={},Fx={exports:{}},dn={},Tk;function hq(){if(Tk)return dn;Tk=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function d(V){return V===null||typeof V!="object"?null:(V=f&&V[f]||V["@@iterator"],typeof V=="function"?V:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function p(V,O,X){this.props=V,this.context=O,this.refs=g,this.updater=X||h}p.prototype.isReactComponent={},p.prototype.setState=function(V,O){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,O,"setState")},p.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function y(){}y.prototype=p.prototype;function v(V,O,X){this.props=V,this.context=O,this.refs=g,this.updater=X||h}var w=v.prototype=new y;w.constructor=v,m(w,p.prototype),w.isPureReactComponent=!0;var C=Array.isArray,P=Object.prototype.hasOwnProperty,F={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function j(V,O,X){var Q,re={},G=null,J=null;if(O!=null)for(Q in O.ref!==void 0&&(J=O.ref),O.key!==void 0&&(G=""+O.key),O)P.call(O,Q)&&!L.hasOwnProperty(Q)&&(re[Q]=O[Q]);var q=arguments.length-2;if(q===1)re.children=X;else if(1<q){for(var U=Array(q),Z=0;Z<q;Z++)U[Z]=arguments[Z+2];re.children=U}if(V&&V.defaultProps)for(Q in q=V.defaultProps,q)re[Q]===void 0&&(re[Q]=q[Q]);return{$$typeof:r,type:V,key:G,ref:J,props:re,_owner:F.current}}function I(V,O){return{$$typeof:r,type:V.type,key:O,ref:V.ref,props:V.props,_owner:V._owner}}function z(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function $(V){var O={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(X){return O[X]})}var B=/\/+/g;function T(V,O){return typeof V=="object"&&V!==null&&V.key!=null?$(""+V.key):O.toString(36)}function R(V,O,X,Q,re){var G=typeof V;(G==="undefined"||G==="boolean")&&(V=null);var J=!1;if(V===null)J=!0;else switch(G){case"string":case"number":J=!0;break;case"object":switch(V.$$typeof){case r:case e:J=!0}}if(J)return J=V,re=re(J),V=Q===""?"."+T(J,0):Q,C(re)?(X="",V!=null&&(X=V.replace(B,"$&/")+"/"),R(re,O,X,"",function(Z){return Z})):re!=null&&(z(re)&&(re=I(re,X+(!re.key||J&&J.key===re.key?"":(""+re.key).replace(B,"$&/")+"/")+V)),O.push(re)),1;if(J=0,Q=Q===""?".":Q+":",C(V))for(var q=0;q<V.length;q++){G=V[q];var U=Q+T(G,q);J+=R(G,O,X,U,re)}else if(U=d(V),typeof U=="function")for(V=U.call(V),q=0;!(G=V.next()).done;)G=G.value,U=Q+T(G,q++),J+=R(G,O,X,U,re);else if(G==="object")throw O=String(V),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return J}function N(V,O,X){if(V==null)return V;var Q=[],re=0;return R(V,Q,"","",function(G){return O.call(X,G,re++)}),Q}function _(V){if(V._status===-1){var O=V._result;O=O(),O.then(function(X){(V._status===0||V._status===-1)&&(V._status=1,V._result=X)},function(X){(V._status===0||V._status===-1)&&(V._status=2,V._result=X)}),V._status===-1&&(V._status=0,V._result=O)}if(V._status===1)return V._result.default;throw V._result}var E={current:null},S={transition:null},k={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:S,ReactCurrentOwner:F};function M(){throw Error("act(...) is not supported in production builds of React.")}return dn.Children={map:N,forEach:function(V,O,X){N(V,function(){O.apply(this,arguments)},X)},count:function(V){var O=0;return N(V,function(){O++}),O},toArray:function(V){return N(V,function(O){return O})||[]},only:function(V){if(!z(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},dn.Component=p,dn.Fragment=t,dn.Profiler=i,dn.PureComponent=v,dn.StrictMode=n,dn.Suspense=c,dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,dn.act=M,dn.cloneElement=function(V,O,X){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Q=m({},V.props),re=V.key,G=V.ref,J=V._owner;if(O!=null){if(O.ref!==void 0&&(G=O.ref,J=F.current),O.key!==void 0&&(re=""+O.key),V.type&&V.type.defaultProps)var q=V.type.defaultProps;for(U in O)P.call(O,U)&&!L.hasOwnProperty(U)&&(Q[U]=O[U]===void 0&&q!==void 0?q[U]:O[U])}var U=arguments.length-2;if(U===1)Q.children=X;else if(1<U){q=Array(U);for(var Z=0;Z<U;Z++)q[Z]=arguments[Z+2];Q.children=q}return{$$typeof:r,type:V.type,key:re,ref:G,props:Q,_owner:J}},dn.createContext=function(V){return V={$$typeof:s,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},dn.createElement=j,dn.createFactory=function(V){var O=j.bind(null,V);return O.type=V,O},dn.createRef=function(){return{current:null}},dn.forwardRef=function(V){return{$$typeof:l,render:V}},dn.isValidElement=z,dn.lazy=function(V){return{$$typeof:u,_payload:{_status:-1,_result:V},_init:_}},dn.memo=function(V,O){return{$$typeof:o,type:V,compare:O===void 0?null:O}},dn.startTransition=function(V){var O=S.transition;S.transition={};try{V()}finally{S.transition=O}},dn.unstable_act=M,dn.useCallback=function(V,O){return E.current.useCallback(V,O)},dn.useContext=function(V){return E.current.useContext(V)},dn.useDebugValue=function(){},dn.useDeferredValue=function(V){return E.current.useDeferredValue(V)},dn.useEffect=function(V,O){return E.current.useEffect(V,O)},dn.useId=function(){return E.current.useId()},dn.useImperativeHandle=function(V,O,X){return E.current.useImperativeHandle(V,O,X)},dn.useInsertionEffect=function(V,O){return E.current.useInsertionEffect(V,O)},dn.useLayoutEffect=function(V,O){return E.current.useLayoutEffect(V,O)},dn.useMemo=function(V,O){return E.current.useMemo(V,O)},dn.useReducer=function(V,O,X){return E.current.useReducer(V,O,X)},dn.useRef=function(V){return E.current.useRef(V)},dn.useState=function(V){return E.current.useState(V)},dn.useSyncExternalStore=function(V,O,X){return E.current.useSyncExternalStore(V,O,X)},dn.useTransition=function(){return E.current.useTransition()},dn.version="18.3.1",dn}var Nk;function eA(){return Nk||(Nk=1,Fx.exports=hq()),Fx.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pk;function pq(){if(Pk)return Qm;Pk=1;var r=eA(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,o){var u,f={},d=null,h=null;o!==void 0&&(d=""+o),c.key!==void 0&&(d=""+c.key),c.ref!==void 0&&(h=c.ref);for(u in c)n.call(c,u)&&!a.hasOwnProperty(u)&&(f[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)f[u]===void 0&&(f[u]=c[u]);return{$$typeof:e,type:l,key:d,ref:h,props:f,_owner:i.current}}return Qm.Fragment=t,Qm.jsx=s,Qm.jsxs=s,Qm}var jk;function mq(){return jk||(jk=1,Lx.exports=pq()),Lx.exports}var A=mq();const gq=console.error,yq=console.warn,vq=console.log,jf=r=>typeof r=="string"?r.includes("ResizeObserver loop completed with undelivered notifications")||r.includes("ResizeObserver")||r.includes("resize observer"):!1;console.error=(...r)=>{jf(r[0])||gq.apply(console,r)};console.warn=(...r)=>{jf(r[0])||yq.apply(console,r)};console.log=(...r)=>{jf(r[0])||vq.apply(console,r)};const Ik=window.addEventListener;window.addEventListener=function(r,e,t){if(r==="error"){const n=i=>jf(i.message)?(i.preventDefault(),i.stopImmediatePropagation(),!1):e(i);return Ik.call(this,r,n,t)}return Ik.call(this,r,e,t)};window.addEventListener("unhandledrejection",r=>{if(jf(r.reason))return r.preventDefault(),!1});const Ok=window.onerror;window.onerror=function(r,e,t,n,i){return jf(r)?!0:Ok?Ok(r,e,t,n,i):!1};window.addEventListener("error",r=>{if(jf(r.message))return r.preventDefault(),r.stopImmediatePropagation(),!1});const bq=console.error;console.error=(...r)=>{jf(r[0])||bq.apply(console,r)};var ce=eA();const Le=Rn(ce),wq=pD({__proto__:null,default:Le},[ce]);var G1={},Bx={exports:{}},ao={},$x={exports:{}},Ux={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rk;function xq(){return Rk||(Rk=1,(function(r){function e(S,k){var M=S.length;S.push(k);e:for(;0<M;){var V=M-1>>>1,O=S[V];if(0<i(O,k))S[V]=k,S[M]=O,M=V;else break e}}function t(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var k=S[0],M=S.pop();if(M!==k){S[0]=M;e:for(var V=0,O=S.length,X=O>>>1;V<X;){var Q=2*(V+1)-1,re=S[Q],G=Q+1,J=S[G];if(0>i(re,M))G<O&&0>i(J,re)?(S[V]=J,S[G]=M,V=G):(S[V]=re,S[Q]=M,V=Q);else if(G<O&&0>i(J,M))S[V]=J,S[G]=M,V=G;else break e}}return k}function i(S,k){var M=S.sortIndex-k.sortIndex;return M!==0?M:S.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();r.unstable_now=function(){return s.now()-l}}var c=[],o=[],u=1,f=null,d=3,h=!1,m=!1,g=!1,p=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(S){for(var k=t(o);k!==null;){if(k.callback===null)n(o);else if(k.startTime<=S)n(o),k.sortIndex=k.expirationTime,e(c,k);else break;k=t(o)}}function C(S){if(g=!1,w(S),!m)if(t(c)!==null)m=!0,_(P);else{var k=t(o);k!==null&&E(C,k.startTime-S)}}function P(S,k){m=!1,g&&(g=!1,y(j),j=-1),h=!0;var M=d;try{for(w(k),f=t(c);f!==null&&(!(f.expirationTime>k)||S&&!$());){var V=f.callback;if(typeof V=="function"){f.callback=null,d=f.priorityLevel;var O=V(f.expirationTime<=k);k=r.unstable_now(),typeof O=="function"?f.callback=O:f===t(c)&&n(c),w(k)}else n(c);f=t(c)}if(f!==null)var X=!0;else{var Q=t(o);Q!==null&&E(C,Q.startTime-k),X=!1}return X}finally{f=null,d=M,h=!1}}var F=!1,L=null,j=-1,I=5,z=-1;function $(){return!(r.unstable_now()-z<I)}function B(){if(L!==null){var S=r.unstable_now();z=S;var k=!0;try{k=L(!0,S)}finally{k?T():(F=!1,L=null)}}else F=!1}var T;if(typeof v=="function")T=function(){v(B)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,N=R.port2;R.port1.onmessage=B,T=function(){N.postMessage(null)}}else T=function(){p(B,0)};function _(S){L=S,F||(F=!0,T())}function E(S,k){j=p(function(){S(r.unstable_now())},k)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(S){S.callback=null},r.unstable_continueExecution=function(){m||h||(m=!0,_(P))},r.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<S?Math.floor(1e3/S):5},r.unstable_getCurrentPriorityLevel=function(){return d},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(S){switch(d){case 1:case 2:case 3:var k=3;break;default:k=d}var M=d;d=k;try{return S()}finally{d=M}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(S,k){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var M=d;d=S;try{return k()}finally{d=M}},r.unstable_scheduleCallback=function(S,k,M){var V=r.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?V+M:V):M=V,S){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=M+O,S={id:u++,callback:k,priorityLevel:S,startTime:M,expirationTime:O,sortIndex:-1},M>V?(S.sortIndex=M,e(o,S),t(c)===null&&S===t(o)&&(g?(y(j),j=-1):g=!0,E(C,M-V))):(S.sortIndex=O,e(c,S),m||h||(m=!0,_(P))),S},r.unstable_shouldYield=$,r.unstable_wrapCallback=function(S){var k=d;return function(){var M=d;d=k;try{return S.apply(this,arguments)}finally{d=M}}}})(Ux)),Ux}var Mk;function _q(){return Mk||(Mk=1,$x.exports=xq()),$x.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dk;function Sq(){if(Dk)return ao;Dk=1;var r=eA(),e=_q();function t(b){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+b,D=1;D<arguments.length;D++)x+="&args[]="+encodeURIComponent(arguments[D]);return"Minified React error #"+b+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(b,x){s(b,x),s(b+"Capture",x)}function s(b,x){for(i[b]=x,b=0;b<x.length;b++)n.add(x[b])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,o=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function d(b){return c.call(f,b)?!0:c.call(u,b)?!1:o.test(b)?f[b]=!0:(u[b]=!0,!1)}function h(b,x,D,K){if(D!==null&&D.type===0)return!1;switch(typeof x){case"function":case"symbol":return!0;case"boolean":return K?!1:D!==null?!D.acceptsBooleans:(b=b.toLowerCase().slice(0,5),b!=="data-"&&b!=="aria-");default:return!1}}function m(b,x,D,K){if(x===null||typeof x>"u"||h(b,x,D,K))return!0;if(K)return!1;if(D!==null)switch(D.type){case 3:return!x;case 4:return x===!1;case 5:return isNaN(x);case 6:return isNaN(x)||1>x}return!1}function g(b,x,D,K,ee,se,ve){this.acceptsBooleans=x===2||x===3||x===4,this.attributeName=K,this.attributeNamespace=ee,this.mustUseProperty=D,this.propertyName=b,this.type=x,this.sanitizeURL=se,this.removeEmptyString=ve}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){p[b]=new g(b,0,!1,b,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var x=b[0];p[x]=new g(x,1,!1,b[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(b){p[b]=new g(b,2,!1,b.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){p[b]=new g(b,2,!1,b,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){p[b]=new g(b,3,!1,b.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(b){p[b]=new g(b,3,!0,b,null,!1,!1)}),["capture","download"].forEach(function(b){p[b]=new g(b,4,!1,b,null,!1,!1)}),["cols","rows","size","span"].forEach(function(b){p[b]=new g(b,6,!1,b,null,!1,!1)}),["rowSpan","start"].forEach(function(b){p[b]=new g(b,5,!1,b.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(b){return b[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var x=b.replace(y,v);p[x]=new g(x,1,!1,b,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var x=b.replace(y,v);p[x]=new g(x,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(b){var x=b.replace(y,v);p[x]=new g(x,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(b){p[b]=new g(b,1,!1,b.toLowerCase(),null,!1,!1)}),p.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(b){p[b]=new g(b,1,!1,b.toLowerCase(),null,!0,!0)});function w(b,x,D,K){var ee=p.hasOwnProperty(x)?p[x]:null;(ee!==null?ee.type!==0:K||!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(m(x,D,ee,K)&&(D=null),K||ee===null?d(x)&&(D===null?b.removeAttribute(x):b.setAttribute(x,""+D)):ee.mustUseProperty?b[ee.propertyName]=D===null?ee.type===3?!1:"":D:(x=ee.attributeName,K=ee.attributeNamespace,D===null?b.removeAttribute(x):(ee=ee.type,D=ee===3||ee===4&&D===!0?"":""+D,K?b.setAttributeNS(K,x,D):b.setAttribute(x,D))))}var C=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),F=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),$=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),S=Symbol.iterator;function k(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var M=Object.assign,V;function O(b){if(V===void 0)try{throw Error()}catch(D){var x=D.stack.trim().match(/\n( *(at )?)/);V=x&&x[1]||""}return`
`+V+b}var X=!1;function Q(b,x){if(!b||X)return"";X=!0;var D=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(rt){var K=rt}Reflect.construct(b,[],x)}else{try{x.call()}catch(rt){K=rt}b.call(x.prototype)}else{try{throw Error()}catch(rt){K=rt}b()}}catch(rt){if(rt&&K&&typeof rt.stack=="string"){for(var ee=rt.stack.split(`
`),se=K.stack.split(`
`),ve=ee.length-1,Ie=se.length-1;1<=ve&&0<=Ie&&ee[ve]!==se[Ie];)Ie--;for(;1<=ve&&0<=Ie;ve--,Ie--)if(ee[ve]!==se[Ie]){if(ve!==1||Ie!==1)do if(ve--,Ie--,0>Ie||ee[ve]!==se[Ie]){var Be=`
`+ee[ve].replace(" at new "," at ");return b.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",b.displayName)),Be}while(1<=ve&&0<=Ie);break}}}finally{X=!1,Error.prepareStackTrace=D}return(b=b?b.displayName||b.name:"")?O(b):""}function re(b){switch(b.tag){case 5:return O(b.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return b=Q(b.type,!1),b;case 11:return b=Q(b.type.render,!1),b;case 1:return b=Q(b.type,!0),b;default:return""}}function G(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case L:return"Fragment";case F:return"Portal";case I:return"Profiler";case j:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case $:return(b.displayName||"Context")+".Consumer";case z:return(b._context.displayName||"Context")+".Provider";case B:var x=b.render;return b=b.displayName,b||(b=x.displayName||x.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case N:return x=b.displayName||null,x!==null?x:G(b.type)||"Memo";case _:x=b._payload,b=b._init;try{return G(b(x))}catch{}}return null}function J(b){var x=b.type;switch(b.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=x.render,b=b.displayName||b.name||"",x.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(x);case 8:return x===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function q(b){switch(typeof b){case"boolean":case"number":case"string":case"undefined":return b;case"object":return b;default:return""}}function U(b){var x=b.type;return(b=b.nodeName)&&b.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function Z(b){var x=U(b)?"checked":"value",D=Object.getOwnPropertyDescriptor(b.constructor.prototype,x),K=""+b[x];if(!b.hasOwnProperty(x)&&typeof D<"u"&&typeof D.get=="function"&&typeof D.set=="function"){var ee=D.get,se=D.set;return Object.defineProperty(b,x,{configurable:!0,get:function(){return ee.call(this)},set:function(ve){K=""+ve,se.call(this,ve)}}),Object.defineProperty(b,x,{enumerable:D.enumerable}),{getValue:function(){return K},setValue:function(ve){K=""+ve},stopTracking:function(){b._valueTracker=null,delete b[x]}}}}function ie(b){b._valueTracker||(b._valueTracker=Z(b))}function le(b){if(!b)return!1;var x=b._valueTracker;if(!x)return!0;var D=x.getValue(),K="";return b&&(K=U(b)?b.checked?"true":"false":b.value),b=K,b!==D?(x.setValue(b),!0):!1}function de(b){if(b=b||(typeof document<"u"?document:void 0),typeof b>"u")return null;try{return b.activeElement||b.body}catch{return b.body}}function fe(b,x){var D=x.checked;return M({},x,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:D??b._wrapperState.initialChecked})}function ue(b,x){var D=x.defaultValue==null?"":x.defaultValue,K=x.checked!=null?x.checked:x.defaultChecked;D=q(x.value!=null?x.value:D),b._wrapperState={initialChecked:K,initialValue:D,controlled:x.type==="checkbox"||x.type==="radio"?x.checked!=null:x.value!=null}}function Ae(b,x){x=x.checked,x!=null&&w(b,"checked",x,!1)}function he(b,x){Ae(b,x);var D=q(x.value),K=x.type;if(D!=null)K==="number"?(D===0&&b.value===""||b.value!=D)&&(b.value=""+D):b.value!==""+D&&(b.value=""+D);else if(K==="submit"||K==="reset"){b.removeAttribute("value");return}x.hasOwnProperty("value")?me(b,x.type,D):x.hasOwnProperty("defaultValue")&&me(b,x.type,q(x.defaultValue)),x.checked==null&&x.defaultChecked!=null&&(b.defaultChecked=!!x.defaultChecked)}function xe(b,x,D){if(x.hasOwnProperty("value")||x.hasOwnProperty("defaultValue")){var K=x.type;if(!(K!=="submit"&&K!=="reset"||x.value!==void 0&&x.value!==null))return;x=""+b._wrapperState.initialValue,D||x===b.value||(b.value=x),b.defaultValue=x}D=b.name,D!==""&&(b.name=""),b.defaultChecked=!!b._wrapperState.initialChecked,D!==""&&(b.name=D)}function me(b,x,D){(x!=="number"||de(b.ownerDocument)!==b)&&(D==null?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+D&&(b.defaultValue=""+D))}var Ce=Array.isArray;function ke(b,x,D,K){if(b=b.options,x){x={};for(var ee=0;ee<D.length;ee++)x["$"+D[ee]]=!0;for(D=0;D<b.length;D++)ee=x.hasOwnProperty("$"+b[D].value),b[D].selected!==ee&&(b[D].selected=ee),ee&&K&&(b[D].defaultSelected=!0)}else{for(D=""+q(D),x=null,ee=0;ee<b.length;ee++){if(b[ee].value===D){b[ee].selected=!0,K&&(b[ee].defaultSelected=!0);return}x!==null||b[ee].disabled||(x=b[ee])}x!==null&&(x.selected=!0)}}function Oe(b,x){if(x.dangerouslySetInnerHTML!=null)throw Error(t(91));return M({},x,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function De(b,x){var D=x.value;if(D==null){if(D=x.children,x=x.defaultValue,D!=null){if(x!=null)throw Error(t(92));if(Ce(D)){if(1<D.length)throw Error(t(93));D=D[0]}x=D}x==null&&(x=""),D=x}b._wrapperState={initialValue:q(D)}}function He(b,x){var D=q(x.value),K=q(x.defaultValue);D!=null&&(D=""+D,D!==b.value&&(b.value=D),x.defaultValue==null&&b.defaultValue!==D&&(b.defaultValue=D)),K!=null&&(b.defaultValue=""+K)}function Qe(b){var x=b.textContent;x===b._wrapperState.initialValue&&x!==""&&x!==null&&(b.value=x)}function tt(b){switch(b){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function st(b,x){return b==null||b==="http://www.w3.org/1999/xhtml"?tt(x):b==="http://www.w3.org/2000/svg"&&x==="foreignObject"?"http://www.w3.org/1999/xhtml":b}var it,pt=(function(b){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,D,K,ee){MSApp.execUnsafeLocalFunction(function(){return b(x,D,K,ee)})}:b})(function(b,x){if(b.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in b)b.innerHTML=x;else{for(it=it||document.createElement("div"),it.innerHTML="<svg>"+x.valueOf().toString()+"</svg>",x=it.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;x.firstChild;)b.appendChild(x.firstChild)}});function bt(b,x){if(x){var D=b.firstChild;if(D&&D===b.lastChild&&D.nodeType===3){D.nodeValue=x;return}}b.textContent=x}var mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mt=["Webkit","ms","Moz","O"];Object.keys(mt).forEach(function(b){Mt.forEach(function(x){x=x+b.charAt(0).toUpperCase()+b.substring(1),mt[x]=mt[b]})});function wt(b,x,D){return x==null||typeof x=="boolean"||x===""?"":D||typeof x!="number"||x===0||mt.hasOwnProperty(b)&&mt[b]?(""+x).trim():x+"px"}function et(b,x){b=b.style;for(var D in x)if(x.hasOwnProperty(D)){var K=D.indexOf("--")===0,ee=wt(D,x[D],K);D==="float"&&(D="cssFloat"),K?b.setProperty(D,ee):b[D]=ee}}var dt=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function It(b,x){if(x){if(dt[b]&&(x.children!=null||x.dangerouslySetInnerHTML!=null))throw Error(t(137,b));if(x.dangerouslySetInnerHTML!=null){if(x.children!=null)throw Error(t(60));if(typeof x.dangerouslySetInnerHTML!="object"||!("__html"in x.dangerouslySetInnerHTML))throw Error(t(61))}if(x.style!=null&&typeof x.style!="object")throw Error(t(62))}}function ht(b,x){if(b.indexOf("-")===-1)return typeof x.is=="string";switch(b){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zt=null;function Vt(b){return b=b.target||b.srcElement||window,b.correspondingUseElement&&(b=b.correspondingUseElement),b.nodeType===3?b.parentNode:b}var Bt=null,sr=null,Ht=null;function Nt(b){if(b=Uu(b)){if(typeof Bt!="function")throw Error(t(280));var x=b.stateNode;x&&(x=Jf(x),Bt(b.stateNode,b.type,x))}}function Yt(b){sr?Ht?Ht.push(b):Ht=[b]:sr=b}function Ur(){if(sr){var b=sr,x=Ht;if(Ht=sr=null,Nt(b),x)for(b=0;b<x.length;b++)Nt(x[b])}}function Wt(b,x){return b(x)}function Ir(){}var Or=!1;function At(b,x,D){if(Or)return b(x,D);Or=!0;try{return Wt(b,x,D)}finally{Or=!1,(sr!==null||Ht!==null)&&(Ir(),Ur())}}function fr(b,x){var D=b.stateNode;if(D===null)return null;var K=Jf(D);if(K===null)return null;D=K[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(K=!K.disabled)||(b=b.type,K=!(b==="button"||b==="input"||b==="select"||b==="textarea")),b=!K;break e;default:b=!1}if(b)return null;if(D&&typeof D!="function")throw Error(t(231,x,typeof D));return D}var Gr=!1;if(l)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){Gr=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{Gr=!1}function Re(b,x,D,K,ee,se,ve,Ie,Be){var rt=Array.prototype.slice.call(arguments,3);try{x.apply(D,rt)}catch(Tt){this.onError(Tt)}}var $e=!1,Je=null,xt=!1,ar=null,Ot={onError:function(b){$e=!0,Je=b}};function er(b,x,D,K,ee,se,ve,Ie,Be){$e=!1,Je=null,Re.apply(Ot,arguments)}function Jt(b,x,D,K,ee,se,ve,Ie,Be){if(er.apply(this,arguments),$e){if($e){var rt=Je;$e=!1,Je=null}else throw Error(t(198));xt||(xt=!0,ar=rt)}}function qt(b){var x=b,D=b;if(b.alternate)for(;x.return;)x=x.return;else{b=x;do x=b,(x.flags&4098)!==0&&(D=x.return),b=x.return;while(b)}return x.tag===3?D:null}function or(b){if(b.tag===13){var x=b.memoizedState;if(x===null&&(b=b.alternate,b!==null&&(x=b.memoizedState)),x!==null)return x.dehydrated}return null}function Gt(b){if(qt(b)!==b)throw Error(t(188))}function kr(b){var x=b.alternate;if(!x){if(x=qt(b),x===null)throw Error(t(188));return x!==b?null:b}for(var D=b,K=x;;){var ee=D.return;if(ee===null)break;var se=ee.alternate;if(se===null){if(K=ee.return,K!==null){D=K;continue}break}if(ee.child===se.child){for(se=ee.child;se;){if(se===D)return Gt(ee),b;if(se===K)return Gt(ee),x;se=se.sibling}throw Error(t(188))}if(D.return!==K.return)D=ee,K=se;else{for(var ve=!1,Ie=ee.child;Ie;){if(Ie===D){ve=!0,D=ee,K=se;break}if(Ie===K){ve=!0,K=ee,D=se;break}Ie=Ie.sibling}if(!ve){for(Ie=se.child;Ie;){if(Ie===D){ve=!0,D=se,K=ee;break}if(Ie===K){ve=!0,K=se,D=ee;break}Ie=Ie.sibling}if(!ve)throw Error(t(189))}}if(D.alternate!==K)throw Error(t(190))}if(D.tag!==3)throw Error(t(188));return D.stateNode.current===D?b:x}function sn(b){return b=kr(b),b!==null?tn(b):null}function tn(b){if(b.tag===5||b.tag===6)return b;for(b=b.child;b!==null;){var x=tn(b);if(x!==null)return x;b=b.sibling}return null}var xn=e.unstable_scheduleCallback,Tn=e.unstable_cancelCallback,oi=e.unstable_shouldYield,je=e.unstable_requestPaint,Ue=e.unstable_now,ft=e.unstable_getCurrentPriorityLevel,_t=e.unstable_ImmediatePriority,$t=e.unstable_UserBlockingPriority,Ct=e.unstable_NormalPriority,Rt=e.unstable_LowPriority,Vr=e.unstable_IdlePriority,_r=null,br=null;function pr(b){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(_r,b,void 0,(b.current.flags&128)===128)}catch{}}var Tr=Math.clz32?Math.clz32:_n,an=Math.log,Sr=Math.LN2;function _n(b){return b>>>=0,b===0?32:31-(an(b)/Sr|0)|0}var Mn=64,Nn=4194304;function Xn(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function ti(b,x){var D=b.pendingLanes;if(D===0)return 0;var K=0,ee=b.suspendedLanes,se=b.pingedLanes,ve=D&268435455;if(ve!==0){var Ie=ve&~ee;Ie!==0?K=Xn(Ie):(se&=ve,se!==0&&(K=Xn(se)))}else ve=D&~ee,ve!==0?K=Xn(ve):se!==0&&(K=Xn(se));if(K===0)return 0;if(x!==0&&x!==K&&(x&ee)===0&&(ee=K&-K,se=x&-x,ee>=se||ee===16&&(se&4194240)!==0))return x;if((K&4)!==0&&(K|=D&16),x=b.entangledLanes,x!==0)for(b=b.entanglements,x&=K;0<x;)D=31-Tr(x),ee=1<<D,K|=b[D],x&=~ee;return K}function $a(b,x){switch(b){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cn(b,x){for(var D=b.suspendedLanes,K=b.pingedLanes,ee=b.expirationTimes,se=b.pendingLanes;0<se;){var ve=31-Tr(se),Ie=1<<ve,Be=ee[ve];Be===-1?((Ie&D)===0||(Ie&K)!==0)&&(ee[ve]=$a(Ie,x)):Be<=x&&(b.expiredLanes|=Ie),se&=~Ie}}function li(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function rn(){var b=Mn;return Mn<<=1,(Mn&4194240)===0&&(Mn=64),b}function zr(b){for(var x=[],D=0;31>D;D++)x.push(b);return x}function Ji(b,x,D){b.pendingLanes|=x,x!==536870912&&(b.suspendedLanes=0,b.pingedLanes=0),b=b.eventTimes,x=31-Tr(x),b[x]=D}function Kr(b,x){var D=b.pendingLanes&~x;b.pendingLanes=x,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=x,b.mutableReadLanes&=x,b.entangledLanes&=x,x=b.entanglements;var K=b.eventTimes;for(b=b.expirationTimes;0<D;){var ee=31-Tr(D),se=1<<ee;x[ee]=0,K[ee]=-1,b[ee]=-1,D&=~se}}function Ua(b,x){var D=b.entangledLanes|=x;for(b=b.entanglements;D;){var K=31-Tr(D),ee=1<<K;ee&x|b[K]&x&&(b[K]|=x),D&=~ee}}var Cr=0;function ri(b){return b&=-b,1<b?4<b?(b&268435455)!==0?16:536870912:4:1}var Aa,ms,mo,Us,Ca,gs=!1,Si=[],vi=null,Ei=null,qi=null,wr=new Map,ea=new Map,ka=[],zf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pu(b,x){switch(b){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":wr.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":ea.delete(x.pointerId)}}function Ai(b,x,D,K,ee,se){return b===null||b.nativeEvent!==se?(b={blockedOn:x,domEventName:D,eventSystemFlags:K,nativeEvent:se,targetContainers:[ee]},x!==null&&(x=Uu(x),x!==null&&ms(x)),b):(b.eventSystemFlags|=K,x=b.targetContainers,ee!==null&&x.indexOf(ee)===-1&&x.push(ee),b)}function go(b,x,D,K,ee){switch(x){case"focusin":return vi=Ai(vi,b,x,D,K,ee),!0;case"dragenter":return Ei=Ai(Ei,b,x,D,K,ee),!0;case"mouseover":return qi=Ai(qi,b,x,D,K,ee),!0;case"pointerover":var se=ee.pointerId;return wr.set(se,Ai(wr.get(se)||null,b,x,D,K,ee)),!0;case"gotpointercapture":return se=ee.pointerId,ea.set(se,Ai(ea.get(se)||null,b,x,D,K,ee)),!0}return!1}function ju(b){var x=Zl(b.target);if(x!==null){var D=qt(x);if(D!==null){if(x=D.tag,x===13){if(x=or(D),x!==null){b.blockedOn=x,Ca(b.priority,function(){mo(D)});return}}else if(x===3&&D.stateNode.current.memoizedState.isDehydrated){b.blockedOn=D.tag===3?D.stateNode.containerInfo:null;return}}}b.blockedOn=null}function yo(b){if(b.blockedOn!==null)return!1;for(var x=b.targetContainers;0<x.length;){var D=Bo(b.domEventName,b.eventSystemFlags,x[0],b.nativeEvent);if(D===null){D=b.nativeEvent;var K=new D.constructor(D.type,D);zt=K,D.target.dispatchEvent(K),zt=null}else return x=Uu(D),x!==null&&ms(x),b.blockedOn=D,!1;x.shift()}return!0}function Ys(b,x,D){yo(b)&&D.delete(x)}function Hl(){gs=!1,vi!==null&&yo(vi)&&(vi=null),Ei!==null&&yo(Ei)&&(Ei=null),qi!==null&&yo(qi)&&(qi=null),wr.forEach(Ys),ea.forEach(Ys)}function Ta(b,x){b.blockedOn===x&&(b.blockedOn=null,gs||(gs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hl)))}function Va(b){function x(ee){return Ta(ee,b)}if(0<Si.length){Ta(Si[0],b);for(var D=1;D<Si.length;D++){var K=Si[D];K.blockedOn===b&&(K.blockedOn=null)}}for(vi!==null&&Ta(vi,b),Ei!==null&&Ta(Ei,b),qi!==null&&Ta(qi,b),wr.forEach(x),ea.forEach(x),D=0;D<ka.length;D++)K=ka[D],K.blockedOn===b&&(K.blockedOn=null);for(;0<ka.length&&(D=ka[0],D.blockedOn===null);)ju(D),D.blockedOn===null&&ka.shift()}var ys=C.ReactCurrentBatchConfig,Fo=!0;function Dn(b,x,D,K){var ee=Cr,se=ys.transition;ys.transition=null;try{Cr=1,vo(b,x,D,K)}finally{Cr=ee,ys.transition=se}}function Nc(b,x,D,K){var ee=Cr,se=ys.transition;ys.transition=null;try{Cr=4,vo(b,x,D,K)}finally{Cr=ee,ys.transition=se}}function vo(b,x,D,K){if(Fo){var ee=Bo(b,x,D,K);if(ee===null)Yf(b,x,K,Vs,D),Pu(b,K);else if(go(ee,b,x,D,K))K.stopPropagation();else if(Pu(b,K),x&4&&-1<zf.indexOf(b)){for(;ee!==null;){var se=Uu(ee);if(se!==null&&Aa(se),se=Bo(b,x,D,K),se===null&&Yf(b,x,K,Vs,D),se===ee)break;ee=se}ee!==null&&K.stopPropagation()}else Yf(b,x,K,null,D)}}var Vs=null;function Bo(b,x,D,K){if(Vs=null,b=Vt(K),b=Zl(b),b!==null)if(x=qt(b),x===null)b=null;else if(D=x.tag,D===13){if(b=or(x),b!==null)return b;b=null}else if(D===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;b=null}else x!==b&&(b=null);return Vs=b,null}function $o(b){switch(b){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ft()){case _t:return 1;case $t:return 4;case Ct:case Rt:return 16;case Vr:return 536870912;default:return 16}default:return 16}}var Na=null,Qs=null,ha=null;function hl(){if(ha)return ha;var b,x=Qs,D=x.length,K,ee="value"in Na?Na.value:Na.textContent,se=ee.length;for(b=0;b<D&&x[b]===ee[b];b++);var ve=D-b;for(K=1;K<=ve&&x[D-K]===ee[se-K];K++);return ha=ee.slice(b,1<K?1-K:void 0)}function pa(b){var x=b.keyCode;return"charCode"in b?(b=b.charCode,b===0&&x===13&&(b=13)):b=x,b===10&&(b=13),32<=b||b===13?b:0}function ta(){return!0}function te(){return!1}function ge(b){function x(D,K,ee,se,ve){this._reactName=D,this._targetInst=ee,this.type=K,this.nativeEvent=se,this.target=ve,this.currentTarget=null;for(var Ie in b)b.hasOwnProperty(Ie)&&(D=b[Ie],this[Ie]=D?D(se):se[Ie]);return this.isDefaultPrevented=(se.defaultPrevented!=null?se.defaultPrevented:se.returnValue===!1)?ta:te,this.isPropagationStopped=te,this}return M(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var D=this.nativeEvent;D&&(D.preventDefault?D.preventDefault():typeof D.returnValue!="unknown"&&(D.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var D=this.nativeEvent;D&&(D.stopPropagation?D.stopPropagation():typeof D.cancelBubble!="unknown"&&(D.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),x}var Ne={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Me=ge(Ne),qe=M({},Ne,{view:0,detail:0}),ct=ge(qe),St,Kt,tr,Er=M({},qe,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(b){return b.relatedTarget===void 0?b.fromElement===b.srcElement?b.toElement:b.fromElement:b.relatedTarget},movementX:function(b){return"movementX"in b?b.movementX:(b!==tr&&(tr&&b.type==="mousemove"?(St=b.screenX-tr.screenX,Kt=b.screenY-tr.screenY):Kt=St=0,tr=b),St)},movementY:function(b){return"movementY"in b?b.movementY:Kt}}),Mr=ge(Er),hn=M({},Er,{dataTransfer:0}),Yn=ge(hn),ni=M({},qe,{relatedTarget:0}),vn=ge(ni),Ci=M({},Ne,{animationName:0,elapsedTime:0,pseudoElement:0}),Ln=ge(Ci),Hi=M({},Ne,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:window.clipboardData}}),Zs=ge(Hi),bo=M({},Ne,{data:0}),Pc=ge(bo),pl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wl(b){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(b):(b=vs[b])?!!x[b]:!1}function rs(){return Wl}var W=M({},qe,{key:function(b){if(b.key){var x=pl[b.key]||b.key;if(x!=="Unidentified")return x}return b.type==="keypress"?(b=pa(b),b===13?"Enter":String.fromCharCode(b)):b.type==="keydown"||b.type==="keyup"?Oi[b.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(b){return b.type==="keypress"?pa(b):0},keyCode:function(b){return b.type==="keydown"||b.type==="keyup"?b.keyCode:0},which:function(b){return b.type==="keypress"?pa(b):b.type==="keydown"||b.type==="keyup"?b.keyCode:0}}),ae=ge(W),pe=M({},Er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Se=ge(pe),We=M({},qe,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),nt=ge(We),Pt=M({},Ne,{propertyName:0,elapsedTime:0,pseudoElement:0}),bn=ge(Pt),ci=M({},Er,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),on=ge(ci),un=[9,13,27,32],Sn=l&&"CompositionEvent"in window,za=null;l&&"documentMode"in document&&(za=document.documentMode);var Pa=l&&"TextEvent"in window&&!za,bs=l&&(!Sn||za&&8<za&&11>=za),wo=" ",ns=!1;function is(b,x){switch(b){case"keyup":return un.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gl(b){return b=b.detail,typeof b=="object"&&"data"in b?b.data:null}var as=!1;function Kl(b,x){switch(b){case"compositionend":return Gl(x);case"keypress":return x.which!==32?null:(ns=!0,wo);case"textInput":return b=x.data,b===wo&&ns?null:b;default:return null}}function qf(b,x){if(as)return b==="compositionend"||!Sn&&is(b,x)?(b=hl(),ha=Qs=Na=null,as=!1,b):null;switch(b){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return bs&&x.locale!=="ko"?null:x.data;default:return null}}var Xl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ki(b){var x=b&&b.nodeName&&b.nodeName.toLowerCase();return x==="input"?!!Xl[b.type]:x==="textarea"}function gh(b,x,D,K){Yt(K),x=_h(x,"onChange"),0<x.length&&(D=new Me("onChange","change",null,D,K),b.push({event:D,listeners:x}))}var ws=null,xs=null;function Iu(b){Kf(b,0)}function Yl(b){var x=Fc(b);if(le(x))return b}function Ou(b,x){if(b==="change")return x}var jc=!1;if(l){var ml;if(l){var gl="oninput"in document;if(!gl){var Uo=document.createElement("div");Uo.setAttribute("oninput","return;"),gl=typeof Uo.oninput=="function"}ml=gl}else ml=!1;jc=ml&&(!document.documentMode||9<document.documentMode)}function Ru(){ws&&(ws.detachEvent("onpropertychange",_s),xs=ws=null)}function _s(b){if(b.propertyName==="value"&&Yl(xs)){var x=[];gh(x,xs,b,Vt(b)),At(Iu,x)}}function Vo(b,x,D){b==="focusin"?(Ru(),ws=x,xs=D,ws.attachEvent("onpropertychange",_s)):b==="focusout"&&Ru()}function Qn(b){if(b==="selectionchange"||b==="keyup"||b==="keydown")return Yl(xs)}function Zn(b,x){if(b==="click")return Yl(x)}function Ri(b,x){if(b==="input"||b==="change")return Yl(x)}function Mi(b,x){return b===x&&(b!==0||1/b===1/x)||b!==b&&x!==x}var ra=typeof Object.is=="function"?Object.is:Mi;function zo(b,x){if(ra(b,x))return!0;if(typeof b!="object"||b===null||typeof x!="object"||x===null)return!1;var D=Object.keys(b),K=Object.keys(x);if(D.length!==K.length)return!1;for(K=0;K<D.length;K++){var ee=D[K];if(!c.call(x,ee)||!ra(b[ee],x[ee]))return!1}return!0}function xo(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function Mu(b,x){var D=xo(b);b=0;for(var K;D;){if(D.nodeType===3){if(K=b+D.textContent.length,b<=x&&K>=x)return{node:D,offset:x-b};b=K}e:{for(;D;){if(D.nextSibling){D=D.nextSibling;break e}D=D.parentNode}D=void 0}D=xo(D)}}function Am(b,x){return b&&x?b===x?!0:b&&b.nodeType===3?!1:x&&x.nodeType===3?Am(b,x.parentNode):"contains"in b?b.contains(x):b.compareDocumentPosition?!!(b.compareDocumentPosition(x)&16):!1:!1}function Cm(){for(var b=window,x=de();x instanceof b.HTMLIFrameElement;){try{var D=typeof x.contentWindow.location.href=="string"}catch{D=!1}if(D)b=x.contentWindow;else break;x=de(b.document)}return x}function yh(b){var x=b&&b.nodeName&&b.nodeName.toLowerCase();return x&&(x==="input"&&(b.type==="text"||b.type==="search"||b.type==="tel"||b.type==="url"||b.type==="password")||x==="textarea"||b.contentEditable==="true")}function f1(b){var x=Cm(),D=b.focusedElem,K=b.selectionRange;if(x!==D&&D&&D.ownerDocument&&Am(D.ownerDocument.documentElement,D)){if(K!==null&&yh(D)){if(x=K.start,b=K.end,b===void 0&&(b=x),"selectionStart"in D)D.selectionStart=x,D.selectionEnd=Math.min(b,D.value.length);else if(b=(x=D.ownerDocument||document)&&x.defaultView||window,b.getSelection){b=b.getSelection();var ee=D.textContent.length,se=Math.min(K.start,ee);K=K.end===void 0?se:Math.min(K.end,ee),!b.extend&&se>K&&(ee=K,K=se,se=ee),ee=Mu(D,se);var ve=Mu(D,K);ee&&ve&&(b.rangeCount!==1||b.anchorNode!==ee.node||b.anchorOffset!==ee.offset||b.focusNode!==ve.node||b.focusOffset!==ve.offset)&&(x=x.createRange(),x.setStart(ee.node,ee.offset),b.removeAllRanges(),se>K?(b.addRange(x),b.extend(ve.node,ve.offset)):(x.setEnd(ve.node,ve.offset),b.addRange(x)))}}for(x=[],b=D;b=b.parentNode;)b.nodeType===1&&x.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<x.length;D++)b=x[D],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}var d1=l&&"documentMode"in document&&11>=document.documentMode,Ic=null,vh=null,Du=null,bh=!1;function km(b,x,D){var K=D.window===D?D.document:D.nodeType===9?D:D.ownerDocument;bh||Ic==null||Ic!==de(K)||(K=Ic,"selectionStart"in K&&yh(K)?K={start:K.selectionStart,end:K.selectionEnd}:(K=(K.ownerDocument&&K.ownerDocument.defaultView||window).getSelection(),K={anchorNode:K.anchorNode,anchorOffset:K.anchorOffset,focusNode:K.focusNode,focusOffset:K.focusOffset}),Du&&zo(Du,K)||(Du=K,K=_h(vh,"onSelect"),0<K.length&&(x=new Me("onSelect","select",null,x,D),b.push({event:x,listeners:K}),x.target=Ic)))}function Hf(b,x){var D={};return D[b.toLowerCase()]=x.toLowerCase(),D["Webkit"+b]="webkit"+x,D["Moz"+b]="moz"+x,D}var Oc={animationend:Hf("Animation","AnimationEnd"),animationiteration:Hf("Animation","AnimationIteration"),animationstart:Hf("Animation","AnimationStart"),transitionend:Hf("Transition","TransitionEnd")},Rc={},Tm={};l&&(Tm=document.createElement("div").style,"AnimationEvent"in window||(delete Oc.animationend.animation,delete Oc.animationiteration.animation,delete Oc.animationstart.animation),"TransitionEvent"in window||delete Oc.transitionend.transition);function Wf(b){if(Rc[b])return Rc[b];if(!Oc[b])return b;var x=Oc[b],D;for(D in x)if(x.hasOwnProperty(D)&&D in Tm)return Rc[b]=x[D];return b}var Nm=Wf("animationend"),Pm=Wf("animationiteration"),jm=Wf("animationstart"),Im=Wf("transitionend"),Om=new Map,Rm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(b,x){Om.set(b,x),a(x,[b])}for(var Lu=0;Lu<Rm.length;Lu++){var ss=Rm[Lu],Js=ss.toLowerCase(),wh=ss[0].toUpperCase()+ss.slice(1);qo(Js,"on"+wh)}qo(Nm,"onAnimationEnd"),qo(Pm,"onAnimationIteration"),qo(jm,"onAnimationStart"),qo("dblclick","onDoubleClick"),qo("focusin","onFocus"),qo("focusout","onBlur"),qo(Im,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function Gf(b,x,D){var K=b.type||"unknown-event";b.currentTarget=D,Jt(K,x,void 0,b),b.currentTarget=null}function Kf(b,x){x=(x&4)!==0;for(var D=0;D<b.length;D++){var K=b[D],ee=K.event;K=K.listeners;e:{var se=void 0;if(x)for(var ve=K.length-1;0<=ve;ve--){var Ie=K[ve],Be=Ie.instance,rt=Ie.currentTarget;if(Ie=Ie.listener,Be!==se&&ee.isPropagationStopped())break e;Gf(ee,Ie,rt),se=Be}else for(ve=0;ve<K.length;ve++){if(Ie=K[ve],Be=Ie.instance,rt=Ie.currentTarget,Ie=Ie.listener,Be!==se&&ee.isPropagationStopped())break e;Gf(ee,Ie,rt),se=Be}}}if(xt)throw b=ar,xt=!1,ar=null,b}function zn(b,x){var D=x[Es];D===void 0&&(D=x[Es]=new Set);var K=b+"__bubble";D.has(K)||(Xf(x,b,2,!1),D.add(K))}function xh(b,x,D){var K=0;x&&(K|=4),Xf(D,b,K,x)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Mc(b){if(!b[Fu]){b[Fu]=!0,n.forEach(function(D){D!=="selectionchange"&&(h1.has(D)||xh(D,!1,b),xh(D,!0,b))});var x=b.nodeType===9?b:b.ownerDocument;x===null||x[Fu]||(x[Fu]=!0,xh("selectionchange",!1,x))}}function Xf(b,x,D,K){switch($o(x)){case 1:var ee=Dn;break;case 4:ee=Nc;break;default:ee=vo}D=ee.bind(null,x,D,b),ee=void 0,!Gr||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(ee=!0),K?ee!==void 0?b.addEventListener(x,D,{capture:!0,passive:ee}):b.addEventListener(x,D,!0):ee!==void 0?b.addEventListener(x,D,{passive:ee}):b.addEventListener(x,D,!1)}function Yf(b,x,D,K,ee){var se=K;if((x&1)===0&&(x&2)===0&&K!==null)e:for(;;){if(K===null)return;var ve=K.tag;if(ve===3||ve===4){var Ie=K.stateNode.containerInfo;if(Ie===ee||Ie.nodeType===8&&Ie.parentNode===ee)break;if(ve===4)for(ve=K.return;ve!==null;){var Be=ve.tag;if((Be===3||Be===4)&&(Be=ve.stateNode.containerInfo,Be===ee||Be.nodeType===8&&Be.parentNode===ee))return;ve=ve.return}for(;Ie!==null;){if(ve=Zl(Ie),ve===null)return;if(Be=ve.tag,Be===5||Be===6){K=se=ve;continue e}Ie=Ie.parentNode}}K=K.return}At(function(){var rt=se,Tt=Vt(D),jt=[];e:{var kt=Om.get(b);if(kt!==void 0){var Zt=Me,dr=b;switch(b){case"keypress":if(pa(D)===0)break e;case"keydown":case"keyup":Zt=ae;break;case"focusin":dr="focus",Zt=vn;break;case"focusout":dr="blur",Zt=vn;break;case"beforeblur":case"afterblur":Zt=vn;break;case"click":if(D.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Zt=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Zt=Yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Zt=nt;break;case Nm:case Pm:case jm:Zt=Ln;break;case Im:Zt=bn;break;case"scroll":Zt=ct;break;case"wheel":Zt=on;break;case"copy":case"cut":case"paste":Zt=Zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Zt=Se}var mr=(x&4)!==0,aa=!mr&&b==="scroll",Xe=mr?kt!==null?kt+"Capture":null:kt;mr=[];for(var ze=rt,Ze;ze!==null;){Ze=ze;var Dt=Ze.stateNode;if(Ze.tag===5&&Dt!==null&&(Ze=Dt,Xe!==null&&(Dt=fr(ze,Xe),Dt!=null&&mr.push(Qf(ze,Dt,Ze)))),aa)break;ze=ze.return}0<mr.length&&(kt=new Zt(kt,dr,null,D,Tt),jt.push({event:kt,listeners:mr}))}}if((x&7)===0){e:{if(kt=b==="mouseover"||b==="pointerover",Zt=b==="mouseout"||b==="pointerout",kt&&D!==zt&&(dr=D.relatedTarget||D.fromElement)&&(Zl(dr)||dr[qa]))break e;if((Zt||kt)&&(kt=Tt.window===Tt?Tt:(kt=Tt.ownerDocument)?kt.defaultView||kt.parentWindow:window,Zt?(dr=D.relatedTarget||D.toElement,Zt=rt,dr=dr?Zl(dr):null,dr!==null&&(aa=qt(dr),dr!==aa||dr.tag!==5&&dr.tag!==6)&&(dr=null)):(Zt=null,dr=rt),Zt!==dr)){if(mr=Mr,Dt="onMouseLeave",Xe="onMouseEnter",ze="mouse",(b==="pointerout"||b==="pointerover")&&(mr=Se,Dt="onPointerLeave",Xe="onPointerEnter",ze="pointer"),aa=Zt==null?kt:Fc(Zt),Ze=dr==null?kt:Fc(dr),kt=new mr(Dt,ze+"leave",Zt,D,Tt),kt.target=aa,kt.relatedTarget=Ze,Dt=null,Zl(Tt)===rt&&(mr=new mr(Xe,ze+"enter",dr,D,Tt),mr.target=Ze,mr.relatedTarget=aa,Dt=mr),aa=Dt,Zt&&dr)t:{for(mr=Zt,Xe=dr,ze=0,Ze=mr;Ze;Ze=Dc(Ze))ze++;for(Ze=0,Dt=Xe;Dt;Dt=Dc(Dt))Ze++;for(;0<ze-Ze;)mr=Dc(mr),ze--;for(;0<Ze-ze;)Xe=Dc(Xe),Ze--;for(;ze--;){if(mr===Xe||Xe!==null&&mr===Xe.alternate)break t;mr=Dc(mr),Xe=Dc(Xe)}mr=null}else mr=null;Zt!==null&&p1(jt,kt,Zt,mr,!1),dr!==null&&aa!==null&&p1(jt,aa,dr,mr,!0)}}e:{if(kt=rt?Fc(rt):window,Zt=kt.nodeName&&kt.nodeName.toLowerCase(),Zt==="select"||Zt==="input"&&kt.type==="file")var vr=Ou;else if(ki(kt))if(jc)vr=Ri;else{vr=Qn;var Nr=Vo}else(Zt=kt.nodeName)&&Zt.toLowerCase()==="input"&&(kt.type==="checkbox"||kt.type==="radio")&&(vr=Zn);if(vr&&(vr=vr(b,rt))){gh(jt,vr,D,Tt);break e}Nr&&Nr(b,kt,rt),b==="focusout"&&(Nr=kt._wrapperState)&&Nr.controlled&&kt.type==="number"&&me(kt,"number",kt.value)}switch(Nr=rt?Fc(rt):window,b){case"focusin":(ki(Nr)||Nr.contentEditable==="true")&&(Ic=Nr,vh=rt,Du=null);break;case"focusout":Du=vh=Ic=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,km(jt,D,Tt);break;case"selectionchange":if(d1)break;case"keydown":case"keyup":km(jt,D,Tt)}var Pr;if(Sn)e:{switch(b){case"compositionstart":var qr="onCompositionStart";break e;case"compositionend":qr="onCompositionEnd";break e;case"compositionupdate":qr="onCompositionUpdate";break e}qr=void 0}else as?is(b,D)&&(qr="onCompositionEnd"):b==="keydown"&&D.keyCode===229&&(qr="onCompositionStart");qr&&(bs&&D.locale!=="ko"&&(as||qr!=="onCompositionStart"?qr==="onCompositionEnd"&&as&&(Pr=hl()):(Na=Tt,Qs="value"in Na?Na.value:Na.textContent,as=!0)),Nr=_h(rt,qr),0<Nr.length&&(qr=new Pc(qr,b,null,D,Tt),jt.push({event:qr,listeners:Nr}),Pr?qr.data=Pr:(Pr=Gl(D),Pr!==null&&(qr.data=Pr)))),(Pr=Pa?Kl(b,D):qf(b,D))&&(rt=_h(rt,"onBeforeInput"),0<rt.length&&(Tt=new Pc("onBeforeInput","beforeinput",null,D,Tt),jt.push({event:Tt,listeners:rt}),Tt.data=Pr))}Kf(jt,x)})}function Qf(b,x,D){return{instance:b,listener:x,currentTarget:D}}function _h(b,x){for(var D=x+"Capture",K=[];b!==null;){var ee=b,se=ee.stateNode;ee.tag===5&&se!==null&&(ee=se,se=fr(b,D),se!=null&&K.unshift(Qf(b,se,ee)),se=fr(b,x),se!=null&&K.push(Qf(b,se,ee))),b=b.return}return K}function Dc(b){if(b===null)return null;do b=b.return;while(b&&b.tag!==5);return b||null}function p1(b,x,D,K,ee){for(var se=x._reactName,ve=[];D!==null&&D!==K;){var Ie=D,Be=Ie.alternate,rt=Ie.stateNode;if(Be!==null&&Be===K)break;Ie.tag===5&&rt!==null&&(Ie=rt,ee?(Be=fr(D,se),Be!=null&&ve.unshift(Qf(D,Be,Ie))):ee||(Be=fr(D,se),Be!=null&&ve.push(Qf(D,Be,Ie)))),D=D.return}ve.length!==0&&b.push({event:x,listeners:ve})}var Qw=/\r\n?/g,Zw=/\u0000|\uFFFD/g;function m1(b){return(typeof b=="string"?b:""+b).replace(Qw,`
`).replace(Zw,"")}function Sh(b,x,D){if(x=m1(x),m1(b)!==x&&D)throw Error(t(425))}function Bu(){}var Zf=null,Lc=null;function Mm(b,x){return b==="textarea"||b==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var Dm=typeof setTimeout=="function"?setTimeout:void 0,g1=typeof clearTimeout=="function"?clearTimeout:void 0,y1=typeof Promise=="function"?Promise:void 0,Jw=typeof queueMicrotask=="function"?queueMicrotask:typeof y1<"u"?function(b){return y1.resolve(null).then(b).catch(ex)}:Dm;function ex(b){setTimeout(function(){throw b})}function Lm(b,x){var D=x,K=0;do{var ee=D.nextSibling;if(b.removeChild(D),ee&&ee.nodeType===8)if(D=ee.data,D==="/$"){if(K===0){b.removeChild(ee),Va(x);return}K--}else D!=="$"&&D!=="$?"&&D!=="$!"||K++;D=ee}while(D);Va(x)}function os(b){for(;b!=null;b=b.nextSibling){var x=b.nodeType;if(x===1||x===3)break;if(x===8){if(x=b.data,x==="$"||x==="$!"||x==="$?")break;if(x==="/$")return null}}return b}function eo(b){b=b.previousSibling;for(var x=0;b;){if(b.nodeType===8){var D=b.data;if(D==="$"||D==="$!"||D==="$?"){if(x===0)return b;x--}else D==="/$"&&x++}b=b.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),Ho="__reactFiber$"+Ss,$u="__reactProps$"+Ss,qa="__reactContainer$"+Ss,Es="__reactEvents$"+Ss,tx="__reactListeners$"+Ss,rx="__reactHandles$"+Ss;function Zl(b){var x=b[Ho];if(x)return x;for(var D=b.parentNode;D;){if(x=D[qa]||D[Ho]){if(D=x.alternate,x.child!==null||D!==null&&D.child!==null)for(b=eo(b);b!==null;){if(D=b[Ho])return D;b=eo(b)}return x}b=D,D=b.parentNode}return null}function Uu(b){return b=b[Ho]||b[qa],!b||b.tag!==5&&b.tag!==6&&b.tag!==13&&b.tag!==3?null:b}function Fc(b){if(b.tag===5||b.tag===6)return b.stateNode;throw Error(t(33))}function Jf(b){return b[$u]||null}var Fm=[],yl=-1;function _o(b){return{current:b}}function On(b){0>yl||(b.current=Fm[yl],Fm[yl]=null,yl--)}function Fn(b,x){yl++,Fm[yl]=b.current,b.current=x}var Jl={},ja=_o(Jl),As=_o(!1),Bc=Jl;function Vu(b,x){var D=b.type.contextTypes;if(!D)return Jl;var K=b.stateNode;if(K&&K.__reactInternalMemoizedUnmaskedChildContext===x)return K.__reactInternalMemoizedMaskedChildContext;var ee={},se;for(se in D)ee[se]=x[se];return K&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=x,b.__reactInternalMemoizedMaskedChildContext=ee),ee}function Cs(b){return b=b.childContextTypes,b!=null}function Eh(){On(As),On(ja)}function v1(b,x,D){if(ja.current!==Jl)throw Error(t(168));Fn(ja,x),Fn(As,D)}function Bm(b,x,D){var K=b.stateNode;if(x=x.childContextTypes,typeof K.getChildContext!="function")return D;K=K.getChildContext();for(var ee in K)if(!(ee in x))throw Error(t(108,J(b)||"Unknown",ee));return M({},D,K)}function $c(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||Jl,Bc=ja.current,Fn(ja,b),Fn(As,As.current),!0}function b1(b,x,D){var K=b.stateNode;if(!K)throw Error(t(169));D?(b=Bm(b,x,Bc),K.__reactInternalMemoizedMergedChildContext=b,On(As),On(ja),Fn(ja,b)):On(As),Fn(As,D)}var vl=null,ed=!1,H=!1;function Y(b){vl===null?vl=[b]:vl.push(b)}function ne(b){ed=!0,Y(b)}function oe(){if(!H&&vl!==null){H=!0;var b=0,x=Cr;try{var D=vl;for(Cr=1;b<D.length;b++){var K=D[b];do K=K(!0);while(K!==null)}vl=null,ed=!1}catch(ee){throw vl!==null&&(vl=vl.slice(b+1)),xn(_t,oe),ee}finally{Cr=x,H=!1}}return null}var ye=[],be=0,we=null,_e=0,Ee=[],Te=0,Fe=null,Ke=1,Pe="";function Ve(b,x){ye[be++]=_e,ye[be++]=we,we=b,_e=x}function Ge(b,x,D){Ee[Te++]=Ke,Ee[Te++]=Pe,Ee[Te++]=Fe,Fe=b;var K=Ke;b=Pe;var ee=32-Tr(K)-1;K&=~(1<<ee),D+=1;var se=32-Tr(x)+ee;if(30<se){var ve=ee-ee%5;se=(K&(1<<ve)-1).toString(32),K>>=ve,ee-=ve,Ke=1<<32-Tr(x)+ee|D<<ee|K,Pe=se+b}else Ke=1<<se|D<<ee|K,Pe=b}function lt(b){b.return!==null&&(Ve(b,1),Ge(b,1,0))}function Ye(b){for(;b===we;)we=ye[--be],ye[be]=null,_e=ye[--be],ye[be]=null;for(;b===Fe;)Fe=Ee[--Te],Ee[Te]=null,Pe=Ee[--Te],Ee[Te]=null,Ke=Ee[--Te],Ee[Te]=null}var at=null,ot=null,gt=!1,yt=null;function yr(b,x){var D=Yo(5,null,null,0);D.elementType="DELETED",D.stateNode=x,D.return=b,x=b.deletions,x===null?(b.deletions=[D],b.flags|=16):x.push(D)}function rr(b,x){switch(b.tag){case 5:var D=b.type;return x=x.nodeType!==1||D.toLowerCase()!==x.nodeName.toLowerCase()?null:x,x!==null?(b.stateNode=x,at=b,ot=os(x.firstChild),!0):!1;case 6:return x=b.pendingProps===""||x.nodeType!==3?null:x,x!==null?(b.stateNode=x,at=b,ot=null,!0):!1;case 13:return x=x.nodeType!==8?null:x,x!==null?(D=Fe!==null?{id:Ke,overflow:Pe}:null,b.memoizedState={dehydrated:x,treeContext:D,retryLane:1073741824},D=Yo(18,null,null,0),D.stateNode=x,D.return=b,b.child=D,at=b,ot=null,!0):!1;default:return!1}}function Xr(b){return(b.mode&1)!==0&&(b.flags&128)===0}function ur(b){if(gt){var x=ot;if(x){var D=x;if(!rr(b,x)){if(Xr(b))throw Error(t(418));x=os(D.nextSibling);var K=at;x&&rr(b,x)?yr(K,D):(b.flags=b.flags&-4097|2,gt=!1,at=b)}}else{if(Xr(b))throw Error(t(418));b.flags=b.flags&-4097|2,gt=!1,at=b}}}function fn(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;at=b}function Ti(b){if(b!==at)return!1;if(!gt)return fn(b),gt=!0,!1;var x;if((x=b.tag!==3)&&!(x=b.tag!==5)&&(x=b.type,x=x!=="head"&&x!=="body"&&!Mm(b.type,b.memoizedProps)),x&&(x=ot)){if(Xr(b))throw Qr(),Error(t(418));for(;x;)yr(b,x),x=os(x.nextSibling)}if(fn(b),b.tag===13){if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(t(317));e:{for(b=b.nextSibling,x=0;b;){if(b.nodeType===8){var D=b.data;if(D==="/$"){if(x===0){ot=os(b.nextSibling);break e}x--}else D!=="$"&&D!=="$!"&&D!=="$?"||x++}b=b.nextSibling}ot=null}}else ot=at?os(b.stateNode.nextSibling):null;return!0}function Qr(){for(var b=ot;b;)b=os(b.nextSibling)}function nr(){ot=at=null,gt=!1}function Ut(b){yt===null?yt=[b]:yt.push(b)}var Di=C.ReactCurrentBatchConfig;function Dr(b,x,D){if(b=D.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if(D._owner){if(D=D._owner,D){if(D.tag!==1)throw Error(t(309));var K=D.stateNode}if(!K)throw Error(t(147,b));var ee=K,se=""+b;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===se?x.ref:(x=function(ve){var Ie=ee.refs;ve===null?delete Ie[se]:Ie[se]=ve},x._stringRef=se,x)}if(typeof b!="string")throw Error(t(284));if(!D._owner)throw Error(t(290,b))}return b}function ln(b,x){throw b=Object.prototype.toString.call(x),Error(t(31,b==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":b))}function Jn(b){var x=b._init;return x(b._payload)}function ma(b){function x(Xe,ze){if(b){var Ze=Xe.deletions;Ze===null?(Xe.deletions=[ze],Xe.flags|=16):Ze.push(ze)}}function D(Xe,ze){if(!b)return null;for(;ze!==null;)x(Xe,ze),ze=ze.sibling;return null}function K(Xe,ze){for(Xe=new Map;ze!==null;)ze.key!==null?Xe.set(ze.key,ze):Xe.set(ze.index,ze),ze=ze.sibling;return Xe}function ee(Xe,ze){return Xe=Zu(Xe,ze),Xe.index=0,Xe.sibling=null,Xe}function se(Xe,ze,Ze){return Xe.index=Ze,b?(Ze=Xe.alternate,Ze!==null?(Ze=Ze.index,Ze<ze?(Xe.flags|=2,ze):Ze):(Xe.flags|=2,ze)):(Xe.flags|=1048576,ze)}function ve(Xe){return b&&Xe.alternate===null&&(Xe.flags|=2),Xe}function Ie(Xe,ze,Ze,Dt){return ze===null||ze.tag!==6?(ze=jx(Ze,Xe.mode,Dt),ze.return=Xe,ze):(ze=ee(ze,Ze),ze.return=Xe,ze)}function Be(Xe,ze,Ze,Dt){var vr=Ze.type;return vr===L?Tt(Xe,ze,Ze.props.children,Dt,Ze.key):ze!==null&&(ze.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===_&&Jn(vr)===ze.type)?(Dt=ee(ze,Ze.props),Dt.ref=Dr(Xe,ze,Ze),Dt.return=Xe,Dt):(Dt=B1(Ze.type,Ze.key,Ze.props,null,Xe.mode,Dt),Dt.ref=Dr(Xe,ze,Ze),Dt.return=Xe,Dt)}function rt(Xe,ze,Ze,Dt){return ze===null||ze.tag!==4||ze.stateNode.containerInfo!==Ze.containerInfo||ze.stateNode.implementation!==Ze.implementation?(ze=Ix(Ze,Xe.mode,Dt),ze.return=Xe,ze):(ze=ee(ze,Ze.children||[]),ze.return=Xe,ze)}function Tt(Xe,ze,Ze,Dt,vr){return ze===null||ze.tag!==7?(ze=ld(Ze,Xe.mode,Dt,vr),ze.return=Xe,ze):(ze=ee(ze,Ze),ze.return=Xe,ze)}function jt(Xe,ze,Ze){if(typeof ze=="string"&&ze!==""||typeof ze=="number")return ze=jx(""+ze,Xe.mode,Ze),ze.return=Xe,ze;if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case P:return Ze=B1(ze.type,ze.key,ze.props,null,Xe.mode,Ze),Ze.ref=Dr(Xe,null,ze),Ze.return=Xe,Ze;case F:return ze=Ix(ze,Xe.mode,Ze),ze.return=Xe,ze;case _:var Dt=ze._init;return jt(Xe,Dt(ze._payload),Ze)}if(Ce(ze)||k(ze))return ze=ld(ze,Xe.mode,Ze,null),ze.return=Xe,ze;ln(Xe,ze)}return null}function kt(Xe,ze,Ze,Dt){var vr=ze!==null?ze.key:null;if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return vr!==null?null:Ie(Xe,ze,""+Ze,Dt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case P:return Ze.key===vr?Be(Xe,ze,Ze,Dt):null;case F:return Ze.key===vr?rt(Xe,ze,Ze,Dt):null;case _:return vr=Ze._init,kt(Xe,ze,vr(Ze._payload),Dt)}if(Ce(Ze)||k(Ze))return vr!==null?null:Tt(Xe,ze,Ze,Dt,null);ln(Xe,Ze)}return null}function Zt(Xe,ze,Ze,Dt,vr){if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number")return Xe=Xe.get(Ze)||null,Ie(ze,Xe,""+Dt,vr);if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case P:return Xe=Xe.get(Dt.key===null?Ze:Dt.key)||null,Be(ze,Xe,Dt,vr);case F:return Xe=Xe.get(Dt.key===null?Ze:Dt.key)||null,rt(ze,Xe,Dt,vr);case _:var Nr=Dt._init;return Zt(Xe,ze,Ze,Nr(Dt._payload),vr)}if(Ce(Dt)||k(Dt))return Xe=Xe.get(Ze)||null,Tt(ze,Xe,Dt,vr,null);ln(ze,Dt)}return null}function dr(Xe,ze,Ze,Dt){for(var vr=null,Nr=null,Pr=ze,qr=ze=0,Xa=null;Pr!==null&&qr<Ze.length;qr++){Pr.index>qr?(Xa=Pr,Pr=null):Xa=Pr.sibling;var Pn=kt(Xe,Pr,Ze[qr],Dt);if(Pn===null){Pr===null&&(Pr=Xa);break}b&&Pr&&Pn.alternate===null&&x(Xe,Pr),ze=se(Pn,ze,qr),Nr===null?vr=Pn:Nr.sibling=Pn,Nr=Pn,Pr=Xa}if(qr===Ze.length)return D(Xe,Pr),gt&&Ve(Xe,qr),vr;if(Pr===null){for(;qr<Ze.length;qr++)Pr=jt(Xe,Ze[qr],Dt),Pr!==null&&(ze=se(Pr,ze,qr),Nr===null?vr=Pr:Nr.sibling=Pr,Nr=Pr);return gt&&Ve(Xe,qr),vr}for(Pr=K(Xe,Pr);qr<Ze.length;qr++)Xa=Zt(Pr,Xe,qr,Ze[qr],Dt),Xa!==null&&(b&&Xa.alternate!==null&&Pr.delete(Xa.key===null?qr:Xa.key),ze=se(Xa,ze,qr),Nr===null?vr=Xa:Nr.sibling=Xa,Nr=Xa);return b&&Pr.forEach(function(Ju){return x(Xe,Ju)}),gt&&Ve(Xe,qr),vr}function mr(Xe,ze,Ze,Dt){var vr=k(Ze);if(typeof vr!="function")throw Error(t(150));if(Ze=vr.call(Ze),Ze==null)throw Error(t(151));for(var Nr=vr=null,Pr=ze,qr=ze=0,Xa=null,Pn=Ze.next();Pr!==null&&!Pn.done;qr++,Pn=Ze.next()){Pr.index>qr?(Xa=Pr,Pr=null):Xa=Pr.sibling;var Ju=kt(Xe,Pr,Pn.value,Dt);if(Ju===null){Pr===null&&(Pr=Xa);break}b&&Pr&&Ju.alternate===null&&x(Xe,Pr),ze=se(Ju,ze,qr),Nr===null?vr=Ju:Nr.sibling=Ju,Nr=Ju,Pr=Xa}if(Pn.done)return D(Xe,Pr),gt&&Ve(Xe,qr),vr;if(Pr===null){for(;!Pn.done;qr++,Pn=Ze.next())Pn=jt(Xe,Pn.value,Dt),Pn!==null&&(ze=se(Pn,ze,qr),Nr===null?vr=Pn:Nr.sibling=Pn,Nr=Pn);return gt&&Ve(Xe,qr),vr}for(Pr=K(Xe,Pr);!Pn.done;qr++,Pn=Ze.next())Pn=Zt(Pr,Xe,qr,Pn.value,Dt),Pn!==null&&(b&&Pn.alternate!==null&&Pr.delete(Pn.key===null?qr:Pn.key),ze=se(Pn,ze,qr),Nr===null?vr=Pn:Nr.sibling=Pn,Nr=Pn);return b&&Pr.forEach(function(uq){return x(Xe,uq)}),gt&&Ve(Xe,qr),vr}function aa(Xe,ze,Ze,Dt){if(typeof Ze=="object"&&Ze!==null&&Ze.type===L&&Ze.key===null&&(Ze=Ze.props.children),typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case P:e:{for(var vr=Ze.key,Nr=ze;Nr!==null;){if(Nr.key===vr){if(vr=Ze.type,vr===L){if(Nr.tag===7){D(Xe,Nr.sibling),ze=ee(Nr,Ze.props.children),ze.return=Xe,Xe=ze;break e}}else if(Nr.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===_&&Jn(vr)===Nr.type){D(Xe,Nr.sibling),ze=ee(Nr,Ze.props),ze.ref=Dr(Xe,Nr,Ze),ze.return=Xe,Xe=ze;break e}D(Xe,Nr);break}else x(Xe,Nr);Nr=Nr.sibling}Ze.type===L?(ze=ld(Ze.props.children,Xe.mode,Dt,Ze.key),ze.return=Xe,Xe=ze):(Dt=B1(Ze.type,Ze.key,Ze.props,null,Xe.mode,Dt),Dt.ref=Dr(Xe,ze,Ze),Dt.return=Xe,Xe=Dt)}return ve(Xe);case F:e:{for(Nr=Ze.key;ze!==null;){if(ze.key===Nr)if(ze.tag===4&&ze.stateNode.containerInfo===Ze.containerInfo&&ze.stateNode.implementation===Ze.implementation){D(Xe,ze.sibling),ze=ee(ze,Ze.children||[]),ze.return=Xe,Xe=ze;break e}else{D(Xe,ze);break}else x(Xe,ze);ze=ze.sibling}ze=Ix(Ze,Xe.mode,Dt),ze.return=Xe,Xe=ze}return ve(Xe);case _:return Nr=Ze._init,aa(Xe,ze,Nr(Ze._payload),Dt)}if(Ce(Ze))return dr(Xe,ze,Ze,Dt);if(k(Ze))return mr(Xe,ze,Ze,Dt);ln(Xe,Ze)}return typeof Ze=="string"&&Ze!==""||typeof Ze=="number"?(Ze=""+Ze,ze!==null&&ze.tag===6?(D(Xe,ze.sibling),ze=ee(ze,Ze),ze.return=Xe,Xe=ze):(D(Xe,ze),ze=jx(Ze,Xe.mode,Dt),ze.return=Xe,Xe=ze),ve(Xe)):D(Xe,ze)}return aa}var Wi=ma(!0),bi=ma(!1),na=_o(null),ga=null,ui=null,pn=null;function En(){pn=ui=ga=null}function fi(b){var x=na.current;On(na),b._currentValue=x}function An(b,x,D){for(;b!==null;){var K=b.alternate;if((b.childLanes&x)!==x?(b.childLanes|=x,K!==null&&(K.childLanes|=x)):K!==null&&(K.childLanes&x)!==x&&(K.childLanes|=x),b===D)break;b=b.return}}function Ni(b,x){ga=b,pn=ui=null,b=b.dependencies,b!==null&&b.firstContext!==null&&((b.lanes&x)!==0&&(ro=!0),b.firstContext=null)}function Pi(b){var x=b._currentValue;if(pn!==b)if(b={context:b,memoizedValue:x,next:null},ui===null){if(ga===null)throw Error(t(308));ui=b,ga.dependencies={lanes:0,firstContext:b}}else ui=ui.next=b;return x}var qn=null;function Ha(b){qn===null?qn=[b]:qn.push(b)}function Bn(b,x,D,K){var ee=x.interleaved;return ee===null?(D.next=D,Ha(x)):(D.next=ee.next,ee.next=D),x.interleaved=D,Hn(b,K)}function Hn(b,x){b.lanes|=x;var D=b.alternate;for(D!==null&&(D.lanes|=x),D=b,b=b.return;b!==null;)b.childLanes|=x,D=b.alternate,D!==null&&(D.childLanes|=x),D=b,b=b.return;return D.tag===3?D.stateNode:null}var Gi=!1;function Ia(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ks(b,x){b=b.updateQueue,x.updateQueue===b&&(x.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function Li(b,x){return{eventTime:b,lane:x,tag:0,payload:null,callback:null,next:null}}function Fi(b,x,D){var K=b.updateQueue;if(K===null)return null;if(K=K.shared,(Cn&2)!==0){var ee=K.pending;return ee===null?x.next=x:(x.next=ee.next,ee.next=x),K.pending=x,Hn(b,D)}return ee=K.interleaved,ee===null?(x.next=x,Ha(K)):(x.next=ee.next,ee.next=x),K.interleaved=x,Hn(b,D)}function Wa(b,x,D){if(x=x.updateQueue,x!==null&&(x=x.shared,(D&4194240)!==0)){var K=x.lanes;K&=b.pendingLanes,D|=K,x.lanes=D,Ua(b,D)}}function Wn(b,x){var D=b.updateQueue,K=b.alternate;if(K!==null&&(K=K.updateQueue,D===K)){var ee=null,se=null;if(D=D.firstBaseUpdate,D!==null){do{var ve={eventTime:D.eventTime,lane:D.lane,tag:D.tag,payload:D.payload,callback:D.callback,next:null};se===null?ee=se=ve:se=se.next=ve,D=D.next}while(D!==null);se===null?ee=se=x:se=se.next=x}else ee=se=x;D={baseState:K.baseState,firstBaseUpdate:ee,lastBaseUpdate:se,shared:K.shared,effects:K.effects},b.updateQueue=D;return}b=D.lastBaseUpdate,b===null?D.firstBaseUpdate=x:b.next=x,D.lastBaseUpdate=x}function Ga(b,x,D,K){var ee=b.updateQueue;Gi=!1;var se=ee.firstBaseUpdate,ve=ee.lastBaseUpdate,Ie=ee.shared.pending;if(Ie!==null){ee.shared.pending=null;var Be=Ie,rt=Be.next;Be.next=null,ve===null?se=rt:ve.next=rt,ve=Be;var Tt=b.alternate;Tt!==null&&(Tt=Tt.updateQueue,Ie=Tt.lastBaseUpdate,Ie!==ve&&(Ie===null?Tt.firstBaseUpdate=rt:Ie.next=rt,Tt.lastBaseUpdate=Be))}if(se!==null){var jt=ee.baseState;ve=0,Tt=rt=Be=null,Ie=se;do{var kt=Ie.lane,Zt=Ie.eventTime;if((K&kt)===kt){Tt!==null&&(Tt=Tt.next={eventTime:Zt,lane:0,tag:Ie.tag,payload:Ie.payload,callback:Ie.callback,next:null});e:{var dr=b,mr=Ie;switch(kt=x,Zt=D,mr.tag){case 1:if(dr=mr.payload,typeof dr=="function"){jt=dr.call(Zt,jt,kt);break e}jt=dr;break e;case 3:dr.flags=dr.flags&-65537|128;case 0:if(dr=mr.payload,kt=typeof dr=="function"?dr.call(Zt,jt,kt):dr,kt==null)break e;jt=M({},jt,kt);break e;case 2:Gi=!0}}Ie.callback!==null&&Ie.lane!==0&&(b.flags|=64,kt=ee.effects,kt===null?ee.effects=[Ie]:kt.push(Ie))}else Zt={eventTime:Zt,lane:kt,tag:Ie.tag,payload:Ie.payload,callback:Ie.callback,next:null},Tt===null?(rt=Tt=Zt,Be=jt):Tt=Tt.next=Zt,ve|=kt;if(Ie=Ie.next,Ie===null){if(Ie=ee.shared.pending,Ie===null)break;kt=Ie,Ie=kt.next,kt.next=null,ee.lastBaseUpdate=kt,ee.shared.pending=null}}while(!0);if(Tt===null&&(Be=jt),ee.baseState=Be,ee.firstBaseUpdate=rt,ee.lastBaseUpdate=Tt,x=ee.shared.interleaved,x!==null){ee=x;do ve|=ee.lane,ee=ee.next;while(ee!==x)}else se===null&&(ee.shared.lanes=0);id|=ve,b.lanes=ve,b.memoizedState=jt}}function to(b,x,D){if(b=x.effects,x.effects=null,b!==null)for(x=0;x<b.length;x++){var K=b[x],ee=K.callback;if(ee!==null){if(K.callback=null,K=D,typeof ee!="function")throw Error(t(191,ee));ee.call(K)}}}var So={},ya=_o(So),Bi=_o(So),ec=_o(So);function bl(b){if(b===So)throw Error(t(174));return b}function zu(b,x){switch(Fn(ec,x),Fn(Bi,b),Fn(ya,So),b=x.nodeType,b){case 9:case 11:x=(x=x.documentElement)?x.namespaceURI:st(null,"");break;default:b=b===8?x.parentNode:x,x=b.namespaceURI||null,b=b.tagName,x=st(x,b)}On(ya),Fn(ya,x)}function Wo(){On(ya),On(Bi),On(ec)}function w1(b){bl(ec.current);var x=bl(ya.current),D=st(x,b.type);x!==D&&(Fn(Bi,b),Fn(ya,D))}function $m(b){Bi.current===b&&(On(ya),On(Bi))}var ii=_o(0);function Eo(b){for(var x=b;x!==null;){if(x.tag===13){var D=x.memoizedState;if(D!==null&&(D=D.dehydrated,D===null||D.data==="$?"||D.data==="$!"))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===b)break;for(;x.sibling===null;){if(x.return===null||x.return===b)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var Um=[];function Vm(){for(var b=0;b<Um.length;b++)Um[b]._workInProgressVersionPrimary=null;Um.length=0}var Ah=C.ReactCurrentDispatcher,Ch=C.ReactCurrentBatchConfig,Go=0,di=null,Ki=null,$i=null,qu=!1,wl=!1,Hu=0,nx=0;function ia(){throw Error(t(321))}function kh(b,x){if(x===null)return!1;for(var D=0;D<x.length&&D<b.length;D++)if(!ra(b[D],x[D]))return!1;return!0}function td(b,x,D,K,ee,se){if(Go=se,di=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,Ah.current=b===null||b.memoizedState===null?Dz:Lz,b=D(K,ee),wl){se=0;do{if(wl=!1,Hu=0,25<=se)throw Error(t(301));se+=1,$i=Ki=null,x.updateQueue=null,Ah.current=Fz,b=D(K,ee)}while(wl)}if(Ah.current=A1,x=Ki!==null&&Ki.next!==null,Go=0,$i=Ki=di=null,qu=!1,x)throw Error(t(300));return b}function Ko(){var b=Hu!==0;return Hu=0,b}function Ao(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $i===null?di.memoizedState=$i=b:$i=$i.next=b,$i}function zs(){if(Ki===null){var b=di.alternate;b=b!==null?b.memoizedState:null}else b=Ki.next;var x=$i===null?di.memoizedState:$i.next;if(x!==null)$i=x,Ki=b;else{if(b===null)throw Error(t(310));Ki=b,b={memoizedState:Ki.memoizedState,baseState:Ki.baseState,baseQueue:Ki.baseQueue,queue:Ki.queue,next:null},$i===null?di.memoizedState=$i=b:$i=$i.next=b}return $i}function rd(b,x){return typeof x=="function"?x(b):x}function Th(b){var x=zs(),D=x.queue;if(D===null)throw Error(t(311));D.lastRenderedReducer=b;var K=Ki,ee=K.baseQueue,se=D.pending;if(se!==null){if(ee!==null){var ve=ee.next;ee.next=se.next,se.next=ve}K.baseQueue=ee=se,D.pending=null}if(ee!==null){se=ee.next,K=K.baseState;var Ie=ve=null,Be=null,rt=se;do{var Tt=rt.lane;if((Go&Tt)===Tt)Be!==null&&(Be=Be.next={lane:0,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),K=rt.hasEagerState?rt.eagerState:b(K,rt.action);else{var jt={lane:Tt,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null};Be===null?(Ie=Be=jt,ve=K):Be=Be.next=jt,di.lanes|=Tt,id|=Tt}rt=rt.next}while(rt!==null&&rt!==se);Be===null?ve=K:Be.next=Ie,ra(K,x.memoizedState)||(ro=!0),x.memoizedState=K,x.baseState=ve,x.baseQueue=Be,D.lastRenderedState=K}if(b=D.interleaved,b!==null){ee=b;do se=ee.lane,di.lanes|=se,id|=se,ee=ee.next;while(ee!==b)}else ee===null&&(D.lanes=0);return[x.memoizedState,D.dispatch]}function tc(b){var x=zs(),D=x.queue;if(D===null)throw Error(t(311));D.lastRenderedReducer=b;var K=D.dispatch,ee=D.pending,se=x.memoizedState;if(ee!==null){D.pending=null;var ve=ee=ee.next;do se=b(se,ve.action),ve=ve.next;while(ve!==ee);ra(se,x.memoizedState)||(ro=!0),x.memoizedState=se,x.baseQueue===null&&(x.baseState=se),D.lastRenderedState=se}return[se,K]}function x1(){}function zm(b,x){var D=di,K=zs(),ee=x(),se=!ra(K.memoizedState,ee);if(se&&(K.memoizedState=ee,ro=!0),K=K.queue,jh(S1.bind(null,D,K,b),[b]),K.getSnapshot!==x||se||$i!==null&&$i.memoizedState.tag&1){if(D.flags|=2048,qs(9,qm.bind(null,D,K,ee,x),void 0,null),Ka===null)throw Error(t(349));(Go&30)!==0||_1(D,x,ee)}return ee}function _1(b,x,D){b.flags|=16384,b={getSnapshot:x,value:D},x=di.updateQueue,x===null?(x={lastEffect:null,stores:null},di.updateQueue=x,x.stores=[b]):(D=x.stores,D===null?x.stores=[b]:D.push(b))}function qm(b,x,D,K){x.value=D,x.getSnapshot=K,Wu(x)&&Nh(b)}function S1(b,x,D){return D(function(){Wu(x)&&Nh(b)})}function Wu(b){var x=b.getSnapshot;b=b.value;try{var D=x();return!ra(b,D)}catch{return!0}}function Nh(b){var x=Hn(b,1);x!==null&&Al(x,b,1,-1)}function nd(b){var x=Ao();return typeof b=="function"&&(b=b()),x.memoizedState=x.baseState=b,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rd,lastRenderedState:b},x.queue=b,b=b.dispatch=Mz.bind(null,di,b),[x.memoizedState,b]}function qs(b,x,D,K){return b={tag:b,create:x,destroy:D,deps:K,next:null},x=di.updateQueue,x===null?(x={lastEffect:null,stores:null},di.updateQueue=x,x.lastEffect=b.next=b):(D=x.lastEffect,D===null?x.lastEffect=b.next=b:(K=D.next,D.next=b,b.next=K,x.lastEffect=b)),b}function xl(){return zs().memoizedState}function Co(b,x,D,K){var ee=Ao();di.flags|=b,ee.memoizedState=qs(1|x,D,void 0,K===void 0?null:K)}function Uc(b,x,D,K){var ee=zs();K=K===void 0?null:K;var se=void 0;if(Ki!==null){var ve=Ki.memoizedState;if(se=ve.destroy,K!==null&&kh(K,ve.deps)){ee.memoizedState=qs(x,D,se,K);return}}di.flags|=b,ee.memoizedState=qs(1|x,D,se,K)}function Ph(b,x){return Co(8390656,8,b,x)}function jh(b,x){return Uc(2048,8,b,x)}function E1(b,x){return Uc(4,2,b,x)}function Ih(b,x){return Uc(4,4,b,x)}function Oh(b,x){if(typeof x=="function")return b=b(),x(b),function(){x(null)};if(x!=null)return b=b(),x.current=b,function(){x.current=null}}function CC(b,x,D){return D=D!=null?D.concat([b]):null,Uc(4,4,Oh.bind(null,x,b),D)}function ix(){}function kC(b,x){var D=zs();x=x===void 0?null:x;var K=D.memoizedState;return K!==null&&x!==null&&kh(x,K[1])?K[0]:(D.memoizedState=[b,x],b)}function TC(b,x){var D=zs();x=x===void 0?null:x;var K=D.memoizedState;return K!==null&&x!==null&&kh(x,K[1])?K[0]:(b=b(),D.memoizedState=[b,x],b)}function NC(b,x,D){return(Go&21)===0?(b.baseState&&(b.baseState=!1,ro=!0),b.memoizedState=D):(ra(D,x)||(D=rn(),di.lanes|=D,id|=D,b.baseState=!0),x)}function Oz(b,x){var D=Cr;Cr=D!==0&&4>D?D:4,b(!0);var K=Ch.transition;Ch.transition={};try{b(!1),x()}finally{Cr=D,Ch.transition=K}}function PC(){return zs().memoizedState}function Rz(b,x,D){var K=Yu(b);if(D={lane:K,action:D,hasEagerState:!1,eagerState:null,next:null},jC(b))IC(x,D);else if(D=Bn(b,x,D,K),D!==null){var ee=Ws();Al(D,b,K,ee),OC(D,x,K)}}function Mz(b,x,D){var K=Yu(b),ee={lane:K,action:D,hasEagerState:!1,eagerState:null,next:null};if(jC(b))IC(x,ee);else{var se=b.alternate;if(b.lanes===0&&(se===null||se.lanes===0)&&(se=x.lastRenderedReducer,se!==null))try{var ve=x.lastRenderedState,Ie=se(ve,D);if(ee.hasEagerState=!0,ee.eagerState=Ie,ra(Ie,ve)){var Be=x.interleaved;Be===null?(ee.next=ee,Ha(x)):(ee.next=Be.next,Be.next=ee),x.interleaved=ee;return}}catch{}finally{}D=Bn(b,x,ee,K),D!==null&&(ee=Ws(),Al(D,b,K,ee),OC(D,x,K))}}function jC(b){var x=b.alternate;return b===di||x!==null&&x===di}function IC(b,x){wl=qu=!0;var D=b.pending;D===null?x.next=x:(x.next=D.next,D.next=x),b.pending=x}function OC(b,x,D){if((D&4194240)!==0){var K=x.lanes;K&=b.pendingLanes,D|=K,x.lanes=D,Ua(b,D)}}var A1={readContext:Pi,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useInsertionEffect:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useSyncExternalStore:ia,useId:ia,unstable_isNewReconciler:!1},Dz={readContext:Pi,useCallback:function(b,x){return Ao().memoizedState=[b,x===void 0?null:x],b},useContext:Pi,useEffect:Ph,useImperativeHandle:function(b,x,D){return D=D!=null?D.concat([b]):null,Co(4194308,4,Oh.bind(null,x,b),D)},useLayoutEffect:function(b,x){return Co(4194308,4,b,x)},useInsertionEffect:function(b,x){return Co(4,2,b,x)},useMemo:function(b,x){var D=Ao();return x=x===void 0?null:x,b=b(),D.memoizedState=[b,x],b},useReducer:function(b,x,D){var K=Ao();return x=D!==void 0?D(x):x,K.memoizedState=K.baseState=x,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:x},K.queue=b,b=b.dispatch=Rz.bind(null,di,b),[K.memoizedState,b]},useRef:function(b){var x=Ao();return b={current:b},x.memoizedState=b},useState:nd,useDebugValue:ix,useDeferredValue:function(b){return Ao().memoizedState=b},useTransition:function(){var b=nd(!1),x=b[0];return b=Oz.bind(null,b[1]),Ao().memoizedState=b,[x,b]},useMutableSource:function(){},useSyncExternalStore:function(b,x,D){var K=di,ee=Ao();if(gt){if(D===void 0)throw Error(t(407));D=D()}else{if(D=x(),Ka===null)throw Error(t(349));(Go&30)!==0||_1(K,x,D)}ee.memoizedState=D;var se={value:D,getSnapshot:x};return ee.queue=se,Ph(S1.bind(null,K,se,b),[b]),K.flags|=2048,qs(9,qm.bind(null,K,se,D,x),void 0,null),D},useId:function(){var b=Ao(),x=Ka.identifierPrefix;if(gt){var D=Pe,K=Ke;D=(K&~(1<<32-Tr(K)-1)).toString(32)+D,x=":"+x+"R"+D,D=Hu++,0<D&&(x+="H"+D.toString(32)),x+=":"}else D=nx++,x=":"+x+"r"+D.toString(32)+":";return b.memoizedState=x},unstable_isNewReconciler:!1},Lz={readContext:Pi,useCallback:kC,useContext:Pi,useEffect:jh,useImperativeHandle:CC,useInsertionEffect:E1,useLayoutEffect:Ih,useMemo:TC,useReducer:Th,useRef:xl,useState:function(){return Th(rd)},useDebugValue:ix,useDeferredValue:function(b){var x=zs();return NC(x,Ki.memoizedState,b)},useTransition:function(){var b=Th(rd)[0],x=zs().memoizedState;return[b,x]},useMutableSource:x1,useSyncExternalStore:zm,useId:PC,unstable_isNewReconciler:!1},Fz={readContext:Pi,useCallback:kC,useContext:Pi,useEffect:jh,useImperativeHandle:CC,useInsertionEffect:E1,useLayoutEffect:Ih,useMemo:TC,useReducer:tc,useRef:xl,useState:function(){return tc(rd)},useDebugValue:ix,useDeferredValue:function(b){var x=zs();return Ki===null?x.memoizedState=b:NC(x,Ki.memoizedState,b)},useTransition:function(){var b=tc(rd)[0],x=zs().memoizedState;return[b,x]},useMutableSource:x1,useSyncExternalStore:zm,useId:PC,unstable_isNewReconciler:!1};function _l(b,x){if(b&&b.defaultProps){x=M({},x),b=b.defaultProps;for(var D in b)x[D]===void 0&&(x[D]=b[D]);return x}return x}function ax(b,x,D,K){x=b.memoizedState,D=D(K,x),D=D==null?x:M({},x,D),b.memoizedState=D,b.lanes===0&&(b.updateQueue.baseState=D)}var C1={isMounted:function(b){return(b=b._reactInternals)?qt(b)===b:!1},enqueueSetState:function(b,x,D){b=b._reactInternals;var K=Ws(),ee=Yu(b),se=Li(K,ee);se.payload=x,D!=null&&(se.callback=D),x=Fi(b,se,ee),x!==null&&(Al(x,b,ee,K),Wa(x,b,ee))},enqueueReplaceState:function(b,x,D){b=b._reactInternals;var K=Ws(),ee=Yu(b),se=Li(K,ee);se.tag=1,se.payload=x,D!=null&&(se.callback=D),x=Fi(b,se,ee),x!==null&&(Al(x,b,ee,K),Wa(x,b,ee))},enqueueForceUpdate:function(b,x){b=b._reactInternals;var D=Ws(),K=Yu(b),ee=Li(D,K);ee.tag=2,x!=null&&(ee.callback=x),x=Fi(b,ee,K),x!==null&&(Al(x,b,K,D),Wa(x,b,K))}};function RC(b,x,D,K,ee,se,ve){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(K,se,ve):x.prototype&&x.prototype.isPureReactComponent?!zo(D,K)||!zo(ee,se):!0}function MC(b,x,D){var K=!1,ee=Jl,se=x.contextType;return typeof se=="object"&&se!==null?se=Pi(se):(ee=Cs(x)?Bc:ja.current,K=x.contextTypes,se=(K=K!=null)?Vu(b,ee):Jl),x=new x(D,se),b.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=C1,b.stateNode=x,x._reactInternals=b,K&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=ee,b.__reactInternalMemoizedMaskedChildContext=se),x}function DC(b,x,D,K){b=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(D,K),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(D,K),x.state!==b&&C1.enqueueReplaceState(x,x.state,null)}function sx(b,x,D,K){var ee=b.stateNode;ee.props=D,ee.state=b.memoizedState,ee.refs={},Ia(b);var se=x.contextType;typeof se=="object"&&se!==null?ee.context=Pi(se):(se=Cs(x)?Bc:ja.current,ee.context=Vu(b,se)),ee.state=b.memoizedState,se=x.getDerivedStateFromProps,typeof se=="function"&&(ax(b,x,se,D),ee.state=b.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof ee.getSnapshotBeforeUpdate=="function"||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(x=ee.state,typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount(),x!==ee.state&&C1.enqueueReplaceState(ee,ee.state,null),Ga(b,D,ee,K),ee.state=b.memoizedState),typeof ee.componentDidMount=="function"&&(b.flags|=4194308)}function Rh(b,x){try{var D="",K=x;do D+=re(K),K=K.return;while(K);var ee=D}catch(se){ee=`
Error generating stack: `+se.message+`
`+se.stack}return{value:b,source:x,stack:ee,digest:null}}function ox(b,x,D){return{value:b,source:null,stack:D??null,digest:x??null}}function lx(b,x){try{console.error(x.value)}catch(D){setTimeout(function(){throw D})}}var Bz=typeof WeakMap=="function"?WeakMap:Map;function LC(b,x,D){D=Li(-1,D),D.tag=3,D.payload={element:null};var K=x.value;return D.callback=function(){O1||(O1=!0,Sx=K),lx(b,x)},D}function FC(b,x,D){D=Li(-1,D),D.tag=3;var K=b.type.getDerivedStateFromError;if(typeof K=="function"){var ee=x.value;D.payload=function(){return K(ee)},D.callback=function(){lx(b,x)}}var se=b.stateNode;return se!==null&&typeof se.componentDidCatch=="function"&&(D.callback=function(){lx(b,x),typeof K!="function"&&(Ku===null?Ku=new Set([this]):Ku.add(this));var ve=x.stack;this.componentDidCatch(x.value,{componentStack:ve!==null?ve:""})}),D}function BC(b,x,D){var K=b.pingCache;if(K===null){K=b.pingCache=new Bz;var ee=new Set;K.set(x,ee)}else ee=K.get(x),ee===void 0&&(ee=new Set,K.set(x,ee));ee.has(D)||(ee.add(D),b=Jz.bind(null,b,x,D),x.then(b,b))}function $C(b){do{var x;if((x=b.tag===13)&&(x=b.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return b;b=b.return}while(b!==null);return null}function UC(b,x,D,K,ee){return(b.mode&1)===0?(b===x?b.flags|=65536:(b.flags|=128,D.flags|=131072,D.flags&=-52805,D.tag===1&&(D.alternate===null?D.tag=17:(x=Li(-1,1),x.tag=2,Fi(D,x,1))),D.lanes|=1),b):(b.flags|=65536,b.lanes=ee,b)}var $z=C.ReactCurrentOwner,ro=!1;function Hs(b,x,D,K){x.child=b===null?bi(x,null,D,K):Wi(x,b.child,D,K)}function VC(b,x,D,K,ee){D=D.render;var se=x.ref;return Ni(x,ee),K=td(b,x,D,K,se,ee),D=Ko(),b!==null&&!ro?(x.updateQueue=b.updateQueue,x.flags&=-2053,b.lanes&=~ee,Vc(b,x,ee)):(gt&&D&&lt(x),x.flags|=1,Hs(b,x,K,ee),x.child)}function zC(b,x,D,K,ee){if(b===null){var se=D.type;return typeof se=="function"&&!Px(se)&&se.defaultProps===void 0&&D.compare===null&&D.defaultProps===void 0?(x.tag=15,x.type=se,qC(b,x,se,K,ee)):(b=B1(D.type,null,K,x,x.mode,ee),b.ref=x.ref,b.return=x,x.child=b)}if(se=b.child,(b.lanes&ee)===0){var ve=se.memoizedProps;if(D=D.compare,D=D!==null?D:zo,D(ve,K)&&b.ref===x.ref)return Vc(b,x,ee)}return x.flags|=1,b=Zu(se,K),b.ref=x.ref,b.return=x,x.child=b}function qC(b,x,D,K,ee){if(b!==null){var se=b.memoizedProps;if(zo(se,K)&&b.ref===x.ref)if(ro=!1,x.pendingProps=K=se,(b.lanes&ee)!==0)(b.flags&131072)!==0&&(ro=!0);else return x.lanes=b.lanes,Vc(b,x,ee)}return cx(b,x,D,K,ee)}function HC(b,x,D){var K=x.pendingProps,ee=K.children,se=b!==null?b.memoizedState:null;if(K.mode==="hidden")if((x.mode&1)===0)x.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fn(Dh,ko),ko|=D;else{if((D&1073741824)===0)return b=se!==null?se.baseLanes|D:D,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:b,cachePool:null,transitions:null},x.updateQueue=null,Fn(Dh,ko),ko|=b,null;x.memoizedState={baseLanes:0,cachePool:null,transitions:null},K=se!==null?se.baseLanes:D,Fn(Dh,ko),ko|=K}else se!==null?(K=se.baseLanes|D,x.memoizedState=null):K=D,Fn(Dh,ko),ko|=K;return Hs(b,x,ee,D),x.child}function WC(b,x){var D=x.ref;(b===null&&D!==null||b!==null&&b.ref!==D)&&(x.flags|=512,x.flags|=2097152)}function cx(b,x,D,K,ee){var se=Cs(D)?Bc:ja.current;return se=Vu(x,se),Ni(x,ee),D=td(b,x,D,K,se,ee),K=Ko(),b!==null&&!ro?(x.updateQueue=b.updateQueue,x.flags&=-2053,b.lanes&=~ee,Vc(b,x,ee)):(gt&&K&&lt(x),x.flags|=1,Hs(b,x,D,ee),x.child)}function GC(b,x,D,K,ee){if(Cs(D)){var se=!0;$c(x)}else se=!1;if(Ni(x,ee),x.stateNode===null)T1(b,x),MC(x,D,K),sx(x,D,K,ee),K=!0;else if(b===null){var ve=x.stateNode,Ie=x.memoizedProps;ve.props=Ie;var Be=ve.context,rt=D.contextType;typeof rt=="object"&&rt!==null?rt=Pi(rt):(rt=Cs(D)?Bc:ja.current,rt=Vu(x,rt));var Tt=D.getDerivedStateFromProps,jt=typeof Tt=="function"||typeof ve.getSnapshotBeforeUpdate=="function";jt||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(Ie!==K||Be!==rt)&&DC(x,ve,K,rt),Gi=!1;var kt=x.memoizedState;ve.state=kt,Ga(x,K,ve,ee),Be=x.memoizedState,Ie!==K||kt!==Be||As.current||Gi?(typeof Tt=="function"&&(ax(x,D,Tt,K),Be=x.memoizedState),(Ie=Gi||RC(x,D,Ie,K,kt,Be,rt))?(jt||typeof ve.UNSAFE_componentWillMount!="function"&&typeof ve.componentWillMount!="function"||(typeof ve.componentWillMount=="function"&&ve.componentWillMount(),typeof ve.UNSAFE_componentWillMount=="function"&&ve.UNSAFE_componentWillMount()),typeof ve.componentDidMount=="function"&&(x.flags|=4194308)):(typeof ve.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=K,x.memoizedState=Be),ve.props=K,ve.state=Be,ve.context=rt,K=Ie):(typeof ve.componentDidMount=="function"&&(x.flags|=4194308),K=!1)}else{ve=x.stateNode,ks(b,x),Ie=x.memoizedProps,rt=x.type===x.elementType?Ie:_l(x.type,Ie),ve.props=rt,jt=x.pendingProps,kt=ve.context,Be=D.contextType,typeof Be=="object"&&Be!==null?Be=Pi(Be):(Be=Cs(D)?Bc:ja.current,Be=Vu(x,Be));var Zt=D.getDerivedStateFromProps;(Tt=typeof Zt=="function"||typeof ve.getSnapshotBeforeUpdate=="function")||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(Ie!==jt||kt!==Be)&&DC(x,ve,K,Be),Gi=!1,kt=x.memoizedState,ve.state=kt,Ga(x,K,ve,ee);var dr=x.memoizedState;Ie!==jt||kt!==dr||As.current||Gi?(typeof Zt=="function"&&(ax(x,D,Zt,K),dr=x.memoizedState),(rt=Gi||RC(x,D,rt,K,kt,dr,Be)||!1)?(Tt||typeof ve.UNSAFE_componentWillUpdate!="function"&&typeof ve.componentWillUpdate!="function"||(typeof ve.componentWillUpdate=="function"&&ve.componentWillUpdate(K,dr,Be),typeof ve.UNSAFE_componentWillUpdate=="function"&&ve.UNSAFE_componentWillUpdate(K,dr,Be)),typeof ve.componentDidUpdate=="function"&&(x.flags|=4),typeof ve.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof ve.componentDidUpdate!="function"||Ie===b.memoizedProps&&kt===b.memoizedState||(x.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||Ie===b.memoizedProps&&kt===b.memoizedState||(x.flags|=1024),x.memoizedProps=K,x.memoizedState=dr),ve.props=K,ve.state=dr,ve.context=Be,K=rt):(typeof ve.componentDidUpdate!="function"||Ie===b.memoizedProps&&kt===b.memoizedState||(x.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||Ie===b.memoizedProps&&kt===b.memoizedState||(x.flags|=1024),K=!1)}return ux(b,x,D,K,se,ee)}function ux(b,x,D,K,ee,se){WC(b,x);var ve=(x.flags&128)!==0;if(!K&&!ve)return ee&&b1(x,D,!1),Vc(b,x,se);K=x.stateNode,$z.current=x;var Ie=ve&&typeof D.getDerivedStateFromError!="function"?null:K.render();return x.flags|=1,b!==null&&ve?(x.child=Wi(x,b.child,null,se),x.child=Wi(x,null,Ie,se)):Hs(b,x,Ie,se),x.memoizedState=K.state,ee&&b1(x,D,!0),x.child}function KC(b){var x=b.stateNode;x.pendingContext?v1(b,x.pendingContext,x.pendingContext!==x.context):x.context&&v1(b,x.context,!1),zu(b,x.containerInfo)}function XC(b,x,D,K,ee){return nr(),Ut(ee),x.flags|=256,Hs(b,x,D,K),x.child}var fx={dehydrated:null,treeContext:null,retryLane:0};function dx(b){return{baseLanes:b,cachePool:null,transitions:null}}function YC(b,x,D){var K=x.pendingProps,ee=ii.current,se=!1,ve=(x.flags&128)!==0,Ie;if((Ie=ve)||(Ie=b!==null&&b.memoizedState===null?!1:(ee&2)!==0),Ie?(se=!0,x.flags&=-129):(b===null||b.memoizedState!==null)&&(ee|=1),Fn(ii,ee&1),b===null)return ur(x),b=x.memoizedState,b!==null&&(b=b.dehydrated,b!==null)?((x.mode&1)===0?x.lanes=1:b.data==="$!"?x.lanes=8:x.lanes=1073741824,null):(ve=K.children,b=K.fallback,se?(K=x.mode,se=x.child,ve={mode:"hidden",children:ve},(K&1)===0&&se!==null?(se.childLanes=0,se.pendingProps=ve):se=$1(ve,K,0,null),b=ld(b,K,D,null),se.return=x,b.return=x,se.sibling=b,x.child=se,x.child.memoizedState=dx(D),x.memoizedState=fx,b):hx(x,ve));if(ee=b.memoizedState,ee!==null&&(Ie=ee.dehydrated,Ie!==null))return Uz(b,x,ve,K,Ie,ee,D);if(se){se=K.fallback,ve=x.mode,ee=b.child,Ie=ee.sibling;var Be={mode:"hidden",children:K.children};return(ve&1)===0&&x.child!==ee?(K=x.child,K.childLanes=0,K.pendingProps=Be,x.deletions=null):(K=Zu(ee,Be),K.subtreeFlags=ee.subtreeFlags&14680064),Ie!==null?se=Zu(Ie,se):(se=ld(se,ve,D,null),se.flags|=2),se.return=x,K.return=x,K.sibling=se,x.child=K,K=se,se=x.child,ve=b.child.memoizedState,ve=ve===null?dx(D):{baseLanes:ve.baseLanes|D,cachePool:null,transitions:ve.transitions},se.memoizedState=ve,se.childLanes=b.childLanes&~D,x.memoizedState=fx,K}return se=b.child,b=se.sibling,K=Zu(se,{mode:"visible",children:K.children}),(x.mode&1)===0&&(K.lanes=D),K.return=x,K.sibling=null,b!==null&&(D=x.deletions,D===null?(x.deletions=[b],x.flags|=16):D.push(b)),x.child=K,x.memoizedState=null,K}function hx(b,x){return x=$1({mode:"visible",children:x},b.mode,0,null),x.return=b,b.child=x}function k1(b,x,D,K){return K!==null&&Ut(K),Wi(x,b.child,null,D),b=hx(x,x.pendingProps.children),b.flags|=2,x.memoizedState=null,b}function Uz(b,x,D,K,ee,se,ve){if(D)return x.flags&256?(x.flags&=-257,K=ox(Error(t(422))),k1(b,x,ve,K)):x.memoizedState!==null?(x.child=b.child,x.flags|=128,null):(se=K.fallback,ee=x.mode,K=$1({mode:"visible",children:K.children},ee,0,null),se=ld(se,ee,ve,null),se.flags|=2,K.return=x,se.return=x,K.sibling=se,x.child=K,(x.mode&1)!==0&&Wi(x,b.child,null,ve),x.child.memoizedState=dx(ve),x.memoizedState=fx,se);if((x.mode&1)===0)return k1(b,x,ve,null);if(ee.data==="$!"){if(K=ee.nextSibling&&ee.nextSibling.dataset,K)var Ie=K.dgst;return K=Ie,se=Error(t(419)),K=ox(se,K,void 0),k1(b,x,ve,K)}if(Ie=(ve&b.childLanes)!==0,ro||Ie){if(K=Ka,K!==null){switch(ve&-ve){case 4:ee=2;break;case 16:ee=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ee=32;break;case 536870912:ee=268435456;break;default:ee=0}ee=(ee&(K.suspendedLanes|ve))!==0?0:ee,ee!==0&&ee!==se.retryLane&&(se.retryLane=ee,Hn(b,ee),Al(K,b,ee,-1))}return Nx(),K=ox(Error(t(421))),k1(b,x,ve,K)}return ee.data==="$?"?(x.flags|=128,x.child=b.child,x=eq.bind(null,b),ee._reactRetry=x,null):(b=se.treeContext,ot=os(ee.nextSibling),at=x,gt=!0,yt=null,b!==null&&(Ee[Te++]=Ke,Ee[Te++]=Pe,Ee[Te++]=Fe,Ke=b.id,Pe=b.overflow,Fe=x),x=hx(x,K.children),x.flags|=4096,x)}function QC(b,x,D){b.lanes|=x;var K=b.alternate;K!==null&&(K.lanes|=x),An(b.return,x,D)}function px(b,x,D,K,ee){var se=b.memoizedState;se===null?b.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:K,tail:D,tailMode:ee}:(se.isBackwards=x,se.rendering=null,se.renderingStartTime=0,se.last=K,se.tail=D,se.tailMode=ee)}function ZC(b,x,D){var K=x.pendingProps,ee=K.revealOrder,se=K.tail;if(Hs(b,x,K.children,D),K=ii.current,(K&2)!==0)K=K&1|2,x.flags|=128;else{if(b!==null&&(b.flags&128)!==0)e:for(b=x.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&QC(b,D,x);else if(b.tag===19)QC(b,D,x);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===x)break e;for(;b.sibling===null;){if(b.return===null||b.return===x)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}K&=1}if(Fn(ii,K),(x.mode&1)===0)x.memoizedState=null;else switch(ee){case"forwards":for(D=x.child,ee=null;D!==null;)b=D.alternate,b!==null&&Eo(b)===null&&(ee=D),D=D.sibling;D=ee,D===null?(ee=x.child,x.child=null):(ee=D.sibling,D.sibling=null),px(x,!1,ee,D,se);break;case"backwards":for(D=null,ee=x.child,x.child=null;ee!==null;){if(b=ee.alternate,b!==null&&Eo(b)===null){x.child=ee;break}b=ee.sibling,ee.sibling=D,D=ee,ee=b}px(x,!0,D,null,se);break;case"together":px(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function T1(b,x){(x.mode&1)===0&&b!==null&&(b.alternate=null,x.alternate=null,x.flags|=2)}function Vc(b,x,D){if(b!==null&&(x.dependencies=b.dependencies),id|=x.lanes,(D&x.childLanes)===0)return null;if(b!==null&&x.child!==b.child)throw Error(t(153));if(x.child!==null){for(b=x.child,D=Zu(b,b.pendingProps),x.child=D,D.return=x;b.sibling!==null;)b=b.sibling,D=D.sibling=Zu(b,b.pendingProps),D.return=x;D.sibling=null}return x.child}function Vz(b,x,D){switch(x.tag){case 3:KC(x),nr();break;case 5:w1(x);break;case 1:Cs(x.type)&&$c(x);break;case 4:zu(x,x.stateNode.containerInfo);break;case 10:var K=x.type._context,ee=x.memoizedProps.value;Fn(na,K._currentValue),K._currentValue=ee;break;case 13:if(K=x.memoizedState,K!==null)return K.dehydrated!==null?(Fn(ii,ii.current&1),x.flags|=128,null):(D&x.child.childLanes)!==0?YC(b,x,D):(Fn(ii,ii.current&1),b=Vc(b,x,D),b!==null?b.sibling:null);Fn(ii,ii.current&1);break;case 19:if(K=(D&x.childLanes)!==0,(b.flags&128)!==0){if(K)return ZC(b,x,D);x.flags|=128}if(ee=x.memoizedState,ee!==null&&(ee.rendering=null,ee.tail=null,ee.lastEffect=null),Fn(ii,ii.current),K)break;return null;case 22:case 23:return x.lanes=0,HC(b,x,D)}return Vc(b,x,D)}var JC,mx,ek,tk;JC=function(b,x){for(var D=x.child;D!==null;){if(D.tag===5||D.tag===6)b.appendChild(D.stateNode);else if(D.tag!==4&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===x)break;for(;D.sibling===null;){if(D.return===null||D.return===x)return;D=D.return}D.sibling.return=D.return,D=D.sibling}},mx=function(){},ek=function(b,x,D,K){var ee=b.memoizedProps;if(ee!==K){b=x.stateNode,bl(ya.current);var se=null;switch(D){case"input":ee=fe(b,ee),K=fe(b,K),se=[];break;case"select":ee=M({},ee,{value:void 0}),K=M({},K,{value:void 0}),se=[];break;case"textarea":ee=Oe(b,ee),K=Oe(b,K),se=[];break;default:typeof ee.onClick!="function"&&typeof K.onClick=="function"&&(b.onclick=Bu)}It(D,K);var ve;D=null;for(rt in ee)if(!K.hasOwnProperty(rt)&&ee.hasOwnProperty(rt)&&ee[rt]!=null)if(rt==="style"){var Ie=ee[rt];for(ve in Ie)Ie.hasOwnProperty(ve)&&(D||(D={}),D[ve]="")}else rt!=="dangerouslySetInnerHTML"&&rt!=="children"&&rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&rt!=="autoFocus"&&(i.hasOwnProperty(rt)?se||(se=[]):(se=se||[]).push(rt,null));for(rt in K){var Be=K[rt];if(Ie=ee!=null?ee[rt]:void 0,K.hasOwnProperty(rt)&&Be!==Ie&&(Be!=null||Ie!=null))if(rt==="style")if(Ie){for(ve in Ie)!Ie.hasOwnProperty(ve)||Be&&Be.hasOwnProperty(ve)||(D||(D={}),D[ve]="");for(ve in Be)Be.hasOwnProperty(ve)&&Ie[ve]!==Be[ve]&&(D||(D={}),D[ve]=Be[ve])}else D||(se||(se=[]),se.push(rt,D)),D=Be;else rt==="dangerouslySetInnerHTML"?(Be=Be?Be.__html:void 0,Ie=Ie?Ie.__html:void 0,Be!=null&&Ie!==Be&&(se=se||[]).push(rt,Be)):rt==="children"?typeof Be!="string"&&typeof Be!="number"||(se=se||[]).push(rt,""+Be):rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&(i.hasOwnProperty(rt)?(Be!=null&&rt==="onScroll"&&zn("scroll",b),se||Ie===Be||(se=[])):(se=se||[]).push(rt,Be))}D&&(se=se||[]).push("style",D);var rt=se;(x.updateQueue=rt)&&(x.flags|=4)}},tk=function(b,x,D,K){D!==K&&(x.flags|=4)};function Hm(b,x){if(!gt)switch(b.tailMode){case"hidden":x=b.tail;for(var D=null;x!==null;)x.alternate!==null&&(D=x),x=x.sibling;D===null?b.tail=null:D.sibling=null;break;case"collapsed":D=b.tail;for(var K=null;D!==null;)D.alternate!==null&&(K=D),D=D.sibling;K===null?x||b.tail===null?b.tail=null:b.tail.sibling=null:K.sibling=null}}function Ts(b){var x=b.alternate!==null&&b.alternate.child===b.child,D=0,K=0;if(x)for(var ee=b.child;ee!==null;)D|=ee.lanes|ee.childLanes,K|=ee.subtreeFlags&14680064,K|=ee.flags&14680064,ee.return=b,ee=ee.sibling;else for(ee=b.child;ee!==null;)D|=ee.lanes|ee.childLanes,K|=ee.subtreeFlags,K|=ee.flags,ee.return=b,ee=ee.sibling;return b.subtreeFlags|=K,b.childLanes=D,x}function zz(b,x,D){var K=x.pendingProps;switch(Ye(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ts(x),null;case 1:return Cs(x.type)&&Eh(),Ts(x),null;case 3:return K=x.stateNode,Wo(),On(As),On(ja),Vm(),K.pendingContext&&(K.context=K.pendingContext,K.pendingContext=null),(b===null||b.child===null)&&(Ti(x)?x.flags|=4:b===null||b.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,yt!==null&&(Cx(yt),yt=null))),mx(b,x),Ts(x),null;case 5:$m(x);var ee=bl(ec.current);if(D=x.type,b!==null&&x.stateNode!=null)ek(b,x,D,K,ee),b.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!K){if(x.stateNode===null)throw Error(t(166));return Ts(x),null}if(b=bl(ya.current),Ti(x)){K=x.stateNode,D=x.type;var se=x.memoizedProps;switch(K[Ho]=x,K[$u]=se,b=(x.mode&1)!==0,D){case"dialog":zn("cancel",K),zn("close",K);break;case"iframe":case"object":case"embed":zn("load",K);break;case"video":case"audio":for(ee=0;ee<Ql.length;ee++)zn(Ql[ee],K);break;case"source":zn("error",K);break;case"img":case"image":case"link":zn("error",K),zn("load",K);break;case"details":zn("toggle",K);break;case"input":ue(K,se),zn("invalid",K);break;case"select":K._wrapperState={wasMultiple:!!se.multiple},zn("invalid",K);break;case"textarea":De(K,se),zn("invalid",K)}It(D,se),ee=null;for(var ve in se)if(se.hasOwnProperty(ve)){var Ie=se[ve];ve==="children"?typeof Ie=="string"?K.textContent!==Ie&&(se.suppressHydrationWarning!==!0&&Sh(K.textContent,Ie,b),ee=["children",Ie]):typeof Ie=="number"&&K.textContent!==""+Ie&&(se.suppressHydrationWarning!==!0&&Sh(K.textContent,Ie,b),ee=["children",""+Ie]):i.hasOwnProperty(ve)&&Ie!=null&&ve==="onScroll"&&zn("scroll",K)}switch(D){case"input":ie(K),xe(K,se,!0);break;case"textarea":ie(K),Qe(K);break;case"select":case"option":break;default:typeof se.onClick=="function"&&(K.onclick=Bu)}K=ee,x.updateQueue=K,K!==null&&(x.flags|=4)}else{ve=ee.nodeType===9?ee:ee.ownerDocument,b==="http://www.w3.org/1999/xhtml"&&(b=tt(D)),b==="http://www.w3.org/1999/xhtml"?D==="script"?(b=ve.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild)):typeof K.is=="string"?b=ve.createElement(D,{is:K.is}):(b=ve.createElement(D),D==="select"&&(ve=b,K.multiple?ve.multiple=!0:K.size&&(ve.size=K.size))):b=ve.createElementNS(b,D),b[Ho]=x,b[$u]=K,JC(b,x,!1,!1),x.stateNode=b;e:{switch(ve=ht(D,K),D){case"dialog":zn("cancel",b),zn("close",b),ee=K;break;case"iframe":case"object":case"embed":zn("load",b),ee=K;break;case"video":case"audio":for(ee=0;ee<Ql.length;ee++)zn(Ql[ee],b);ee=K;break;case"source":zn("error",b),ee=K;break;case"img":case"image":case"link":zn("error",b),zn("load",b),ee=K;break;case"details":zn("toggle",b),ee=K;break;case"input":ue(b,K),ee=fe(b,K),zn("invalid",b);break;case"option":ee=K;break;case"select":b._wrapperState={wasMultiple:!!K.multiple},ee=M({},K,{value:void 0}),zn("invalid",b);break;case"textarea":De(b,K),ee=Oe(b,K),zn("invalid",b);break;default:ee=K}It(D,ee),Ie=ee;for(se in Ie)if(Ie.hasOwnProperty(se)){var Be=Ie[se];se==="style"?et(b,Be):se==="dangerouslySetInnerHTML"?(Be=Be?Be.__html:void 0,Be!=null&&pt(b,Be)):se==="children"?typeof Be=="string"?(D!=="textarea"||Be!=="")&&bt(b,Be):typeof Be=="number"&&bt(b,""+Be):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?Be!=null&&se==="onScroll"&&zn("scroll",b):Be!=null&&w(b,se,Be,ve))}switch(D){case"input":ie(b),xe(b,K,!1);break;case"textarea":ie(b),Qe(b);break;case"option":K.value!=null&&b.setAttribute("value",""+q(K.value));break;case"select":b.multiple=!!K.multiple,se=K.value,se!=null?ke(b,!!K.multiple,se,!1):K.defaultValue!=null&&ke(b,!!K.multiple,K.defaultValue,!0);break;default:typeof ee.onClick=="function"&&(b.onclick=Bu)}switch(D){case"button":case"input":case"select":case"textarea":K=!!K.autoFocus;break e;case"img":K=!0;break e;default:K=!1}}K&&(x.flags|=4)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return Ts(x),null;case 6:if(b&&x.stateNode!=null)tk(b,x,b.memoizedProps,K);else{if(typeof K!="string"&&x.stateNode===null)throw Error(t(166));if(D=bl(ec.current),bl(ya.current),Ti(x)){if(K=x.stateNode,D=x.memoizedProps,K[Ho]=x,(se=K.nodeValue!==D)&&(b=at,b!==null))switch(b.tag){case 3:Sh(K.nodeValue,D,(b.mode&1)!==0);break;case 5:b.memoizedProps.suppressHydrationWarning!==!0&&Sh(K.nodeValue,D,(b.mode&1)!==0)}se&&(x.flags|=4)}else K=(D.nodeType===9?D:D.ownerDocument).createTextNode(K),K[Ho]=x,x.stateNode=K}return Ts(x),null;case 13:if(On(ii),K=x.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(gt&&ot!==null&&(x.mode&1)!==0&&(x.flags&128)===0)Qr(),nr(),x.flags|=98560,se=!1;else if(se=Ti(x),K!==null&&K.dehydrated!==null){if(b===null){if(!se)throw Error(t(318));if(se=x.memoizedState,se=se!==null?se.dehydrated:null,!se)throw Error(t(317));se[Ho]=x}else nr(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;Ts(x),se=!1}else yt!==null&&(Cx(yt),yt=null),se=!0;if(!se)return x.flags&65536?x:null}return(x.flags&128)!==0?(x.lanes=D,x):(K=K!==null,K!==(b!==null&&b.memoizedState!==null)&&K&&(x.child.flags|=8192,(x.mode&1)!==0&&(b===null||(ii.current&1)!==0?Oa===0&&(Oa=3):Nx())),x.updateQueue!==null&&(x.flags|=4),Ts(x),null);case 4:return Wo(),mx(b,x),b===null&&Mc(x.stateNode.containerInfo),Ts(x),null;case 10:return fi(x.type._context),Ts(x),null;case 17:return Cs(x.type)&&Eh(),Ts(x),null;case 19:if(On(ii),se=x.memoizedState,se===null)return Ts(x),null;if(K=(x.flags&128)!==0,ve=se.rendering,ve===null)if(K)Hm(se,!1);else{if(Oa!==0||b!==null&&(b.flags&128)!==0)for(b=x.child;b!==null;){if(ve=Eo(b),ve!==null){for(x.flags|=128,Hm(se,!1),K=ve.updateQueue,K!==null&&(x.updateQueue=K,x.flags|=4),x.subtreeFlags=0,K=D,D=x.child;D!==null;)se=D,b=K,se.flags&=14680066,ve=se.alternate,ve===null?(se.childLanes=0,se.lanes=b,se.child=null,se.subtreeFlags=0,se.memoizedProps=null,se.memoizedState=null,se.updateQueue=null,se.dependencies=null,se.stateNode=null):(se.childLanes=ve.childLanes,se.lanes=ve.lanes,se.child=ve.child,se.subtreeFlags=0,se.deletions=null,se.memoizedProps=ve.memoizedProps,se.memoizedState=ve.memoizedState,se.updateQueue=ve.updateQueue,se.type=ve.type,b=ve.dependencies,se.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),D=D.sibling;return Fn(ii,ii.current&1|2),x.child}b=b.sibling}se.tail!==null&&Ue()>Lh&&(x.flags|=128,K=!0,Hm(se,!1),x.lanes=4194304)}else{if(!K)if(b=Eo(ve),b!==null){if(x.flags|=128,K=!0,D=b.updateQueue,D!==null&&(x.updateQueue=D,x.flags|=4),Hm(se,!0),se.tail===null&&se.tailMode==="hidden"&&!ve.alternate&&!gt)return Ts(x),null}else 2*Ue()-se.renderingStartTime>Lh&&D!==1073741824&&(x.flags|=128,K=!0,Hm(se,!1),x.lanes=4194304);se.isBackwards?(ve.sibling=x.child,x.child=ve):(D=se.last,D!==null?D.sibling=ve:x.child=ve,se.last=ve)}return se.tail!==null?(x=se.tail,se.rendering=x,se.tail=x.sibling,se.renderingStartTime=Ue(),x.sibling=null,D=ii.current,Fn(ii,K?D&1|2:D&1),x):(Ts(x),null);case 22:case 23:return Tx(),K=x.memoizedState!==null,b!==null&&b.memoizedState!==null!==K&&(x.flags|=8192),K&&(x.mode&1)!==0?(ko&1073741824)!==0&&(Ts(x),x.subtreeFlags&6&&(x.flags|=8192)):Ts(x),null;case 24:return null;case 25:return null}throw Error(t(156,x.tag))}function qz(b,x){switch(Ye(x),x.tag){case 1:return Cs(x.type)&&Eh(),b=x.flags,b&65536?(x.flags=b&-65537|128,x):null;case 3:return Wo(),On(As),On(ja),Vm(),b=x.flags,(b&65536)!==0&&(b&128)===0?(x.flags=b&-65537|128,x):null;case 5:return $m(x),null;case 13:if(On(ii),b=x.memoizedState,b!==null&&b.dehydrated!==null){if(x.alternate===null)throw Error(t(340));nr()}return b=x.flags,b&65536?(x.flags=b&-65537|128,x):null;case 19:return On(ii),null;case 4:return Wo(),null;case 10:return fi(x.type._context),null;case 22:case 23:return Tx(),null;case 24:return null;default:return null}}var N1=!1,Ns=!1,Hz=typeof WeakSet=="function"?WeakSet:Set,lr=null;function Mh(b,x){var D=b.ref;if(D!==null)if(typeof D=="function")try{D(null)}catch(K){Xi(b,x,K)}else D.current=null}function gx(b,x,D){try{D()}catch(K){Xi(b,x,K)}}var rk=!1;function Wz(b,x){if(Zf=Fo,b=Cm(),yh(b)){if("selectionStart"in b)var D={start:b.selectionStart,end:b.selectionEnd};else e:{D=(D=b.ownerDocument)&&D.defaultView||window;var K=D.getSelection&&D.getSelection();if(K&&K.rangeCount!==0){D=K.anchorNode;var ee=K.anchorOffset,se=K.focusNode;K=K.focusOffset;try{D.nodeType,se.nodeType}catch{D=null;break e}var ve=0,Ie=-1,Be=-1,rt=0,Tt=0,jt=b,kt=null;t:for(;;){for(var Zt;jt!==D||ee!==0&&jt.nodeType!==3||(Ie=ve+ee),jt!==se||K!==0&&jt.nodeType!==3||(Be=ve+K),jt.nodeType===3&&(ve+=jt.nodeValue.length),(Zt=jt.firstChild)!==null;)kt=jt,jt=Zt;for(;;){if(jt===b)break t;if(kt===D&&++rt===ee&&(Ie=ve),kt===se&&++Tt===K&&(Be=ve),(Zt=jt.nextSibling)!==null)break;jt=kt,kt=jt.parentNode}jt=Zt}D=Ie===-1||Be===-1?null:{start:Ie,end:Be}}else D=null}D=D||{start:0,end:0}}else D=null;for(Lc={focusedElem:b,selectionRange:D},Fo=!1,lr=x;lr!==null;)if(x=lr,b=x.child,(x.subtreeFlags&1028)!==0&&b!==null)b.return=x,lr=b;else for(;lr!==null;){x=lr;try{var dr=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(dr!==null){var mr=dr.memoizedProps,aa=dr.memoizedState,Xe=x.stateNode,ze=Xe.getSnapshotBeforeUpdate(x.elementType===x.type?mr:_l(x.type,mr),aa);Xe.__reactInternalSnapshotBeforeUpdate=ze}break;case 3:var Ze=x.stateNode.containerInfo;Ze.nodeType===1?Ze.textContent="":Ze.nodeType===9&&Ze.documentElement&&Ze.removeChild(Ze.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Dt){Xi(x,x.return,Dt)}if(b=x.sibling,b!==null){b.return=x.return,lr=b;break}lr=x.return}return dr=rk,rk=!1,dr}function Wm(b,x,D){var K=x.updateQueue;if(K=K!==null?K.lastEffect:null,K!==null){var ee=K=K.next;do{if((ee.tag&b)===b){var se=ee.destroy;ee.destroy=void 0,se!==void 0&&gx(x,D,se)}ee=ee.next}while(ee!==K)}}function P1(b,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var D=x=x.next;do{if((D.tag&b)===b){var K=D.create;D.destroy=K()}D=D.next}while(D!==x)}}function yx(b){var x=b.ref;if(x!==null){var D=b.stateNode;switch(b.tag){case 5:b=D;break;default:b=D}typeof x=="function"?x(b):x.current=b}}function nk(b){var x=b.alternate;x!==null&&(b.alternate=null,nk(x)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&(x=b.stateNode,x!==null&&(delete x[Ho],delete x[$u],delete x[Es],delete x[tx],delete x[rx])),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function ik(b){return b.tag===5||b.tag===3||b.tag===4}function ak(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||ik(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function vx(b,x,D){var K=b.tag;if(K===5||K===6)b=b.stateNode,x?D.nodeType===8?D.parentNode.insertBefore(b,x):D.insertBefore(b,x):(D.nodeType===8?(x=D.parentNode,x.insertBefore(b,D)):(x=D,x.appendChild(b)),D=D._reactRootContainer,D!=null||x.onclick!==null||(x.onclick=Bu));else if(K!==4&&(b=b.child,b!==null))for(vx(b,x,D),b=b.sibling;b!==null;)vx(b,x,D),b=b.sibling}function bx(b,x,D){var K=b.tag;if(K===5||K===6)b=b.stateNode,x?D.insertBefore(b,x):D.appendChild(b);else if(K!==4&&(b=b.child,b!==null))for(bx(b,x,D),b=b.sibling;b!==null;)bx(b,x,D),b=b.sibling}var ls=null,Sl=!1;function Gu(b,x,D){for(D=D.child;D!==null;)sk(b,x,D),D=D.sibling}function sk(b,x,D){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(_r,D)}catch{}switch(D.tag){case 5:Ns||Mh(D,x);case 6:var K=ls,ee=Sl;ls=null,Gu(b,x,D),ls=K,Sl=ee,ls!==null&&(Sl?(b=ls,D=D.stateNode,b.nodeType===8?b.parentNode.removeChild(D):b.removeChild(D)):ls.removeChild(D.stateNode));break;case 18:ls!==null&&(Sl?(b=ls,D=D.stateNode,b.nodeType===8?Lm(b.parentNode,D):b.nodeType===1&&Lm(b,D),Va(b)):Lm(ls,D.stateNode));break;case 4:K=ls,ee=Sl,ls=D.stateNode.containerInfo,Sl=!0,Gu(b,x,D),ls=K,Sl=ee;break;case 0:case 11:case 14:case 15:if(!Ns&&(K=D.updateQueue,K!==null&&(K=K.lastEffect,K!==null))){ee=K=K.next;do{var se=ee,ve=se.destroy;se=se.tag,ve!==void 0&&((se&2)!==0||(se&4)!==0)&&gx(D,x,ve),ee=ee.next}while(ee!==K)}Gu(b,x,D);break;case 1:if(!Ns&&(Mh(D,x),K=D.stateNode,typeof K.componentWillUnmount=="function"))try{K.props=D.memoizedProps,K.state=D.memoizedState,K.componentWillUnmount()}catch(Ie){Xi(D,x,Ie)}Gu(b,x,D);break;case 21:Gu(b,x,D);break;case 22:D.mode&1?(Ns=(K=Ns)||D.memoizedState!==null,Gu(b,x,D),Ns=K):Gu(b,x,D);break;default:Gu(b,x,D)}}function ok(b){var x=b.updateQueue;if(x!==null){b.updateQueue=null;var D=b.stateNode;D===null&&(D=b.stateNode=new Hz),x.forEach(function(K){var ee=tq.bind(null,b,K);D.has(K)||(D.add(K),K.then(ee,ee))})}}function El(b,x){var D=x.deletions;if(D!==null)for(var K=0;K<D.length;K++){var ee=D[K];try{var se=b,ve=x,Ie=ve;e:for(;Ie!==null;){switch(Ie.tag){case 5:ls=Ie.stateNode,Sl=!1;break e;case 3:ls=Ie.stateNode.containerInfo,Sl=!0;break e;case 4:ls=Ie.stateNode.containerInfo,Sl=!0;break e}Ie=Ie.return}if(ls===null)throw Error(t(160));sk(se,ve,ee),ls=null,Sl=!1;var Be=ee.alternate;Be!==null&&(Be.return=null),ee.return=null}catch(rt){Xi(ee,x,rt)}}if(x.subtreeFlags&12854)for(x=x.child;x!==null;)lk(x,b),x=x.sibling}function lk(b,x){var D=b.alternate,K=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:if(El(x,b),rc(b),K&4){try{Wm(3,b,b.return),P1(3,b)}catch(mr){Xi(b,b.return,mr)}try{Wm(5,b,b.return)}catch(mr){Xi(b,b.return,mr)}}break;case 1:El(x,b),rc(b),K&512&&D!==null&&Mh(D,D.return);break;case 5:if(El(x,b),rc(b),K&512&&D!==null&&Mh(D,D.return),b.flags&32){var ee=b.stateNode;try{bt(ee,"")}catch(mr){Xi(b,b.return,mr)}}if(K&4&&(ee=b.stateNode,ee!=null)){var se=b.memoizedProps,ve=D!==null?D.memoizedProps:se,Ie=b.type,Be=b.updateQueue;if(b.updateQueue=null,Be!==null)try{Ie==="input"&&se.type==="radio"&&se.name!=null&&Ae(ee,se),ht(Ie,ve);var rt=ht(Ie,se);for(ve=0;ve<Be.length;ve+=2){var Tt=Be[ve],jt=Be[ve+1];Tt==="style"?et(ee,jt):Tt==="dangerouslySetInnerHTML"?pt(ee,jt):Tt==="children"?bt(ee,jt):w(ee,Tt,jt,rt)}switch(Ie){case"input":he(ee,se);break;case"textarea":He(ee,se);break;case"select":var kt=ee._wrapperState.wasMultiple;ee._wrapperState.wasMultiple=!!se.multiple;var Zt=se.value;Zt!=null?ke(ee,!!se.multiple,Zt,!1):kt!==!!se.multiple&&(se.defaultValue!=null?ke(ee,!!se.multiple,se.defaultValue,!0):ke(ee,!!se.multiple,se.multiple?[]:"",!1))}ee[$u]=se}catch(mr){Xi(b,b.return,mr)}}break;case 6:if(El(x,b),rc(b),K&4){if(b.stateNode===null)throw Error(t(162));ee=b.stateNode,se=b.memoizedProps;try{ee.nodeValue=se}catch(mr){Xi(b,b.return,mr)}}break;case 3:if(El(x,b),rc(b),K&4&&D!==null&&D.memoizedState.isDehydrated)try{Va(x.containerInfo)}catch(mr){Xi(b,b.return,mr)}break;case 4:El(x,b),rc(b);break;case 13:El(x,b),rc(b),ee=b.child,ee.flags&8192&&(se=ee.memoizedState!==null,ee.stateNode.isHidden=se,!se||ee.alternate!==null&&ee.alternate.memoizedState!==null||(_x=Ue())),K&4&&ok(b);break;case 22:if(Tt=D!==null&&D.memoizedState!==null,b.mode&1?(Ns=(rt=Ns)||Tt,El(x,b),Ns=rt):El(x,b),rc(b),K&8192){if(rt=b.memoizedState!==null,(b.stateNode.isHidden=rt)&&!Tt&&(b.mode&1)!==0)for(lr=b,Tt=b.child;Tt!==null;){for(jt=lr=Tt;lr!==null;){switch(kt=lr,Zt=kt.child,kt.tag){case 0:case 11:case 14:case 15:Wm(4,kt,kt.return);break;case 1:Mh(kt,kt.return);var dr=kt.stateNode;if(typeof dr.componentWillUnmount=="function"){K=kt,D=kt.return;try{x=K,dr.props=x.memoizedProps,dr.state=x.memoizedState,dr.componentWillUnmount()}catch(mr){Xi(K,D,mr)}}break;case 5:Mh(kt,kt.return);break;case 22:if(kt.memoizedState!==null){fk(jt);continue}}Zt!==null?(Zt.return=kt,lr=Zt):fk(jt)}Tt=Tt.sibling}e:for(Tt=null,jt=b;;){if(jt.tag===5){if(Tt===null){Tt=jt;try{ee=jt.stateNode,rt?(se=ee.style,typeof se.setProperty=="function"?se.setProperty("display","none","important"):se.display="none"):(Ie=jt.stateNode,Be=jt.memoizedProps.style,ve=Be!=null&&Be.hasOwnProperty("display")?Be.display:null,Ie.style.display=wt("display",ve))}catch(mr){Xi(b,b.return,mr)}}}else if(jt.tag===6){if(Tt===null)try{jt.stateNode.nodeValue=rt?"":jt.memoizedProps}catch(mr){Xi(b,b.return,mr)}}else if((jt.tag!==22&&jt.tag!==23||jt.memoizedState===null||jt===b)&&jt.child!==null){jt.child.return=jt,jt=jt.child;continue}if(jt===b)break e;for(;jt.sibling===null;){if(jt.return===null||jt.return===b)break e;Tt===jt&&(Tt=null),jt=jt.return}Tt===jt&&(Tt=null),jt.sibling.return=jt.return,jt=jt.sibling}}break;case 19:El(x,b),rc(b),K&4&&ok(b);break;case 21:break;default:El(x,b),rc(b)}}function rc(b){var x=b.flags;if(x&2){try{e:{for(var D=b.return;D!==null;){if(ik(D)){var K=D;break e}D=D.return}throw Error(t(160))}switch(K.tag){case 5:var ee=K.stateNode;K.flags&32&&(bt(ee,""),K.flags&=-33);var se=ak(b);bx(b,se,ee);break;case 3:case 4:var ve=K.stateNode.containerInfo,Ie=ak(b);vx(b,Ie,ve);break;default:throw Error(t(161))}}catch(Be){Xi(b,b.return,Be)}b.flags&=-3}x&4096&&(b.flags&=-4097)}function Gz(b,x,D){lr=b,ck(b)}function ck(b,x,D){for(var K=(b.mode&1)!==0;lr!==null;){var ee=lr,se=ee.child;if(ee.tag===22&&K){var ve=ee.memoizedState!==null||N1;if(!ve){var Ie=ee.alternate,Be=Ie!==null&&Ie.memoizedState!==null||Ns;Ie=N1;var rt=Ns;if(N1=ve,(Ns=Be)&&!rt)for(lr=ee;lr!==null;)ve=lr,Be=ve.child,ve.tag===22&&ve.memoizedState!==null?dk(ee):Be!==null?(Be.return=ve,lr=Be):dk(ee);for(;se!==null;)lr=se,ck(se),se=se.sibling;lr=ee,N1=Ie,Ns=rt}uk(b)}else(ee.subtreeFlags&8772)!==0&&se!==null?(se.return=ee,lr=se):uk(b)}}function uk(b){for(;lr!==null;){var x=lr;if((x.flags&8772)!==0){var D=x.alternate;try{if((x.flags&8772)!==0)switch(x.tag){case 0:case 11:case 15:Ns||P1(5,x);break;case 1:var K=x.stateNode;if(x.flags&4&&!Ns)if(D===null)K.componentDidMount();else{var ee=x.elementType===x.type?D.memoizedProps:_l(x.type,D.memoizedProps);K.componentDidUpdate(ee,D.memoizedState,K.__reactInternalSnapshotBeforeUpdate)}var se=x.updateQueue;se!==null&&to(x,se,K);break;case 3:var ve=x.updateQueue;if(ve!==null){if(D=null,x.child!==null)switch(x.child.tag){case 5:D=x.child.stateNode;break;case 1:D=x.child.stateNode}to(x,ve,D)}break;case 5:var Ie=x.stateNode;if(D===null&&x.flags&4){D=Ie;var Be=x.memoizedProps;switch(x.type){case"button":case"input":case"select":case"textarea":Be.autoFocus&&D.focus();break;case"img":Be.src&&(D.src=Be.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(x.memoizedState===null){var rt=x.alternate;if(rt!==null){var Tt=rt.memoizedState;if(Tt!==null){var jt=Tt.dehydrated;jt!==null&&Va(jt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ns||x.flags&512&&yx(x)}catch(kt){Xi(x,x.return,kt)}}if(x===b){lr=null;break}if(D=x.sibling,D!==null){D.return=x.return,lr=D;break}lr=x.return}}function fk(b){for(;lr!==null;){var x=lr;if(x===b){lr=null;break}var D=x.sibling;if(D!==null){D.return=x.return,lr=D;break}lr=x.return}}function dk(b){for(;lr!==null;){var x=lr;try{switch(x.tag){case 0:case 11:case 15:var D=x.return;try{P1(4,x)}catch(Be){Xi(x,D,Be)}break;case 1:var K=x.stateNode;if(typeof K.componentDidMount=="function"){var ee=x.return;try{K.componentDidMount()}catch(Be){Xi(x,ee,Be)}}var se=x.return;try{yx(x)}catch(Be){Xi(x,se,Be)}break;case 5:var ve=x.return;try{yx(x)}catch(Be){Xi(x,ve,Be)}}}catch(Be){Xi(x,x.return,Be)}if(x===b){lr=null;break}var Ie=x.sibling;if(Ie!==null){Ie.return=x.return,lr=Ie;break}lr=x.return}}var Kz=Math.ceil,j1=C.ReactCurrentDispatcher,wx=C.ReactCurrentOwner,Xo=C.ReactCurrentBatchConfig,Cn=0,Ka=null,va=null,cs=0,ko=0,Dh=_o(0),Oa=0,Gm=null,id=0,I1=0,xx=0,Km=null,no=null,_x=0,Lh=1/0,zc=null,O1=!1,Sx=null,Ku=null,R1=!1,Xu=null,M1=0,Xm=0,Ex=null,D1=-1,L1=0;function Ws(){return(Cn&6)!==0?Ue():D1!==-1?D1:D1=Ue()}function Yu(b){return(b.mode&1)===0?1:(Cn&2)!==0&&cs!==0?cs&-cs:Di.transition!==null?(L1===0&&(L1=rn()),L1):(b=Cr,b!==0||(b=window.event,b=b===void 0?16:$o(b.type)),b)}function Al(b,x,D,K){if(50<Xm)throw Xm=0,Ex=null,Error(t(185));Ji(b,D,K),((Cn&2)===0||b!==Ka)&&(b===Ka&&((Cn&2)===0&&(I1|=D),Oa===4&&Qu(b,cs)),io(b,K),D===1&&Cn===0&&(x.mode&1)===0&&(Lh=Ue()+500,ed&&oe()))}function io(b,x){var D=b.callbackNode;cn(b,x);var K=ti(b,b===Ka?cs:0);if(K===0)D!==null&&Tn(D),b.callbackNode=null,b.callbackPriority=0;else if(x=K&-K,b.callbackPriority!==x){if(D!=null&&Tn(D),x===1)b.tag===0?ne(pk.bind(null,b)):Y(pk.bind(null,b)),Jw(function(){(Cn&6)===0&&oe()}),D=null;else{switch(ri(K)){case 1:D=_t;break;case 4:D=$t;break;case 16:D=Ct;break;case 536870912:D=Vr;break;default:D=Ct}D=_k(D,hk.bind(null,b))}b.callbackPriority=x,b.callbackNode=D}}function hk(b,x){if(D1=-1,L1=0,(Cn&6)!==0)throw Error(t(327));var D=b.callbackNode;if(Fh()&&b.callbackNode!==D)return null;var K=ti(b,b===Ka?cs:0);if(K===0)return null;if((K&30)!==0||(K&b.expiredLanes)!==0||x)x=F1(b,K);else{x=K;var ee=Cn;Cn|=2;var se=gk();(Ka!==b||cs!==x)&&(zc=null,Lh=Ue()+500,sd(b,x));do try{Qz();break}catch(Ie){mk(b,Ie)}while(!0);En(),j1.current=se,Cn=ee,va!==null?x=0:(Ka=null,cs=0,x=Oa)}if(x!==0){if(x===2&&(ee=li(b),ee!==0&&(K=ee,x=Ax(b,ee))),x===1)throw D=Gm,sd(b,0),Qu(b,K),io(b,Ue()),D;if(x===6)Qu(b,K);else{if(ee=b.current.alternate,(K&30)===0&&!Xz(ee)&&(x=F1(b,K),x===2&&(se=li(b),se!==0&&(K=se,x=Ax(b,se))),x===1))throw D=Gm,sd(b,0),Qu(b,K),io(b,Ue()),D;switch(b.finishedWork=ee,b.finishedLanes=K,x){case 0:case 1:throw Error(t(345));case 2:od(b,no,zc);break;case 3:if(Qu(b,K),(K&130023424)===K&&(x=_x+500-Ue(),10<x)){if(ti(b,0)!==0)break;if(ee=b.suspendedLanes,(ee&K)!==K){Ws(),b.pingedLanes|=b.suspendedLanes&ee;break}b.timeoutHandle=Dm(od.bind(null,b,no,zc),x);break}od(b,no,zc);break;case 4:if(Qu(b,K),(K&4194240)===K)break;for(x=b.eventTimes,ee=-1;0<K;){var ve=31-Tr(K);se=1<<ve,ve=x[ve],ve>ee&&(ee=ve),K&=~se}if(K=ee,K=Ue()-K,K=(120>K?120:480>K?480:1080>K?1080:1920>K?1920:3e3>K?3e3:4320>K?4320:1960*Kz(K/1960))-K,10<K){b.timeoutHandle=Dm(od.bind(null,b,no,zc),K);break}od(b,no,zc);break;case 5:od(b,no,zc);break;default:throw Error(t(329))}}}return io(b,Ue()),b.callbackNode===D?hk.bind(null,b):null}function Ax(b,x){var D=Km;return b.current.memoizedState.isDehydrated&&(sd(b,x).flags|=256),b=F1(b,x),b!==2&&(x=no,no=D,x!==null&&Cx(x)),b}function Cx(b){no===null?no=b:no.push.apply(no,b)}function Xz(b){for(var x=b;;){if(x.flags&16384){var D=x.updateQueue;if(D!==null&&(D=D.stores,D!==null))for(var K=0;K<D.length;K++){var ee=D[K],se=ee.getSnapshot;ee=ee.value;try{if(!ra(se(),ee))return!1}catch{return!1}}}if(D=x.child,x.subtreeFlags&16384&&D!==null)D.return=x,x=D;else{if(x===b)break;for(;x.sibling===null;){if(x.return===null||x.return===b)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function Qu(b,x){for(x&=~xx,x&=~I1,b.suspendedLanes|=x,b.pingedLanes&=~x,b=b.expirationTimes;0<x;){var D=31-Tr(x),K=1<<D;b[D]=-1,x&=~K}}function pk(b){if((Cn&6)!==0)throw Error(t(327));Fh();var x=ti(b,0);if((x&1)===0)return io(b,Ue()),null;var D=F1(b,x);if(b.tag!==0&&D===2){var K=li(b);K!==0&&(x=K,D=Ax(b,K))}if(D===1)throw D=Gm,sd(b,0),Qu(b,x),io(b,Ue()),D;if(D===6)throw Error(t(345));return b.finishedWork=b.current.alternate,b.finishedLanes=x,od(b,no,zc),io(b,Ue()),null}function kx(b,x){var D=Cn;Cn|=1;try{return b(x)}finally{Cn=D,Cn===0&&(Lh=Ue()+500,ed&&oe())}}function ad(b){Xu!==null&&Xu.tag===0&&(Cn&6)===0&&Fh();var x=Cn;Cn|=1;var D=Xo.transition,K=Cr;try{if(Xo.transition=null,Cr=1,b)return b()}finally{Cr=K,Xo.transition=D,Cn=x,(Cn&6)===0&&oe()}}function Tx(){ko=Dh.current,On(Dh)}function sd(b,x){b.finishedWork=null,b.finishedLanes=0;var D=b.timeoutHandle;if(D!==-1&&(b.timeoutHandle=-1,g1(D)),va!==null)for(D=va.return;D!==null;){var K=D;switch(Ye(K),K.tag){case 1:K=K.type.childContextTypes,K!=null&&Eh();break;case 3:Wo(),On(As),On(ja),Vm();break;case 5:$m(K);break;case 4:Wo();break;case 13:On(ii);break;case 19:On(ii);break;case 10:fi(K.type._context);break;case 22:case 23:Tx()}D=D.return}if(Ka=b,va=b=Zu(b.current,null),cs=ko=x,Oa=0,Gm=null,xx=I1=id=0,no=Km=null,qn!==null){for(x=0;x<qn.length;x++)if(D=qn[x],K=D.interleaved,K!==null){D.interleaved=null;var ee=K.next,se=D.pending;if(se!==null){var ve=se.next;se.next=ee,K.next=ve}D.pending=K}qn=null}return b}function mk(b,x){do{var D=va;try{if(En(),Ah.current=A1,qu){for(var K=di.memoizedState;K!==null;){var ee=K.queue;ee!==null&&(ee.pending=null),K=K.next}qu=!1}if(Go=0,$i=Ki=di=null,wl=!1,Hu=0,wx.current=null,D===null||D.return===null){Oa=1,Gm=x,va=null;break}e:{var se=b,ve=D.return,Ie=D,Be=x;if(x=cs,Ie.flags|=32768,Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var rt=Be,Tt=Ie,jt=Tt.tag;if((Tt.mode&1)===0&&(jt===0||jt===11||jt===15)){var kt=Tt.alternate;kt?(Tt.updateQueue=kt.updateQueue,Tt.memoizedState=kt.memoizedState,Tt.lanes=kt.lanes):(Tt.updateQueue=null,Tt.memoizedState=null)}var Zt=$C(ve);if(Zt!==null){Zt.flags&=-257,UC(Zt,ve,Ie,se,x),Zt.mode&1&&BC(se,rt,x),x=Zt,Be=rt;var dr=x.updateQueue;if(dr===null){var mr=new Set;mr.add(Be),x.updateQueue=mr}else dr.add(Be);break e}else{if((x&1)===0){BC(se,rt,x),Nx();break e}Be=Error(t(426))}}else if(gt&&Ie.mode&1){var aa=$C(ve);if(aa!==null){(aa.flags&65536)===0&&(aa.flags|=256),UC(aa,ve,Ie,se,x),Ut(Rh(Be,Ie));break e}}se=Be=Rh(Be,Ie),Oa!==4&&(Oa=2),Km===null?Km=[se]:Km.push(se),se=ve;do{switch(se.tag){case 3:se.flags|=65536,x&=-x,se.lanes|=x;var Xe=LC(se,Be,x);Wn(se,Xe);break e;case 1:Ie=Be;var ze=se.type,Ze=se.stateNode;if((se.flags&128)===0&&(typeof ze.getDerivedStateFromError=="function"||Ze!==null&&typeof Ze.componentDidCatch=="function"&&(Ku===null||!Ku.has(Ze)))){se.flags|=65536,x&=-x,se.lanes|=x;var Dt=FC(se,Ie,x);Wn(se,Dt);break e}}se=se.return}while(se!==null)}vk(D)}catch(vr){x=vr,va===D&&D!==null&&(va=D=D.return);continue}break}while(!0)}function gk(){var b=j1.current;return j1.current=A1,b===null?A1:b}function Nx(){(Oa===0||Oa===3||Oa===2)&&(Oa=4),Ka===null||(id&268435455)===0&&(I1&268435455)===0||Qu(Ka,cs)}function F1(b,x){var D=Cn;Cn|=2;var K=gk();(Ka!==b||cs!==x)&&(zc=null,sd(b,x));do try{Yz();break}catch(ee){mk(b,ee)}while(!0);if(En(),Cn=D,j1.current=K,va!==null)throw Error(t(261));return Ka=null,cs=0,Oa}function Yz(){for(;va!==null;)yk(va)}function Qz(){for(;va!==null&&!oi();)yk(va)}function yk(b){var x=xk(b.alternate,b,ko);b.memoizedProps=b.pendingProps,x===null?vk(b):va=x,wx.current=null}function vk(b){var x=b;do{var D=x.alternate;if(b=x.return,(x.flags&32768)===0){if(D=zz(D,x,ko),D!==null){va=D;return}}else{if(D=qz(D,x),D!==null){D.flags&=32767,va=D;return}if(b!==null)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{Oa=6,va=null;return}}if(x=x.sibling,x!==null){va=x;return}va=x=b}while(x!==null);Oa===0&&(Oa=5)}function od(b,x,D){var K=Cr,ee=Xo.transition;try{Xo.transition=null,Cr=1,Zz(b,x,D,K)}finally{Xo.transition=ee,Cr=K}return null}function Zz(b,x,D,K){do Fh();while(Xu!==null);if((Cn&6)!==0)throw Error(t(327));D=b.finishedWork;var ee=b.finishedLanes;if(D===null)return null;if(b.finishedWork=null,b.finishedLanes=0,D===b.current)throw Error(t(177));b.callbackNode=null,b.callbackPriority=0;var se=D.lanes|D.childLanes;if(Kr(b,se),b===Ka&&(va=Ka=null,cs=0),(D.subtreeFlags&2064)===0&&(D.flags&2064)===0||R1||(R1=!0,_k(Ct,function(){return Fh(),null})),se=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||se){se=Xo.transition,Xo.transition=null;var ve=Cr;Cr=1;var Ie=Cn;Cn|=4,wx.current=null,Wz(b,D),lk(D,b),f1(Lc),Fo=!!Zf,Lc=Zf=null,b.current=D,Gz(D),je(),Cn=Ie,Cr=ve,Xo.transition=se}else b.current=D;if(R1&&(R1=!1,Xu=b,M1=ee),se=b.pendingLanes,se===0&&(Ku=null),pr(D.stateNode),io(b,Ue()),x!==null)for(K=b.onRecoverableError,D=0;D<x.length;D++)ee=x[D],K(ee.value,{componentStack:ee.stack,digest:ee.digest});if(O1)throw O1=!1,b=Sx,Sx=null,b;return(M1&1)!==0&&b.tag!==0&&Fh(),se=b.pendingLanes,(se&1)!==0?b===Ex?Xm++:(Xm=0,Ex=b):Xm=0,oe(),null}function Fh(){if(Xu!==null){var b=ri(M1),x=Xo.transition,D=Cr;try{if(Xo.transition=null,Cr=16>b?16:b,Xu===null)var K=!1;else{if(b=Xu,Xu=null,M1=0,(Cn&6)!==0)throw Error(t(331));var ee=Cn;for(Cn|=4,lr=b.current;lr!==null;){var se=lr,ve=se.child;if((lr.flags&16)!==0){var Ie=se.deletions;if(Ie!==null){for(var Be=0;Be<Ie.length;Be++){var rt=Ie[Be];for(lr=rt;lr!==null;){var Tt=lr;switch(Tt.tag){case 0:case 11:case 15:Wm(8,Tt,se)}var jt=Tt.child;if(jt!==null)jt.return=Tt,lr=jt;else for(;lr!==null;){Tt=lr;var kt=Tt.sibling,Zt=Tt.return;if(nk(Tt),Tt===rt){lr=null;break}if(kt!==null){kt.return=Zt,lr=kt;break}lr=Zt}}}var dr=se.alternate;if(dr!==null){var mr=dr.child;if(mr!==null){dr.child=null;do{var aa=mr.sibling;mr.sibling=null,mr=aa}while(mr!==null)}}lr=se}}if((se.subtreeFlags&2064)!==0&&ve!==null)ve.return=se,lr=ve;else e:for(;lr!==null;){if(se=lr,(se.flags&2048)!==0)switch(se.tag){case 0:case 11:case 15:Wm(9,se,se.return)}var Xe=se.sibling;if(Xe!==null){Xe.return=se.return,lr=Xe;break e}lr=se.return}}var ze=b.current;for(lr=ze;lr!==null;){ve=lr;var Ze=ve.child;if((ve.subtreeFlags&2064)!==0&&Ze!==null)Ze.return=ve,lr=Ze;else e:for(ve=ze;lr!==null;){if(Ie=lr,(Ie.flags&2048)!==0)try{switch(Ie.tag){case 0:case 11:case 15:P1(9,Ie)}}catch(vr){Xi(Ie,Ie.return,vr)}if(Ie===ve){lr=null;break e}var Dt=Ie.sibling;if(Dt!==null){Dt.return=Ie.return,lr=Dt;break e}lr=Ie.return}}if(Cn=ee,oe(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(_r,b)}catch{}K=!0}return K}finally{Cr=D,Xo.transition=x}}return!1}function bk(b,x,D){x=Rh(D,x),x=LC(b,x,1),b=Fi(b,x,1),x=Ws(),b!==null&&(Ji(b,1,x),io(b,x))}function Xi(b,x,D){if(b.tag===3)bk(b,b,D);else for(;x!==null;){if(x.tag===3){bk(x,b,D);break}else if(x.tag===1){var K=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof K.componentDidCatch=="function"&&(Ku===null||!Ku.has(K))){b=Rh(D,b),b=FC(x,b,1),x=Fi(x,b,1),b=Ws(),x!==null&&(Ji(x,1,b),io(x,b));break}}x=x.return}}function Jz(b,x,D){var K=b.pingCache;K!==null&&K.delete(x),x=Ws(),b.pingedLanes|=b.suspendedLanes&D,Ka===b&&(cs&D)===D&&(Oa===4||Oa===3&&(cs&130023424)===cs&&500>Ue()-_x?sd(b,0):xx|=D),io(b,x)}function wk(b,x){x===0&&((b.mode&1)===0?x=1:(x=Nn,Nn<<=1,(Nn&130023424)===0&&(Nn=4194304)));var D=Ws();b=Hn(b,x),b!==null&&(Ji(b,x,D),io(b,D))}function eq(b){var x=b.memoizedState,D=0;x!==null&&(D=x.retryLane),wk(b,D)}function tq(b,x){var D=0;switch(b.tag){case 13:var K=b.stateNode,ee=b.memoizedState;ee!==null&&(D=ee.retryLane);break;case 19:K=b.stateNode;break;default:throw Error(t(314))}K!==null&&K.delete(x),wk(b,D)}var xk;xk=function(b,x,D){if(b!==null)if(b.memoizedProps!==x.pendingProps||As.current)ro=!0;else{if((b.lanes&D)===0&&(x.flags&128)===0)return ro=!1,Vz(b,x,D);ro=(b.flags&131072)!==0}else ro=!1,gt&&(x.flags&1048576)!==0&&Ge(x,_e,x.index);switch(x.lanes=0,x.tag){case 2:var K=x.type;T1(b,x),b=x.pendingProps;var ee=Vu(x,ja.current);Ni(x,D),ee=td(null,x,K,b,ee,D);var se=Ko();return x.flags|=1,typeof ee=="object"&&ee!==null&&typeof ee.render=="function"&&ee.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,Cs(K)?(se=!0,$c(x)):se=!1,x.memoizedState=ee.state!==null&&ee.state!==void 0?ee.state:null,Ia(x),ee.updater=C1,x.stateNode=ee,ee._reactInternals=x,sx(x,K,b,D),x=ux(null,x,K,!0,se,D)):(x.tag=0,gt&&se&&lt(x),Hs(null,x,ee,D),x=x.child),x;case 16:K=x.elementType;e:{switch(T1(b,x),b=x.pendingProps,ee=K._init,K=ee(K._payload),x.type=K,ee=x.tag=nq(K),b=_l(K,b),ee){case 0:x=cx(null,x,K,b,D);break e;case 1:x=GC(null,x,K,b,D);break e;case 11:x=VC(null,x,K,b,D);break e;case 14:x=zC(null,x,K,_l(K.type,b),D);break e}throw Error(t(306,K,""))}return x;case 0:return K=x.type,ee=x.pendingProps,ee=x.elementType===K?ee:_l(K,ee),cx(b,x,K,ee,D);case 1:return K=x.type,ee=x.pendingProps,ee=x.elementType===K?ee:_l(K,ee),GC(b,x,K,ee,D);case 3:e:{if(KC(x),b===null)throw Error(t(387));K=x.pendingProps,se=x.memoizedState,ee=se.element,ks(b,x),Ga(x,K,null,D);var ve=x.memoizedState;if(K=ve.element,se.isDehydrated)if(se={element:K,isDehydrated:!1,cache:ve.cache,pendingSuspenseBoundaries:ve.pendingSuspenseBoundaries,transitions:ve.transitions},x.updateQueue.baseState=se,x.memoizedState=se,x.flags&256){ee=Rh(Error(t(423)),x),x=XC(b,x,K,D,ee);break e}else if(K!==ee){ee=Rh(Error(t(424)),x),x=XC(b,x,K,D,ee);break e}else for(ot=os(x.stateNode.containerInfo.firstChild),at=x,gt=!0,yt=null,D=bi(x,null,K,D),x.child=D;D;)D.flags=D.flags&-3|4096,D=D.sibling;else{if(nr(),K===ee){x=Vc(b,x,D);break e}Hs(b,x,K,D)}x=x.child}return x;case 5:return w1(x),b===null&&ur(x),K=x.type,ee=x.pendingProps,se=b!==null?b.memoizedProps:null,ve=ee.children,Mm(K,ee)?ve=null:se!==null&&Mm(K,se)&&(x.flags|=32),WC(b,x),Hs(b,x,ve,D),x.child;case 6:return b===null&&ur(x),null;case 13:return YC(b,x,D);case 4:return zu(x,x.stateNode.containerInfo),K=x.pendingProps,b===null?x.child=Wi(x,null,K,D):Hs(b,x,K,D),x.child;case 11:return K=x.type,ee=x.pendingProps,ee=x.elementType===K?ee:_l(K,ee),VC(b,x,K,ee,D);case 7:return Hs(b,x,x.pendingProps,D),x.child;case 8:return Hs(b,x,x.pendingProps.children,D),x.child;case 12:return Hs(b,x,x.pendingProps.children,D),x.child;case 10:e:{if(K=x.type._context,ee=x.pendingProps,se=x.memoizedProps,ve=ee.value,Fn(na,K._currentValue),K._currentValue=ve,se!==null)if(ra(se.value,ve)){if(se.children===ee.children&&!As.current){x=Vc(b,x,D);break e}}else for(se=x.child,se!==null&&(se.return=x);se!==null;){var Ie=se.dependencies;if(Ie!==null){ve=se.child;for(var Be=Ie.firstContext;Be!==null;){if(Be.context===K){if(se.tag===1){Be=Li(-1,D&-D),Be.tag=2;var rt=se.updateQueue;if(rt!==null){rt=rt.shared;var Tt=rt.pending;Tt===null?Be.next=Be:(Be.next=Tt.next,Tt.next=Be),rt.pending=Be}}se.lanes|=D,Be=se.alternate,Be!==null&&(Be.lanes|=D),An(se.return,D,x),Ie.lanes|=D;break}Be=Be.next}}else if(se.tag===10)ve=se.type===x.type?null:se.child;else if(se.tag===18){if(ve=se.return,ve===null)throw Error(t(341));ve.lanes|=D,Ie=ve.alternate,Ie!==null&&(Ie.lanes|=D),An(ve,D,x),ve=se.sibling}else ve=se.child;if(ve!==null)ve.return=se;else for(ve=se;ve!==null;){if(ve===x){ve=null;break}if(se=ve.sibling,se!==null){se.return=ve.return,ve=se;break}ve=ve.return}se=ve}Hs(b,x,ee.children,D),x=x.child}return x;case 9:return ee=x.type,K=x.pendingProps.children,Ni(x,D),ee=Pi(ee),K=K(ee),x.flags|=1,Hs(b,x,K,D),x.child;case 14:return K=x.type,ee=_l(K,x.pendingProps),ee=_l(K.type,ee),zC(b,x,K,ee,D);case 15:return qC(b,x,x.type,x.pendingProps,D);case 17:return K=x.type,ee=x.pendingProps,ee=x.elementType===K?ee:_l(K,ee),T1(b,x),x.tag=1,Cs(K)?(b=!0,$c(x)):b=!1,Ni(x,D),MC(x,K,ee),sx(x,K,ee,D),ux(null,x,K,!0,b,D);case 19:return ZC(b,x,D);case 22:return HC(b,x,D)}throw Error(t(156,x.tag))};function _k(b,x){return xn(b,x)}function rq(b,x,D,K){this.tag=b,this.key=D,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=K,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yo(b,x,D,K){return new rq(b,x,D,K)}function Px(b){return b=b.prototype,!(!b||!b.isReactComponent)}function nq(b){if(typeof b=="function")return Px(b)?1:0;if(b!=null){if(b=b.$$typeof,b===B)return 11;if(b===N)return 14}return 2}function Zu(b,x){var D=b.alternate;return D===null?(D=Yo(b.tag,x,b.key,b.mode),D.elementType=b.elementType,D.type=b.type,D.stateNode=b.stateNode,D.alternate=b,b.alternate=D):(D.pendingProps=x,D.type=b.type,D.flags=0,D.subtreeFlags=0,D.deletions=null),D.flags=b.flags&14680064,D.childLanes=b.childLanes,D.lanes=b.lanes,D.child=b.child,D.memoizedProps=b.memoizedProps,D.memoizedState=b.memoizedState,D.updateQueue=b.updateQueue,x=b.dependencies,D.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},D.sibling=b.sibling,D.index=b.index,D.ref=b.ref,D}function B1(b,x,D,K,ee,se){var ve=2;if(K=b,typeof b=="function")Px(b)&&(ve=1);else if(typeof b=="string")ve=5;else e:switch(b){case L:return ld(D.children,ee,se,x);case j:ve=8,ee|=8;break;case I:return b=Yo(12,D,x,ee|2),b.elementType=I,b.lanes=se,b;case T:return b=Yo(13,D,x,ee),b.elementType=T,b.lanes=se,b;case R:return b=Yo(19,D,x,ee),b.elementType=R,b.lanes=se,b;case E:return $1(D,ee,se,x);default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case z:ve=10;break e;case $:ve=9;break e;case B:ve=11;break e;case N:ve=14;break e;case _:ve=16,K=null;break e}throw Error(t(130,b==null?b:typeof b,""))}return x=Yo(ve,D,x,ee),x.elementType=b,x.type=K,x.lanes=se,x}function ld(b,x,D,K){return b=Yo(7,b,K,x),b.lanes=D,b}function $1(b,x,D,K){return b=Yo(22,b,K,x),b.elementType=E,b.lanes=D,b.stateNode={isHidden:!1},b}function jx(b,x,D){return b=Yo(6,b,null,x),b.lanes=D,b}function Ix(b,x,D){return x=Yo(4,b.children!==null?b.children:[],b.key,x),x.lanes=D,x.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},x}function iq(b,x,D,K,ee){this.tag=x,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zr(0),this.expirationTimes=zr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zr(0),this.identifierPrefix=K,this.onRecoverableError=ee,this.mutableSourceEagerHydrationData=null}function Ox(b,x,D,K,ee,se,ve,Ie,Be){return b=new iq(b,x,D,Ie,Be),x===1?(x=1,se===!0&&(x|=8)):x=0,se=Yo(3,null,null,x),b.current=se,se.stateNode=b,se.memoizedState={element:K,isDehydrated:D,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ia(se),b}function aq(b,x,D){var K=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:K==null?null:""+K,children:b,containerInfo:x,implementation:D}}function Sk(b){if(!b)return Jl;b=b._reactInternals;e:{if(qt(b)!==b||b.tag!==1)throw Error(t(170));var x=b;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(Cs(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(t(171))}if(b.tag===1){var D=b.type;if(Cs(D))return Bm(b,D,x)}return x}function Ek(b,x,D,K,ee,se,ve,Ie,Be){return b=Ox(D,K,!0,b,ee,se,ve,Ie,Be),b.context=Sk(null),D=b.current,K=Ws(),ee=Yu(D),se=Li(K,ee),se.callback=x??null,Fi(D,se,ee),b.current.lanes=ee,Ji(b,ee,K),io(b,K),b}function U1(b,x,D,K){var ee=x.current,se=Ws(),ve=Yu(ee);return D=Sk(D),x.context===null?x.context=D:x.pendingContext=D,x=Li(se,ve),x.payload={element:b},K=K===void 0?null:K,K!==null&&(x.callback=K),b=Fi(ee,x,ve),b!==null&&(Al(b,ee,ve,se),Wa(b,ee,ve)),ve}function V1(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function Ak(b,x){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var D=b.retryLane;b.retryLane=D!==0&&D<x?D:x}}function Rx(b,x){Ak(b,x),(b=b.alternate)&&Ak(b,x)}function sq(){return null}var Ck=typeof reportError=="function"?reportError:function(b){console.error(b)};function Mx(b){this._internalRoot=b}z1.prototype.render=Mx.prototype.render=function(b){var x=this._internalRoot;if(x===null)throw Error(t(409));U1(b,x,null,null)},z1.prototype.unmount=Mx.prototype.unmount=function(){var b=this._internalRoot;if(b!==null){this._internalRoot=null;var x=b.containerInfo;ad(function(){U1(null,b,null,null)}),x[qa]=null}};function z1(b){this._internalRoot=b}z1.prototype.unstable_scheduleHydration=function(b){if(b){var x=Us();b={blockedOn:null,target:b,priority:x};for(var D=0;D<ka.length&&x!==0&&x<ka[D].priority;D++);ka.splice(D,0,b),D===0&&ju(b)}};function Dx(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)}function q1(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11&&(b.nodeType!==8||b.nodeValue!==" react-mount-point-unstable "))}function kk(){}function oq(b,x,D,K,ee){if(ee){if(typeof K=="function"){var se=K;K=function(){var rt=V1(ve);se.call(rt)}}var ve=Ek(x,K,b,0,null,!1,!1,"",kk);return b._reactRootContainer=ve,b[qa]=ve.current,Mc(b.nodeType===8?b.parentNode:b),ad(),ve}for(;ee=b.lastChild;)b.removeChild(ee);if(typeof K=="function"){var Ie=K;K=function(){var rt=V1(Be);Ie.call(rt)}}var Be=Ox(b,0,!1,null,null,!1,!1,"",kk);return b._reactRootContainer=Be,b[qa]=Be.current,Mc(b.nodeType===8?b.parentNode:b),ad(function(){U1(x,Be,D,K)}),Be}function H1(b,x,D,K,ee){var se=D._reactRootContainer;if(se){var ve=se;if(typeof ee=="function"){var Ie=ee;ee=function(){var Be=V1(ve);Ie.call(Be)}}U1(x,ve,b,ee)}else ve=oq(D,x,b,ee,K);return V1(ve)}Aa=function(b){switch(b.tag){case 3:var x=b.stateNode;if(x.current.memoizedState.isDehydrated){var D=Xn(x.pendingLanes);D!==0&&(Ua(x,D|1),io(x,Ue()),(Cn&6)===0&&(Lh=Ue()+500,oe()))}break;case 13:ad(function(){var K=Hn(b,1);if(K!==null){var ee=Ws();Al(K,b,1,ee)}}),Rx(b,1)}},ms=function(b){if(b.tag===13){var x=Hn(b,134217728);if(x!==null){var D=Ws();Al(x,b,134217728,D)}Rx(b,134217728)}},mo=function(b){if(b.tag===13){var x=Yu(b),D=Hn(b,x);if(D!==null){var K=Ws();Al(D,b,x,K)}Rx(b,x)}},Us=function(){return Cr},Ca=function(b,x){var D=Cr;try{return Cr=b,x()}finally{Cr=D}},Bt=function(b,x,D){switch(x){case"input":if(he(b,D),x=D.name,D.type==="radio"&&x!=null){for(D=b;D.parentNode;)D=D.parentNode;for(D=D.querySelectorAll("input[name="+JSON.stringify(""+x)+'][type="radio"]'),x=0;x<D.length;x++){var K=D[x];if(K!==b&&K.form===b.form){var ee=Jf(K);if(!ee)throw Error(t(90));le(K),he(K,ee)}}}break;case"textarea":He(b,D);break;case"select":x=D.value,x!=null&&ke(b,!!D.multiple,x,!1)}},Wt=kx,Ir=ad;var lq={usingClientEntryPoint:!1,Events:[Uu,Fc,Jf,Yt,Ur,kx]},Ym={findFiberByHostInstance:Zl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cq={bundleType:Ym.bundleType,version:Ym.version,rendererPackageName:Ym.rendererPackageName,rendererConfig:Ym.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){return b=sn(b),b===null?null:b.stateNode},findFiberByHostInstance:Ym.findFiberByHostInstance||sq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var W1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!W1.isDisabled&&W1.supportsFiber)try{_r=W1.inject(cq),br=W1}catch{}}return ao.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lq,ao.createPortal=function(b,x){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dx(x))throw Error(t(200));return aq(b,x,null,D)},ao.createRoot=function(b,x){if(!Dx(b))throw Error(t(299));var D=!1,K="",ee=Ck;return x!=null&&(x.unstable_strictMode===!0&&(D=!0),x.identifierPrefix!==void 0&&(K=x.identifierPrefix),x.onRecoverableError!==void 0&&(ee=x.onRecoverableError)),x=Ox(b,1,!1,null,null,D,!1,K,ee),b[qa]=x.current,Mc(b.nodeType===8?b.parentNode:b),new Mx(x)},ao.findDOMNode=function(b){if(b==null)return null;if(b.nodeType===1)return b;var x=b._reactInternals;if(x===void 0)throw typeof b.render=="function"?Error(t(188)):(b=Object.keys(b).join(","),Error(t(268,b)));return b=sn(x),b=b===null?null:b.stateNode,b},ao.flushSync=function(b){return ad(b)},ao.hydrate=function(b,x,D){if(!q1(x))throw Error(t(200));return H1(null,b,x,!0,D)},ao.hydrateRoot=function(b,x,D){if(!Dx(b))throw Error(t(405));var K=D!=null&&D.hydratedSources||null,ee=!1,se="",ve=Ck;if(D!=null&&(D.unstable_strictMode===!0&&(ee=!0),D.identifierPrefix!==void 0&&(se=D.identifierPrefix),D.onRecoverableError!==void 0&&(ve=D.onRecoverableError)),x=Ek(x,null,b,1,D??null,ee,!1,se,ve),b[qa]=x.current,Mc(b),K)for(b=0;b<K.length;b++)D=K[b],ee=D._getVersion,ee=ee(D._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[D,ee]:x.mutableSourceEagerHydrationData.push(D,ee);return new z1(x)},ao.render=function(b,x,D){if(!q1(x))throw Error(t(200));return H1(null,b,x,!1,D)},ao.unmountComponentAtNode=function(b){if(!q1(b))throw Error(t(40));return b._reactRootContainer?(ad(function(){H1(null,null,b,!1,function(){b._reactRootContainer=null,b[qa]=null})}),!0):!1},ao.unstable_batchedUpdates=kx,ao.unstable_renderSubtreeIntoContainer=function(b,x,D,K){if(!q1(D))throw Error(t(200));if(b==null||b._reactInternals===void 0)throw Error(t(38));return H1(b,x,D,!1,K)},ao.version="18.3.1-next-f1338f8080-20240426",ao}var Lk;function mD(){if(Lk)return Bx.exports;Lk=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bx.exports=Sq(),Bx.exports}var Fk;function Eq(){if(Fk)return G1;Fk=1;var r=mD();return G1.createRoot=r.createRoot,G1.hydrateRoot=r.hydrateRoot,G1}var Aq=Eq();const Cq=Rn(Aq);mD();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function M0(){return M0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},M0.apply(this,arguments)}var ff;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(ff||(ff={}));const Bk="popstate";function kq(r){r===void 0&&(r={});function e(n,i){let{pathname:a,search:s,hash:l}=n.location;return M2("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Xy(i)}return Nq(e,t,null,r)}function Ui(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function gD(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tq(){return Math.random().toString(36).substr(2,8)}function $k(r,e){return{usr:r.state,key:r.key,idx:e}}function M2(r,e,t,n){return t===void 0&&(t=null),M0({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?em(e):e,{state:t,key:e&&e.key||n||Tq()})}function Xy(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function em(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function Nq(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,l=ff.Pop,c=null,o=u();o==null&&(o=0,s.replaceState(M0({},s.state,{idx:o}),""));function u(){return(s.state||{idx:null}).idx}function f(){l=ff.Pop;let p=u(),y=p==null?null:p-o;o=p,c&&c({action:l,location:g.location,delta:y})}function d(p,y){l=ff.Push;let v=M2(g.location,p,y);o=u()+1;let w=$k(v,o),C=g.createHref(v);try{s.pushState(w,"",C)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(C)}a&&c&&c({action:l,location:g.location,delta:1})}function h(p,y){l=ff.Replace;let v=M2(g.location,p,y);o=u();let w=$k(v,o),C=g.createHref(v);s.replaceState(w,"",C),a&&c&&c({action:l,location:g.location,delta:0})}function m(p){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof p=="string"?p:Xy(p);return v=v.replace(/ $/,"%20"),Ui(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return l},get location(){return r(i,s)},listen(p){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Bk,f),c=p,()=>{i.removeEventListener(Bk,f),c=null}},createHref(p){return e(i,p)},createURL:m,encodeLocation(p){let y=m(p);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:h,go(p){return s.go(p)}};return g}var Uk;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Uk||(Uk={}));function Pq(r,e,t){return t===void 0&&(t="/"),jq(r,e,t)}function jq(r,e,t,n){let i=typeof e=="string"?em(e):e,a=xp(i.pathname||"/",t);if(a==null)return null;let s=yD(r);Iq(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let o=zq(a);l=Uq(s[c],o)}return l}function yD(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(a,s,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Ui(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let o=mf([n,c.relativePath]),u=t.concat(c);a.children&&a.children.length>0&&(Ui(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+o+'".')),yD(a.children,e,u,o)),!(a.path==null&&!a.index)&&e.push({path:o,score:Bq(o,a.index),routesMeta:u})};return r.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let c of vD(a.path))i(a,s,c)}),e}function vD(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=vD(n.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>r.startsWith("/")&&c===""?"/":c)}function Iq(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:$q(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const Oq=/^:[\w-]+$/,Rq=3,Mq=2,Dq=1,Lq=10,Fq=-2,Vk=r=>r==="*";function Bq(r,e){let t=r.split("/"),n=t.length;return t.some(Vk)&&(n+=Fq),e&&(n+=Mq),t.filter(i=>!Vk(i)).reduce((i,a)=>i+(Oq.test(a)?Rq:a===""?Dq:Lq),n)}function $q(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function Uq(r,e,t){let{routesMeta:n}=r,i={},a="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],o=l===n.length-1,u=a==="/"?e:e.slice(a.length)||"/",f=D2({path:c.relativePath,caseSensitive:c.caseSensitive,end:o},u),d=c.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:mf([a,f.pathname]),pathnameBase:Gq(mf([a,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(a=mf([a,f.pathnameBase]))}return s}function D2(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=Vq(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((o,u,f)=>{let{paramName:d,isOptional:h}=u;if(d==="*"){let g=l[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=l[f];return h&&!m?o[d]=void 0:o[d]=(m||"").replace(/%2F/g,"/"),o},{}),pathname:a,pathnameBase:s,pattern:r}}function Vq(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),gD(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function zq(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gD(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function xp(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function qq(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?em(r):r;return{pathname:t?t.startsWith("/")?t:Hq(t,e):e,search:Kq(n),hash:Xq(i)}}function Hq(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Vx(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wq(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function tA(r,e){let t=Wq(r);return e?t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function rA(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=em(r):(i=M0({},r),Ui(!i.pathname||!i.pathname.includes("?"),Vx("?","pathname","search",i)),Ui(!i.pathname||!i.pathname.includes("#"),Vx("#","pathname","hash",i)),Ui(!i.search||!i.search.includes("#"),Vx("#","search","hash",i)));let a=r===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=t;else{let f=e.length-1;if(!n&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}l=f>=0?e[f]:"/"}let c=qq(i,l),o=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(o||u)&&(c.pathname+="/"),c}const mf=r=>r.join("/").replace(/\/\/+/g,"/"),Gq=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Kq=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Xq=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Yq(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const bD=["post","put","patch","delete"];new Set(bD);const Qq=["get",...bD];new Set(Qq);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function D0(){return D0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},D0.apply(this,arguments)}const Ab=ce.createContext(null),wD=ce.createContext(null),_u=ce.createContext(null),Cb=ce.createContext(null),Su=ce.createContext({outlet:null,matches:[],isDataRoute:!1}),xD=ce.createContext(null);function Zq(r,e){let{relative:t}=e===void 0?{}:e;tm()||Ui(!1);let{basename:n,navigator:i}=ce.useContext(_u),{hash:a,pathname:s,search:l}=kb(r,{relative:t}),c=s;return n!=="/"&&(c=s==="/"?n:mf([n,s])),i.createHref({pathname:c,search:l,hash:a})}function tm(){return ce.useContext(Cb)!=null}function rm(){return tm()||Ui(!1),ce.useContext(Cb).location}function _D(r){ce.useContext(_u).static||ce.useLayoutEffect(r)}function Yd(){let{isDataRoute:r}=ce.useContext(Su);return r?hH():Jq()}function Jq(){tm()||Ui(!1);let r=ce.useContext(Ab),{basename:e,future:t,navigator:n}=ce.useContext(_u),{matches:i}=ce.useContext(Su),{pathname:a}=rm(),s=JSON.stringify(tA(i,t.v7_relativeSplatPath)),l=ce.useRef(!1);return _D(()=>{l.current=!0}),ce.useCallback(function(o,u){if(u===void 0&&(u={}),!l.current)return;if(typeof o=="number"){n.go(o);return}let f=rA(o,JSON.parse(s),a,u.relative==="path");r==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:mf([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,s,a,r])}const eH=ce.createContext(null);function tH(r){let e=ce.useContext(Su).outlet;return e&&ce.createElement(eH.Provider,{value:r},e)}function kb(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=ce.useContext(_u),{matches:i}=ce.useContext(Su),{pathname:a}=rm(),s=JSON.stringify(tA(i,n.v7_relativeSplatPath));return ce.useMemo(()=>rA(r,JSON.parse(s),a,t==="path"),[r,s,a,t])}function rH(r,e){return nH(r,e)}function nH(r,e,t,n){tm()||Ui(!1);let{navigator:i}=ce.useContext(_u),{matches:a}=ce.useContext(Su),s=a[a.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let o=rm(),u;if(e){var f;let p=typeof e=="string"?em(e):e;c==="/"||(f=p.pathname)!=null&&f.startsWith(c)||Ui(!1),u=p}else u=o;let d=u.pathname||"/",h=d;if(c!=="/"){let p=c.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(p.length).join("/")}let m=Pq(r,{pathname:h}),g=lH(m&&m.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:mf([c,i.encodeLocation?i.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:mf([c,i.encodeLocation?i.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),a,t,n);return e&&g?ce.createElement(Cb.Provider,{value:{location:D0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ff.Pop}},g):g}function iH(){let r=dH(),e=Yq(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},e),t?ce.createElement("pre",{style:i},t):null,null)}const aH=ce.createElement(iH,null);class sH extends ce.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ce.createElement(Su.Provider,{value:this.props.routeContext},ce.createElement(xD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oH(r){let{routeContext:e,match:t,children:n}=r,i=ce.useContext(Ab);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),ce.createElement(Su.Provider,{value:e},n)}function lH(r,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var a;if(!t)return null;if(t.errors)r=t.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,l=(i=t)==null?void 0:i.errors;if(l!=null){let u=s.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||Ui(!1),s=s.slice(0,Math.min(s.length,u+1))}let c=!1,o=-1;if(t&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(o=u),f.route.id){let{loaderData:d,errors:h}=t,m=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||m){c=!0,o>=0?s=s.slice(0,o+1):s=[s[0]];break}}}return s.reduceRight((u,f,d)=>{let h,m=!1,g=null,p=null;t&&(h=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||aH,c&&(o<0&&d===0?(pH("route-fallback"),m=!0,p=null):o===d&&(m=!0,p=f.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,d+1)),v=()=>{let w;return h?w=g:m?w=p:f.route.Component?w=ce.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,ce.createElement(oH,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:t!=null},children:w})};return t&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?ce.createElement(sH,{location:t.location,revalidation:t.revalidation,component:g,error:h,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var SD=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(SD||{}),ED=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(ED||{});function cH(r){let e=ce.useContext(Ab);return e||Ui(!1),e}function uH(r){let e=ce.useContext(wD);return e||Ui(!1),e}function fH(r){let e=ce.useContext(Su);return e||Ui(!1),e}function AD(r){let e=fH(),t=e.matches[e.matches.length-1];return t.route.id||Ui(!1),t.route.id}function dH(){var r;let e=ce.useContext(xD),t=uH(),n=AD();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function hH(){let{router:r}=cH(SD.UseNavigateStable),e=AD(ED.UseNavigateStable),t=ce.useRef(!1);return _D(()=>{t.current=!0}),ce.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,D0({fromRouteId:e},a)))},[r,e])}const zk={};function pH(r,e,t){zk[r]||(zk[r]=!0)}function mH(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function K1(r){let{to:e,replace:t,state:n,relative:i}=r;tm()||Ui(!1);let{future:a,static:s}=ce.useContext(_u),{matches:l}=ce.useContext(Su),{pathname:c}=rm(),o=Yd(),u=rA(e,tA(l,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(u);return ce.useEffect(()=>o(JSON.parse(f),{replace:t,state:n,relative:i}),[o,f,i,t,n]),null}function gH(r){return tH(r.context)}function Ya(r){Ui(!1)}function yH(r){let{basename:e="/",children:t=null,location:n,navigationType:i=ff.Pop,navigator:a,static:s=!1,future:l}=r;tm()&&Ui(!1);let c=e.replace(/^\/*/,"/"),o=ce.useMemo(()=>({basename:c,navigator:a,static:s,future:D0({v7_relativeSplatPath:!1},l)}),[c,l,a,s]);typeof n=="string"&&(n=em(n));let{pathname:u="/",search:f="",hash:d="",state:h=null,key:m="default"}=n,g=ce.useMemo(()=>{let p=xp(u,c);return p==null?null:{location:{pathname:p,search:f,hash:d,state:h,key:m},navigationType:i}},[c,u,f,d,h,m,i]);return g==null?null:ce.createElement(_u.Provider,{value:o},ce.createElement(Cb.Provider,{children:t,value:g}))}function vH(r){let{children:e,location:t}=r;return rH(L2(e),t)}new Promise(()=>{});function L2(r,e){e===void 0&&(e=[]);let t=[];return ce.Children.forEach(r,(n,i)=>{if(!ce.isValidElement(n))return;let a=[...e,i];if(n.type===ce.Fragment){t.push.apply(t,L2(n.props.children,a));return}n.type!==Ya&&Ui(!1),!n.props.index||!n.props.children||Ui(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=L2(n.props.children,a)),t.push(s)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yy(){return Yy=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Yy.apply(this,arguments)}function CD(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function bH(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function wH(r,e){return r.button===0&&(!e||e==="_self")&&!bH(r)}const xH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_H=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],SH="6";try{window.__reactRouterVersion=SH}catch{}const EH=ce.createContext({isTransitioning:!1}),AH="startTransition",qk=wq[AH];function CH(r){let{basename:e,children:t,future:n,window:i}=r,a=ce.useRef();a.current==null&&(a.current=kq({window:i,v5Compat:!0}));let s=a.current,[l,c]=ce.useState({action:s.action,location:s.location}),{v7_startTransition:o}=n||{},u=ce.useCallback(f=>{o&&qk?qk(()=>c(f)):c(f)},[c,o]);return ce.useLayoutEffect(()=>s.listen(u),[s,u]),ce.useEffect(()=>mH(n),[n]),ce.createElement(yH,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s,future:n})}const kH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NH=ce.forwardRef(function(e,t){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:l,target:c,to:o,preventScrollReset:u,viewTransition:f}=e,d=CD(e,xH),{basename:h}=ce.useContext(_u),m,g=!1;if(typeof o=="string"&&TH.test(o)&&(m=o,kH))try{let w=new URL(window.location.href),C=o.startsWith("//")?new URL(w.protocol+o):new URL(o),P=xp(C.pathname,h);C.origin===w.origin&&P!=null?o=P+C.search+C.hash:g=!0}catch{}let p=Zq(o,{relative:i}),y=jH(o,{replace:s,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:f});function v(w){n&&n(w),w.defaultPrevented||y(w)}return ce.createElement("a",Yy({},d,{href:m||p,onClick:g||a?n:v,ref:t,target:c}))}),Hk=ce.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:o,children:u}=e,f=CD(e,_H),d=kb(c,{relative:f.relative}),h=rm(),m=ce.useContext(wD),{navigator:g,basename:p}=ce.useContext(_u),y=m!=null&&IH(d)&&o===!0,v=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,w=h.pathname,C=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(w=w.toLowerCase(),C=C?C.toLowerCase():null,v=v.toLowerCase()),C&&p&&(C=xp(C,p)||C);const P=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let F=w===v||!s&&w.startsWith(v)&&w.charAt(P)==="/",L=C!=null&&(C===v||!s&&C.startsWith(v)&&C.charAt(v.length)==="/"),j={isActive:F,isPending:L,isTransitioning:y},I=F?n:void 0,z;typeof a=="function"?z=a(j):z=[a,F?"active":null,L?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let $=typeof l=="function"?l(j):l;return ce.createElement(NH,Yy({},f,{"aria-current":I,className:z,ref:t,style:$,to:c,viewTransition:o}),typeof u=="function"?u(j):u)});var F2;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(F2||(F2={}));var Wk;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Wk||(Wk={}));function PH(r){let e=ce.useContext(Ab);return e||Ui(!1),e}function jH(r,e){let{target:t,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:l}=e===void 0?{}:e,c=Yd(),o=rm(),u=kb(r,{relative:s});return ce.useCallback(f=>{if(wH(f,t)){f.preventDefault();let d=n!==void 0?n:Xy(o)===Xy(u);c(r,{replace:d,state:i,preventScrollReset:a,relative:s,viewTransition:l})}},[o,c,u,n,i,t,r,a,s,l])}function IH(r,e){e===void 0&&(e={});let t=ce.useContext(EH);t==null&&Ui(!1);let{basename:n}=PH(F2.useViewTransitionState),i=kb(r,{relative:e.relative});if(!t.isTransitioning)return!1;let a=xp(t.currentLocation.pathname,n)||t.currentLocation.pathname,s=xp(t.nextLocation.pathname,n)||t.nextLocation.pathname;return D2(i.pathname,s)!=null||D2(i.pathname,a)!=null}let OH={data:""},RH=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||OH,MH=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,DH=/\/\*[^]*?\*\/|  +/g,Gk=/\n+/g,sf=(r,e)=>{let t="",n="",i="";for(let a in r){let s=r[a];a[0]=="@"?a[1]=="i"?t=a+" "+s+";":n+=a[1]=="f"?sf(s,a):a+"{"+sf(s,a[1]=="k"?"":e)+"}":typeof s=="object"?n+=sf(s,e?e.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=sf.p?sf.p(a,s):a+":"+s+";")}return t+(e&&i?e+"{"+i+"}":i)+n},qc={},kD=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+kD(r[t]);return e}return r},LH=(r,e,t,n,i)=>{let a=kD(r),s=qc[a]||(qc[a]=(c=>{let o=0,u=11;for(;o<c.length;)u=101*u+c.charCodeAt(o++)>>>0;return"go"+u})(a));if(!qc[s]){let c=a!==r?r:(o=>{let u,f,d=[{}];for(;u=MH.exec(o.replace(DH,""));)u[4]?d.shift():u[3]?(f=u[3].replace(Gk," ").trim(),d.unshift(d[0][f]=d[0][f]||{})):d[0][u[1]]=u[2].replace(Gk," ").trim();return d[0]})(r);qc[s]=sf(i?{["@keyframes "+s]:c}:c,t?"":"."+s)}let l=t&&qc.g?qc.g:null;return t&&(qc.g=qc[s]),((c,o,u,f)=>{f?o.data=o.data.replace(f,c):o.data.indexOf(c)===-1&&(o.data=u?c+o.data:o.data+c)})(qc[s],e,n,l),s},FH=(r,e,t)=>r.reduce((n,i,a)=>{let s=e[a];if(s&&s.call){let l=s(t),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;s=c?"."+c:l&&typeof l=="object"?l.props?"":sf(l,""):l===!1?"":l}return n+i+(s??"")},"");function Tb(r){let e=this||{},t=r.call?r(e.p):r;return LH(t.unshift?t.raw?FH(t,[].slice.call(arguments,1),e.p):t.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):t,RH(e.target),e.g,e.o,e.k)}let TD,B2,$2;Tb.bind({g:1});let du=Tb.bind({k:1});function BH(r,e,t,n){sf.p=e,TD=r,B2=t,$2=n}function If(r,e){let t=this||{};return function(){let n=arguments;function i(a,s){let l=Object.assign({},a),c=l.className||i.className;t.p=Object.assign({theme:B2&&B2()},l),t.o=/ *go\d+/.test(c),l.className=Tb.apply(t,n)+(c?" "+c:"");let o=r;return r[0]&&(o=l.as||r,delete l.as),$2&&o[0]&&$2(l),TD(o,l)}return i}}var $H=r=>typeof r=="function",Qy=(r,e)=>$H(r)?r(e):r,UH=(()=>{let r=0;return()=>(++r).toString()})(),ND=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),VH=20,nA="default",PD=(r,e)=>{let{toastLimit:t}=r.settings;switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,t)};case 1:return{...r,toasts:r.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return PD(r,{type:r.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=e;return{...r,toasts:r.toasts.map(s=>s.id===i||i===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let a=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},Ty=[],jD={toasts:[],pausedAt:void 0,settings:{toastLimit:VH}},oc={},ID=(r,e=nA)=>{oc[e]=PD(oc[e]||jD,r),Ty.forEach(([t,n])=>{t===e&&n(oc[e])})},OD=r=>Object.keys(oc).forEach(e=>ID(r,e)),zH=r=>Object.keys(oc).find(e=>oc[e].toasts.some(t=>t.id===r)),Nb=(r=nA)=>e=>{ID(e,r)},qH={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},HH=(r={},e=nA)=>{let[t,n]=ce.useState(oc[e]||jD),i=ce.useRef(oc[e]);ce.useEffect(()=>(i.current!==oc[e]&&n(oc[e]),Ty.push([e,n]),()=>{let s=Ty.findIndex(([l])=>l===e);s>-1&&Ty.splice(s,1)}),[e]);let a=t.toasts.map(s=>{var l,c,o;return{...r,...r[s.type],...s,removeDelay:s.removeDelay||((l=r[s.type])==null?void 0:l.removeDelay)||(r==null?void 0:r.removeDelay),duration:s.duration||((c=r[s.type])==null?void 0:c.duration)||(r==null?void 0:r.duration)||qH[s.type],style:{...r.style,...(o=r[s.type])==null?void 0:o.style,...s.style}}});return{...t,toasts:a}},WH=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||UH()}),Lg=r=>(e,t)=>{let n=WH(e,r,t);return Nb(n.toasterId||zH(n.id))({type:2,toast:n}),n.id},Zi=(r,e)=>Lg("blank")(r,e);Zi.error=Lg("error");Zi.success=Lg("success");Zi.loading=Lg("loading");Zi.custom=Lg("custom");Zi.dismiss=(r,e)=>{let t={type:3,toastId:r};e?Nb(e)(t):OD(t)};Zi.dismissAll=r=>Zi.dismiss(void 0,r);Zi.remove=(r,e)=>{let t={type:4,toastId:r};e?Nb(e)(t):OD(t)};Zi.removeAll=r=>Zi.remove(void 0,r);Zi.promise=(r,e,t)=>{let n=Zi.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof r=="function"&&(r=r()),r.then(i=>{let a=e.success?Qy(e.success,i):void 0;return a?Zi.success(a,{id:n,...t,...t==null?void 0:t.success}):Zi.dismiss(n),i}).catch(i=>{let a=e.error?Qy(e.error,i):void 0;a?Zi.error(a,{id:n,...t,...t==null?void 0:t.error}):Zi.dismiss(n)}),r};var GH=1e3,KH=(r,e="default")=>{let{toasts:t,pausedAt:n}=HH(r,e),i=ce.useRef(new Map).current,a=ce.useCallback((f,d=GH)=>{if(i.has(f))return;let h=setTimeout(()=>{i.delete(f),s({type:4,toastId:f})},d);i.set(f,h)},[]);ce.useEffect(()=>{if(n)return;let f=Date.now(),d=t.map(h=>{if(h.duration===1/0)return;let m=(h.duration||0)+h.pauseDuration-(f-h.createdAt);if(m<0){h.visible&&Zi.dismiss(h.id);return}return setTimeout(()=>Zi.dismiss(h.id,e),m)});return()=>{d.forEach(h=>h&&clearTimeout(h))}},[t,n,e]);let s=ce.useCallback(Nb(e),[e]),l=ce.useCallback(()=>{s({type:5,time:Date.now()})},[s]),c=ce.useCallback((f,d)=>{s({type:1,toast:{id:f,height:d}})},[s]),o=ce.useCallback(()=>{n&&s({type:6,time:Date.now()})},[n,s]),u=ce.useCallback((f,d)=>{let{reverseOrder:h=!1,gutter:m=8,defaultPosition:g}=d||{},p=t.filter(w=>(w.position||g)===(f.position||g)&&w.height),y=p.findIndex(w=>w.id===f.id),v=p.filter((w,C)=>C<y&&w.visible).length;return p.filter(w=>w.visible).slice(...h?[v+1]:[0,v]).reduce((w,C)=>w+(C.height||0)+m,0)},[t]);return ce.useEffect(()=>{t.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let d=i.get(f.id);d&&(clearTimeout(d),i.delete(f.id))}})},[t,a]),{toasts:t,handlers:{updateHeight:c,startPause:l,endPause:o,calculateOffset:u}}},XH=du`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,YH=du`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,QH=du`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ZH=If("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${XH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${YH} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${QH} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,JH=du`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,eW=If("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${JH} 1s linear infinite;
`,tW=du`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,rW=du`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,nW=If("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tW} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${rW} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,iW=If("div")`
  position: absolute;
`,aW=If("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,sW=du`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oW=If("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${sW} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,lW=({toast:r})=>{let{icon:e,type:t,iconTheme:n}=r;return e!==void 0?typeof e=="string"?ce.createElement(oW,null,e):e:t==="blank"?null:ce.createElement(aW,null,ce.createElement(eW,{...n}),t!=="loading"&&ce.createElement(iW,null,t==="error"?ce.createElement(ZH,{...n}):ce.createElement(nW,{...n})))},cW=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,uW=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,fW="0%{opacity:0;} 100%{opacity:1;}",dW="0%{opacity:1;} 100%{opacity:0;}",hW=If("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,pW=If("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,mW=(r,e)=>{let t=r.includes("top")?1:-1,[n,i]=ND()?[fW,dW]:[cW(t),uW(t)];return{animation:e?`${du(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${du(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},gW=ce.memo(({toast:r,position:e,style:t,children:n})=>{let i=r.height?mW(r.position||e||"top-center",r.visible):{opacity:0},a=ce.createElement(lW,{toast:r}),s=ce.createElement(pW,{...r.ariaProps},Qy(r.message,r));return ce.createElement(hW,{className:r.className,style:{...i,...t,...r.style}},typeof n=="function"?n({icon:a,message:s}):ce.createElement(ce.Fragment,null,a,s))});BH(ce.createElement);var yW=({id:r,className:e,style:t,onHeightUpdate:n,children:i})=>{let a=ce.useCallback(s=>{if(s){let l=()=>{let c=s.getBoundingClientRect().height;n(r,c)};l(),new MutationObserver(l).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[r,n]);return ce.createElement("div",{ref:a,className:e,style:t},i)},vW=(r,e)=>{let t=r.includes("top"),n=t?{top:0}:{bottom:0},i=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ND()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...n,...i}},bW=Tb`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,X1=16,wW=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:n,children:i,toasterId:a,containerStyle:s,containerClassName:l})=>{let{toasts:c,handlers:o}=KH(t,a);return ce.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:X1,left:X1,right:X1,bottom:X1,pointerEvents:"none",...s},className:l,onMouseEnter:o.startPause,onMouseLeave:o.endPause},c.map(u=>{let f=u.position||e,d=o.calculateOffset(u,{reverseOrder:r,gutter:n,defaultPosition:e}),h=vW(f,d);return ce.createElement(yW,{id:u.id,key:u.id,onHeightUpdate:o.updateHeight,className:u.visible?bW:"",style:h},u.type==="custom"?Qy(u.message,u):i?i(u):ce.createElement(gW,{toast:u,position:f}))}))},Bh=Zi;const xW=()=>{};var Kk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},_W=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=r[t++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=r[t++],s=r[t++],l=r[t++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=r[t++],s=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},MD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const a=r[i],s=i+1<r.length,l=s?r[i+1]:0,c=i+2<r.length,o=c?r[i+2]:0,u=a>>2,f=(a&3)<<4|l>>4;let d=(l&15)<<2|o>>6,h=o&63;c||(h=64,s||(d=64)),n.push(t[u],t[f],t[d],t[h])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(RD(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):_W(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const a=t[r.charAt(i++)],l=i<r.length?t[r.charAt(i)]:0;++i;const o=i<r.length?t[r.charAt(i)]:64;++i;const f=i<r.length?t[r.charAt(i)]:64;if(++i,a==null||l==null||o==null||f==null)throw new SW;const d=a<<2|l>>4;if(n.push(d),o!==64){const h=l<<4&240|o>>2;if(n.push(h),f!==64){const m=o<<6&192|f;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class SW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EW=function(r){const e=RD(r);return MD.encodeByteArray(e,!0)},Zy=function(r){return EW(r).replace(/\./g,"")},DD=function(r){try{return MD.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW=()=>AW().__FIREBASE_DEFAULTS__,kW=()=>{if(typeof process>"u"||typeof Kk>"u")return;const r=Kk.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},TW=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&DD(r[1]);return e&&JSON.parse(e)},Pb=()=>{try{return xW()||CW()||kW()||TW()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},LD=r=>{var e,t;return(t=(e=Pb())==null?void 0:e.emulatorHosts)==null?void 0:t[r]},FD=r=>{const e=LD(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},BD=()=>{var r;return(r=Pb())==null?void 0:r.config},$D=r=>{var e;return(e=Pb())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iA(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Zy(JSON.stringify(t)),Zy(JSON.stringify(s)),""].join(".")}const b0={};function PW(){const r={prod:[],emulator:[]};for(const e of Object.keys(b0))b0[e]?r.emulator.push(e):r.prod.push(e);return r}function jW(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Xk=!1;function aA(r,e){if(typeof window>"u"||typeof document>"u"||!Qd(window.location.host)||b0[r]===e||b0[r]||Xk)return;b0[r]=e;function t(d){return`__firebase__banner__${d}`}const n="__firebase__banner",a=PW().prod.length>0;function s(){const d=document.getElementById(n);d&&d.remove()}function l(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function c(d,h){d.setAttribute("width","24"),d.setAttribute("id",h),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function o(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{Xk=!0,s()},d}function u(d,h){d.setAttribute("id",h),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=jW(n),h=t("text"),m=document.getElementById(h)||document.createElement("span"),g=t("learnmore"),p=document.getElementById(g)||document.createElement("a"),y=t("preprendIcon"),v=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const w=d.element;l(w),u(p,g);const C=o();c(v,y),w.append(v,m,p,C),document.body.appendChild(w)}a?(m.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($s())}function OW(){var e;const r=(e=Pb())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function RW(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MW(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function DW(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LW(){const r=$s();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function FW(){return!OW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VD(){try{return typeof indexedDB=="object"}catch{return!1}}function zD(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}function BW(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W="FirebaseError";class Ul extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=$W,Object.setPrototypeOf(this,Ul.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zd.prototype.create)}}class Zd{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?UW(a,n):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Ul(i,l,n)}}function UW(r,e){return r.replace(VW,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const VW=/\{\$([^}]+)}/g;function zW(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Rd(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const a=r[i],s=e[i];if(Yk(a)&&Yk(s)){if(!Rd(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function Yk(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function u0(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function f0(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function qW(r,e){const t=new HW(r,e);return t.subscribe.bind(t)}class HW{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");WW(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=zx),i.error===void 0&&(i.error=zx),i.complete===void 0&&(i.complete=zx);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WW(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function zx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(r){return r&&r._delegate?r._delegate:r}class sl{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new NW;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XW(e))try{this.getOrInitializeService({instanceIdentifier:hd})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=hd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hd){return this.instances.has(e)}getOptions(e=hd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&s.resolve(i)}return i}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:KW(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=hd){return this.component?this.component.multipleInstances?e:hd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KW(r){return r===hd?void 0:r}function XW(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new GW(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(mn||(mn={}));const QW={debug:mn.DEBUG,verbose:mn.VERBOSE,info:mn.INFO,warn:mn.WARN,error:mn.ERROR,silent:mn.SILENT},ZW=mn.INFO,JW={[mn.DEBUG]:"log",[mn.VERBOSE]:"log",[mn.INFO]:"info",[mn.WARN]:"warn",[mn.ERROR]:"error"},eG=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=JW[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sA{constructor(e){this.name=e,this._logLevel=ZW,this._logHandler=eG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mn.DEBUG,...e),this._logHandler(this,mn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mn.VERBOSE,...e),this._logHandler(this,mn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mn.INFO,...e),this._logHandler(this,mn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mn.WARN,...e),this._logHandler(this,mn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mn.ERROR,...e),this._logHandler(this,mn.ERROR,...e)}}const tG=(r,e)=>e.some(t=>r instanceof t);let Qk,Zk;function rG(){return Qk||(Qk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nG(){return Zk||(Zk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qD=new WeakMap,U2=new WeakMap,HD=new WeakMap,qx=new WeakMap,oA=new WeakMap;function iG(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",a),r.removeEventListener("error",s)},a=()=>{t(su(r.result)),i()},s=()=>{n(r.error),i()};r.addEventListener("success",a),r.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&qD.set(t,r)}).catch(()=>{}),oA.set(e,r),e}function aG(r){if(U2.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",s),r.removeEventListener("abort",s)},a=()=>{t(),i()},s=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",a),r.addEventListener("error",s),r.addEventListener("abort",s)});U2.set(r,e)}let V2={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return U2.get(r);if(e==="objectStoreNames")return r.objectStoreNames||HD.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return su(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function sG(r){V2=r(V2)}function oG(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Hx(this),e,...t);return HD.set(n,e.sort?e.sort():[e]),su(n)}:nG().includes(r)?function(...e){return r.apply(Hx(this),e),su(qD.get(this))}:function(...e){return su(r.apply(Hx(this),e))}}function lG(r){return typeof r=="function"?oG(r):(r instanceof IDBTransaction&&aG(r),tG(r,rG())?new Proxy(r,V2):r)}function su(r){if(r instanceof IDBRequest)return iG(r);if(qx.has(r))return qx.get(r);const e=lG(r);return e!==r&&(qx.set(r,e),oA.set(e,r)),e}const Hx=r=>oA.get(r);function jb(r,e,{blocked:t,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(r,e),l=su(s);return n&&s.addEventListener("upgradeneeded",c=>{n(su(s.result),c.oldVersion,c.newVersion,su(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",o=>i(o.oldVersion,o.newVersion,o))}).catch(()=>{}),l}function Wx(r,{blocked:e}={}){const t=indexedDB.deleteDatabase(r);return e&&t.addEventListener("blocked",n=>e(n.oldVersion,n)),su(t).then(()=>{})}const cG=["get","getKey","getAll","getAllKeys","count"],uG=["put","add","delete","clear"],Gx=new Map;function Jk(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Gx.get(e))return Gx.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=uG.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||cG.includes(t)))return;const a=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let o=c.store;return n&&(o=o.index(l.shift())),(await Promise.all([o[t](...l),i&&c.done]))[0]};return Gx.set(e,a),a}sG(r=>({...r,get:(e,t,n)=>Jk(e,t)||r.get(e,t,n),has:(e,t)=>!!Jk(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(dG(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function dG(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const z2="@firebase/app",eT="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=new sA("@firebase/app"),hG="@firebase/app-compat",pG="@firebase/analytics-compat",mG="@firebase/analytics",gG="@firebase/app-check-compat",yG="@firebase/app-check",vG="@firebase/auth",bG="@firebase/auth-compat",wG="@firebase/database",xG="@firebase/data-connect",_G="@firebase/database-compat",SG="@firebase/functions",EG="@firebase/functions-compat",AG="@firebase/installations",CG="@firebase/installations-compat",kG="@firebase/messaging",TG="@firebase/messaging-compat",NG="@firebase/performance",PG="@firebase/performance-compat",jG="@firebase/remote-config",IG="@firebase/remote-config-compat",OG="@firebase/storage",RG="@firebase/storage-compat",MG="@firebase/firestore",DG="@firebase/ai",LG="@firebase/firestore-compat",FG="firebase",BG="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="[DEFAULT]",$G={[z2]:"fire-core",[hG]:"fire-core-compat",[mG]:"fire-analytics",[pG]:"fire-analytics-compat",[yG]:"fire-app-check",[gG]:"fire-app-check-compat",[vG]:"fire-auth",[bG]:"fire-auth-compat",[wG]:"fire-rtdb",[xG]:"fire-data-connect",[_G]:"fire-rtdb-compat",[SG]:"fire-fn",[EG]:"fire-fn-compat",[AG]:"fire-iid",[CG]:"fire-iid-compat",[kG]:"fire-fcm",[TG]:"fire-fcm-compat",[NG]:"fire-perf",[PG]:"fire-perf-compat",[jG]:"fire-rc",[IG]:"fire-rc-compat",[OG]:"fire-gcs",[RG]:"fire-gcs-compat",[MG]:"fire-fst",[LG]:"fire-fst-compat",[DG]:"fire-vertex","fire-js":"fire-js",[FG]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=new Map,UG=new Map,H2=new Map;function tT(r,e){try{r.container.addComponent(e)}catch(t){hu.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ll(r){const e=r.name;if(H2.has(e))return hu.debug(`There were multiple attempts to register component ${e}.`),!1;H2.set(e,r);for(const t of Jy.values())tT(t,r);for(const t of UG.values())tT(t,r);return!0}function Jd(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function lo(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gf=new Zd("app","Firebase",VG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=BG;function WD(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:q2,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw gf.create("bad-app-name",{appName:String(i)});if(t||(t=BD()),!t)throw gf.create("no-options");const a=Jy.get(i);if(a){if(Rd(t,a.options)&&Rd(n,a.config))return a;throw gf.create("duplicate-app",{appName:i})}const s=new YW(i);for(const c of H2.values())s.addComponent(c);const l=new zG(t,n,s);return Jy.set(i,l),l}function Ib(r=q2){const e=Jy.get(r);if(!e&&r===q2&&BD())return WD();if(!e)throw gf.create("no-app",{appName:r});return e}function fo(r,e,t){let n=$G[r]??r;t&&(n+=`-${t}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${e}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hu.warn(s.join(" "));return}Ll(new sl(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qG="firebase-heartbeat-database",HG=1,L0="firebase-heartbeat-store";let Kx=null;function GD(){return Kx||(Kx=jb(qG,HG,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(L0)}catch(t){console.warn(t)}}}}).catch(r=>{throw gf.create("idb-open",{originalErrorMessage:r.message})})),Kx}async function WG(r){try{const t=(await GD()).transaction(L0),n=await t.objectStore(L0).get(KD(r));return await t.done,n}catch(e){if(e instanceof Ul)hu.warn(e.message);else{const t=gf.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hu.warn(t.message)}}}async function rT(r,e){try{const n=(await GD()).transaction(L0,"readwrite");await n.objectStore(L0).put(e,KD(r)),await n.done}catch(t){if(t instanceof Ul)hu.warn(t.message);else{const n=gf.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});hu.warn(n.message)}}}function KD(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG=1024,KG=30;class XG{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new QG(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=nT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>KG){const s=ZG(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){hu.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=nT(),{heartbeatsToSend:n,unsentEntries:i}=YG(this._heartbeatsCache.heartbeats),a=Zy(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return hu.warn(t),""}}}function nT(){return new Date().toISOString().substring(0,10)}function YG(r,e=GG){const t=[];let n=r.slice();for(const i of r){const a=t.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),iT(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),iT(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class QG{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VD()?zD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await WG(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return rT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return rT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function iT(r){return Zy(JSON.stringify({version:2,heartbeats:r})).length}function ZG(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JG(r){Ll(new sl("platform-logger",e=>new fG(e),"PRIVATE")),Ll(new sl("heartbeat",e=>new XG(e),"PRIVATE")),fo(z2,eT,r),fo(z2,eT,"esm2020"),fo("fire-js","")}JG("");var eK="firebase",tK="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fo(eK,tK,"app");var aT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yf,XD;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,j){function I(){}I.prototype=j.prototype,L.D=j.prototype,L.prototype=new I,L.prototype.constructor=L,L.C=function(z,$,B){for(var T=Array(arguments.length-2),R=2;R<arguments.length;R++)T[R-2]=arguments[R];return j.prototype[$].apply(z,T)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,j,I){I||(I=0);var z=Array(16);if(typeof j=="string")for(var $=0;16>$;++$)z[$]=j.charCodeAt(I++)|j.charCodeAt(I++)<<8|j.charCodeAt(I++)<<16|j.charCodeAt(I++)<<24;else for($=0;16>$;++$)z[$]=j[I++]|j[I++]<<8|j[I++]<<16|j[I++]<<24;j=L.g[0],I=L.g[1],$=L.g[2];var B=L.g[3],T=j+(B^I&($^B))+z[0]+3614090360&4294967295;j=I+(T<<7&4294967295|T>>>25),T=B+($^j&(I^$))+z[1]+3905402710&4294967295,B=j+(T<<12&4294967295|T>>>20),T=$+(I^B&(j^I))+z[2]+606105819&4294967295,$=B+(T<<17&4294967295|T>>>15),T=I+(j^$&(B^j))+z[3]+3250441966&4294967295,I=$+(T<<22&4294967295|T>>>10),T=j+(B^I&($^B))+z[4]+4118548399&4294967295,j=I+(T<<7&4294967295|T>>>25),T=B+($^j&(I^$))+z[5]+1200080426&4294967295,B=j+(T<<12&4294967295|T>>>20),T=$+(I^B&(j^I))+z[6]+2821735955&4294967295,$=B+(T<<17&4294967295|T>>>15),T=I+(j^$&(B^j))+z[7]+4249261313&4294967295,I=$+(T<<22&4294967295|T>>>10),T=j+(B^I&($^B))+z[8]+1770035416&4294967295,j=I+(T<<7&4294967295|T>>>25),T=B+($^j&(I^$))+z[9]+2336552879&4294967295,B=j+(T<<12&4294967295|T>>>20),T=$+(I^B&(j^I))+z[10]+4294925233&4294967295,$=B+(T<<17&4294967295|T>>>15),T=I+(j^$&(B^j))+z[11]+2304563134&4294967295,I=$+(T<<22&4294967295|T>>>10),T=j+(B^I&($^B))+z[12]+1804603682&4294967295,j=I+(T<<7&4294967295|T>>>25),T=B+($^j&(I^$))+z[13]+4254626195&4294967295,B=j+(T<<12&4294967295|T>>>20),T=$+(I^B&(j^I))+z[14]+2792965006&4294967295,$=B+(T<<17&4294967295|T>>>15),T=I+(j^$&(B^j))+z[15]+1236535329&4294967295,I=$+(T<<22&4294967295|T>>>10),T=j+($^B&(I^$))+z[1]+4129170786&4294967295,j=I+(T<<5&4294967295|T>>>27),T=B+(I^$&(j^I))+z[6]+3225465664&4294967295,B=j+(T<<9&4294967295|T>>>23),T=$+(j^I&(B^j))+z[11]+643717713&4294967295,$=B+(T<<14&4294967295|T>>>18),T=I+(B^j&($^B))+z[0]+3921069994&4294967295,I=$+(T<<20&4294967295|T>>>12),T=j+($^B&(I^$))+z[5]+3593408605&4294967295,j=I+(T<<5&4294967295|T>>>27),T=B+(I^$&(j^I))+z[10]+38016083&4294967295,B=j+(T<<9&4294967295|T>>>23),T=$+(j^I&(B^j))+z[15]+3634488961&4294967295,$=B+(T<<14&4294967295|T>>>18),T=I+(B^j&($^B))+z[4]+3889429448&4294967295,I=$+(T<<20&4294967295|T>>>12),T=j+($^B&(I^$))+z[9]+568446438&4294967295,j=I+(T<<5&4294967295|T>>>27),T=B+(I^$&(j^I))+z[14]+3275163606&4294967295,B=j+(T<<9&4294967295|T>>>23),T=$+(j^I&(B^j))+z[3]+4107603335&4294967295,$=B+(T<<14&4294967295|T>>>18),T=I+(B^j&($^B))+z[8]+1163531501&4294967295,I=$+(T<<20&4294967295|T>>>12),T=j+($^B&(I^$))+z[13]+2850285829&4294967295,j=I+(T<<5&4294967295|T>>>27),T=B+(I^$&(j^I))+z[2]+4243563512&4294967295,B=j+(T<<9&4294967295|T>>>23),T=$+(j^I&(B^j))+z[7]+1735328473&4294967295,$=B+(T<<14&4294967295|T>>>18),T=I+(B^j&($^B))+z[12]+2368359562&4294967295,I=$+(T<<20&4294967295|T>>>12),T=j+(I^$^B)+z[5]+4294588738&4294967295,j=I+(T<<4&4294967295|T>>>28),T=B+(j^I^$)+z[8]+2272392833&4294967295,B=j+(T<<11&4294967295|T>>>21),T=$+(B^j^I)+z[11]+1839030562&4294967295,$=B+(T<<16&4294967295|T>>>16),T=I+($^B^j)+z[14]+4259657740&4294967295,I=$+(T<<23&4294967295|T>>>9),T=j+(I^$^B)+z[1]+2763975236&4294967295,j=I+(T<<4&4294967295|T>>>28),T=B+(j^I^$)+z[4]+1272893353&4294967295,B=j+(T<<11&4294967295|T>>>21),T=$+(B^j^I)+z[7]+4139469664&4294967295,$=B+(T<<16&4294967295|T>>>16),T=I+($^B^j)+z[10]+3200236656&4294967295,I=$+(T<<23&4294967295|T>>>9),T=j+(I^$^B)+z[13]+681279174&4294967295,j=I+(T<<4&4294967295|T>>>28),T=B+(j^I^$)+z[0]+3936430074&4294967295,B=j+(T<<11&4294967295|T>>>21),T=$+(B^j^I)+z[3]+3572445317&4294967295,$=B+(T<<16&4294967295|T>>>16),T=I+($^B^j)+z[6]+76029189&4294967295,I=$+(T<<23&4294967295|T>>>9),T=j+(I^$^B)+z[9]+3654602809&4294967295,j=I+(T<<4&4294967295|T>>>28),T=B+(j^I^$)+z[12]+3873151461&4294967295,B=j+(T<<11&4294967295|T>>>21),T=$+(B^j^I)+z[15]+530742520&4294967295,$=B+(T<<16&4294967295|T>>>16),T=I+($^B^j)+z[2]+3299628645&4294967295,I=$+(T<<23&4294967295|T>>>9),T=j+($^(I|~B))+z[0]+4096336452&4294967295,j=I+(T<<6&4294967295|T>>>26),T=B+(I^(j|~$))+z[7]+1126891415&4294967295,B=j+(T<<10&4294967295|T>>>22),T=$+(j^(B|~I))+z[14]+2878612391&4294967295,$=B+(T<<15&4294967295|T>>>17),T=I+(B^($|~j))+z[5]+4237533241&4294967295,I=$+(T<<21&4294967295|T>>>11),T=j+($^(I|~B))+z[12]+1700485571&4294967295,j=I+(T<<6&4294967295|T>>>26),T=B+(I^(j|~$))+z[3]+2399980690&4294967295,B=j+(T<<10&4294967295|T>>>22),T=$+(j^(B|~I))+z[10]+4293915773&4294967295,$=B+(T<<15&4294967295|T>>>17),T=I+(B^($|~j))+z[1]+2240044497&4294967295,I=$+(T<<21&4294967295|T>>>11),T=j+($^(I|~B))+z[8]+1873313359&4294967295,j=I+(T<<6&4294967295|T>>>26),T=B+(I^(j|~$))+z[15]+4264355552&4294967295,B=j+(T<<10&4294967295|T>>>22),T=$+(j^(B|~I))+z[6]+2734768916&4294967295,$=B+(T<<15&4294967295|T>>>17),T=I+(B^($|~j))+z[13]+1309151649&4294967295,I=$+(T<<21&4294967295|T>>>11),T=j+($^(I|~B))+z[4]+4149444226&4294967295,j=I+(T<<6&4294967295|T>>>26),T=B+(I^(j|~$))+z[11]+3174756917&4294967295,B=j+(T<<10&4294967295|T>>>22),T=$+(j^(B|~I))+z[2]+718787259&4294967295,$=B+(T<<15&4294967295|T>>>17),T=I+(B^($|~j))+z[9]+3951481745&4294967295,L.g[0]=L.g[0]+j&4294967295,L.g[1]=L.g[1]+($+(T<<21&4294967295|T>>>11))&4294967295,L.g[2]=L.g[2]+$&4294967295,L.g[3]=L.g[3]+B&4294967295}n.prototype.u=function(L,j){j===void 0&&(j=L.length);for(var I=j-this.blockSize,z=this.B,$=this.h,B=0;B<j;){if($==0)for(;B<=I;)i(this,L,B),B+=this.blockSize;if(typeof L=="string"){for(;B<j;)if(z[$++]=L.charCodeAt(B++),$==this.blockSize){i(this,z),$=0;break}}else for(;B<j;)if(z[$++]=L[B++],$==this.blockSize){i(this,z),$=0;break}}this.h=$,this.o+=j},n.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var j=1;j<L.length-8;++j)L[j]=0;var I=8*this.o;for(j=L.length-8;j<L.length;++j)L[j]=I&255,I/=256;for(this.u(L),L=Array(16),j=I=0;4>j;++j)for(var z=0;32>z;z+=8)L[I++]=this.g[j]>>>z&255;return L};function a(L,j){var I=l;return Object.prototype.hasOwnProperty.call(I,L)?I[L]:I[L]=j(L)}function s(L,j){this.h=j;for(var I=[],z=!0,$=L.length-1;0<=$;$--){var B=L[$]|0;z&&B==j||(I[$]=B,z=!1)}this.g=I}var l={};function c(L){return-128<=L&&128>L?a(L,function(j){return new s([j|0],0>j?-1:0)}):new s([L|0],0>L?-1:0)}function o(L){if(isNaN(L)||!isFinite(L))return f;if(0>L)return p(o(-L));for(var j=[],I=1,z=0;L>=I;z++)j[z]=L/I|0,I*=4294967296;return new s(j,0)}function u(L,j){if(L.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(L.charAt(0)=="-")return p(u(L.substring(1),j));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=o(Math.pow(j,8)),z=f,$=0;$<L.length;$+=8){var B=Math.min(8,L.length-$),T=parseInt(L.substring($,$+B),j);8>B?(B=o(Math.pow(j,B)),z=z.j(B).add(o(T))):(z=z.j(I),z=z.add(o(T)))}return z}var f=c(0),d=c(1),h=c(16777216);r=s.prototype,r.m=function(){if(g(this))return-p(this).m();for(var L=0,j=1,I=0;I<this.g.length;I++){var z=this.i(I);L+=(0<=z?z:4294967296+z)*j,j*=4294967296}return L},r.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(m(this))return"0";if(g(this))return"-"+p(this).toString(L);for(var j=o(Math.pow(L,6)),I=this,z="";;){var $=C(I,j).g;I=y(I,$.j(j));var B=((0<I.g.length?I.g[0]:I.h)>>>0).toString(L);if(I=$,m(I))return B+z;for(;6>B.length;)B="0"+B;z=B+z}},r.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function m(L){if(L.h!=0)return!1;for(var j=0;j<L.g.length;j++)if(L.g[j]!=0)return!1;return!0}function g(L){return L.h==-1}r.l=function(L){return L=y(this,L),g(L)?-1:m(L)?0:1};function p(L){for(var j=L.g.length,I=[],z=0;z<j;z++)I[z]=~L.g[z];return new s(I,~L.h).add(d)}r.abs=function(){return g(this)?p(this):this},r.add=function(L){for(var j=Math.max(this.g.length,L.g.length),I=[],z=0,$=0;$<=j;$++){var B=z+(this.i($)&65535)+(L.i($)&65535),T=(B>>>16)+(this.i($)>>>16)+(L.i($)>>>16);z=T>>>16,B&=65535,T&=65535,I[$]=T<<16|B}return new s(I,I[I.length-1]&-2147483648?-1:0)};function y(L,j){return L.add(p(j))}r.j=function(L){if(m(this)||m(L))return f;if(g(this))return g(L)?p(this).j(p(L)):p(p(this).j(L));if(g(L))return p(this.j(p(L)));if(0>this.l(h)&&0>L.l(h))return o(this.m()*L.m());for(var j=this.g.length+L.g.length,I=[],z=0;z<2*j;z++)I[z]=0;for(z=0;z<this.g.length;z++)for(var $=0;$<L.g.length;$++){var B=this.i(z)>>>16,T=this.i(z)&65535,R=L.i($)>>>16,N=L.i($)&65535;I[2*z+2*$]+=T*N,v(I,2*z+2*$),I[2*z+2*$+1]+=B*N,v(I,2*z+2*$+1),I[2*z+2*$+1]+=T*R,v(I,2*z+2*$+1),I[2*z+2*$+2]+=B*R,v(I,2*z+2*$+2)}for(z=0;z<j;z++)I[z]=I[2*z+1]<<16|I[2*z];for(z=j;z<2*j;z++)I[z]=0;return new s(I,0)};function v(L,j){for(;(L[j]&65535)!=L[j];)L[j+1]+=L[j]>>>16,L[j]&=65535,j++}function w(L,j){this.g=L,this.h=j}function C(L,j){if(m(j))throw Error("division by zero");if(m(L))return new w(f,f);if(g(L))return j=C(p(L),j),new w(p(j.g),p(j.h));if(g(j))return j=C(L,p(j)),new w(p(j.g),j.h);if(30<L.g.length){if(g(L)||g(j))throw Error("slowDivide_ only works with positive integers.");for(var I=d,z=j;0>=z.l(L);)I=P(I),z=P(z);var $=F(I,1),B=F(z,1);for(z=F(z,2),I=F(I,2);!m(z);){var T=B.add(z);0>=T.l(L)&&($=$.add(I),B=T),z=F(z,1),I=F(I,1)}return j=y(L,$.j(j)),new w($,j)}for($=f;0<=L.l(j);){for(I=Math.max(1,Math.floor(L.m()/j.m())),z=Math.ceil(Math.log(I)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),B=o(I),T=B.j(j);g(T)||0<T.l(L);)I-=z,B=o(I),T=B.j(j);m(B)&&(B=d),$=$.add(B),L=y(L,T)}return new w($,L)}r.A=function(L){return C(this,L).h},r.and=function(L){for(var j=Math.max(this.g.length,L.g.length),I=[],z=0;z<j;z++)I[z]=this.i(z)&L.i(z);return new s(I,this.h&L.h)},r.or=function(L){for(var j=Math.max(this.g.length,L.g.length),I=[],z=0;z<j;z++)I[z]=this.i(z)|L.i(z);return new s(I,this.h|L.h)},r.xor=function(L){for(var j=Math.max(this.g.length,L.g.length),I=[],z=0;z<j;z++)I[z]=this.i(z)^L.i(z);return new s(I,this.h^L.h)};function P(L){for(var j=L.g.length+1,I=[],z=0;z<j;z++)I[z]=L.i(z)<<1|L.i(z-1)>>>31;return new s(I,L.h)}function F(L,j){var I=j>>5;j%=32;for(var z=L.g.length-I,$=[],B=0;B<z;B++)$[B]=0<j?L.i(B+I)>>>j|L.i(B+I+1)<<32-j:L.i(B+I);return new s($,L.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,XD=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=o,s.fromString=u,yf=s}).apply(typeof aT<"u"?aT:typeof self<"u"?self:typeof window<"u"?window:{});var Y1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YD,d0,QD,Ny,W2,ZD,JD,eL;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(W,ae,pe){return W==Array.prototype||W==Object.prototype||(W[ae]=pe.value),W};function t(W){W=[typeof globalThis=="object"&&globalThis,W,typeof window=="object"&&window,typeof self=="object"&&self,typeof Y1=="object"&&Y1];for(var ae=0;ae<W.length;++ae){var pe=W[ae];if(pe&&pe.Math==Math)return pe}throw Error("Cannot find global object")}var n=t(this);function i(W,ae){if(ae)e:{var pe=n;W=W.split(".");for(var Se=0;Se<W.length-1;Se++){var We=W[Se];if(!(We in pe))break e;pe=pe[We]}W=W[W.length-1],Se=pe[W],ae=ae(Se),ae!=Se&&ae!=null&&e(pe,W,{configurable:!0,writable:!0,value:ae})}}function a(W,ae){W instanceof String&&(W+="");var pe=0,Se=!1,We={next:function(){if(!Se&&pe<W.length){var nt=pe++;return{value:ae(nt,W[nt]),done:!1}}return Se=!0,{done:!0,value:void 0}}};return We[Symbol.iterator]=function(){return We},We}i("Array.prototype.values",function(W){return W||function(){return a(this,function(ae,pe){return pe})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(W){var ae=typeof W;return ae=ae!="object"?ae:W?Array.isArray(W)?"array":ae:"null",ae=="array"||ae=="object"&&typeof W.length=="number"}function o(W){var ae=typeof W;return ae=="object"&&W!=null||ae=="function"}function u(W,ae,pe){return W.call.apply(W.bind,arguments)}function f(W,ae,pe){if(!W)throw Error();if(2<arguments.length){var Se=Array.prototype.slice.call(arguments,2);return function(){var We=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(We,Se),W.apply(ae,We)}}return function(){return W.apply(ae,arguments)}}function d(W,ae,pe){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,d.apply(null,arguments)}function h(W,ae){var pe=Array.prototype.slice.call(arguments,1);return function(){var Se=pe.slice();return Se.push.apply(Se,arguments),W.apply(this,Se)}}function m(W,ae){function pe(){}pe.prototype=ae.prototype,W.aa=ae.prototype,W.prototype=new pe,W.prototype.constructor=W,W.Qb=function(Se,We,nt){for(var Pt=Array(arguments.length-2),bn=2;bn<arguments.length;bn++)Pt[bn-2]=arguments[bn];return ae.prototype[We].apply(Se,Pt)}}function g(W){const ae=W.length;if(0<ae){const pe=Array(ae);for(let Se=0;Se<ae;Se++)pe[Se]=W[Se];return pe}return[]}function p(W,ae){for(let pe=1;pe<arguments.length;pe++){const Se=arguments[pe];if(c(Se)){const We=W.length||0,nt=Se.length||0;W.length=We+nt;for(let Pt=0;Pt<nt;Pt++)W[We+Pt]=Se[Pt]}else W.push(Se)}}class y{constructor(ae,pe){this.i=ae,this.j=pe,this.h=0,this.g=null}get(){let ae;return 0<this.h?(this.h--,ae=this.g,this.g=ae.next,ae.next=null):ae=this.i(),ae}}function v(W){return/^[\s\xa0]*$/.test(W)}function w(){var W=l.navigator;return W&&(W=W.userAgent)?W:""}function C(W){return C[" "](W),W}C[" "]=function(){};var P=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function F(W,ae,pe){for(const Se in W)ae.call(pe,W[Se],Se,W)}function L(W,ae){for(const pe in W)ae.call(void 0,W[pe],pe,W)}function j(W){const ae={};for(const pe in W)ae[pe]=W[pe];return ae}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(W,ae){let pe,Se;for(let We=1;We<arguments.length;We++){Se=arguments[We];for(pe in Se)W[pe]=Se[pe];for(let nt=0;nt<I.length;nt++)pe=I[nt],Object.prototype.hasOwnProperty.call(Se,pe)&&(W[pe]=Se[pe])}}function $(W){var ae=1;W=W.split(":");const pe=[];for(;0<ae&&W.length;)pe.push(W.shift()),ae--;return W.length&&pe.push(W.join(":")),pe}function B(W){l.setTimeout(()=>{throw W},0)}function T(){var W=k;let ae=null;return W.g&&(ae=W.g,W.g=W.g.next,W.g||(W.h=null),ae.next=null),ae}class R{constructor(){this.h=this.g=null}add(ae,pe){const Se=N.get();Se.set(ae,pe),this.h?this.h.next=Se:this.g=Se,this.h=Se}}var N=new y(()=>new _,W=>W.reset());class _{constructor(){this.next=this.g=this.h=null}set(ae,pe){this.h=ae,this.g=pe,this.next=null}reset(){this.next=this.g=this.h=null}}let E,S=!1,k=new R,M=()=>{const W=l.Promise.resolve(void 0);E=()=>{W.then(V)}};var V=()=>{for(var W;W=T();){try{W.h.call(W.g)}catch(pe){B(pe)}var ae=N;ae.j(W),100>ae.h&&(ae.h++,W.next=ae.g,ae.g=W)}S=!1};function O(){this.s=this.s,this.C=this.C}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(W,ae){this.type=W,this.g=this.target=ae,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var Q=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var W=!1,ae=Object.defineProperty({},"passive",{get:function(){W=!0}});try{const pe=()=>{};l.addEventListener("test",pe,ae),l.removeEventListener("test",pe,ae)}catch{}return W})();function re(W,ae){if(X.call(this,W?W.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,W){var pe=this.type=W.type,Se=W.changedTouches&&W.changedTouches.length?W.changedTouches[0]:null;if(this.target=W.target||W.srcElement,this.g=ae,ae=W.relatedTarget){if(P){e:{try{C(ae.nodeName);var We=!0;break e}catch{}We=!1}We||(ae=null)}}else pe=="mouseover"?ae=W.fromElement:pe=="mouseout"&&(ae=W.toElement);this.relatedTarget=ae,Se?(this.clientX=Se.clientX!==void 0?Se.clientX:Se.pageX,this.clientY=Se.clientY!==void 0?Se.clientY:Se.pageY,this.screenX=Se.screenX||0,this.screenY=Se.screenY||0):(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0),this.button=W.button,this.key=W.key||"",this.ctrlKey=W.ctrlKey,this.altKey=W.altKey,this.shiftKey=W.shiftKey,this.metaKey=W.metaKey,this.pointerId=W.pointerId||0,this.pointerType=typeof W.pointerType=="string"?W.pointerType:G[W.pointerType]||"",this.state=W.state,this.i=W,W.defaultPrevented&&re.aa.h.call(this)}}m(re,X);var G={2:"touch",3:"pen",4:"mouse"};re.prototype.h=function(){re.aa.h.call(this);var W=this.i;W.preventDefault?W.preventDefault():W.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),q=0;function U(W,ae,pe,Se,We){this.listener=W,this.proxy=null,this.src=ae,this.type=pe,this.capture=!!Se,this.ha=We,this.key=++q,this.da=this.fa=!1}function Z(W){W.da=!0,W.listener=null,W.proxy=null,W.src=null,W.ha=null}function ie(W){this.src=W,this.g={},this.h=0}ie.prototype.add=function(W,ae,pe,Se,We){var nt=W.toString();W=this.g[nt],W||(W=this.g[nt]=[],this.h++);var Pt=de(W,ae,Se,We);return-1<Pt?(ae=W[Pt],pe||(ae.fa=!1)):(ae=new U(ae,this.src,nt,!!Se,We),ae.fa=pe,W.push(ae)),ae};function le(W,ae){var pe=ae.type;if(pe in W.g){var Se=W.g[pe],We=Array.prototype.indexOf.call(Se,ae,void 0),nt;(nt=0<=We)&&Array.prototype.splice.call(Se,We,1),nt&&(Z(ae),W.g[pe].length==0&&(delete W.g[pe],W.h--))}}function de(W,ae,pe,Se){for(var We=0;We<W.length;++We){var nt=W[We];if(!nt.da&&nt.listener==ae&&nt.capture==!!pe&&nt.ha==Se)return We}return-1}var fe="closure_lm_"+(1e6*Math.random()|0),ue={};function Ae(W,ae,pe,Se,We){if(Array.isArray(ae)){for(var nt=0;nt<ae.length;nt++)Ae(W,ae[nt],pe,Se,We);return null}return pe=Qe(pe),W&&W[J]?W.K(ae,pe,o(Se)?!!Se.capture:!1,We):he(W,ae,pe,!1,Se,We)}function he(W,ae,pe,Se,We,nt){if(!ae)throw Error("Invalid event type");var Pt=o(We)?!!We.capture:!!We,bn=De(W);if(bn||(W[fe]=bn=new ie(W)),pe=bn.add(ae,pe,Se,Pt,nt),pe.proxy)return pe;if(Se=xe(),pe.proxy=Se,Se.src=W,Se.listener=pe,W.addEventListener)Q||(We=Pt),We===void 0&&(We=!1),W.addEventListener(ae.toString(),Se,We);else if(W.attachEvent)W.attachEvent(ke(ae.toString()),Se);else if(W.addListener&&W.removeListener)W.addListener(Se);else throw Error("addEventListener and attachEvent are unavailable.");return pe}function xe(){function W(pe){return ae.call(W.src,W.listener,pe)}const ae=Oe;return W}function me(W,ae,pe,Se,We){if(Array.isArray(ae))for(var nt=0;nt<ae.length;nt++)me(W,ae[nt],pe,Se,We);else Se=o(Se)?!!Se.capture:!!Se,pe=Qe(pe),W&&W[J]?(W=W.i,ae=String(ae).toString(),ae in W.g&&(nt=W.g[ae],pe=de(nt,pe,Se,We),-1<pe&&(Z(nt[pe]),Array.prototype.splice.call(nt,pe,1),nt.length==0&&(delete W.g[ae],W.h--)))):W&&(W=De(W))&&(ae=W.g[ae.toString()],W=-1,ae&&(W=de(ae,pe,Se,We)),(pe=-1<W?ae[W]:null)&&Ce(pe))}function Ce(W){if(typeof W!="number"&&W&&!W.da){var ae=W.src;if(ae&&ae[J])le(ae.i,W);else{var pe=W.type,Se=W.proxy;ae.removeEventListener?ae.removeEventListener(pe,Se,W.capture):ae.detachEvent?ae.detachEvent(ke(pe),Se):ae.addListener&&ae.removeListener&&ae.removeListener(Se),(pe=De(ae))?(le(pe,W),pe.h==0&&(pe.src=null,ae[fe]=null)):Z(W)}}}function ke(W){return W in ue?ue[W]:ue[W]="on"+W}function Oe(W,ae){if(W.da)W=!0;else{ae=new re(ae,this);var pe=W.listener,Se=W.ha||W.src;W.fa&&Ce(W),W=pe.call(Se,ae)}return W}function De(W){return W=W[fe],W instanceof ie?W:null}var He="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qe(W){return typeof W=="function"?W:(W[He]||(W[He]=function(ae){return W.handleEvent(ae)}),W[He])}function tt(){O.call(this),this.i=new ie(this),this.M=this,this.F=null}m(tt,O),tt.prototype[J]=!0,tt.prototype.removeEventListener=function(W,ae,pe,Se){me(this,W,ae,pe,Se)};function st(W,ae){var pe,Se=W.F;if(Se)for(pe=[];Se;Se=Se.F)pe.push(Se);if(W=W.M,Se=ae.type||ae,typeof ae=="string")ae=new X(ae,W);else if(ae instanceof X)ae.target=ae.target||W;else{var We=ae;ae=new X(Se,W),z(ae,We)}if(We=!0,pe)for(var nt=pe.length-1;0<=nt;nt--){var Pt=ae.g=pe[nt];We=it(Pt,Se,!0,ae)&&We}if(Pt=ae.g=W,We=it(Pt,Se,!0,ae)&&We,We=it(Pt,Se,!1,ae)&&We,pe)for(nt=0;nt<pe.length;nt++)Pt=ae.g=pe[nt],We=it(Pt,Se,!1,ae)&&We}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var W=this.i,ae;for(ae in W.g){for(var pe=W.g[ae],Se=0;Se<pe.length;Se++)Z(pe[Se]);delete W.g[ae],W.h--}}this.F=null},tt.prototype.K=function(W,ae,pe,Se){return this.i.add(String(W),ae,!1,pe,Se)},tt.prototype.L=function(W,ae,pe,Se){return this.i.add(String(W),ae,!0,pe,Se)};function it(W,ae,pe,Se){if(ae=W.i.g[String(ae)],!ae)return!0;ae=ae.concat();for(var We=!0,nt=0;nt<ae.length;++nt){var Pt=ae[nt];if(Pt&&!Pt.da&&Pt.capture==pe){var bn=Pt.listener,ci=Pt.ha||Pt.src;Pt.fa&&le(W.i,Pt),We=bn.call(ci,Se)!==!1&&We}}return We&&!Se.defaultPrevented}function pt(W,ae,pe){if(typeof W=="function")pe&&(W=d(W,pe));else if(W&&typeof W.handleEvent=="function")W=d(W.handleEvent,W);else throw Error("Invalid listener argument");return 2147483647<Number(ae)?-1:l.setTimeout(W,ae||0)}function bt(W){W.g=pt(()=>{W.g=null,W.i&&(W.i=!1,bt(W))},W.l);const ae=W.h;W.h=null,W.m.apply(null,ae)}class mt extends O{constructor(ae,pe){super(),this.m=ae,this.l=pe,this.h=null,this.i=!1,this.g=null}j(ae){this.h=arguments,this.g?this.i=!0:bt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mt(W){O.call(this),this.h=W,this.g={}}m(Mt,O);var wt=[];function et(W){F(W.g,function(ae,pe){this.g.hasOwnProperty(pe)&&Ce(ae)},W),W.g={}}Mt.prototype.N=function(){Mt.aa.N.call(this),et(this)},Mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dt=l.JSON.stringify,It=l.JSON.parse,ht=class{stringify(W){return l.JSON.stringify(W,void 0)}parse(W){return l.JSON.parse(W,void 0)}};function zt(){}zt.prototype.h=null;function Vt(W){return W.h||(W.h=W.i())}function Bt(){}var sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ht(){X.call(this,"d")}m(Ht,X);function Nt(){X.call(this,"c")}m(Nt,X);var Yt={},Ur=null;function Wt(){return Ur=Ur||new tt}Yt.La="serverreachability";function Ir(W){X.call(this,Yt.La,W)}m(Ir,X);function Or(W){const ae=Wt();st(ae,new Ir(ae))}Yt.STAT_EVENT="statevent";function At(W,ae){X.call(this,Yt.STAT_EVENT,W),this.stat=ae}m(At,X);function fr(W){const ae=Wt();st(ae,new At(ae,W))}Yt.Ma="timingevent";function Gr(W,ae){X.call(this,Yt.Ma,W),this.size=ae}m(Gr,X);function Qt(W,ae){if(typeof W!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){W()},ae)}function Re(){this.g=!0}Re.prototype.xa=function(){this.g=!1};function $e(W,ae,pe,Se,We,nt){W.info(function(){if(W.g)if(nt)for(var Pt="",bn=nt.split("&"),ci=0;ci<bn.length;ci++){var on=bn[ci].split("=");if(1<on.length){var un=on[0];on=on[1];var Sn=un.split("_");Pt=2<=Sn.length&&Sn[1]=="type"?Pt+(un+"="+on+"&"):Pt+(un+"=redacted&")}}else Pt=null;else Pt=nt;return"XMLHTTP REQ ("+Se+") [attempt "+We+"]: "+ae+`
`+pe+`
`+Pt})}function Je(W,ae,pe,Se,We,nt,Pt){W.info(function(){return"XMLHTTP RESP ("+Se+") [ attempt "+We+"]: "+ae+`
`+pe+`
`+nt+" "+Pt})}function xt(W,ae,pe,Se){W.info(function(){return"XMLHTTP TEXT ("+ae+"): "+Ot(W,pe)+(Se?" "+Se:"")})}function ar(W,ae){W.info(function(){return"TIMEOUT: "+ae})}Re.prototype.info=function(){};function Ot(W,ae){if(!W.g)return ae;if(!ae)return null;try{var pe=JSON.parse(ae);if(pe){for(W=0;W<pe.length;W++)if(Array.isArray(pe[W])){var Se=pe[W];if(!(2>Se.length)){var We=Se[1];if(Array.isArray(We)&&!(1>We.length)){var nt=We[0];if(nt!="noop"&&nt!="stop"&&nt!="close")for(var Pt=1;Pt<We.length;Pt++)We[Pt]=""}}}}return dt(pe)}catch{return ae}}var er={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qt;function or(){}m(or,zt),or.prototype.g=function(){return new XMLHttpRequest},or.prototype.i=function(){return{}},qt=new or;function Gt(W,ae,pe,Se){this.j=W,this.i=ae,this.l=pe,this.R=Se||1,this.U=new Mt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kr}function kr(){this.i=null,this.g="",this.h=!1}var sn={},tn={};function xn(W,ae,pe){W.L=1,W.v=Ua(li(ae)),W.m=pe,W.P=!0,Tn(W,null)}function Tn(W,ae){W.F=Date.now(),Ue(W),W.A=li(W.v);var pe=W.A,Se=W.R;Array.isArray(Se)||(Se=[String(Se)]),wr(pe.i,"t",Se),W.C=0,pe=W.j.J,W.h=new kr,W.g=bo(W.j,pe?ae:null,!W.m),0<W.O&&(W.M=new mt(d(W.Y,W,W.g),W.O)),ae=W.U,pe=W.g,Se=W.ca;var We="readystatechange";Array.isArray(We)||(We&&(wt[0]=We.toString()),We=wt);for(var nt=0;nt<We.length;nt++){var Pt=Ae(pe,We[nt],Se||ae.handleEvent,!1,ae.h||ae);if(!Pt)break;ae.g[Pt.key]=Pt}ae=W.H?j(W.H):{},W.m?(W.u||(W.u="POST"),ae["Content-Type"]="application/x-www-form-urlencoded",W.g.ea(W.A,W.u,W.m,ae)):(W.u="GET",W.g.ea(W.A,W.u,null,ae)),Or(),$e(W.i,W.u,W.A,W.l,W.R,W.m)}Gt.prototype.ca=function(W){W=W.target;const ae=this.M;ae&&ha(W)==3?ae.j():this.Y(W)},Gt.prototype.Y=function(W){try{if(W==this.g)e:{const Sn=ha(this.g);var ae=this.g.Ba();const za=this.g.Z();if(!(3>Sn)&&(Sn!=3||this.g&&(this.h.h||this.g.oa()||hl(this.g)))){this.J||Sn!=4||ae==7||(ae==8||0>=za?Or(3):Or(2)),_t(this);var pe=this.g.Z();this.X=pe;t:if(oi(this)){var Se=hl(this.g);W="";var We=Se.length,nt=ha(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ct(this),$t(this);var Pt="";break t}this.h.i=new l.TextDecoder}for(ae=0;ae<We;ae++)this.h.h=!0,W+=this.h.i.decode(Se[ae],{stream:!(nt&&ae==We-1)});Se.length=0,this.h.g+=W,this.C=0,Pt=this.h.g}else Pt=this.g.oa();if(this.o=pe==200,Je(this.i,this.u,this.A,this.l,this.R,Sn,pe),this.o){if(this.T&&!this.K){t:{if(this.g){var bn,ci=this.g;if((bn=ci.g?ci.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(bn)){var on=bn;break t}}on=null}if(pe=on)xt(this.i,this.l,pe,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rt(this,pe);else{this.o=!1,this.s=3,fr(12),Ct(this),$t(this);break e}}if(this.P){pe=!0;let Pa;for(;!this.J&&this.C<Pt.length;)if(Pa=je(this,Pt),Pa==tn){Sn==4&&(this.s=4,fr(14),pe=!1),xt(this.i,this.l,null,"[Incomplete Response]");break}else if(Pa==sn){this.s=4,fr(15),xt(this.i,this.l,Pt,"[Invalid Chunk]"),pe=!1;break}else xt(this.i,this.l,Pa,null),Rt(this,Pa);if(oi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sn!=4||Pt.length!=0||this.h.h||(this.s=1,fr(16),pe=!1),this.o=this.o&&pe,!pe)xt(this.i,this.l,Pt,"[Invalid Chunked Response]"),Ct(this),$t(this);else if(0<Pt.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+Pt.length),hn(un),un.M=!0,fr(11))}}else xt(this.i,this.l,Pt,null),Rt(this,Pt);Sn==4&&Ct(this),this.o&&!this.J&&(Sn==4?vn(this.j,this):(this.o=!1,Ue(this)))}else pa(this.g),pe==400&&0<Pt.indexOf("Unknown SID")?(this.s=3,fr(12)):(this.s=0,fr(13)),Ct(this),$t(this)}}}catch{}finally{}};function oi(W){return W.g?W.u=="GET"&&W.L!=2&&W.j.Ca:!1}function je(W,ae){var pe=W.C,Se=ae.indexOf(`
`,pe);return Se==-1?tn:(pe=Number(ae.substring(pe,Se)),isNaN(pe)?sn:(Se+=1,Se+pe>ae.length?tn:(ae=ae.slice(Se,Se+pe),W.C=Se+pe,ae)))}Gt.prototype.cancel=function(){this.J=!0,Ct(this)};function Ue(W){W.S=Date.now()+W.I,ft(W,W.I)}function ft(W,ae){if(W.B!=null)throw Error("WatchDog timer not null");W.B=Qt(d(W.ba,W),ae)}function _t(W){W.B&&(l.clearTimeout(W.B),W.B=null)}Gt.prototype.ba=function(){this.B=null;const W=Date.now();0<=W-this.S?(ar(this.i,this.A),this.L!=2&&(Or(),fr(17)),Ct(this),this.s=2,$t(this)):ft(this,this.S-W)};function $t(W){W.j.G==0||W.J||vn(W.j,W)}function Ct(W){_t(W);var ae=W.M;ae&&typeof ae.ma=="function"&&ae.ma(),W.M=null,et(W.U),W.g&&(ae=W.g,W.g=null,ae.abort(),ae.ma())}function Rt(W,ae){try{var pe=W.j;if(pe.G!=0&&(pe.g==W||Tr(pe.h,W))){if(!W.K&&Tr(pe.h,W)&&pe.G==3){try{var Se=pe.Da.g.parse(ae)}catch{Se=null}if(Array.isArray(Se)&&Se.length==3){var We=Se;if(We[0]==0){e:if(!pe.u){if(pe.g)if(pe.g.F+3e3<W.F)ni(pe),Ne(pe);else break e;Mr(pe),fr(18)}}else pe.za=We[1],0<pe.za-pe.T&&37500>We[2]&&pe.F&&pe.v==0&&!pe.C&&(pe.C=Qt(d(pe.Za,pe),6e3));if(1>=pr(pe.h)&&pe.ca){try{pe.ca()}catch{}pe.ca=void 0}}else Ln(pe,11)}else if((W.K||pe.g==W)&&ni(pe),!v(ae))for(We=pe.Da.g.parse(ae),ae=0;ae<We.length;ae++){let on=We[ae];if(pe.T=on[0],on=on[1],pe.G==2)if(on[0]=="c"){pe.K=on[1],pe.ia=on[2];const un=on[3];un!=null&&(pe.la=un,pe.j.info("VER="+pe.la));const Sn=on[4];Sn!=null&&(pe.Aa=Sn,pe.j.info("SVER="+pe.Aa));const za=on[5];za!=null&&typeof za=="number"&&0<za&&(Se=1.5*za,pe.L=Se,pe.j.info("backChannelRequestTimeoutMs_="+Se)),Se=pe;const Pa=W.g;if(Pa){const bs=Pa.g?Pa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bs){var nt=Se.h;nt.g||bs.indexOf("spdy")==-1&&bs.indexOf("quic")==-1&&bs.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(an(nt,nt.h),nt.h=null))}if(Se.D){const wo=Pa.g?Pa.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(Se.ya=wo,Kr(Se.I,Se.D,wo))}}pe.G=3,pe.l&&pe.l.ua(),pe.ba&&(pe.R=Date.now()-W.F,pe.j.info("Handshake RTT: "+pe.R+"ms")),Se=pe;var Pt=W;if(Se.qa=Zs(Se,Se.J?Se.ia:null,Se.W),Pt.K){Sr(Se.h,Pt);var bn=Pt,ci=Se.L;ci&&(bn.I=ci),bn.B&&(_t(bn),Ue(bn)),Se.g=Pt}else Er(Se);0<pe.i.length&&qe(pe)}else on[0]!="stop"&&on[0]!="close"||Ln(pe,7);else pe.G==3&&(on[0]=="stop"||on[0]=="close"?on[0]=="stop"?Ln(pe,7):ge(pe):on[0]!="noop"&&pe.l&&pe.l.ta(on),pe.v=0)}}Or(4)}catch{}}var Vr=class{constructor(W,ae){this.g=W,this.map=ae}};function _r(W){this.l=W||10,l.PerformanceNavigationTiming?(W=l.performance.getEntriesByType("navigation"),W=0<W.length&&(W[0].nextHopProtocol=="hq"||W[0].nextHopProtocol=="h2")):W=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=W?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function br(W){return W.h?!0:W.g?W.g.size>=W.j:!1}function pr(W){return W.h?1:W.g?W.g.size:0}function Tr(W,ae){return W.h?W.h==ae:W.g?W.g.has(ae):!1}function an(W,ae){W.g?W.g.add(ae):W.h=ae}function Sr(W,ae){W.h&&W.h==ae?W.h=null:W.g&&W.g.has(ae)&&W.g.delete(ae)}_r.prototype.cancel=function(){if(this.i=_n(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const W of this.g.values())W.cancel();this.g.clear()}};function _n(W){if(W.h!=null)return W.i.concat(W.h.D);if(W.g!=null&&W.g.size!==0){let ae=W.i;for(const pe of W.g.values())ae=ae.concat(pe.D);return ae}return g(W.i)}function Mn(W){if(W.V&&typeof W.V=="function")return W.V();if(typeof Map<"u"&&W instanceof Map||typeof Set<"u"&&W instanceof Set)return Array.from(W.values());if(typeof W=="string")return W.split("");if(c(W)){for(var ae=[],pe=W.length,Se=0;Se<pe;Se++)ae.push(W[Se]);return ae}ae=[],pe=0;for(Se in W)ae[pe++]=W[Se];return ae}function Nn(W){if(W.na&&typeof W.na=="function")return W.na();if(!W.V||typeof W.V!="function"){if(typeof Map<"u"&&W instanceof Map)return Array.from(W.keys());if(!(typeof Set<"u"&&W instanceof Set)){if(c(W)||typeof W=="string"){var ae=[];W=W.length;for(var pe=0;pe<W;pe++)ae.push(pe);return ae}ae=[],pe=0;for(const Se in W)ae[pe++]=Se;return ae}}}function Xn(W,ae){if(W.forEach&&typeof W.forEach=="function")W.forEach(ae,void 0);else if(c(W)||typeof W=="string")Array.prototype.forEach.call(W,ae,void 0);else for(var pe=Nn(W),Se=Mn(W),We=Se.length,nt=0;nt<We;nt++)ae.call(void 0,Se[nt],pe&&pe[nt],W)}var ti=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $a(W,ae){if(W){W=W.split("&");for(var pe=0;pe<W.length;pe++){var Se=W[pe].indexOf("="),We=null;if(0<=Se){var nt=W[pe].substring(0,Se);We=W[pe].substring(Se+1)}else nt=W[pe];ae(nt,We?decodeURIComponent(We.replace(/\+/g," ")):"")}}}function cn(W){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,W instanceof cn){this.h=W.h,rn(this,W.j),this.o=W.o,this.g=W.g,zr(this,W.s),this.l=W.l;var ae=W.i,pe=new Si;pe.i=ae.i,ae.g&&(pe.g=new Map(ae.g),pe.h=ae.h),Ji(this,pe),this.m=W.m}else W&&(ae=String(W).match(ti))?(this.h=!1,rn(this,ae[1]||"",!0),this.o=Cr(ae[2]||""),this.g=Cr(ae[3]||"",!0),zr(this,ae[4]),this.l=Cr(ae[5]||"",!0),Ji(this,ae[6]||"",!0),this.m=Cr(ae[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}cn.prototype.toString=function(){var W=[],ae=this.j;ae&&W.push(ri(ae,ms,!0),":");var pe=this.g;return(pe||ae=="file")&&(W.push("//"),(ae=this.o)&&W.push(ri(ae,ms,!0),"@"),W.push(encodeURIComponent(String(pe)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),pe=this.s,pe!=null&&W.push(":",String(pe))),(pe=this.l)&&(this.g&&pe.charAt(0)!="/"&&W.push("/"),W.push(ri(pe,pe.charAt(0)=="/"?Us:mo,!0))),(pe=this.i.toString())&&W.push("?",pe),(pe=this.m)&&W.push("#",ri(pe,gs)),W.join("")};function li(W){return new cn(W)}function rn(W,ae,pe){W.j=pe?Cr(ae,!0):ae,W.j&&(W.j=W.j.replace(/:$/,""))}function zr(W,ae){if(ae){if(ae=Number(ae),isNaN(ae)||0>ae)throw Error("Bad port number "+ae);W.s=ae}else W.s=null}function Ji(W,ae,pe){ae instanceof Si?(W.i=ae,ka(W.i,W.h)):(pe||(ae=ri(ae,Ca)),W.i=new Si(ae,W.h))}function Kr(W,ae,pe){W.i.set(ae,pe)}function Ua(W){return Kr(W,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),W}function Cr(W,ae){return W?ae?decodeURI(W.replace(/%25/g,"%2525")):decodeURIComponent(W):""}function ri(W,ae,pe){return typeof W=="string"?(W=encodeURI(W).replace(ae,Aa),pe&&(W=W.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),W):null}function Aa(W){return W=W.charCodeAt(0),"%"+(W>>4&15).toString(16)+(W&15).toString(16)}var ms=/[#\/\?@]/g,mo=/[#\?:]/g,Us=/[#\?]/g,Ca=/[#\?@]/g,gs=/#/g;function Si(W,ae){this.h=this.g=null,this.i=W||null,this.j=!!ae}function vi(W){W.g||(W.g=new Map,W.h=0,W.i&&$a(W.i,function(ae,pe){W.add(decodeURIComponent(ae.replace(/\+/g," ")),pe)}))}r=Si.prototype,r.add=function(W,ae){vi(this),this.i=null,W=ea(this,W);var pe=this.g.get(W);return pe||this.g.set(W,pe=[]),pe.push(ae),this.h+=1,this};function Ei(W,ae){vi(W),ae=ea(W,ae),W.g.has(ae)&&(W.i=null,W.h-=W.g.get(ae).length,W.g.delete(ae))}function qi(W,ae){return vi(W),ae=ea(W,ae),W.g.has(ae)}r.forEach=function(W,ae){vi(this),this.g.forEach(function(pe,Se){pe.forEach(function(We){W.call(ae,We,Se,this)},this)},this)},r.na=function(){vi(this);const W=Array.from(this.g.values()),ae=Array.from(this.g.keys()),pe=[];for(let Se=0;Se<ae.length;Se++){const We=W[Se];for(let nt=0;nt<We.length;nt++)pe.push(ae[Se])}return pe},r.V=function(W){vi(this);let ae=[];if(typeof W=="string")qi(this,W)&&(ae=ae.concat(this.g.get(ea(this,W))));else{W=Array.from(this.g.values());for(let pe=0;pe<W.length;pe++)ae=ae.concat(W[pe])}return ae},r.set=function(W,ae){return vi(this),this.i=null,W=ea(this,W),qi(this,W)&&(this.h-=this.g.get(W).length),this.g.set(W,[ae]),this.h+=1,this},r.get=function(W,ae){return W?(W=this.V(W),0<W.length?String(W[0]):ae):ae};function wr(W,ae,pe){Ei(W,ae),0<pe.length&&(W.i=null,W.g.set(ea(W,ae),g(pe)),W.h+=pe.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const W=[],ae=Array.from(this.g.keys());for(var pe=0;pe<ae.length;pe++){var Se=ae[pe];const nt=encodeURIComponent(String(Se)),Pt=this.V(Se);for(Se=0;Se<Pt.length;Se++){var We=nt;Pt[Se]!==""&&(We+="="+encodeURIComponent(String(Pt[Se]))),W.push(We)}}return this.i=W.join("&")};function ea(W,ae){return ae=String(ae),W.j&&(ae=ae.toLowerCase()),ae}function ka(W,ae){ae&&!W.j&&(vi(W),W.i=null,W.g.forEach(function(pe,Se){var We=Se.toLowerCase();Se!=We&&(Ei(this,Se),wr(this,We,pe))},W)),W.j=ae}function zf(W,ae){const pe=new Re;if(l.Image){const Se=new Image;Se.onload=h(Ai,pe,"TestLoadImage: loaded",!0,ae,Se),Se.onerror=h(Ai,pe,"TestLoadImage: error",!1,ae,Se),Se.onabort=h(Ai,pe,"TestLoadImage: abort",!1,ae,Se),Se.ontimeout=h(Ai,pe,"TestLoadImage: timeout",!1,ae,Se),l.setTimeout(function(){Se.ontimeout&&Se.ontimeout()},1e4),Se.src=W}else ae(!1)}function Pu(W,ae){const pe=new Re,Se=new AbortController,We=setTimeout(()=>{Se.abort(),Ai(pe,"TestPingServer: timeout",!1,ae)},1e4);fetch(W,{signal:Se.signal}).then(nt=>{clearTimeout(We),nt.ok?Ai(pe,"TestPingServer: ok",!0,ae):Ai(pe,"TestPingServer: server error",!1,ae)}).catch(()=>{clearTimeout(We),Ai(pe,"TestPingServer: error",!1,ae)})}function Ai(W,ae,pe,Se,We){try{We&&(We.onload=null,We.onerror=null,We.onabort=null,We.ontimeout=null),Se(pe)}catch{}}function go(){this.g=new ht}function ju(W,ae,pe){const Se=pe||"";try{Xn(W,function(We,nt){let Pt=We;o(We)&&(Pt=dt(We)),ae.push(Se+nt+"="+encodeURIComponent(Pt))})}catch(We){throw ae.push(Se+"type="+encodeURIComponent("_badmap")),We}}function yo(W){this.l=W.Ub||null,this.j=W.eb||!1}m(yo,zt),yo.prototype.g=function(){return new Ys(this.l,this.j)},yo.prototype.i=(function(W){return function(){return W}})({});function Ys(W,ae){tt.call(this),this.D=W,this.o=ae,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Ys,tt),r=Ys.prototype,r.open=function(W,ae){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=W,this.A=ae,this.readyState=1,Va(this)},r.send=function(W){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const ae={headers:this.u,method:this.B,credentials:this.m,cache:void 0};W&&(ae.body=W),(this.D||l).fetch(new Request(this.A,ae)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ta(this)),this.readyState=0},r.Sa=function(W){if(this.g&&(this.l=W,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=W.headers,this.readyState=2,Va(this)),this.g&&(this.readyState=3,Va(this),this.g)))if(this.responseType==="arraybuffer")W.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in W){if(this.j=W.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hl(this)}else W.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hl(W){W.j.read().then(W.Pa.bind(W)).catch(W.ga.bind(W))}r.Pa=function(W){if(this.g){if(this.o&&W.value)this.response.push(W.value);else if(!this.o){var ae=W.value?W.value:new Uint8Array(0);(ae=this.v.decode(ae,{stream:!W.done}))&&(this.response=this.responseText+=ae)}W.done?Ta(this):Va(this),this.readyState==3&&Hl(this)}},r.Ra=function(W){this.g&&(this.response=this.responseText=W,Ta(this))},r.Qa=function(W){this.g&&(this.response=W,Ta(this))},r.ga=function(){this.g&&Ta(this)};function Ta(W){W.readyState=4,W.l=null,W.j=null,W.v=null,Va(W)}r.setRequestHeader=function(W,ae){this.u.append(W,ae)},r.getResponseHeader=function(W){return this.h&&this.h.get(W.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const W=[],ae=this.h.entries();for(var pe=ae.next();!pe.done;)pe=pe.value,W.push(pe[0]+": "+pe[1]),pe=ae.next();return W.join(`\r
`)};function Va(W){W.onreadystatechange&&W.onreadystatechange.call(W)}Object.defineProperty(Ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(W){this.m=W?"include":"same-origin"}});function ys(W){let ae="";return F(W,function(pe,Se){ae+=Se,ae+=":",ae+=pe,ae+=`\r
`}),ae}function Fo(W,ae,pe){e:{for(Se in pe){var Se=!1;break e}Se=!0}Se||(pe=ys(pe),typeof W=="string"?pe!=null&&encodeURIComponent(String(pe)):Kr(W,ae,pe))}function Dn(W){tt.call(this),this.headers=new Map,this.o=W||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Dn,tt);var Nc=/^https?$/i,vo=["POST","PUT"];r=Dn.prototype,r.Ha=function(W){this.J=W},r.ea=function(W,ae,pe,Se){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+W);ae=ae?ae.toUpperCase():"GET",this.D=W,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qt.g(),this.v=this.o?Vt(this.o):Vt(qt),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(ae,String(W),!0),this.B=!1}catch(nt){Vs(this,nt);return}if(W=pe||"",pe=new Map(this.headers),Se)if(Object.getPrototypeOf(Se)===Object.prototype)for(var We in Se)pe.set(We,Se[We]);else if(typeof Se.keys=="function"&&typeof Se.get=="function")for(const nt of Se.keys())pe.set(nt,Se.get(nt));else throw Error("Unknown input type for opt_headers: "+String(Se));Se=Array.from(pe.keys()).find(nt=>nt.toLowerCase()=="content-type"),We=l.FormData&&W instanceof l.FormData,!(0<=Array.prototype.indexOf.call(vo,ae,void 0))||Se||We||pe.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,Pt]of pe)this.g.setRequestHeader(nt,Pt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qs(this),this.u=!0,this.g.send(W),this.u=!1}catch(nt){Vs(this,nt)}};function Vs(W,ae){W.h=!1,W.g&&(W.j=!0,W.g.abort(),W.j=!1),W.l=ae,W.m=5,Bo(W),Na(W)}function Bo(W){W.A||(W.A=!0,st(W,"complete"),st(W,"error"))}r.abort=function(W){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=W||7,st(this,"complete"),st(this,"abort"),Na(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Na(this,!0)),Dn.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?$o(this):this.bb())},r.bb=function(){$o(this)};function $o(W){if(W.h&&typeof s<"u"&&(!W.v[1]||ha(W)!=4||W.Z()!=2)){if(W.u&&ha(W)==4)pt(W.Ea,0,W);else if(st(W,"readystatechange"),ha(W)==4){W.h=!1;try{const Pt=W.Z();e:switch(Pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ae=!0;break e;default:ae=!1}var pe;if(!(pe=ae)){var Se;if(Se=Pt===0){var We=String(W.D).match(ti)[1]||null;!We&&l.self&&l.self.location&&(We=l.self.location.protocol.slice(0,-1)),Se=!Nc.test(We?We.toLowerCase():"")}pe=Se}if(pe)st(W,"complete"),st(W,"success");else{W.m=6;try{var nt=2<ha(W)?W.g.statusText:""}catch{nt=""}W.l=nt+" ["+W.Z()+"]",Bo(W)}}finally{Na(W)}}}}function Na(W,ae){if(W.g){Qs(W);const pe=W.g,Se=W.v[0]?()=>{}:null;W.g=null,W.v=null,ae||st(W,"ready");try{pe.onreadystatechange=Se}catch{}}}function Qs(W){W.I&&(l.clearTimeout(W.I),W.I=null)}r.isActive=function(){return!!this.g};function ha(W){return W.g?W.g.readyState:0}r.Z=function(){try{return 2<ha(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(W){if(this.g){var ae=this.g.responseText;return W&&ae.indexOf(W)==0&&(ae=ae.substring(W.length)),It(ae)}};function hl(W){try{if(!W.g)return null;if("response"in W.g)return W.g.response;switch(W.H){case"":case"text":return W.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in W.g)return W.g.mozResponseArrayBuffer}return null}catch{return null}}function pa(W){const ae={};W=(W.g&&2<=ha(W)&&W.g.getAllResponseHeaders()||"").split(`\r
`);for(let Se=0;Se<W.length;Se++){if(v(W[Se]))continue;var pe=$(W[Se]);const We=pe[0];if(pe=pe[1],typeof pe!="string")continue;pe=pe.trim();const nt=ae[We]||[];ae[We]=nt,nt.push(pe)}L(ae,function(Se){return Se.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(W,ae,pe){return pe&&pe.internalChannelParams&&pe.internalChannelParams[W]||ae}function te(W){this.Aa=0,this.i=[],this.j=new Re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,W),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,W),this.cb=ta("retryDelaySeedMs",1e4,W),this.Wa=ta("forwardChannelMaxRetries",2,W),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,W),this.pa=W&&W.xmlHttpFactory||void 0,this.Xa=W&&W.Tb||void 0,this.Ca=W&&W.useFetchStreams||!1,this.L=void 0,this.J=W&&W.supportsCrossDomainXhr||!1,this.K="",this.h=new _r(W&&W.concurrentRequestLimit),this.Da=new go,this.P=W&&W.fastHandshake||!1,this.O=W&&W.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=W&&W.Rb||!1,W&&W.xa&&this.j.xa(),W&&W.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&W&&W.detectBufferingProxy||!1,this.ja=void 0,W&&W.longPollingTimeout&&0<W.longPollingTimeout&&(this.ja=W.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=te.prototype,r.la=8,r.G=1,r.connect=function(W,ae,pe,Se){fr(0),this.W=W,this.H=ae||{},pe&&Se!==void 0&&(this.H.OSID=pe,this.H.OAID=Se),this.F=this.X,this.I=Zs(this,null,this.W),qe(this)};function ge(W){if(Me(W),W.G==3){var ae=W.U++,pe=li(W.I);if(Kr(pe,"SID",W.K),Kr(pe,"RID",ae),Kr(pe,"TYPE","terminate"),Kt(W,pe),ae=new Gt(W,W.j,ae),ae.L=2,ae.v=Ua(li(pe)),pe=!1,l.navigator&&l.navigator.sendBeacon)try{pe=l.navigator.sendBeacon(ae.v.toString(),"")}catch{}!pe&&l.Image&&(new Image().src=ae.v,pe=!0),pe||(ae.g=bo(ae.j,null),ae.g.ea(ae.v)),ae.F=Date.now(),Ue(ae)}Hi(W)}function Ne(W){W.g&&(hn(W),W.g.cancel(),W.g=null)}function Me(W){Ne(W),W.u&&(l.clearTimeout(W.u),W.u=null),ni(W),W.h.cancel(),W.s&&(typeof W.s=="number"&&l.clearTimeout(W.s),W.s=null)}function qe(W){if(!br(W.h)&&!W.s){W.s=!0;var ae=W.Ga;E||M(),S||(E(),S=!0),k.add(ae,W),W.B=0}}function ct(W,ae){return pr(W.h)>=W.h.j-(W.s?1:0)?!1:W.s?(W.i=ae.D.concat(W.i),!0):W.G==1||W.G==2||W.B>=(W.Va?0:W.Wa)?!1:(W.s=Qt(d(W.Ga,W,ae),Ci(W,W.B)),W.B++,!0)}r.Ga=function(W){if(this.s)if(this.s=null,this.G==1){if(!W){this.U=Math.floor(1e5*Math.random()),W=this.U++;const We=new Gt(this,this.j,W);let nt=this.o;if(this.S&&(nt?(nt=j(nt),z(nt,this.S)):nt=this.S),this.m!==null||this.O||(We.H=nt,nt=null),this.P)e:{for(var ae=0,pe=0;pe<this.i.length;pe++){t:{var Se=this.i[pe];if("__data__"in Se.map&&(Se=Se.map.__data__,typeof Se=="string")){Se=Se.length;break t}Se=void 0}if(Se===void 0)break;if(ae+=Se,4096<ae){ae=pe;break e}if(ae===4096||pe===this.i.length-1){ae=pe+1;break e}}ae=1e3}else ae=1e3;ae=tr(this,We,ae),pe=li(this.I),Kr(pe,"RID",W),Kr(pe,"CVER",22),this.D&&Kr(pe,"X-HTTP-Session-Id",this.D),Kt(this,pe),nt&&(this.O?ae="headers="+encodeURIComponent(String(ys(nt)))+"&"+ae:this.m&&Fo(pe,this.m,nt)),an(this.h,We),this.Ua&&Kr(pe,"TYPE","init"),this.P?(Kr(pe,"$req",ae),Kr(pe,"SID","null"),We.T=!0,xn(We,pe,null)):xn(We,pe,ae),this.G=2}}else this.G==3&&(W?St(this,W):this.i.length==0||br(this.h)||St(this))};function St(W,ae){var pe;ae?pe=ae.l:pe=W.U++;const Se=li(W.I);Kr(Se,"SID",W.K),Kr(Se,"RID",pe),Kr(Se,"AID",W.T),Kt(W,Se),W.m&&W.o&&Fo(Se,W.m,W.o),pe=new Gt(W,W.j,pe,W.B+1),W.m===null&&(pe.H=W.o),ae&&(W.i=ae.D.concat(W.i)),ae=tr(W,pe,1e3),pe.I=Math.round(.5*W.wa)+Math.round(.5*W.wa*Math.random()),an(W.h,pe),xn(pe,Se,ae)}function Kt(W,ae){W.H&&F(W.H,function(pe,Se){Kr(ae,Se,pe)}),W.l&&Xn({},function(pe,Se){Kr(ae,Se,pe)})}function tr(W,ae,pe){pe=Math.min(W.i.length,pe);var Se=W.l?d(W.l.Na,W.l,W):null;e:{var We=W.i;let nt=-1;for(;;){const Pt=["count="+pe];nt==-1?0<pe?(nt=We[0].g,Pt.push("ofs="+nt)):nt=0:Pt.push("ofs="+nt);let bn=!0;for(let ci=0;ci<pe;ci++){let on=We[ci].g;const un=We[ci].map;if(on-=nt,0>on)nt=Math.max(0,We[ci].g-100),bn=!1;else try{ju(un,Pt,"req"+on+"_")}catch{Se&&Se(un)}}if(bn){Se=Pt.join("&");break e}}}return W=W.i.splice(0,pe),ae.D=W,Se}function Er(W){if(!W.g&&!W.u){W.Y=1;var ae=W.Fa;E||M(),S||(E(),S=!0),k.add(ae,W),W.v=0}}function Mr(W){return W.g||W.u||3<=W.v?!1:(W.Y++,W.u=Qt(d(W.Fa,W),Ci(W,W.v)),W.v++,!0)}r.Fa=function(){if(this.u=null,Yn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var W=2*this.R;this.j.info("BP detection timer enabled: "+W),this.A=Qt(d(this.ab,this),W)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fr(10),Ne(this),Yn(this))};function hn(W){W.A!=null&&(l.clearTimeout(W.A),W.A=null)}function Yn(W){W.g=new Gt(W,W.j,"rpc",W.Y),W.m===null&&(W.g.H=W.o),W.g.O=0;var ae=li(W.qa);Kr(ae,"RID","rpc"),Kr(ae,"SID",W.K),Kr(ae,"AID",W.T),Kr(ae,"CI",W.F?"0":"1"),!W.F&&W.ja&&Kr(ae,"TO",W.ja),Kr(ae,"TYPE","xmlhttp"),Kt(W,ae),W.m&&W.o&&Fo(ae,W.m,W.o),W.L&&(W.g.I=W.L);var pe=W.g;W=W.ia,pe.L=1,pe.v=Ua(li(ae)),pe.m=null,pe.P=!0,Tn(pe,W)}r.Za=function(){this.C!=null&&(this.C=null,Ne(this),Mr(this),fr(19))};function ni(W){W.C!=null&&(l.clearTimeout(W.C),W.C=null)}function vn(W,ae){var pe=null;if(W.g==ae){ni(W),hn(W),W.g=null;var Se=2}else if(Tr(W.h,ae))pe=ae.D,Sr(W.h,ae),Se=1;else return;if(W.G!=0){if(ae.o)if(Se==1){pe=ae.m?ae.m.length:0,ae=Date.now()-ae.F;var We=W.B;Se=Wt(),st(Se,new Gr(Se,pe)),qe(W)}else Er(W);else if(We=ae.s,We==3||We==0&&0<ae.X||!(Se==1&&ct(W,ae)||Se==2&&Mr(W)))switch(pe&&0<pe.length&&(ae=W.h,ae.i=ae.i.concat(pe)),We){case 1:Ln(W,5);break;case 4:Ln(W,10);break;case 3:Ln(W,6);break;default:Ln(W,2)}}}function Ci(W,ae){let pe=W.Ta+Math.floor(Math.random()*W.cb);return W.isActive()||(pe*=2),pe*ae}function Ln(W,ae){if(W.j.info("Error code "+ae),ae==2){var pe=d(W.fb,W),Se=W.Xa;const We=!Se;Se=new cn(Se||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||rn(Se,"https"),Ua(Se),We?zf(Se.toString(),pe):Pu(Se.toString(),pe)}else fr(2);W.G=0,W.l&&W.l.sa(ae),Hi(W),Me(W)}r.fb=function(W){W?(this.j.info("Successfully pinged google.com"),fr(2)):(this.j.info("Failed to ping google.com"),fr(1))};function Hi(W){if(W.G=0,W.ka=[],W.l){const ae=_n(W.h);(ae.length!=0||W.i.length!=0)&&(p(W.ka,ae),p(W.ka,W.i),W.h.i.length=0,g(W.i),W.i.length=0),W.l.ra()}}function Zs(W,ae,pe){var Se=pe instanceof cn?li(pe):new cn(pe);if(Se.g!="")ae&&(Se.g=ae+"."+Se.g),zr(Se,Se.s);else{var We=l.location;Se=We.protocol,ae=ae?ae+"."+We.hostname:We.hostname,We=+We.port;var nt=new cn(null);Se&&rn(nt,Se),ae&&(nt.g=ae),We&&zr(nt,We),pe&&(nt.l=pe),Se=nt}return pe=W.D,ae=W.ya,pe&&ae&&Kr(Se,pe,ae),Kr(Se,"VER",W.la),Kt(W,Se),Se}function bo(W,ae,pe){if(ae&&!W.J)throw Error("Can't create secondary domain capable XhrIo object.");return ae=W.Ca&&!W.pa?new Dn(new yo({eb:pe})):new Dn(W.pa),ae.Ha(W.J),ae}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pc(){}r=Pc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function pl(){}pl.prototype.g=function(W,ae){return new Oi(W,ae)};function Oi(W,ae){tt.call(this),this.g=new te(ae),this.l=W,this.h=ae&&ae.messageUrlParams||null,W=ae&&ae.messageHeaders||null,ae&&ae.clientProtocolHeaderRequired&&(W?W["X-Client-Protocol"]="webchannel":W={"X-Client-Protocol":"webchannel"}),this.g.o=W,W=ae&&ae.initMessageHeaders||null,ae&&ae.messageContentType&&(W?W["X-WebChannel-Content-Type"]=ae.messageContentType:W={"X-WebChannel-Content-Type":ae.messageContentType}),ae&&ae.va&&(W?W["X-WebChannel-Client-Profile"]=ae.va:W={"X-WebChannel-Client-Profile":ae.va}),this.g.S=W,(W=ae&&ae.Sb)&&!v(W)&&(this.g.m=W),this.v=ae&&ae.supportsCrossDomainXhr||!1,this.u=ae&&ae.sendRawJson||!1,(ae=ae&&ae.httpSessionIdParam)&&!v(ae)&&(this.g.D=ae,W=this.h,W!==null&&ae in W&&(W=this.h,ae in W&&delete W[ae])),this.j=new rs(this)}m(Oi,tt),Oi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Oi.prototype.close=function(){ge(this.g)},Oi.prototype.o=function(W){var ae=this.g;if(typeof W=="string"){var pe={};pe.__data__=W,W=pe}else this.u&&(pe={},pe.__data__=dt(W),W=pe);ae.i.push(new Vr(ae.Ya++,W)),ae.G==3&&qe(ae)},Oi.prototype.N=function(){this.g.l=null,delete this.j,ge(this.g),delete this.g,Oi.aa.N.call(this)};function vs(W){Ht.call(this),W.__headers__&&(this.headers=W.__headers__,this.statusCode=W.__status__,delete W.__headers__,delete W.__status__);var ae=W.__sm__;if(ae){e:{for(const pe in ae){W=pe;break e}W=void 0}(this.i=W)&&(W=this.i,ae=ae!==null&&W in ae?ae[W]:void 0),this.data=ae}else this.data=W}m(vs,Ht);function Wl(){Nt.call(this),this.status=1}m(Wl,Nt);function rs(W){this.g=W}m(rs,Pc),rs.prototype.ua=function(){st(this.g,"a")},rs.prototype.ta=function(W){st(this.g,new vs(W))},rs.prototype.sa=function(W){st(this.g,new Wl)},rs.prototype.ra=function(){st(this.g,"b")},pl.prototype.createWebChannel=pl.prototype.g,Oi.prototype.send=Oi.prototype.o,Oi.prototype.open=Oi.prototype.m,Oi.prototype.close=Oi.prototype.close,eL=function(){return new pl},JD=function(){return Wt()},ZD=Yt,W2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},er.NO_ERROR=0,er.TIMEOUT=8,er.HTTP_ERROR=6,Ny=er,Jt.COMPLETE="complete",QD=Jt,Bt.EventType=sr,sr.OPEN="a",sr.CLOSE="b",sr.ERROR="c",sr.MESSAGE="d",tt.prototype.listen=tt.prototype.K,d0=Bt,Dn.prototype.listenOnce=Dn.prototype.L,Dn.prototype.getLastError=Dn.prototype.Ka,Dn.prototype.getLastErrorCode=Dn.prototype.Ba,Dn.prototype.getStatus=Dn.prototype.Z,Dn.prototype.getResponseJson=Dn.prototype.Oa,Dn.prototype.getResponseText=Dn.prototype.oa,Dn.prototype.send=Dn.prototype.ea,Dn.prototype.setWithCredentials=Dn.prototype.Ha,YD=Dn}).apply(typeof Y1<"u"?Y1:typeof self<"u"?self:typeof window<"u"?window:{});const sT="@firebase/firestore",oT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ds=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ds.UNAUTHENTICATED=new Ds(null),Ds.GOOGLE_CREDENTIALS=new Ds("google-credentials-uid"),Ds.FIRST_PARTY=new Ds("first-party-uid"),Ds.MOCK_USER=new Ds("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nm="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new sA("@firebase/firestore");function Kh(){return Md.logLevel}function ir(r,...e){if(Md.logLevel<=mn.DEBUG){const t=e.map(lA);Md.debug(`Firestore (${nm}): ${r}`,...t)}}function pu(r,...e){if(Md.logLevel<=mn.ERROR){const t=e.map(lA);Md.error(`Firestore (${nm}): ${r}`,...t)}}function _p(r,...e){if(Md.logLevel<=mn.WARN){const t=e.map(lA);Md.warn(`Firestore (${nm}): ${r}`,...t)}}function lA(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,tL(r,n,t)}function tL(r,e,t){let n=`FIRESTORE (${nm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw pu(n),new Error(n)}function Vn(r,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r||tL(e,i,n)}function en(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xt extends Ul{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ds.UNAUTHENTICATED)))}shutdown(){}}class nK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class iK{constructor(e){this.t=e,this.currentUser=Ds.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Vn(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,t(c)):Promise.resolve();let a=new ou;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ou,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{ir("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ir("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ou)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(ir("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Vn(typeof n.accessToken=="string",31837,{l:n}),new rL(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vn(e===null||typeof e=="string",2055,{h:e}),new Ds(e)}}class aK{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Ds.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sK{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new aK(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ds.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oK{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Vn(this.o===void 0,3512);const n=a=>{a.error!=null&&ir("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,ir("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{ir("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ir("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Vn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new lT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lK(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=lK(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<t&&(n+=e.charAt(i[a]%62))}return n}}function gn(r,e){return r<e?-1:r>e?1:0}function G2(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const i=r.charAt(n),a=e.charAt(n);if(i!==a)return Xx(i)===Xx(a)?gn(i,a):Xx(i)?1:-1}return gn(r.length,e.length)}const cK=55296,uK=57343;function Xx(r){const e=r.charCodeAt(0);return e>=cK&&e<=uK}function Sp(r,e,t){return r.length===e.length&&r.every(((n,i)=>t(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="__name__";class sc{constructor(e,t,n){t===void 0?t=0:t>e.length&&Br(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Br(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return sc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sc?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=sc.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return gn(e.length,t.length)}static compareSegments(e,t){const n=sc.isNumericId(e),i=sc.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?sc.extractNumericId(e).compare(sc.extractNumericId(t)):G2(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yf.fromString(e.substring(4,e.length-2))}}class gi extends sc{construct(e,t,n){return new gi(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Xt(vt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((i=>i.length>0)))}return new gi(t)}static emptyPath(){return new gi([])}}const fK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ds extends sc{construct(e,t,n){return new ds(e,t,n)}static isValidIdentifier(e){return fK.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ds.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cT}static keyField(){return new ds([cT])}static fromServerFormat(e){const t=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Xt(vt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Xt(vt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Xt(vt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(n+=l,i++):(a(),i++)}if(a(),s)throw new Xt(vt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ds(t)}static emptyPath(){return new ds([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.path=e}static fromPath(e){return new Ar(gi.fromString(e))}static fromName(e){return new Ar(gi.fromString(e).popFirst(5))}static empty(){return new Ar(gi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gi.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ar(new gi(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(r,e,t){if(!t)throw new Xt(vt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function dK(r,e,t,n){if(e===!0&&n===!0)throw new Xt(vt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function uT(r){if(!Ar.isDocumentKey(r))throw new Xt(vt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fT(r){if(Ar.isDocumentKey(r))throw new Xt(vt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function iL(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ob(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Br(12329,{type:typeof r})}function Fl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Xt(vt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ob(r);throw new Xt(vt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(r,e){const t={typeString:r};return e&&(t.value=e),t}function Bg(r,e){if(!iL(r))throw new Xt(vt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const s=r[n];if(i&&typeof s!==i){t=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){t=`Expected '${n}' field to equal '${a.value}'`;break}}if(t)throw new Xt(vt.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=-62135596800,hT=1e6;class xi{static now(){return xi.fromMillis(Date.now())}static fromDate(e){return xi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*hT);return new xi(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Xt(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Xt(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<dT)throw new Xt(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xt(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hT}_compareTo(e){return this.seconds===e.seconds?gn(this.nanoseconds,e.nanoseconds):gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bg(e,xi._jsonSchema))return new xi(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xi._jsonSchemaVersion="firestore/timestamp/1.0",xi._jsonSchema={type:Sa("string",xi._jsonSchemaVersion),seconds:Sa("number"),nanoseconds:Sa("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{static fromTimestamp(e){return new Yr(e)}static min(){return new Yr(new xi(0,0))}static max(){return new Yr(new xi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=-1;function hK(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=Yr.fromTimestamp(n===1e9?new xi(t+1,0):new xi(t,n));return new xf(i,Ar.empty(),e)}function pK(r){return new xf(r.readTime,r.key,F0)}class xf{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new xf(Yr.min(),Ar.empty(),F0)}static max(){return new xf(Yr.max(),Ar.empty(),F0)}}function mK(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ar.comparator(r.documentKey,e.documentKey),t!==0?t:gn(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(r){if(r.code!==vt.FAILED_PRECONDITION||r.message!==gK)throw r;ir("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Br(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Et(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Et?t:Et.resolve(t)}catch(t){return Et.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Et.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Et.reject(t)}static resolve(e){return new Et(((t,n)=>{t(e)}))}static reject(e){return new Et(((t,n)=>{n(e)}))}static waitFor(e){return new Et(((t,n)=>{let i=0,a=0,s=!1;e.forEach((l=>{++i,l.next((()=>{++a,s&&a===i&&t()}),(c=>n(c)))})),s=!0,a===i&&t()}))}static or(e){let t=Et.resolve(!1);for(const n of e)t=t.next((i=>i?Et.resolve(i):n()));return t}static forEach(e,t){const n=[];return e.forEach(((i,a)=>{n.push(t.call(this,i,a))})),this.waitFor(n)}static mapArray(e,t){return new Et(((n,i)=>{const a=e.length,s=new Array(a);let l=0;for(let c=0;c<a;c++){const o=c;t(e[o]).next((u=>{s[o]=u,++l,l===a&&n(s)}),(u=>i(u)))}}))}static doWhile(e,t){return new Et(((n,i)=>{const a=()=>{e()===!0?t().next((()=>{a()}),i):n()};a()}))}}function vK(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function am(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rb.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=-1;function Mb(r){return r==null}function ev(r){return r===0&&1/r==-1/0}function bK(r){return typeof r=="number"&&Number.isInteger(r)&&!ev(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL="";function wK(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=pT(e)),e=xK(r.get(t),e);return pT(e)}function xK(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const a=r.charAt(i);switch(a){case"\0":t+="";break;case aL:t+="";break;default:t+=a}}return t}function pT(r){return r+aL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Of(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function sL(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,t){this.comparator=e,this.root=t||fs.EMPTY}insert(e,t){return new zi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fs.BLACK,null,null))}remove(e){return new zi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Q1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Q1(this.root,e,this.comparator,!1)}getReverseIterator(){return new Q1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Q1(this.root,e,this.comparator,!0)}}class Q1{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fs{constructor(e,t,n,i,a){this.key=e,this.value=t,this.color=n??fs.RED,this.left=i??fs.EMPTY,this.right=a??fs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,a){return new fs(e??this.key,t??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,n),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return fs.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Br(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Br(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Br(27949);return e+(this.isRed()?0:1)}}fs.EMPTY=null,fs.RED=!0,fs.BLACK=!1;fs.EMPTY=new class{constructor(){this.size=0}get key(){throw Br(57766)}get value(){throw Br(16141)}get color(){throw Br(16727)}get left(){throw Br(29726)}get right(){throw Br(36894)}copy(e,t,n,i,a){return this}insert(e,t,n){return new fs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.comparator=e,this.data=new zi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gT(this.data.getIterator())}getIteratorFrom(e){return new gT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Fa)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Fa(this.comparator);return t.data=e,t}}class gT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.fields=e,e.sort(ds.comparator)}static empty(){return new Ro([])}unionWith(e){let t=new Fa(ds.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ro(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sp(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new oL("Invalid base64 string: "+a):a}})(e);return new hs(t)}static fromUint8Array(e){const t=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new hs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hs.EMPTY_BYTE_STRING=new hs("");const _K=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _f(r){if(Vn(!!r,39018),typeof r=="string"){let e=0;const t=_K.exec(r);if(Vn(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:sa(r.seconds),nanos:sa(r.nanos)}}function sa(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Sf(r){return typeof r=="string"?hs.fromBase64String(r):hs.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="server_timestamp",cL="__type__",uL="__previous_value__",fL="__local_write_time__";function fA(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[cL])==null?void 0:n.stringValue)===lL}function Db(r){const e=r.mapValue.fields[uL];return fA(e)?Db(e):e}function B0(r){const e=_f(r.mapValue.fields[fL].timestampValue);return new xi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{constructor(e,t,n,i,a,s,l,c,o,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=o,this.isUsingEmulator=u}}const tv="(default)";class $0{constructor(e,t){this.projectId=e,this.database=t||tv}static empty(){return new $0("","")}get isDefaultDatabase(){return this.database===tv}isEqual(e){return e instanceof $0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="__type__",EK="__max__",Z1={mapValue:{}},hL="__vector__",rv="value";function Ef(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?fA(r)?4:CK(r)?9007199254740991:AK(r)?10:11:Br(28295,{value:r})}function bc(r,e){if(r===e)return!0;const t=Ef(r);if(t!==Ef(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return B0(r).isEqual(B0(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=_f(i.timestampValue),l=_f(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(i,a){return Sf(i.bytesValue).isEqual(Sf(a.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(i,a){return sa(i.geoPointValue.latitude)===sa(a.geoPointValue.latitude)&&sa(i.geoPointValue.longitude)===sa(a.geoPointValue.longitude)})(r,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return sa(i.integerValue)===sa(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=sa(i.doubleValue),l=sa(a.doubleValue);return s===l?ev(s)===ev(l):isNaN(s)&&isNaN(l)}return!1})(r,e);case 9:return Sp(r.arrayValue.values||[],e.arrayValue.values||[],bc);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(mT(s)!==mT(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!bc(s[c],l[c])))return!1;return!0})(r,e);default:return Br(52216,{left:r})}}function U0(r,e){return(r.values||[]).find((t=>bc(t,e)))!==void 0}function Ep(r,e){if(r===e)return 0;const t=Ef(r),n=Ef(e);if(t!==n)return gn(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return gn(r.booleanValue,e.booleanValue);case 2:return(function(a,s){const l=sa(a.integerValue||a.doubleValue),c=sa(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(r,e);case 3:return yT(r.timestampValue,e.timestampValue);case 4:return yT(B0(r),B0(e));case 5:return G2(r.stringValue,e.stringValue);case 6:return(function(a,s){const l=Sf(a),c=Sf(s);return l.compareTo(c)})(r.bytesValue,e.bytesValue);case 7:return(function(a,s){const l=a.split("/"),c=s.split("/");for(let o=0;o<l.length&&o<c.length;o++){const u=gn(l[o],c[o]);if(u!==0)return u}return gn(l.length,c.length)})(r.referenceValue,e.referenceValue);case 8:return(function(a,s){const l=gn(sa(a.latitude),sa(s.latitude));return l!==0?l:gn(sa(a.longitude),sa(s.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return vT(r.arrayValue,e.arrayValue);case 10:return(function(a,s){var d,h,m,g;const l=a.fields||{},c=s.fields||{},o=(d=l[rv])==null?void 0:d.arrayValue,u=(h=c[rv])==null?void 0:h.arrayValue,f=gn(((m=o==null?void 0:o.values)==null?void 0:m.length)||0,((g=u==null?void 0:u.values)==null?void 0:g.length)||0);return f!==0?f:vT(o,u)})(r.mapValue,e.mapValue);case 11:return(function(a,s){if(a===Z1.mapValue&&s===Z1.mapValue)return 0;if(a===Z1.mapValue)return 1;if(s===Z1.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),o=s.fields||{},u=Object.keys(o);c.sort(),u.sort();for(let f=0;f<c.length&&f<u.length;++f){const d=G2(c[f],u[f]);if(d!==0)return d;const h=Ep(l[c[f]],o[u[f]]);if(h!==0)return h}return gn(c.length,u.length)})(r.mapValue,e.mapValue);default:throw Br(23264,{he:t})}}function yT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return gn(r,e);const t=_f(r),n=_f(e),i=gn(t.seconds,n.seconds);return i!==0?i:gn(t.nanos,n.nanos)}function vT(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const a=Ep(t[i],n[i]);if(a)return a}return gn(t.length,n.length)}function Ap(r){return K2(r)}function K2(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=_f(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Sf(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Ar.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",i=!0;for(const a of t.values||[])i?i=!1:n+=",",n+=K2(a);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${K2(t.fields[s])}`;return i+"}"})(r.mapValue):Br(61005,{value:r})}function Py(r){switch(Ef(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Db(r);return e?16+Py(e):16;case 5:return 2*r.stringValue.length;case 6:return Sf(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+Py(a)),0)})(r.arrayValue);case 10:case 11:return(function(n){let i=0;return Of(n.fields,((a,s)=>{i+=a.length+Py(s)})),i})(r.mapValue);default:throw Br(13486,{value:r})}}function bT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function X2(r){return!!r&&"integerValue"in r}function dA(r){return!!r&&"arrayValue"in r}function wT(r){return!!r&&"nullValue"in r}function xT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jy(r){return!!r&&"mapValue"in r}function AK(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[dL])==null?void 0:n.stringValue)===hL}function w0(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Of(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=w0(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=w0(r.arrayValue.values[t]);return e}return{...r}}function CK(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===EK}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.value=e}static empty(){return new co({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!jy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=w0(t)}setAll(e){let t=ds.emptyPath(),n={},i=[];e.forEach(((s,l)=>{if(!t.isImmediateParentOf(l)){const c=this.getFieldsMap(t);this.applyChanges(c,n,i),n={},i=[],t=l.popLast()}s?n[l.lastSegment()]=w0(s):i.push(l.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,n,i)}delete(e){const t=this.field(e.popLast());jy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];jy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Of(t,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new co(w0(this.value))}}function pL(r){const e=[];return Of(r.fields,((t,n)=>{const i=new ds([t]);if(jy(n)){const a=pL(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new Ro(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t,n,i,a,s,l){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Ls(e,0,Yr.min(),Yr.min(),Yr.min(),co.empty(),0)}static newFoundDocument(e,t,n,i){return new Ls(e,1,t,Yr.min(),n,i,0)}static newNoDocument(e,t){return new Ls(e,2,t,Yr.min(),Yr.min(),co.empty(),0)}static newUnknownDocument(e,t){return new Ls(e,3,t,Yr.min(),Yr.min(),co.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Yr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=co.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=co.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ls&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ls(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,t){this.position=e,this.inclusive=t}}function _T(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const a=e[i],s=r.position[i];if(a.field.isKeyField()?n=Ar.comparator(Ar.fromName(s.referenceValue),t.key):n=Ep(s,t.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function ST(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!bc(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,t="asc"){this.field=e,this.dir=t}}function kK(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mL=class{};class _a extends mL{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new NK(e,t,n):t==="array-contains"?new IK(e,n):t==="in"?new OK(e,n):t==="not-in"?new RK(e,n):t==="array-contains-any"?new MK(e,n):new _a(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new PK(e,n):new jK(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ep(t,this.value)):t!==null&&Ef(this.value)===Ef(t)&&this.matchesComparison(Ep(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Br(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bl extends mL{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Bl(e,t)}matches(e){return gL(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gL(r){return r.op==="and"}function yL(r){return TK(r)&&gL(r)}function TK(r){for(const e of r.filters)if(e instanceof Bl)return!1;return!0}function Y2(r){if(r instanceof _a)return r.field.canonicalString()+r.op.toString()+Ap(r.value);if(yL(r))return r.filters.map((e=>Y2(e))).join(",");{const e=r.filters.map((t=>Y2(t))).join(",");return`${r.op}(${e})`}}function vL(r,e){return r instanceof _a?(function(n,i){return i instanceof _a&&n.op===i.op&&n.field.isEqual(i.field)&&bc(n.value,i.value)})(r,e):r instanceof Bl?(function(n,i){return i instanceof Bl&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,s,l)=>a&&vL(s,i.filters[l])),!0):!1})(r,e):void Br(19439)}function bL(r){return r instanceof _a?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ap(t.value)}`})(r):r instanceof Bl?(function(t){return t.op.toString()+" {"+t.getFilters().map(bL).join(" ,")+"}"})(r):"Filter"}class NK extends _a{constructor(e,t,n){super(e,t,n),this.key=Ar.fromName(n.referenceValue)}matches(e){const t=Ar.comparator(e.key,this.key);return this.matchesComparison(t)}}class PK extends _a{constructor(e,t){super(e,"in",t),this.keys=wL("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class jK extends _a{constructor(e,t){super(e,"not-in",t),this.keys=wL("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function wL(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((n=>Ar.fromName(n.referenceValue)))}class IK extends _a{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dA(t)&&U0(t.arrayValue,this.value)}}class OK extends _a{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&U0(this.value.arrayValue,t)}}class RK extends _a{constructor(e,t){super(e,"not-in",t)}matches(e){if(U0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!U0(this.value.arrayValue,t)}}class MK extends _a{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dA(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>U0(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(e,t=null,n=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.Te=null}}function ET(r,e=null,t=[],n=[],i=null,a=null,s=null){return new DK(r,e,t,n,i,a,s)}function hA(r){const e=en(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>Y2(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),Mb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>Ap(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>Ap(n))).join(",")),e.Te=t}return e.Te}function pA(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!kK(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!vL(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ST(r.startAt,e.startAt)&&ST(r.endAt,e.endAt)}function Q2(r){return Ar.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t=null,n=[],i=[],a=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function LK(r,e,t,n,i,a,s,l){return new sm(r,e,t,n,i,a,s,l)}function mA(r){return new sm(r)}function AT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function xL(r){return r.collectionGroup!==null}function x0(r){const e=en(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Fa(ds.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((o=>{o.isInequality()&&(l=l.add(o.field))}))})),l})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new V0(a,n))})),t.has(ds.keyField().canonicalString())||e.Ie.push(new V0(ds.keyField(),n))}return e.Ie}function fc(r){const e=en(r);return e.Ee||(e.Ee=FK(e,x0(r))),e.Ee}function FK(r,e){if(r.limitType==="F")return ET(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new V0(i.field,a)}));const t=r.endAt?new nv(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new nv(r.startAt.position,r.startAt.inclusive):null;return ET(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Z2(r,e){const t=r.filters.concat([e]);return new sm(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function J2(r,e,t){return new sm(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Lb(r,e){return pA(fc(r),fc(e))&&r.limitType===e.limitType}function _L(r){return`${hA(fc(r))}|lt:${r.limitType}`}function Xh(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((i=>bL(i))).join(", ")}]`),Mb(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>Ap(i))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>Ap(i))).join(",")),`Target(${n})`})(fc(r))}; limitType=${r.limitType})`}function Fb(r,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Ar.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(r,e)&&(function(n,i){for(const a of x0(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(r,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(r,e)&&(function(n,i){return!(n.startAt&&!(function(s,l,c){const o=_T(s,l,c);return s.inclusive?o<=0:o<0})(n.startAt,x0(n),i)||n.endAt&&!(function(s,l,c){const o=_T(s,l,c);return s.inclusive?o>=0:o>0})(n.endAt,x0(n),i))})(r,e)}function BK(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function SL(r){return(e,t)=>{let n=!1;for(const i of x0(r)){const a=$K(i,e,t);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function $K(r,e,t){const n=r.field.isKeyField()?Ar.comparator(e.key,t.key):(function(a,s,l){const c=s.data.field(a),o=l.data.field(a);return c!==null&&o!==null?Ep(c,o):Br(42886)})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Br(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Of(this.inner,((t,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return sL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UK=new zi(Ar.comparator);function mu(){return UK}const EL=new zi(Ar.comparator);function h0(...r){let e=EL;for(const t of r)e=e.insert(t.key,t);return e}function AL(r){let e=EL;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function xd(){return _0()}function CL(){return _0()}function _0(){return new th((r=>r.toString()),((r,e)=>r.isEqual(e)))}const VK=new zi(Ar.comparator),zK=new Fa(Ar.comparator);function yn(...r){let e=zK;for(const t of r)e=e.add(t);return e}const qK=new Fa(gn);function HK(){return qK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ev(e)?"-0":e}}function kL(r){return{integerValue:""+r}}function WK(r,e){return bK(e)?kL(e):gA(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this._=void 0}}function GK(r,e,t){return r instanceof z0?(function(i,a){const s={fields:{[cL]:{stringValue:lL},[fL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&fA(a)&&(a=Db(a)),a&&(s.fields[uL]=a),{mapValue:s}})(t,e):r instanceof q0?NL(r,e):r instanceof H0?PL(r,e):(function(i,a){const s=TL(i,a),l=CT(s)+CT(i.Ae);return X2(s)&&X2(i.Ae)?kL(l):gA(i.serializer,l)})(r,e)}function KK(r,e,t){return r instanceof q0?NL(r,e):r instanceof H0?PL(r,e):t}function TL(r,e){return r instanceof iv?(function(n){return X2(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class z0 extends Bb{}class q0 extends Bb{constructor(e){super(),this.elements=e}}function NL(r,e){const t=jL(e);for(const n of r.elements)t.some((i=>bc(i,n)))||t.push(n);return{arrayValue:{values:t}}}class H0 extends Bb{constructor(e){super(),this.elements=e}}function PL(r,e){let t=jL(e);for(const n of r.elements)t=t.filter((i=>!bc(i,n)));return{arrayValue:{values:t}}}class iv extends Bb{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function CT(r){return sa(r.integerValue||r.doubleValue)}function jL(r){return dA(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{constructor(e,t){this.field=e,this.transform=t}}function YK(r,e){return r.field.isEqual(e.field)&&(function(n,i){return n instanceof q0&&i instanceof q0||n instanceof H0&&i instanceof H0?Sp(n.elements,i.elements,bc):n instanceof iv&&i instanceof iv?bc(n.Ae,i.Ae):n instanceof z0&&i instanceof z0})(r.transform,e.transform)}class QK{constructor(e,t){this.version=e,this.transformResults=t}}class al{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new al}static exists(e){return new al(void 0,e)}static updateTime(e){return new al(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Iy(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class $b{}function IL(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new yA(r.key,al.none()):new $g(r.key,r.data,al.none());{const t=r.data,n=co.empty();let i=new Fa(ds.comparator);for(let a of e.fields)if(!i.has(a)){let s=t.field(a);s===null&&a.length>1&&(a=a.popLast(),s=t.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Rf(r.key,n,new Ro(i.toArray()),al.none())}}function ZK(r,e,t){r instanceof $g?(function(i,a,s){const l=i.value.clone(),c=TT(i.fieldTransforms,a,s.transformResults);l.setAll(c),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(r,e,t):r instanceof Rf?(function(i,a,s){if(!Iy(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=TT(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(OL(i)),c.setAll(l),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(r,e,t):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function S0(r,e,t,n){return r instanceof $g?(function(a,s,l,c){if(!Iy(a.precondition,s))return l;const o=a.value.clone(),u=NT(a.fieldTransforms,c,s);return o.setAll(u),s.convertToFoundDocument(s.version,o).setHasLocalMutations(),null})(r,e,t,n):r instanceof Rf?(function(a,s,l,c){if(!Iy(a.precondition,s))return l;const o=NT(a.fieldTransforms,c,s),u=s.data;return u.setAll(OL(a)),u.setAll(o),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((f=>f.field)))})(r,e,t,n):(function(a,s,l){return Iy(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(r,e,t)}function JK(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),a=TL(n.transform,i||null);a!=null&&(t===null&&(t=co.empty()),t.set(n.field,a))}return t||null}function kT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Sp(n,i,((a,s)=>YK(a,s)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class $g extends $b{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Rf extends $b{constructor(e,t,n,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function OL(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function TT(r,e,t){const n=new Map;Vn(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let i=0;i<t.length;i++){const a=r[i],s=a.transform,l=e.data.field(a.field);n.set(a.field,KK(s,l,t[i]))}return n}function NT(r,e,t){const n=new Map;for(const i of r){const a=i.transform,s=t.data.field(i.field);n.set(i.field,GK(a,s,e))}return n}class yA extends $b{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eX extends $b{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&ZK(a,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=S0(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=S0(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=CL();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=t.has(i.key)?null:l;const c=IL(s,l);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Yr.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),yn())}isEqual(e){return this.batchId===e.batchId&&Sp(this.mutations,e.mutations,((t,n)=>kT(t,n)))&&Sp(this.baseMutations,e.baseMutations,((t,n)=>kT(t,n)))}}class vA{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Vn(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return VK})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new vA(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ba,wn;function iX(r){switch(r){case vt.OK:return Br(64938);case vt.CANCELLED:case vt.UNKNOWN:case vt.DEADLINE_EXCEEDED:case vt.RESOURCE_EXHAUSTED:case vt.INTERNAL:case vt.UNAVAILABLE:case vt.UNAUTHENTICATED:return!1;case vt.INVALID_ARGUMENT:case vt.NOT_FOUND:case vt.ALREADY_EXISTS:case vt.PERMISSION_DENIED:case vt.FAILED_PRECONDITION:case vt.ABORTED:case vt.OUT_OF_RANGE:case vt.UNIMPLEMENTED:case vt.DATA_LOSS:return!0;default:return Br(15467,{code:r})}}function RL(r){if(r===void 0)return pu("GRPC error has no .code"),vt.UNKNOWN;switch(r){case ba.OK:return vt.OK;case ba.CANCELLED:return vt.CANCELLED;case ba.UNKNOWN:return vt.UNKNOWN;case ba.DEADLINE_EXCEEDED:return vt.DEADLINE_EXCEEDED;case ba.RESOURCE_EXHAUSTED:return vt.RESOURCE_EXHAUSTED;case ba.INTERNAL:return vt.INTERNAL;case ba.UNAVAILABLE:return vt.UNAVAILABLE;case ba.UNAUTHENTICATED:return vt.UNAUTHENTICATED;case ba.INVALID_ARGUMENT:return vt.INVALID_ARGUMENT;case ba.NOT_FOUND:return vt.NOT_FOUND;case ba.ALREADY_EXISTS:return vt.ALREADY_EXISTS;case ba.PERMISSION_DENIED:return vt.PERMISSION_DENIED;case ba.FAILED_PRECONDITION:return vt.FAILED_PRECONDITION;case ba.ABORTED:return vt.ABORTED;case ba.OUT_OF_RANGE:return vt.OUT_OF_RANGE;case ba.UNIMPLEMENTED:return vt.UNIMPLEMENTED;case ba.DATA_LOSS:return vt.DATA_LOSS;default:return Br(39323,{code:r})}}(wn=ba||(ba={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aX(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sX=new yf([4294967295,4294967295],0);function PT(r){const e=aX().encode(r),t=new XD;return t.update(e),new Uint8Array(t.digest())}function jT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new yf([t,n],0),new yf([i,a],0)]}class bA{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new p0(`Invalid padding: ${t}`);if(n<0)throw new p0(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new p0(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new p0(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=yf.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(yf.fromNumber(n)));return i.compare(sX)===1&&(i=new yf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=PT(e),[n,i]=jT(t);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new bA(a,i,t);return n.forEach((l=>s.insert(l))),s}insert(e){if(this.ge===0)return;const t=PT(e),[n,i]=jT(t);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.Se(s)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class p0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,t,n,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Ug.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ub(Yr.min(),i,new zi(gn),mu(),yn())}}class Ug{constructor(e,t,n,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ug(n,t,yn(),yn(),yn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,t,n,i){this.be=e,this.removedTargetIds=t,this.key=n,this.De=i}}class ML{constructor(e,t){this.targetId=e,this.Ce=t}}class DL{constructor(e,t,n=hs.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class IT{constructor(){this.ve=0,this.Fe=OT(),this.Me=hs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=yn(),t=yn(),n=yn();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Br(38017,{changeType:a})}})),new Ug(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=OT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Vn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class oX{constructor(e){this.Ge=e,this.ze=new Map,this.je=mu(),this.Je=J1(),this.He=J1(),this.Ye=new zi(gn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Br(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,n=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(Q2(a))if(n===0){const s=new Ar(a.path);this.et(t,s,Ls.newNoDocument(s,Yr.min()))}else Vn(n===1,20013,{expectedCount:n});else{const s=this._t(t);if(s!==n){const l=this.ut(e),c=l?this.ct(l,e,s):1;if(c!==0){this.it(t);const o=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,o)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=t;let s,l;try{s=Sf(n).toUint8Array()}catch(c){if(c instanceof oL)return _p("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new bA(s,i,a)}catch(c){return _p(c instanceof p0?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let i=0;return n.forEach((a=>{const s=this.Ge.ht(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(t,a,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((a,s)=>{const l=this.ot(s);if(l){if(a.current&&Q2(l.target)){const c=new Ar(l.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Ls.newNoDocument(c,e))}a.Be&&(t.set(s,a.ke()),a.qe())}}));let n=yn();this.He.forEach(((a,s)=>{let l=!0;s.forEachWhile((c=>{const o=this.ot(c);return!o||o.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(e)));const i=new Ub(e,t,this.Ye,this.je,n);return this.je=mu(),this.Je=J1(),this.He=J1(),this.Ye=new zi(gn),i}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new IT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Fa(gn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Fa(gn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ir("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new IT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function J1(){return new zi(Ar.comparator)}function OT(){return new zi(Ar.comparator)}const lX={asc:"ASCENDING",desc:"DESCENDING"},cX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uX={and:"AND",or:"OR"};class fX{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function e8(r,e){return r.useProto3Json||Mb(e)?e:{value:e}}function av(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LL(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function dX(r,e){return av(r,e.toTimestamp())}function dc(r){return Vn(!!r,49232),Yr.fromTimestamp((function(t){const n=_f(t);return new xi(n.seconds,n.nanos)})(r))}function wA(r,e){return t8(r,e).canonicalString()}function t8(r,e){const t=(function(i){return new gi(["projects",i.projectId,"databases",i.database])})(r).child("documents");return e===void 0?t:t.child(e)}function FL(r){const e=gi.fromString(r);return Vn(zL(e),10190,{key:e.toString()}),e}function r8(r,e){return wA(r.databaseId,e.path)}function Yx(r,e){const t=FL(e);if(t.get(1)!==r.databaseId.projectId)throw new Xt(vt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Xt(vt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ar($L(t))}function BL(r,e){return wA(r.databaseId,e)}function hX(r){const e=FL(r);return e.length===4?gi.emptyPath():$L(e)}function n8(r){return new gi(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function $L(r){return Vn(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function RT(r,e,t){return{name:r8(r,e),fields:t.value.mapValue.fields}}function pX(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(o){return o==="NO_CHANGE"?0:o==="ADD"?1:o==="REMOVE"?2:o==="CURRENT"?3:o==="RESET"?4:Br(39313,{state:o})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(o,u){return o.useProto3Json?(Vn(u===void 0||typeof u=="string",58123),hs.fromBase64String(u||"")):(Vn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),hs.fromUint8Array(u||new Uint8Array))})(r,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&(function(o){const u=o.code===void 0?vt.UNKNOWN:RL(o.code);return new Xt(u,o.message||"")})(s);t=new DL(n,i,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Yx(r,n.document.name),a=dc(n.document.updateTime),s=n.document.createTime?dc(n.document.createTime):Yr.min(),l=new co({mapValue:{fields:n.document.fields}}),c=Ls.newFoundDocument(i,a,s,l),o=n.targetIds||[],u=n.removedTargetIds||[];t=new Oy(o,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Yx(r,n.document),a=n.readTime?dc(n.readTime):Yr.min(),s=Ls.newNoDocument(i,a),l=n.removedTargetIds||[];t=new Oy([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Yx(r,n.document),a=n.removedTargetIds||[];t=new Oy([],a,i,null)}else{if(!("filter"in e))return Br(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new nX(i,a),l=n.targetId;t=new ML(l,s)}}return t}function mX(r,e){let t;if(e instanceof $g)t={update:RT(r,e.key,e.value)};else if(e instanceof yA)t={delete:r8(r,e.key)};else if(e instanceof Rf)t={update:RT(r,e.key,e.data),updateMask:EX(e.fieldMask)};else{if(!(e instanceof eX))return Br(16599,{Vt:e.type});t={verify:r8(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(a,s){const l=s.transform;if(l instanceof z0)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof q0)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof H0)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof iv)return{fieldPath:s.field.canonicalString(),increment:l.Ae};throw Br(20930,{transform:s.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:dX(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Br(27497)})(r,e.precondition)),t}function gX(r,e){return r&&r.length>0?(Vn(e!==void 0,14353),r.map((t=>(function(i,a){let s=i.updateTime?dc(i.updateTime):dc(a);return s.isEqual(Yr.min())&&(s=dc(a)),new QK(s,i.transformResults||[])})(t,e)))):[]}function yX(r,e){return{documents:[BL(r,e.path)]}}function vX(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=BL(r,i);const a=(function(o){if(o.length!==0)return VL(Bl.create(o,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const s=(function(o){if(o.length!==0)return o.map((u=>(function(d){return{field:Yh(d.field),direction:xX(d.dir)}})(u)))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=e8(r,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=(function(o){return{before:o.inclusive,values:o.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(o){return{before:!o.inclusive,values:o.position}})(e.endAt)),{ft:t,parent:i}}function bX(r){let e=hX(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){Vn(n===1,65062);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];t.where&&(a=(function(f){const d=UL(f);return d instanceof Bl&&yL(d)?d.getFilters():[d]})(t.where));let s=[];t.orderBy&&(s=(function(f){return f.map((d=>(function(m){return new V0(Qh(m.field),(function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(m.direction))})(d)))})(t.orderBy));let l=null;t.limit&&(l=(function(f){let d;return d=typeof f=="object"?f.value:f,Mb(d)?null:d})(t.limit));let c=null;t.startAt&&(c=(function(f){const d=!!f.before,h=f.values||[];return new nv(h,d)})(t.startAt));let o=null;return t.endAt&&(o=(function(f){const d=!f.before,h=f.values||[];return new nv(h,d)})(t.endAt)),LK(e,i,s,a,l,"F",c,o)}function wX(r,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Br(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function UL(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Qh(t.unaryFilter.field);return _a.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Qh(t.unaryFilter.field);return _a.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Qh(t.unaryFilter.field);return _a.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Qh(t.unaryFilter.field);return _a.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Br(61313);default:return Br(60726)}})(r):r.fieldFilter!==void 0?(function(t){return _a.create(Qh(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Br(58110);default:return Br(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Bl.create(t.compositeFilter.filters.map((n=>UL(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Br(1026)}})(t.compositeFilter.op))})(r):Br(30097,{filter:r})}function xX(r){return lX[r]}function _X(r){return cX[r]}function SX(r){return uX[r]}function Yh(r){return{fieldPath:r.canonicalString()}}function Qh(r){return ds.fromServerFormat(r.fieldPath)}function VL(r){return r instanceof _a?(function(t){if(t.op==="=="){if(xT(t.value))return{unaryFilter:{field:Yh(t.field),op:"IS_NAN"}};if(wT(t.value))return{unaryFilter:{field:Yh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xT(t.value))return{unaryFilter:{field:Yh(t.field),op:"IS_NOT_NAN"}};if(wT(t.value))return{unaryFilter:{field:Yh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yh(t.field),op:_X(t.op),value:t.value}}})(r):r instanceof Bl?(function(t){const n=t.getFilters().map((i=>VL(i)));return n.length===1?n[0]:{compositeFilter:{op:SX(t.op),filters:n}}})(r):Br(54877,{filter:r})}function EX(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function zL(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t,n,i,a=Yr.min(),s=Yr.min(),l=hs.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new df(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new df(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new df(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new df(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{constructor(e){this.yt=e}}function CX(r){const e=bX({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?J2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kX{constructor(){this.Cn=new TX}addToCollectionParentIndex(e,t){return this.Cn.add(t),Et.resolve()}getCollectionParents(e,t){return Et.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Et.resolve()}deleteFieldIndex(e,t){return Et.resolve()}deleteAllFieldIndexes(e){return Et.resolve()}createTargetIndexes(e,t){return Et.resolve()}getDocumentsMatchingTarget(e,t){return Et.resolve(null)}getIndexType(e,t){return Et.resolve(0)}getFieldIndexes(e,t){return Et.resolve([])}getNextCollectionGroupToUpdate(e){return Et.resolve(null)}getMinOffset(e,t){return Et.resolve(xf.min())}getMinOffsetFromCollectionGroup(e,t){return Et.resolve(xf.min())}updateCollectionGroup(e,t,n){return Et.resolve()}updateIndexEntries(e,t){return Et.resolve()}}class TX{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Fa(gi.comparator),a=!i.has(n);return this.index[t]=i.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Fa(gi.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qL=41943040;class so{static withCacheSize(e){return new so(e,so.DEFAULT_COLLECTION_PERCENTILE,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */so.DEFAULT_COLLECTION_PERCENTILE=10,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,so.DEFAULT=new so(qL,so.DEFAULT_COLLECTION_PERCENTILE,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),so.DISABLED=new so(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cp(0)}static cr(){return new Cp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="LruGarbageCollector",NX=1048576;function LT([r,e],[t,n]){const i=gn(r,t);return i===0?gn(e,n):i}class PX{constructor(e){this.Ir=e,this.buffer=new Fa(LT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();LT(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jX{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ir(DT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){am(t)?ir(DT,"Ignoring IndexedDB error during garbage collection: ",t):await im(t)}await this.Vr(3e5)}))}}class IX{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return Et.resolve(Rb.ce);const n=new PX(t);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ir("LruGarbageCollector","Garbage collection skipped; disabled"),Et.resolve(MT)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ir("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,i,a,s,l,c,o;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(ir("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i)))).next((f=>(n=f,l=Date.now(),this.removeTargets(e,n,t)))).next((f=>(a=f,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((f=>(o=Date.now(),Kh()<=mn.DEBUG&&ir("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(o-c)+`ms
Total Duration: ${o-u}ms`),Et.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f}))))}}function OX(r,e){return new IX(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RX{constructor(){this.changes=new th((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ls.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?Et.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MX{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DX{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(n!==null&&S0(n.mutation,i,Ro.empty(),xi.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,yn()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=yn()){const i=xd();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((a=>{let s=h0();return a.forEach(((l,c)=>{s=s.insert(l,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,t){const n=xd();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,yn())))}populateOverlays(e,t,n){const i=[];return n.forEach((a=>{t.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,l)=>{t.set(s,l)}))}))}computeViews(e,t,n,i){let a=mu();const s=_0(),l=(function(){return _0()})();return t.forEach(((c,o)=>{const u=n.get(o.key);i.has(o.key)&&(u===void 0||u.mutation instanceof Rf)?a=a.insert(o.key,o):u!==void 0?(s.set(o.key,u.mutation.getFieldMask()),S0(u.mutation,o,u.mutation.getFieldMask(),xi.now())):s.set(o.key,Ro.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((o,u)=>s.set(o,u))),t.forEach(((o,u)=>l.set(o,new MX(u,s.get(o)??null)))),l)))}recalculateAndSaveOverlays(e,t){const n=_0();let i=new zi(((s,l)=>s-l)),a=yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((s=>{for(const l of s)l.keys().forEach((c=>{const o=t.get(c);if(o===null)return;let u=n.get(c)||Ro.empty();u=l.applyToLocalView(o,u),n.set(c,u);const f=(i.get(l.batchId)||yn()).add(c);i=i.insert(l.batchId,f)}))})).next((()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),o=c.key,u=c.value,f=CL();u.forEach((d=>{if(!a.has(d)){const h=IL(t.get(d),n.get(d));h!==null&&f.set(d,h),a=a.add(d)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,f))}return Et.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,i){return(function(s){return Ar.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-a.size):Et.resolve(xd());let l=F0,c=a;return s.next((o=>Et.forEach(o,((u,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),a.get(u)?Et.resolve():this.remoteDocumentCache.getEntry(e,u).next((d=>{c=c.insert(u,d)}))))).next((()=>this.populateOverlays(e,o,a))).next((()=>this.computeViews(e,c,o,yn()))).next((u=>({batchId:l,changes:AL(u)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ar(t)).next((n=>{let i=h0();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const a=t.collectionGroup;let s=h0();return this.indexManager.getCollectionParents(e,a).next((l=>Et.forEach(l,(c=>{const o=(function(f,d){return new sm(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(t,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,o,n,i).next((u=>{u.forEach(((f,d)=>{s=s.insert(f,d)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,i)))).next((s=>{a.forEach(((c,o)=>{const u=o.getKey();s.get(u)===null&&(s=s.insert(u,Ls.newInvalidDocument(u)))}));let l=h0();return s.forEach(((c,o)=>{const u=a.get(c);u!==void 0&&S0(u.mutation,o,Ro.empty(),xi.now()),Fb(t,o)&&(l=l.insert(c,o))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LX{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Et.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:dc(i.createTime)}})(t)),Et.resolve()}getNamedQuery(e,t){return Et.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:CX(i.bundledQuery),readTime:dc(i.readTime)}})(t)),Et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FX{constructor(){this.overlays=new zi(Ar.comparator),this.qr=new Map}getOverlay(e,t){return Et.resolve(this.overlays.get(t))}getOverlays(e,t){const n=xd();return Et.forEach(t,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((i,a)=>{this.St(e,t,a)})),Et.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(n)),Et.resolve()}getOverlaysForCollection(e,t,n){const i=xd(),a=t.length+1,s=new Ar(t.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,o=c.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return Et.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let a=new zi(((o,u)=>o-u));const s=this.overlays.getIterator();for(;s.hasNext();){const o=s.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){let u=a.get(o.largestBatchId);u===null&&(u=xd(),a=a.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}const l=xd(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((o,u)=>l.set(o,u))),!(l.size()>=i)););return Et.resolve(l)}St(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new rX(t,n));let a=this.qr.get(t);a===void 0&&(a=yn(),this.qr.set(t,a)),this.qr.set(t,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BX{constructor(){this.sessionToken=hs.EMPTY_BYTE_STRING}getSessionToken(e){return Et.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.Qr=new Fa(Qa.$r),this.Ur=new Fa(Qa.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Qa(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new Qa(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new Ar(new gi([])),n=new Qa(t,e),i=new Qa(t,e+1),a=[];return this.Ur.forEachInRange([n,i],(s=>{this.Gr(s),a.push(s.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ar(new gi([])),n=new Qa(t,e),i=new Qa(t,e+1);let a=yn();return this.Ur.forEachInRange([n,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const t=new Qa(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Qa{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ar.comparator(e.key,t.key)||gn(e.Yr,t.Yr)}static Kr(e,t){return gn(e.Yr,t.Yr)||Ar.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $X{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Fa(Qa.$r)}checkEmpty(e){return Et.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new tX(a,t,n,i);this.mutationQueue.push(s);for(const l of i)this.Zr=this.Zr.add(new Qa(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Et.resolve(s)}lookupMutationBatch(e,t){return Et.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.ei(n),a=i<0?0:i;return Et.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Et.resolve(this.mutationQueue.length===0?uA:this.tr-1)}getAllMutationBatches(e){return Et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Qa(t,0),i=new Qa(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],(s=>{const l=this.Xr(s.Yr);a.push(l)})),Et.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Fa(gn);return t.forEach((i=>{const a=new Qa(i,0),s=new Qa(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],(l=>{n=n.add(l.Yr)}))})),Et.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let a=n;Ar.isDocumentKey(a)||(a=a.child(""));const s=new Qa(new Ar(a),0);let l=new Fa(gn);return this.Zr.forEachWhile((c=>{const o=c.key.path;return!!n.isPrefixOf(o)&&(o.length===i&&(l=l.add(c.Yr)),!0)}),s),Et.resolve(this.ti(l))}ti(e){const t=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Vn(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Et.forEach(t.mutations,(i=>{const a=new Qa(i.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new Qa(t,0),i=this.Zr.firstAfterOrEqual(n);return Et.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Et.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UX{constructor(e){this.ri=e,this.docs=(function(){return new zi(Ar.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),a=i?i.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Et.resolve(n?n.document.mutableCopy():Ls.newInvalidDocument(t))}getEntries(e,t){let n=mu();return t.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Ls.newInvalidDocument(i))})),Et.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let a=mu();const s=t.path,l=new Ar(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:o,value:{document:u}}=c.getNext();if(!s.isPrefixOf(o.path))break;o.path.length>s.length+1||mK(pK(u),n)<=0||(i.has(u.key)||Fb(t,u))&&(a=a.insert(u.key,u.mutableCopy()))}return Et.resolve(a)}getAllFromCollectionGroup(e,t,n,i){Br(9500)}ii(e,t){return Et.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new VX(this)}getSize(e){return Et.resolve(this.size)}}class VX extends RX{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),Et.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zX{constructor(e){this.persistence=e,this.si=new th((t=>hA(t)),pA),this.lastRemoteSnapshotVersion=Yr.min(),this.highestTargetId=0,this.oi=0,this._i=new xA,this.targetCount=0,this.ai=Cp.ur()}forEachTarget(e,t){return this.si.forEach(((n,i)=>t(i))),Et.resolve()}getLastRemoteSnapshotVersion(e){return Et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Et.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Et.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Et.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Cp(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Et.resolve()}updateTargetData(e,t){return this.Pr(t),Et.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Et.resolve()}removeTargets(e,t,n){let i=0;const a=[];return this.si.forEach(((s,l)=>{l.sequenceNumber<=t&&n.get(l.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),Et.waitFor(a).next((()=>i))}getTargetCount(e){return Et.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Et.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Et.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),Et.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Et.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Et.resolve(n)}containsKey(e,t){return Et.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,t){this.ui={},this.overlays={},this.ci=new Rb(0),this.li=!1,this.li=!0,this.hi=new BX,this.referenceDelegate=e(this),this.Pi=new zX(this),this.indexManager=new kX,this.remoteDocumentCache=(function(i){return new UX(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new AX(t),this.Ii=new LX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new FX,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new $X(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){ir("MemoryPersistence","Starting transaction:",e);const i=new qX(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,t){return Et.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class qX extends yK{constructor(e){super(),this.currentSequenceNumber=e}}class _A{constructor(e){this.persistence=e,this.Ri=new xA,this.Vi=null}static mi(e){return new _A(e)}get fi(){if(this.Vi)return this.Vi;throw Br(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Et.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Et.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Et.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Et.forEach(this.fi,(n=>{const i=Ar.fromPath(n);return this.gi(e,i).next((a=>{a||t.removeEntry(i,Yr.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Et.or([()=>Et.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class sv{constructor(e,t){this.persistence=e,this.pi=new th((n=>wK(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=OX(this,t)}static mi(e,t){return new sv(e,t)}Ei(){}di(e){return Et.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((i=>n+i))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return Et.forEach(this.pi,((n,i)=>this.br(e,n,i).next((a=>a?Et.resolve():t(i)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(s=>this.br(e,s,t).next((l=>{l||(n++,a.removeEntry(s,Yr.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Et.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Et.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Et.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Et.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Py(e.data.value)),t}br(e,t,n){return Et.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return Et.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=i}static As(e,t){let n=yn(),i=yn();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new SA(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WX{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return FW()?8:vK($s())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,i){const a={result:null};return this.ys(e,t).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ws(e,t,i,n).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new HX;return this.Ss(e,t,s).next((l=>{if(a.result=l,this.Vs)return this.bs(e,t,s,l.size)}))})).next((()=>a.result))}bs(e,t,n,i){return n.documentReadCount<this.fs?(Kh()<=mn.DEBUG&&ir("QueryEngine","SDK will not create cache indexes for query:",Xh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Et.resolve()):(Kh()<=mn.DEBUG&&ir("QueryEngine","Query:",Xh(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Kh()<=mn.DEBUG&&ir("QueryEngine","The SDK decides to create cache indexes for query:",Xh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fc(t))):Et.resolve())}ys(e,t){if(AT(t))return Et.resolve(null);let n=fc(t);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=J2(t,null,"F"),n=fc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const s=yn(...a);return this.ps.getDocuments(e,s).next((l=>this.indexManager.getMinOffset(e,n).next((c=>{const o=this.Ds(t,l);return this.Cs(t,o,s,c.readTime)?this.ys(e,J2(t,null,"F")):this.vs(e,o,t,c)}))))})))))}ws(e,t,n,i){return AT(t)||i.isEqual(Yr.min())?Et.resolve(null):this.ps.getDocuments(e,n).next((a=>{const s=this.Ds(t,a);return this.Cs(t,s,n,i)?Et.resolve(null):(Kh()<=mn.DEBUG&&ir("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xh(t)),this.vs(e,s,t,hK(i,F0)).next((l=>l)))}))}Ds(e,t){let n=new Fa(SL(e));return t.forEach(((i,a)=>{Fb(e,a)&&(n=n.add(a))})),n}Cs(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,n){return Kh()<=mn.DEBUG&&ir("QueryEngine","Using full collection scan to execute query:",Xh(t)),this.ps.getDocumentsMatchingQuery(e,t,xf.min(),n)}vs(e,t,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((a=>(t.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="LocalStore",GX=3e8;class KX{constructor(e,t,n,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new zi(gn),this.xs=new th((a=>hA(a)),pA),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DX(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function XX(r,e,t,n){return new KX(r,e,t,n)}async function WL(r,e){const t=en(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((a=>{const s=[],l=[];let c=yn();for(const o of i){s.push(o.batchId);for(const u of o.mutations)c=c.add(u.key)}for(const o of a){l.push(o.batchId);for(const u of o.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(n,c).next((o=>({Ls:o,removedBatchIds:s,addedBatchIds:l})))}))}))}function YX(r,e){const t=en(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,o,u){const f=o.batch,d=f.keys();let h=Et.resolve();return d.forEach((m=>{h=h.next((()=>u.getEntry(c,m))).next((g=>{const p=o.docVersions.get(m);Vn(p!==null,48541),g.version.compareTo(p)<0&&(f.applyToRemoteDocument(g,o),g.isValidDocument()&&(g.setReadTime(o.commitVersion),u.addEntry(g)))}))})),h.next((()=>l.mutationQueue.removeMutationBatch(c,f)))})(t,n,e,a).next((()=>a.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let c=yn();for(let o=0;o<l.mutationResults.length;++o)l.mutationResults[o].transformResults.length>0&&(c=c.add(l.batch.mutations[o].key));return c})(e)))).next((()=>t.localDocuments.getDocuments(n,i)))}))}function GL(r){const e=en(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function QX(r,e){const t=en(r),n=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const l=[];e.targetChanges.forEach(((u,f)=>{const d=i.get(f);if(!d)return;l.push(t.Pi.removeMatchingKeys(a,u.removedDocuments,f).next((()=>t.Pi.addMatchingKeys(a,u.addedDocuments,f))));let h=d.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(hs.EMPTY_BYTE_STRING,Yr.min()).withLastLimboFreeSnapshotVersion(Yr.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,n)),i=i.insert(f,h),(function(g,p,y){return g.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=GX?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0})(d,h,u)&&l.push(t.Pi.updateTargetData(a,h))}));let c=mu(),o=yn();if(e.documentUpdates.forEach((u=>{e.resolvedLimboDocuments.has(u)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(a,u))})),l.push(ZX(a,s,e.documentUpdates).next((u=>{c=u.ks,o=u.qs}))),!n.isEqual(Yr.min())){const u=t.Pi.getLastRemoteSnapshotVersion(a).next((f=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n)));l.push(u)}return Et.waitFor(l).next((()=>s.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,c,o))).next((()=>c))})).then((a=>(t.Ms=i,a)))}function ZX(r,e,t){let n=yn(),i=yn();return t.forEach((a=>n=n.add(a))),e.getEntries(r,n).next((a=>{let s=mu();return t.forEach(((l,c)=>{const o=a.get(l);c.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Yr.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!o.isValidDocument()||c.version.compareTo(o.version)>0||c.version.compareTo(o.version)===0&&o.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):ir(EA,"Ignoring outdated watch update for ",l,". Current version:",o.version," Watch version:",c.version)})),{ks:s,qs:i}}))}function JX(r,e){const t=en(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=uA),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function eY(r,e){const t=en(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return t.Pi.getTargetData(n,e).next((a=>a?(i=a,Et.resolve(i)):t.Pi.allocateTargetId(n).next((s=>(i=new df(e,s,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=t.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function i8(r,e,t){const n=en(r),i=n.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",a,(s=>n.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!am(s))throw s;ir(EA,`Failed to update sequence numbers for target ${e}: ${s}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function FT(r,e,t){const n=en(r);let i=Yr.min(),a=yn();return n.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,o,u){const f=en(c),d=f.xs.get(u);return d!==void 0?Et.resolve(f.Ms.get(d)):f.Pi.getTargetData(o,u)})(n,s,fc(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,l.targetId).next((c=>{a=c}))})).next((()=>n.Fs.getDocumentsMatchingQuery(s,e,t?i:Yr.min(),t?a:yn()))).next((l=>(tY(n,BK(e),l),{documents:l,Qs:a})))))}function tY(r,e,t){let n=r.Os.get(e)||Yr.min();t.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),r.Os.set(e,n)}class BT{constructor(){this.activeTargetIds=HK()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rY{constructor(){this.Mo=new BT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new BT,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="ConnectivityMonitor";class UT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ir($T,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ir($T,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ey=null;function a8(){return ey===null?ey=(function(){return 268435456+Math.round(2147483648*Math.random())})():ey++,"0x"+ey.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="RestConnection",iY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aY{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===tv?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,t,n,i,a){const s=a8(),l=this.zo(e,t.toUriEncodedString());ir(Qx,`Sending RPC '${e}' ${s}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:o}=new URL(l),u=Qd(o);return this.Jo(e,l,c,n,u).then((f=>(ir(Qx,`Received RPC '${e}' ${s}: `,f),f)),(f=>{throw _p(Qx,`RPC '${e}' ${s} failed with error: `,f,"url: ",l,"request:",n),f}))}Ho(e,t,n,i,a,s){return this.Go(e,t,n,i,a)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+nm})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}zo(e,t){const n=iY[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sY{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="WebChannelConnection";class oY extends aY{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,i,a){const s=a8();return new Promise(((l,c)=>{const o=new YD;o.setWithCredentials(!0),o.listenOnce(QD.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Ny.NO_ERROR:const f=o.getResponseJson();ir(Ps,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),l(f);break;case Ny.TIMEOUT:ir(Ps,`RPC '${e}' ${s} timed out`),c(new Xt(vt.DEADLINE_EXCEEDED,"Request time out"));break;case Ny.HTTP_ERROR:const d=o.getStatus();if(ir(Ps,`RPC '${e}' ${s} failed with status:`,d,"response text:",o.getResponseText()),d>0){let h=o.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const g=(function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(vt).indexOf(v)>=0?v:vt.UNKNOWN})(m.status);c(new Xt(g,m.message))}else c(new Xt(vt.UNKNOWN,"Server responded with status "+o.getStatus()))}else c(new Xt(vt.UNAVAILABLE,"Connection failed."));break;default:Br(9055,{l_:e,streamId:s,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{ir(Ps,`RPC '${e}' ${s} completed.`)}}));const u=JSON.stringify(i);ir(Ps,`RPC '${e}' ${s} sending request:`,i),o.send(t,"POST",u,n,15)}))}T_(e,t,n){const i=a8(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=eL(),l=JD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},o=this.longPollingOptions.timeoutSeconds;o!==void 0&&(c.longPollingTimeout=Math.round(1e3*o)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,t,n),c.encodeInitMessageHeaders=!0;const u=a.join("");ir(Ps,`Creating RPC '${e}' stream ${i}: ${u}`,c);const f=s.createWebChannel(u,c);this.I_(f);let d=!1,h=!1;const m=new sY({Yo:p=>{h?ir(Ps,`Not sending because RPC '${e}' stream ${i} is closed:`,p):(d||(ir(Ps,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),ir(Ps,`RPC '${e}' stream ${i} sending:`,p),f.send(p))},Zo:()=>f.close()}),g=(p,y,v)=>{p.listen(y,(w=>{try{v(w)}catch(C){setTimeout((()=>{throw C}),0)}}))};return g(f,d0.EventType.OPEN,(()=>{h||(ir(Ps,`RPC '${e}' stream ${i} transport opened.`),m.o_())})),g(f,d0.EventType.CLOSE,(()=>{h||(h=!0,ir(Ps,`RPC '${e}' stream ${i} transport closed`),m.a_(),this.E_(f))})),g(f,d0.EventType.ERROR,(p=>{h||(h=!0,_p(Ps,`RPC '${e}' stream ${i} transport errored. Name:`,p.name,"Message:",p.message),m.a_(new Xt(vt.UNAVAILABLE,"The operation could not be completed")))})),g(f,d0.EventType.MESSAGE,(p=>{var y;if(!h){const v=p.data[0];Vn(!!v,16349);const w=v,C=(w==null?void 0:w.error)||((y=w[0])==null?void 0:y.error);if(C){ir(Ps,`RPC '${e}' stream ${i} received error:`,C);const P=C.status;let F=(function(I){const z=ba[I];if(z!==void 0)return RL(z)})(P),L=C.message;F===void 0&&(F=vt.INTERNAL,L="Unknown error status: "+P+" with message "+C.message),h=!0,m.a_(new Xt(F,L)),f.close()}else ir(Ps,`RPC '${e}' stream ${i} received:`,v),m.u_(v)}})),g(l,ZD.STAT_EVENT,(p=>{p.stat===W2.PROXY?ir(Ps,`RPC '${e}' stream ${i} detected buffering proxy`):p.stat===W2.NOPROXY&&ir(Ps,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{m.__()}),0),m}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Zx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(r){return new fX(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,t,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-n);i>0&&ir("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="PersistentStream";class XL{constructor(e,t,n,i,a,s,l,c){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KL(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===vt.RESOURCE_EXHAUSTED?(pu(t.toString()),pu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===vt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===t&&this.G_(n,i)}),(n=>{e((()=>{const i=new Xt(vt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ir(VT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ir(VT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lY extends XL{constructor(e,t,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,s),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=pX(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Yr.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Yr.min():s.readTime?dc(s.readTime):Yr.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=n8(this.serializer),t.addTarget=(function(a,s){let l;const c=s.target;if(l=Q2(c)?{documents:yX(a,c)}:{query:vX(a,c).ft},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=LL(a,s.resumeToken);const o=e8(a,s.expectedCount);o!==null&&(l.expectedCount=o)}else if(s.snapshotVersion.compareTo(Yr.min())>0){l.readTime=av(a,s.snapshotVersion.toTimestamp());const o=e8(a,s.expectedCount);o!==null&&(l.expectedCount=o)}return l})(this.serializer,e);const n=wX(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=n8(this.serializer),t.removeTarget=e,this.q_(t)}}class cY extends XL{constructor(e,t,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Vn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Vn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Vn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=gX(e.writeResults,e.commitTime),n=dc(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=n8(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>mX(this.serializer,n)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{}class fY extends uY{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Xt(vt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Go(e,t8(t,n),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Xt(vt.UNKNOWN,a.toString())}))}Ho(e,t,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Ho(e,t8(t,n),i,s,l,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Xt(vt.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class dY{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pu(t),this.aa=!1):ir("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="RemoteStore";class hY{constructor(e,t,n,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((s=>{n.enqueueAndForget((async()=>{rh(this)&&(ir(Dd,"Restarting streams for network reachability change."),await(async function(c){const o=en(c);o.Ea.add(4),await Vg(o),o.Ra.set("Unknown"),o.Ea.delete(4),await zb(o)})(this))}))})),this.Ra=new dY(n,i)}}async function zb(r){if(rh(r))for(const e of r.da)await e(!0)}async function Vg(r){for(const e of r.da)await e(!1)}function YL(r,e){const t=en(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),TA(t)?kA(t):om(t).O_()&&CA(t,e))}function AA(r,e){const t=en(r),n=om(t);t.Ia.delete(e),n.O_()&&QL(t,e),t.Ia.size===0&&(n.O_()?n.L_():rh(t)&&t.Ra.set("Unknown"))}function CA(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Yr.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}om(r).Y_(e)}function QL(r,e){r.Va.Ue(e),om(r).Z_(e)}function kA(r){r.Va=new oX({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),om(r).start(),r.Ra.ua()}function TA(r){return rh(r)&&!om(r).x_()&&r.Ia.size>0}function rh(r){return en(r).Ea.size===0}function ZL(r){r.Va=void 0}async function pY(r){r.Ra.set("Online")}async function mY(r){r.Ia.forEach(((e,t)=>{CA(r,e)}))}async function gY(r,e){ZL(r),TA(r)?(r.Ra.ha(e),kA(r)):r.Ra.set("Unknown")}async function yY(r,e,t){if(r.Ra.set("Online"),e instanceof DL&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ia.delete(l),i.Va.removeTarget(l))})(r,e)}catch(n){ir(Dd,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await ov(r,n)}else if(e instanceof Oy?r.Va.Ze(e):e instanceof ML?r.Va.st(e):r.Va.tt(e),!t.isEqual(Yr.min()))try{const n=await GL(r.localStore);t.compareTo(n)>=0&&await(function(a,s){const l=a.Va.Tt(s);return l.targetChanges.forEach(((c,o)=>{if(c.resumeToken.approximateByteSize()>0){const u=a.Ia.get(o);u&&a.Ia.set(o,u.withResumeToken(c.resumeToken,s))}})),l.targetMismatches.forEach(((c,o)=>{const u=a.Ia.get(c);if(!u)return;a.Ia.set(c,u.withResumeToken(hs.EMPTY_BYTE_STRING,u.snapshotVersion)),QL(a,c);const f=new df(u.target,c,o,u.sequenceNumber);CA(a,f)})),a.remoteSyncer.applyRemoteEvent(l)})(r,t)}catch(n){ir(Dd,"Failed to raise snapshot:",n),await ov(r,n)}}async function ov(r,e,t){if(!am(e))throw e;r.Ea.add(1),await Vg(r),r.Ra.set("Offline"),t||(t=()=>GL(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ir(Dd,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await zb(r)}))}function JL(r,e){return e().catch((t=>ov(r,t,e)))}async function qb(r){const e=en(r),t=Af(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:uA;for(;vY(e);)try{const i=await JX(e.localStore,n);if(i===null){e.Ta.length===0&&t.L_();break}n=i.batchId,bY(e,i)}catch(i){await ov(e,i)}e3(e)&&t3(e)}function vY(r){return rh(r)&&r.Ta.length<10}function bY(r,e){r.Ta.push(e);const t=Af(r);t.O_()&&t.X_&&t.ea(e.mutations)}function e3(r){return rh(r)&&!Af(r).x_()&&r.Ta.length>0}function t3(r){Af(r).start()}async function wY(r){Af(r).ra()}async function xY(r){const e=Af(r);for(const t of r.Ta)e.ea(t.mutations)}async function _Y(r,e,t){const n=r.Ta.shift(),i=vA.from(n,e,t);await JL(r,(()=>r.remoteSyncer.applySuccessfulWrite(i))),await qb(r)}async function SY(r,e){e&&Af(r).X_&&await(async function(n,i){if((function(s){return iX(s)&&s!==vt.ABORTED})(i.code)){const a=n.Ta.shift();Af(n).B_(),await JL(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await qb(n)}})(r,e),e3(r)&&t3(r)}async function zT(r,e){const t=en(r);t.asyncQueue.verifyOperationInProgress(),ir(Dd,"RemoteStore received new credentials");const n=rh(t);t.Ea.add(3),await Vg(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await zb(t)}async function EY(r,e){const t=en(r);e?(t.Ea.delete(2),await zb(t)):e||(t.Ea.add(2),await Vg(t),t.Ra.set("Unknown"))}function om(r){return r.ma||(r.ma=(function(t,n,i){const a=en(t);return a.sa(),new lY(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(r.datastore,r.asyncQueue,{Xo:pY.bind(null,r),t_:mY.bind(null,r),r_:gY.bind(null,r),H_:yY.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),TA(r)?kA(r):r.Ra.set("Unknown")):(await r.ma.stop(),ZL(r))}))),r.ma}function Af(r){return r.fa||(r.fa=(function(t,n,i){const a=en(t);return a.sa(),new cY(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:wY.bind(null,r),r_:SY.bind(null,r),ta:xY.bind(null,r),na:_Y.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await qb(r)):(await r.fa.stop(),r.Ta.length>0&&(ir(Dd,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,t,n,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new ou,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,a){const s=Date.now()+n,l=new NA(e,t,s,i,a);return l.start(n),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Xt(vt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function PA(r,e){if(pu("AsyncQueue",`${e}: ${r}`),am(r))return new Xt(vt.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{static emptySet(e){return new op(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ar.comparator(t.key,n.key):(t,n)=>Ar.comparator(t.key,n.key),this.keyedMap=h0(),this.sortedSet=new zi(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof op)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new op;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.ga=new zi(Ar.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Br(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class kp{constructor(e,t,n,i,a,s,l,c,o){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=o}static fromInitialDocuments(e,t,n,i,a){const s=[];return t.forEach((l=>{s.push({type:0,doc:l})})),new kp(e,t,op.emptySet(t),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class CY{constructor(){this.queries=HT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const i=en(t),a=i.queries;i.queries=HT(),a.forEach(((s,l)=>{for(const c of l.Sa)c.onError(n)}))})(this,new Xt(vt.ABORTED,"Firestore shutting down"))}}function HT(){return new th((r=>_L(r)),Lb)}async function r3(r,e){const t=en(r);let n=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new AY,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){const l=PA(s,`Initialization of query '${Xh(e.query)}' failed`);return void e.onError(l)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&jA(t)}async function n3(r,e){const t=en(r),n=e.query;let i=3;const a=t.queries.get(n);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function kY(r,e){const t=en(r);let n=!1;for(const i of e){const a=i.query,s=t.queries.get(a);if(s){for(const l of s.Sa)l.Fa(i)&&(n=!0);s.wa=i}}n&&jA(t)}function TY(r,e,t){const n=en(r),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);n.queries.delete(e)}function jA(r){r.Ca.forEach((e=>{e.next()}))}var s8,WT;(WT=s8||(s8={})).Ma="default",WT.Cache="cache";class i3{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new kp(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=kp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==s8.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.key=e}}class s3{constructor(e){this.key=e}}class NY{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=yn(),this.mutatedKeys=yn(),this.eu=SL(e),this.tu=new op(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new qT,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,o=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((u,f)=>{const d=i.get(u),h=Fb(this.query,f)?f:null,m=!!d&&this.mutatedKeys.has(d.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let p=!1;d&&h?d.data.isEqual(h.data)?m!==g&&(n.track({type:3,doc:h}),p=!0):this.su(d,h)||(n.track({type:2,doc:h}),p=!0,(c&&this.eu(h,c)>0||o&&this.eu(h,o)<0)&&(l=!0)):!d&&h?(n.track({type:0,doc:h}),p=!0):d&&!h&&(n.track({type:1,doc:d}),p=!0,(c||o)&&(l=!0)),p&&(h?(s=s.add(h),a=g?a.add(u):a.delete(u)):(s=s.delete(u),a=a.delete(u)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),a=a.delete(u.key),n.track({type:1,doc:u})}return{tu:s,iu:n,Cs:l,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((u,f)=>(function(h,m){const g=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Br(20277,{Rt:p})}};return g(h)-g(m)})(u.type,f.type)||this.eu(u.doc,f.doc))),this.ou(n),i=i??!1;const l=t&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,o=c!==this.Za;return this.Za=c,s.length!==0||o?{snapshot:new kp(this.query,e.tu,a,s,e.mutatedKeys,c===0,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=yn(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new s3(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new a3(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=yn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return kp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const IA="SyncEngine";class PY{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class jY{constructor(e){this.key=e,this.hu=!1}}class IY{constructor(e,t,n,i,a,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new th((l=>_L(l)),Lb),this.Iu=new Map,this.Eu=new Set,this.du=new zi(Ar.comparator),this.Au=new Map,this.Ru=new xA,this.Vu={},this.mu=new Map,this.fu=Cp.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OY(r,e,t=!0){const n=d3(r);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await o3(n,e,t,!0),i}async function RY(r,e){const t=d3(r);await o3(t,e,!0,!1)}async function o3(r,e,t,n){const i=await eY(r.localStore,fc(e)),a=i.targetId,s=r.sharedClientState.addLocalQueryTarget(a,t);let l;return n&&(l=await MY(r,e,a,s==="current",i.resumeToken)),r.isPrimaryClient&&t&&YL(r.remoteStore,i),l}async function MY(r,e,t,n,i){r.pu=(f,d,h)=>(async function(g,p,y,v){let w=p.view.ru(y);w.Cs&&(w=await FT(g.localStore,p.query,!1).then((({documents:L})=>p.view.ru(L,w))));const C=v&&v.targetChanges.get(p.targetId),P=v&&v.targetMismatches.get(p.targetId)!=null,F=p.view.applyChanges(w,g.isPrimaryClient,C,P);return KT(g,p.targetId,F.au),F.snapshot})(r,f,d,h);const a=await FT(r.localStore,e,!0),s=new NY(e,a.Qs),l=s.ru(a.documents),c=Ug.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),o=s.applyChanges(l,r.isPrimaryClient,c);KT(r,t,o.au);const u=new PY(e,t,s);return r.Tu.set(e,u),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),o.snapshot}async function DY(r,e,t){const n=en(r),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter((s=>!Lb(s,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await i8(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),t&&AA(n.remoteStore,i.targetId),o8(n,i.targetId)})).catch(im)):(o8(n,i.targetId),await i8(n.localStore,i.targetId,!0))}async function LY(r,e){const t=en(r),n=t.Tu.get(e),i=t.Iu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),AA(t.remoteStore,n.targetId))}async function FY(r,e,t){const n=HY(r);try{const i=await(function(s,l){const c=en(s),o=xi.now(),u=l.reduce(((h,m)=>h.add(m.key)),yn());let f,d;return c.persistence.runTransaction("Locally write mutations","readwrite",(h=>{let m=mu(),g=yn();return c.Ns.getEntries(h,u).next((p=>{m=p,m.forEach(((y,v)=>{v.isValidDocument()||(g=g.add(y))}))})).next((()=>c.localDocuments.getOverlayedDocuments(h,m))).next((p=>{f=p;const y=[];for(const v of l){const w=JK(v,f.get(v.key).overlayedDocument);w!=null&&y.push(new Rf(v.key,w,pL(w.value.mapValue),al.exists(!0)))}return c.mutationQueue.addMutationBatch(h,o,y,l)})).next((p=>{d=p;const y=p.applyToLocalDocumentSet(f,g);return c.documentOverlayCache.saveOverlays(h,p.batchId,y)}))})).then((()=>({batchId:d.batchId,changes:AL(f)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(s,l,c){let o=s.Vu[s.currentUser.toKey()];o||(o=new zi(gn)),o=o.insert(l,c),s.Vu[s.currentUser.toKey()]=o})(n,i.batchId,t),await zg(n,i.changes),await qb(n.remoteStore)}catch(i){const a=PA(i,"Failed to persist write");t.reject(a)}}async function l3(r,e){const t=en(r);try{const n=await QX(t.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=t.Au.get(a);s&&(Vn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Vn(s.hu,14607):i.removedDocuments.size>0&&(Vn(s.hu,42227),s.hu=!1))})),await zg(t,n,e)}catch(n){await im(n)}}function GT(r,e,t){const n=en(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Tu.forEach(((a,s)=>{const l=s.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(s,l){const c=en(s);c.onlineState=l;let o=!1;c.queries.forEach(((u,f)=>{for(const d of f.Sa)d.va(l)&&(o=!0)})),o&&jA(c)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function BY(r,e,t){const n=en(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Au.get(e),a=i&&i.key;if(a){let s=new zi(Ar.comparator);s=s.insert(a,Ls.newNoDocument(a,Yr.min()));const l=yn().add(a),c=new Ub(Yr.min(),new Map,new zi(gn),s,l);await l3(n,c),n.du=n.du.remove(a),n.Au.delete(e),OA(n)}else await i8(n.localStore,e,!1).then((()=>o8(n,e,t))).catch(im)}async function $Y(r,e){const t=en(r),n=e.batch.batchId;try{const i=await YX(t.localStore,e);u3(t,n,null),c3(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await zg(t,i)}catch(i){await im(i)}}async function UY(r,e,t){const n=en(r);try{const i=await(function(s,l){const c=en(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(o=>{let u;return c.mutationQueue.lookupMutationBatch(o,l).next((f=>(Vn(f!==null,37113),u=f.keys(),c.mutationQueue.removeMutationBatch(o,f)))).next((()=>c.mutationQueue.performConsistencyCheck(o))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(o,u,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,u))).next((()=>c.localDocuments.getDocuments(o,u)))}))})(n.localStore,e);u3(n,e,t),c3(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await zg(n,i)}catch(i){await im(i)}}function c3(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function u3(r,e,t){const n=en(r);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function o8(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((n=>{r.Ru.containsKey(n)||f3(r,n)}))}function f3(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(AA(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),OA(r))}function KT(r,e,t){for(const n of t)n instanceof a3?(r.Ru.addReference(n.key,e),VY(r,n)):n instanceof s3?(ir(IA,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||f3(r,n.key)):Br(19791,{wu:n})}function VY(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(ir(IA,"New document in limbo: "+t),r.Eu.add(n),OA(r))}function OA(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Ar(gi.fromString(e)),n=r.fu.next();r.Au.set(n,new jY(t)),r.du=r.du.insert(t,n),YL(r.remoteStore,new df(fc(mA(t.path)),n,"TargetPurposeLimboResolution",Rb.ce))}}async function zg(r,e,t){const n=en(r),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach(((l,c)=>{s.push(n.pu(c,e,t).then((o=>{var u;if((o||t)&&n.isPrimaryClient){const f=o?!o.fromCache:(u=t==null?void 0:t.targetChanges.get(c.targetId))==null?void 0:u.current;n.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(o){i.push(o);const f=SA.As(c.targetId,o);a.push(f)}})))})),await Promise.all(s),n.Pu.H_(i),await(async function(c,o){const u=en(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>Et.forEach(o,(d=>Et.forEach(d.Es,(h=>u.persistence.referenceDelegate.addReference(f,d.targetId,h))).next((()=>Et.forEach(d.ds,(h=>u.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))))))}catch(f){if(!am(f))throw f;ir(EA,"Failed to update sequence numbers: "+f)}for(const f of o){const d=f.targetId;if(!f.fromCache){const h=u.Ms.get(d),m=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(m);u.Ms=u.Ms.insert(d,g)}}})(n.localStore,a))}async function zY(r,e){const t=en(r);if(!t.currentUser.isEqual(e)){ir(IA,"User change. New user:",e.toKey());const n=await WL(t.localStore,e);t.currentUser=e,(function(a,s){a.mu.forEach((l=>{l.forEach((c=>{c.reject(new Xt(vt.CANCELLED,s))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await zg(t,n.Ls)}}function qY(r,e){const t=en(r),n=t.Au.get(e);if(n&&n.hu)return yn().add(n.key);{let i=yn();const a=t.Iu.get(e);if(!a)return i;for(const s of a){const l=t.Tu.get(s);i=i.unionWith(l.view.nu)}return i}}function d3(r){const e=en(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=l3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BY.bind(null,e),e.Pu.H_=kY.bind(null,e.eventManager),e.Pu.yu=TY.bind(null,e.eventManager),e}function HY(r){const e=en(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$Y.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UY.bind(null,e),e}class lv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vb(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return XX(this.persistence,new WX,e.initialUser,this.serializer)}Cu(e){return new HL(_A.mi,this.serializer)}Du(e){return new rY}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lv.provider={build:()=>new lv};class WY extends lv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Vn(this.persistence.referenceDelegate instanceof sv,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new jX(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?so.withCacheSize(this.cacheSizeBytes):so.DEFAULT;return new HL((n=>sv.mi(n,t)),this.serializer)}}class l8{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>GT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=zY.bind(null,this.syncEngine),await EY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CY})()}createDatastore(e){const t=Vb(e.databaseInfo.databaseId),n=(function(a){return new oY(a)})(e.databaseInfo);return(function(a,s,l,c){return new fY(a,s,l,c)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,i,a,s,l){return new hY(n,i,a,s,l)})(this.localStore,this.datastore,e.asyncQueue,(t=>GT(this.syncEngine,t,0)),(function(){return UT.v()?new UT:new nY})())}createSyncEngine(e,t){return(function(i,a,s,l,c,o,u){const f=new IY(i,a,s,l,c,o);return u&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const a=en(i);ir(Dd,"RemoteStore shutting down."),a.Ea.add(5),await Vg(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}l8.provider={build:()=>new l8};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf="FirestoreClient";class GY{constructor(e,t,n,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Ds.UNAUTHENTICATED,this.clientId=cA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async s=>{ir(Cf,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(n,(s=>(ir(Cf,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ou;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=PA(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Jx(r,e){r.asyncQueue.verifyOperationInProgress(),ir(Cf,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async i=>{n.isEqual(i)||(await WL(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function XT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await KY(r);ir(Cf,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>zT(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,i)=>zT(e.remoteStore,i))),r._onlineComponents=e}async function KY(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ir(Cf,"Using user provided OfflineComponentProvider");try{await Jx(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===vt.FAILED_PRECONDITION||i.code===vt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;_p("Error using user provided cache. Falling back to memory cache: "+t),await Jx(r,new lv)}}else ir(Cf,"Using default OfflineComponentProvider"),await Jx(r,new WY(void 0));return r._offlineComponents}async function p3(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ir(Cf,"Using user provided OnlineComponentProvider"),await XT(r,r._uninitializedComponentsProvider._online)):(ir(Cf,"Using default OnlineComponentProvider"),await XT(r,new l8))),r._onlineComponents}function XY(r){return p3(r).then((e=>e.syncEngine))}async function m3(r){const e=await p3(r),t=e.eventManager;return t.onListen=OY.bind(null,e.syncEngine),t.onUnlisten=DY.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=RY.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=LY.bind(null,e.syncEngine),t}function YY(r,e,t={}){const n=new ou;return r.asyncQueue.enqueueAndForget((async()=>(function(a,s,l,c,o){const u=new h3({next:d=>{u.Nu(),s.enqueueAndForget((()=>n3(a,f)));const h=d.docs.has(l);!h&&d.fromCache?o.reject(new Xt(vt.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&c&&c.source==="server"?o.reject(new Xt(vt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(d)},error:d=>o.reject(d)}),f=new i3(mA(l.path),u,{includeMetadataChanges:!0,qa:!0});return r3(a,f)})(await m3(r),r.asyncQueue,e,t,n))),n.promise}function QY(r,e,t={}){const n=new ou;return r.asyncQueue.enqueueAndForget((async()=>(function(a,s,l,c,o){const u=new h3({next:d=>{u.Nu(),s.enqueueAndForget((()=>n3(a,f))),d.fromCache&&c.source==="server"?o.reject(new Xt(vt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(d)},error:d=>o.reject(d)}),f=new i3(l,u,{includeMetadataChanges:!0,qa:!0});return r3(a,f)})(await m3(r),r.asyncQueue,e,t,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="firestore.googleapis.com",QT=!0;class ZT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Xt(vt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y3,this.ssl=QT}else this.host=e.host,this.ssl=e.ssl??QT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NX)throw new Xt(vt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g3(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Xt(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Xt(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Xt(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hb{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Xt(vt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Xt(vt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new rK;switch(n.type){case"firstParty":return new sK(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Xt(vt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=YT.get(t);n&&(ir("ComponentProvider","Removing Datastore"),YT.delete(t),n.terminate())})(this),Promise.resolve()}}function ZY(r,e,t,n={}){var o;r=Fl(r,Hb);const i=Qd(e),a=r._getSettings(),s={...a,emulatorOptions:r._getEmulatorOptions()},l=`${e}:${t}`;i&&(iA(`https://${l}`),aA("Firestore",!0)),a.host!==y3&&a.host!==l&&_p("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:n};if(!Rd(c,s)&&(r._setSettings(c),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=Ds.MOCK_USER;else{u=UD(n.mockUserToken,(o=r._app)==null?void 0:o.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new Xt(vt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ds(d)}r._authCredentials=new nK(new rL(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new nh(this.firestore,e,this._query)}}class ua{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ua(this.firestore,e,this._key)}toJSON(){return{type:ua._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Bg(t,ua._jsonSchema))return new ua(e,n||null,new Ar(gi.fromString(t.referencePath)))}}ua._jsonSchemaVersion="firestore/documentReference/1.0",ua._jsonSchema={type:Sa("string",ua._jsonSchemaVersion),referencePath:Sa("string")};class vf extends nh{constructor(e,t,n){super(e,t,mA(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ua(this.firestore,null,new Ar(e))}withConverter(e){return new vf(this.firestore,e,this._path)}}function xr(r,e,...t){if(r=Vi(r),nL("collection","path",e),r instanceof Hb){const n=gi.fromString(e,...t);return fT(n),new vf(r,null,n)}{if(!(r instanceof ua||r instanceof vf))throw new Xt(vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(gi.fromString(e,...t));return fT(n),new vf(r.firestore,null,n)}}function kn(r,e,...t){if(r=Vi(r),arguments.length===1&&(e=cA.newId()),nL("doc","path",e),r instanceof Hb){const n=gi.fromString(e,...t);return uT(n),new ua(r,null,new Ar(n))}{if(!(r instanceof ua||r instanceof vf))throw new Xt(vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(gi.fromString(e,...t));return uT(n),new ua(r.firestore,r instanceof vf?r.converter:null,new Ar(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="AsyncQueue";class eN{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KL(this,"async_queue_retry"),this._c=()=>{const n=Zx();n&&ir(JT,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=Zx();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Zx();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ou;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!am(e))throw e;ir(JT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,pu("INTERNAL UNHANDLED ERROR: ",tN(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=NA.createAndSchedule(this,e,t,n,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Br(47125,{Pc:tN(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function tN(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ih extends Hb{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new eN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eN(e),this._firestoreClient=void 0,await e}}}function JY(r,e){const t=typeof r=="object"?r:Ib(),n=typeof r=="string"?r:tv,i=Jd(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=FD("firestore");a&&ZY(i,...a)}return i}function RA(r){if(r._terminated)throw new Xt(vt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||eQ(r),r._firestoreClient}function eQ(r){var n,i,a;const e=r._freezeSettings(),t=(function(l,c,o,u){return new SK(l,c,o,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,g3(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(r._databaseId,((n=r._app)==null?void 0:n.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new GY(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tl(hs.fromBase64String(e))}catch(t){throw new Xt(vt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new tl(hs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:tl._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bg(e,tl._jsonSchema))return tl.fromBase64String(e.bytes)}}tl._jsonSchemaVersion="firestore/bytes/1.0",tl._jsonSchema={type:Sa("string",tl._jsonSchemaVersion),bytes:Sa("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Xt(vt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ds(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Xt(vt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Xt(vt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return gn(this._lat,e._lat)||gn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hc._jsonSchemaVersion}}static fromJSON(e){if(Bg(e,hc._jsonSchema))return new hc(e.latitude,e.longitude)}}hc._jsonSchemaVersion="firestore/geoPoint/1.0",hc._jsonSchema={type:Sa("string",hc._jsonSchemaVersion),latitude:Sa("number"),longitude:Sa("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:pc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bg(e,pc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new pc(e.vectorValues);throw new Xt(vt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pc._jsonSchemaVersion="firestore/vectorValue/1.0",pc._jsonSchema={type:Sa("string",pc._jsonSchemaVersion),vectorValues:Sa("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tQ=/^__.*__$/;class rQ{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Rf(e,this.data,this.fieldMask,t,this.fieldTransforms):new $g(e,this.data,t,this.fieldTransforms)}}class v3{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Rf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function b3(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Br(40011,{Ac:r})}}class MA{constructor(e,t,n,i,a,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new MA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(b3(this.Ac)&&tQ.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nQ{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Vb(e)}Cc(e,t,n,i=!1){return new MA({Ac:e,methodName:t,Dc:n,path:ds.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kb(r){const e=r._freezeSettings(),t=Vb(r._databaseId);return new nQ(r._databaseId,!!e.ignoreUndefinedProperties,t)}function w3(r,e,t,n,i,a={}){const s=r.Cc(a.merge||a.mergeFields?2:0,e,t,i);LA("Data must be an object, but it was:",s,n);const l=x3(n,s);let c,o;if(a.merge)c=new Ro(s.fieldMask),o=s.fieldTransforms;else if(a.mergeFields){const u=[];for(const f of a.mergeFields){const d=c8(e,f,t);if(!s.contains(d))throw new Xt(vt.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);S3(u,d)||u.push(d)}c=new Ro(u),o=s.fieldTransforms.filter((f=>c.covers(f.field)))}else c=null,o=s.fieldTransforms;return new rQ(new co(l),c,o)}class Xb extends Gb{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xb}}class DA extends Gb{_toFieldTransform(e){return new XK(e.path,new z0)}isEqual(e){return e instanceof DA}}function iQ(r,e,t,n){const i=r.Cc(1,e,t);LA("Data must be an object, but it was:",i,n);const a=[],s=co.empty();Of(n,((c,o)=>{const u=FA(e,c,t);o=Vi(o);const f=i.yc(u);if(o instanceof Xb)a.push(u);else{const d=qg(o,f);d!=null&&(a.push(u),s.set(u,d))}}));const l=new Ro(a);return new v3(s,l,i.fieldTransforms)}function aQ(r,e,t,n,i,a){const s=r.Cc(1,e,t),l=[c8(e,n,t)],c=[i];if(a.length%2!=0)throw new Xt(vt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<a.length;d+=2)l.push(c8(e,a[d])),c.push(a[d+1]);const o=[],u=co.empty();for(let d=l.length-1;d>=0;--d)if(!S3(o,l[d])){const h=l[d];let m=c[d];m=Vi(m);const g=s.yc(h);if(m instanceof Xb)o.push(h);else{const p=qg(m,g);p!=null&&(o.push(h),u.set(h,p))}}const f=new Ro(o);return new v3(u,f,s.fieldTransforms)}function sQ(r,e,t,n=!1){return qg(t,r.Cc(n?4:3,e))}function qg(r,e){if(_3(r=Vi(r)))return LA("Unsupported field value:",e,r),x3(r,e);if(r instanceof Gb)return(function(n,i){if(!b3(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const a=[];let s=0;for(const l of n){let c=qg(l,i.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(r,e)}return(function(n,i){if((n=Vi(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return WK(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=xi.fromDate(n);return{timestampValue:av(i.serializer,a)}}if(n instanceof xi){const a=new xi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:av(i.serializer,a)}}if(n instanceof hc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof tl)return{bytesValue:LL(i.serializer,n._byteString)};if(n instanceof ua){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:wA(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof pc)return(function(s,l){return{mapValue:{fields:{[dL]:{stringValue:hL},[rv]:{arrayValue:{values:s.toArray().map((o=>{if(typeof o!="number")throw l.Sc("VectorValues must only contain numeric values.");return gA(l.serializer,o)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${Ob(n)}`)})(r,e)}function x3(r,e){const t={};return sL(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Of(r,((n,i)=>{const a=qg(i,e.mc(n));a!=null&&(t[n]=a)})),{mapValue:{fields:t}}}function _3(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof xi||r instanceof hc||r instanceof tl||r instanceof ua||r instanceof Gb||r instanceof pc)}function LA(r,e,t){if(!_3(t)||!iL(t)){const n=Ob(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function c8(r,e,t){if((e=Vi(e))instanceof Wb)return e._internalPath;if(typeof e=="string")return FA(r,e);throw cv("Field path arguments must be of type string or ",r,!1,void 0,t)}const oQ=new RegExp("[~\\*/\\[\\]]");function FA(r,e,t){if(e.search(oQ)>=0)throw cv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Wb(...e.split("."))._internalPath}catch{throw cv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function cv(r,e,t,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new Xt(vt.INVALID_ARGUMENT,l+r+c)}function S3(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,t,n,i,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ua(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class lQ extends E3{data(){return super.data()}}function Yb(r,e){return typeof e=="string"?FA(r,e):e instanceof Wb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cQ(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Xt(vt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BA{}class A3 extends BA{}function xa(r,e,...t){let n=[];e instanceof BA&&n.push(e),n=n.concat(t),(function(a){const s=a.filter((c=>c instanceof $A)).length,l=a.filter((c=>c instanceof Qb)).length;if(s>1||s>0&&l>0)throw new Xt(vt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)r=i._apply(r);return r}class Qb extends A3{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Qb(e,t,n)}_apply(e){const t=this._parse(e);return C3(e._query,t),new nh(e.firestore,e.converter,Z2(e._query,t))}_parse(e){const t=Kb(e.firestore);return(function(a,s,l,c,o,u,f){let d;if(o.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Xt(vt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){nN(f,u);const m=[];for(const g of f)m.push(rN(c,a,g));d={arrayValue:{values:m}}}else d=rN(c,a,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||nN(f,u),d=sQ(l,s,f,u==="in"||u==="not-in");return _a.create(o,u,d)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function rl(r,e,t){const n=e,i=Yb("where",r);return Qb._create(i,n,t)}class $A extends BA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $A(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:Bl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,a){let s=i;const l=a.getFlattenedFilters();for(const c of l)C3(s,c),s=Z2(s,c)})(e._query,t),new nh(e.firestore,e.converter,Z2(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class UA extends A3{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new UA(e,t)}_apply(e){const t=(function(i,a,s){if(i.startAt!==null)throw new Xt(vt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Xt(vt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new V0(a,s)})(e._query,this._field,this._direction);return new nh(e.firestore,e.converter,(function(i,a){const s=i.explicitOrderBy.concat([a]);return new sm(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function kf(r,e="asc"){const t=e,n=Yb("orderBy",r);return UA._create(n,t)}function rN(r,e,t){if(typeof(t=Vi(t))=="string"){if(t==="")throw new Xt(vt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xL(e)&&t.indexOf("/")!==-1)throw new Xt(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(gi.fromString(t));if(!Ar.isDocumentKey(n))throw new Xt(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return bT(r,new Ar(n))}if(t instanceof ua)return bT(r,t._key);throw new Xt(vt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ob(t)}.`)}function nN(r,e){if(!Array.isArray(r)||r.length===0)throw new Xt(vt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function C3(r,e){const t=(function(i,a){for(const s of i)for(const l of s.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(r.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Xt(vt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Xt(vt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class uQ{convertValue(e,t="none"){switch(Ef(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sa(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Br(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Of(e,((i,a)=>{n[i]=this.convertValue(a,t)})),n}convertVectorValue(e){var n,i,a;const t=(a=(i=(n=e.fields)==null?void 0:n[rv].arrayValue)==null?void 0:i.values)==null?void 0:a.map((s=>sa(s.doubleValue)));return new pc(t)}convertGeoPoint(e){return new hc(sa(e.latitude),sa(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Db(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(B0(e));default:return null}}convertTimestamp(e){const t=_f(e);return new xi(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=gi.fromString(e);Vn(zL(n),9688,{name:e});const i=new $0(n.get(1),n.get(3)),a=new Ar(n.popFirst(5));return i.isEqual(t)||pu(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class m0{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Td extends E3{constructor(e,t,n,i,a,s){super(e,t,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ry(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Yb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Xt(vt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Td._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Td._jsonSchemaVersion="firestore/documentSnapshot/1.0",Td._jsonSchema={type:Sa("string",Td._jsonSchemaVersion),bundleSource:Sa("string","DocumentSnapshot"),bundleName:Sa("string"),bundle:Sa("string")};class Ry extends Td{data(e={}){return super.data(e)}}class lp{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new m0(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Ry(this._firestore,this._userDataWriter,n.key,n,new m0(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Xt(vt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((l=>{const c=new Ry(i._firestore,i._userDataWriter,l.doc.key,l.doc,new m0(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const c=new Ry(i._firestore,i._userDataWriter,l.doc.key,l.doc,new m0(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let o=-1,u=-1;return l.type!==0&&(o=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),u=s.indexOf(l.doc.key)),{type:fQ(l.type),doc:c,oldIndex:o,newIndex:u}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Xt(vt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lp._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fQ(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Br(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(r){r=Fl(r,ua);const e=Fl(r.firestore,ih);return YY(RA(e),r._key).then((t=>dQ(e,r,t)))}lp._jsonSchemaVersion="firestore/querySnapshot/1.0",lp._jsonSchema={type:Sa("string",lp._jsonSchemaVersion),bundleSource:Sa("string","QuerySnapshot"),bundleName:Sa("string"),bundle:Sa("string")};class T3 extends uQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ua(this.firestore,null,t)}}function Lr(r){r=Fl(r,nh);const e=Fl(r.firestore,ih),t=RA(e),n=new T3(e);return cQ(r._query),QY(t,r._query).then((i=>new lp(e,n,r,i)))}function yd(r,e,t){r=Fl(r,ua);const n=Fl(r.firestore,ih),i=k3(r.converter,e,t);return Zb(n,[w3(Kb(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,al.none())])}function ps(r,e,t,...n){r=Fl(r,ua);const i=Fl(r.firestore,ih),a=Kb(i);let s;return s=typeof(e=Vi(e))=="string"||e instanceof Wb?aQ(a,"updateDoc",r._key,e,t,n):iQ(a,"updateDoc",r._key,e),Zb(i,[s.toMutation(r._key,al.exists(!0))])}function Hg(r){return Zb(Fl(r.firestore,ih),[new yA(r._key,al.none())])}function ah(r,e){const t=Fl(r.firestore,ih),n=kn(r),i=k3(r.converter,e);return Zb(t,[w3(Kb(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,al.exists(!1))]).then((()=>n))}function Zb(r,e){return(function(n,i){const a=new ou;return n.asyncQueue.enqueueAndForget((async()=>FY(await XY(n),i,a))),a.promise})(RA(r),e)}function dQ(r,e,t){const n=t.docs.get(e._key),i=new T3(r);return new Td(r,i,e._key,n,new m0(t.hasPendingWrites,t.fromCache),e.converter)}function fa(){return new DA("serverTimestamp")}(function(e,t=!0){(function(i){nm=i})(eh),Ll(new sl("firestore",((n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),l=new ih(new iK(n.getProvider("auth-internal")),new oK(s,n.getProvider("app-check-internal")),(function(o,u){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Xt(vt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $0(o.options.projectId,u)})(s,i),s);return a={useFetchStreams:t,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),fo(sT,oT,e),fo(sT,oT,"esm2020")})();function N3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hQ=N3,P3=new Zd("auth","Firebase",N3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new sA("@firebase/auth");function pQ(r,...e){fv.logLevel<=mn.WARN&&fv.warn(`Auth (${eh}): ${r}`,...e)}function My(r,...e){fv.logLevel<=mn.ERROR&&fv.error(`Auth (${eh}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(r,...e){throw zA(r,...e)}function Ml(r,...e){return zA(r,...e)}function VA(r,e,t){const n={...hQ(),[e]:t};return new Zd("auth","Firebase",n).create(e,{appName:r.name})}function lu(r){return VA(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mQ(r,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&ol(r,"argument-error"),VA(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zA(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return P3.create(r,...e)}function Fr(r,e,...t){if(!r)throw zA(e,...t)}function Jc(r){const e="INTERNAL ASSERTION FAILED: "+r;throw My(e),new Error(e)}function gu(r,e){r||Jc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function gQ(){return iN()==="http:"||iN()==="https:"}function iN(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gQ()||MW()||"connection"in navigator)?navigator.onLine:!0}function vQ(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,t){this.shortDelay=e,this.longDelay=t,gu(t>e,"Short delay should be less than long delay!"),this.isMobile=IW()||DW()}get(){return yQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(r,e){gu(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wQ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xQ=new Wg(3e4,6e4);function Mf(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Eu(r,e,t,n,i={}){return I3(r,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const l=Fg({key:r.config.apiKey,...s}).slice(1),c=await r._getAdditionalHeaders();c["Content-Type"]="application/json",r.languageCode&&(c["X-Firebase-Locale"]=r.languageCode);const o={method:e,headers:c,...a};return RW()||(o.referrerPolicy="no-referrer"),r.emulatorConfig&&Qd(r.emulatorConfig.host)&&(o.credentials="include"),j3.fetch()(await O3(r,r.config.apiHost,t,l),o)})}async function I3(r,e,t){r._canInitEmulator=!1;const n={...bQ,...e};try{const i=new SQ(r),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw ty(r,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[c,o]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ty(r,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw ty(r,"email-already-in-use",s);if(c==="USER_DISABLED")throw ty(r,"user-disabled",s);const u=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw VA(r,u,o);ol(r,u)}}catch(i){if(i instanceof Ul)throw i;ol(r,"network-request-failed",{message:String(i)})}}async function Gg(r,e,t,n,i={}){const a=await Eu(r,e,t,n,i);return"mfaPendingCredential"in a&&ol(r,"multi-factor-auth-required",{_serverResponse:a}),a}async function O3(r,e,t,n){const i=`${e}${t}?${n}`,a=r,s=a.config.emulator?qA(r.config,i):`${r.config.apiScheme}://${i}`;return wQ.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function _Q(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SQ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Ml(this.auth,"network-request-failed")),xQ.get())})}}function ty(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Ml(r,e,n);return i.customData._tokenResponse=t,i}function aN(r){return r!==void 0&&r.enterprise!==void 0}class EQ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return _Q(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AQ(r,e){return Eu(r,"GET","/v2/recaptchaConfig",Mf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CQ(r,e){return Eu(r,"POST","/v1/accounts:delete",e)}async function dv(r,e){return Eu(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kQ(r,e=!1){const t=Vi(r),n=await t.getIdToken(e),i=HA(n);Fr(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:E0(e_(i.auth_time)),issuedAtTime:E0(e_(i.iat)),expirationTime:E0(e_(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function e_(r){return Number(r)*1e3}function HA(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return My("JWT malformed, contained fewer than 3 sections"),null;try{const i=DD(t);return i?JSON.parse(i):(My("Failed to decode base64 JWT payload"),null)}catch(i){return My("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function sN(r){const e=HA(r);return Fr(e,"internal-error"),Fr(typeof e.exp<"u","internal-error"),Fr(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tp(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Ul&&TQ(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function TQ({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=E0(this.lastLoginAt),this.creationTime=E0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hv(r){var f;const e=r.auth,t=await r.getIdToken(),n=await Tp(r,dv(e,{idToken:t}));Fr(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];r._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?R3(i.providerUserInfo):[],s=jQ(r.providerData,a),l=r.isAnonymous,c=!(r.email&&i.passwordHash)&&!(s!=null&&s.length),o=l?c:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new f8(i.createdAt,i.lastLoginAt),isAnonymous:o};Object.assign(r,u)}async function PQ(r){const e=Vi(r);await hv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jQ(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function R3(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IQ(r,e){const t=await I3(r,{},async()=>{const n=Fg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=r.config,s=await O3(r,i,"/v1/token",`key=${a}`),l=await r._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return r.emulatorConfig&&Qd(r.emulatorConfig.host)&&(c.credentials="include"),j3.fetch()(s,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function OQ(r,e){return Eu(r,"POST","/v2/accounts:revokeToken",Mf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fr(e.idToken,"internal-error"),Fr(typeof e.idToken<"u","internal-error"),Fr(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Fr(e.length!==0,"internal-error");const t=sN(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Fr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:a}=await IQ(e,t);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:a}=t,s=new cp;return n&&(Fr(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(Fr(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Fr(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cp,this.toJSON())}_performRefresh(){return Jc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(r,e){Fr(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Il{constructor({uid:e,auth:t,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new NQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new f8(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Tp(this,this.stsTokenManager.getToken(this.auth,e));return Fr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return kQ(this,e)}reload(){return PQ(this)}_assign(e){this!==e&&(Fr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Il({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Fr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await hv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lo(this.auth.app))return Promise.reject(lu(this.auth));const e=await this.getIdToken();return await Tp(this,CQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,s=t.photoURL??void 0,l=t.tenantId??void 0,c=t._redirectEventId??void 0,o=t.createdAt??void 0,u=t.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:h,providerData:m,stsTokenManager:g}=t;Fr(f&&g,e,"internal-error");const p=cp.fromJSON(this.name,g);Fr(typeof f=="string",e,"internal-error"),ef(n,e.name),ef(i,e.name),Fr(typeof d=="boolean",e,"internal-error"),Fr(typeof h=="boolean",e,"internal-error"),ef(a,e.name),ef(s,e.name),ef(l,e.name),ef(c,e.name),ef(o,e.name),ef(u,e.name);const y=new Il({uid:f,auth:e,email:i,emailVerified:d,displayName:n,isAnonymous:h,photoURL:s,phoneNumber:a,tenantId:l,stsTokenManager:p,createdAt:o,lastLoginAt:u});return m&&Array.isArray(m)&&(y.providerData=m.map(v=>({...v}))),c&&(y._redirectEventId=c),y}static async _fromIdTokenResponse(e,t,n=!1){const i=new cp;i.updateFromServerResponse(t);const a=new Il({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await hv(a),a}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];Fr(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?R3(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new cp;l.updateFromIdToken(n);const c=new Il({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),o={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new f8(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,o),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=new Map;function eu(r){gu(r instanceof Function,"Expected a class definition");let e=oN.get(r);return e?(gu(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,oN.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}M3.type="NONE";const lN=M3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(r,e,t){return`firebase:${r}:${e}:${t}`}class up{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Dy(this.userKey,i.apiKey,a),this.fullPersistenceKey=Dy("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await dv(this.auth,{idToken:e}).catch(()=>{});return t?Il._fromGetAccountInfoResponse(this.auth,t,e):null}return Il._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new up(eu(lN),e,n);const i=(await Promise.all(t.map(async o=>{if(await o._isAvailable())return o}))).filter(o=>o);let a=i[0]||eu(lN);const s=Dy(n,e.config.apiKey,e.name);let l=null;for(const o of t)try{const u=await o._get(s);if(u){let f;if(typeof u=="string"){const d=await dv(e,{idToken:u}).catch(()=>{});if(!d)break;f=await Il._fromGetAccountInfoResponse(e,d,u)}else f=Il._fromJSON(e,u);o!==a&&(l=f),a=o;break}}catch{}const c=i.filter(o=>o._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new up(a,e,n):(a=c[0],l&&await a._set(s,l.toJSON()),await Promise.all(t.map(async o=>{if(o!==a)try{await o._remove(s)}catch{}})),new up(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(B3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(D3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U3(e))return"Blackberry";if(V3(e))return"Webos";if(L3(e))return"Safari";if((e.includes("chrome/")||F3(e))&&!e.includes("edge/"))return"Chrome";if($3(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function D3(r=$s()){return/firefox\//i.test(r)}function L3(r=$s()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function F3(r=$s()){return/crios\//i.test(r)}function B3(r=$s()){return/iemobile/i.test(r)}function $3(r=$s()){return/android/i.test(r)}function U3(r=$s()){return/blackberry/i.test(r)}function V3(r=$s()){return/webos/i.test(r)}function WA(r=$s()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function RQ(r=$s()){var e;return WA(r)&&!!((e=window.navigator)!=null&&e.standalone)}function MQ(){return LW()&&document.documentMode===10}function z3(r=$s()){return WA(r)||$3(r)||V3(r)||U3(r)||/windows phone/i.test(r)||B3(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(r,e=[]){let t;switch(r){case"Browser":t=cN($s());break;case"Worker":t=`${cN($s())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${eh}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=a=>new Promise((s,l)=>{try{const c=e(a);s(c)}catch(c){l(c)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LQ(r,e={}){return Eu(r,"GET","/v2/passwordPolicy",Mf(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FQ=6;class BQ{constructor(e){var n;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??FQ,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uN(this),this.idTokenSubscription=new uN(this),this.beforeStateQueue=new DQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=eu(t)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await up.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await dv(this,{idToken:e}),n=await Il._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(lo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Fr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hv(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lo(this.app))return Promise.reject(lu(this));const t=e?Vi(e):null;return t&&Fr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Fr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lo(this.app)?Promise.reject(lu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lo(this.app)?Promise.reject(lu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(eu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LQ(this),t=new BQ(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zd("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await OQ(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&eu(e)||this._popupRedirectResolver;Fr(t,this,"argument-error"),this.redirectPersistenceManager=await up.create(this,[eu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fr(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(t);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var t;if(lo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&pQ(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Df(r){return Vi(r)}class uN{constructor(e){this.auth=e,this.observer=null,this.addObserver=qW(t=>this.observer=t)}get next(){return Fr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UQ(r){Jb=r}function H3(r){return Jb.loadJS(r)}function VQ(){return Jb.recaptchaEnterpriseScript}function zQ(){return Jb.gapiScript}function qQ(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class HQ{constructor(){this.enterprise=new WQ}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class WQ{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const GQ="recaptcha-enterprise",W3="NO_RECAPTCHA";class KQ{constructor(e){this.type=GQ,this.auth=Df(e)}async verify(e="verify",t=!1){async function n(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,l)=>{AQ(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const o=new EQ(c);return a.tenantId==null?a._agentRecaptchaConfig=o:a._tenantRecaptchaConfigs[a.tenantId]=o,s(o.siteKey)}}).catch(c=>{l(c)})})}function i(a,s,l){const c=window.grecaptcha;aN(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(o=>{s(o)}).catch(()=>{s(W3)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HQ().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{n(this.auth).then(l=>{if(!t&&aN(window.grecaptcha))i(l,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=VQ();c.length!==0&&(c+=l),H3(c).then(()=>{i(l,a,s)}).catch(o=>{s(o)})}}).catch(l=>{s(l)})})}}async function fN(r,e,t,n=!1,i=!1){const a=new KQ(r);let s;if(i)s=W3;else try{s=await a.verify(t)}catch{s=await a.verify(t,!0)}const l={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,o=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:o,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function d8(r,e,t,n,i){var a;if((a=r._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await fN(r,e,t,t==="getOobCode");return n(r,s)}else return n(r,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await fN(r,e,t,t==="getOobCode");return n(r,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XQ(r,e){const t=Jd(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Rd(a,e??{}))return i;ol(i,"already-initialized")}return t.initialize({options:e})}function YQ(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(eu);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function QQ(r,e,t){const n=Df(r);Fr(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=G3(e),{host:s,port:l}=ZQ(e),c=l===null?"":`:${l}`,o={url:`${a}//${s}${c}/`},u=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Fr(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Fr(Rd(o,n.config.emulator)&&Rd(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=o,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,Qd(s)?(iA(`${a}//${s}${c}`),aA("Auth",!0)):JQ()}function G3(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function ZQ(r){const e=G3(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:dN(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:dN(s)}}}function dN(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function JQ(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jc("not implemented")}_getIdTokenResponse(e){return Jc("not implemented")}_linkToIdToken(e,t){return Jc("not implemented")}_getReauthenticationResolver(e){return Jc("not implemented")}}async function eZ(r,e){return Eu(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tZ(r,e){return Gg(r,"POST","/v1/accounts:signInWithPassword",Mf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rZ(r,e){return Gg(r,"POST","/v1/accounts:signInWithEmailLink",Mf(r,e))}async function nZ(r,e){return Gg(r,"POST","/v1/accounts:signInWithEmailLink",Mf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends GA{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new W0(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new W0(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d8(e,t,"signInWithPassword",tZ);case"emailLink":return rZ(e,{email:this._email,oobCode:this._password});default:ol(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d8(e,n,"signUpPassword",eZ);case"emailLink":return nZ(e,{idToken:t,email:this._email,oobCode:this._password});default:ol(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fp(r,e){return Gg(r,"POST","/v1/accounts:signInWithIdp",Mf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iZ="http://localhost";class Ld extends GA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ld(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ol("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=t;if(!n||!i)return null;const s=new Ld(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return fp(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,fp(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fp(e,t)}buildRequest(){const e={requestUri:iZ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fg(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aZ(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sZ(r){const e=u0(f0(r)).link,t=e?u0(f0(e)).deep_link_id:null,n=u0(f0(r)).deep_link_id;return(n?u0(f0(n)).link:null)||n||t||e||r}class KA{constructor(e){const t=u0(f0(e)),n=t.apiKey??null,i=t.oobCode??null,a=aZ(t.mode??null);Fr(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=sZ(e);try{return new KA(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this.providerId=lm.PROVIDER_ID}static credential(e,t){return W0._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=KA.parseLink(t);return Fr(n,"argument-error"),W0._fromEmailAndCode(e,n.code,n.tenantId)}}lm.PROVIDER_ID="password";lm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg extends XA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends Kg{constructor(){super("facebook.com")}static credential(e){return Ld._fromParams({providerId:of.PROVIDER_ID,signInMethod:of.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return of.credentialFromTaggedObject(e)}static credentialFromError(e){return of.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return of.credential(e.oauthAccessToken)}catch{return null}}}of.FACEBOOK_SIGN_IN_METHOD="facebook.com";of.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends Kg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ld._fromParams({providerId:Zc.PROVIDER_ID,signInMethod:Zc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zc.credentialFromTaggedObject(e)}static credentialFromError(e){return Zc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Zc.credential(t,n)}catch{return null}}}Zc.GOOGLE_SIGN_IN_METHOD="google.com";Zc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends Kg{constructor(){super("github.com")}static credential(e){return Ld._fromParams({providerId:lf.PROVIDER_ID,signInMethod:lf.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lf.credentialFromTaggedObject(e)}static credentialFromError(e){return lf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lf.credential(e.oauthAccessToken)}catch{return null}}}lf.GITHUB_SIGN_IN_METHOD="github.com";lf.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends Kg{constructor(){super("twitter.com")}static credential(e,t){return Ld._fromParams({providerId:cf.PROVIDER_ID,signInMethod:cf.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return cf.credentialFromTaggedObject(e)}static credentialFromError(e){return cf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return cf.credential(t,n)}catch{return null}}}cf.TWITTER_SIGN_IN_METHOD="twitter.com";cf.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oZ(r,e){return Gg(r,"POST","/v1/accounts:signUp",Mf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const a=await Il._fromIdTokenResponse(e,n,i),s=hN(n);return new Fd({user:a,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=hN(n);return new Fd({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function hN(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends Ul{constructor(e,t,n,i){super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,pv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new pv(e,t,n,i)}}function K3(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?pv._fromErrorAndOperation(r,a,e,n):a})}async function lZ(r,e,t=!1){const n=await Tp(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Fd._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cZ(r,e,t=!1){const{auth:n}=r;if(lo(n.app))return Promise.reject(lu(n));const i="reauthenticate";try{const a=await Tp(r,K3(n,i,e,r),t);Fr(a.idToken,n,"internal-error");const s=HA(a.idToken);Fr(s,n,"internal-error");const{sub:l}=s;return Fr(r.uid===l,n,"user-mismatch"),Fd._forOperation(r,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ol(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3(r,e,t=!1){if(lo(r.app))return Promise.reject(lu(r));const n="signIn",i=await K3(r,n,e),a=await Fd._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(a.user),a}async function uZ(r,e){return X3(Df(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(r){const e=Df(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fZ(r,e,t){if(lo(r.app))return Promise.reject(lu(r));const n=Df(r),s=await d8(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oZ).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Y3(r),c}),l=await Fd._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(l.user),l}function dZ(r,e,t){return lo(r.app)?Promise.reject(lu(r)):uZ(Vi(r),lm.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Y3(r),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hZ(r,e){return Eu(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pZ(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const n=Vi(r),a={idToken:await n.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},s=await Tp(n,hZ(n.auth,a));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;const l=n.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=n.displayName,l.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function mZ(r,e,t,n){return Vi(r).onIdTokenChanged(e,t,n)}function gZ(r,e,t){return Vi(r).beforeAuthStateChanged(e,t)}function Q3(r,e,t,n){return Vi(r).onAuthStateChanged(e,t,n)}function yZ(r){return Vi(r).signOut()}const mv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mv,"1"),this.storage.removeItem(mv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vZ=1e3,bZ=10;class J3 extends Z3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=z3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!t&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);MQ()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,bZ):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},vZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}J3.type="LOCAL";const wZ=J3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF extends Z3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}eF.type="SESSION";const tF=eF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xZ(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new ew(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:a}=t.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(s).map(async o=>o(t.origin,a)),c=await xZ(l);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ew.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,c)=>{const o=YA("",20);i.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===o)switch(d.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(d.data.response);break;default:clearTimeout(u),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:o,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(){return window}function SZ(r){mc().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(){return typeof mc().WorkerGlobalScope<"u"&&typeof mc().importScripts=="function"}async function EZ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AZ(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function CZ(){return rF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF="firebaseLocalStorageDb",kZ=1,gv="firebaseLocalStorage",iF="fbase_key";class Xg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tw(r,e){return r.transaction([gv],e?"readwrite":"readonly").objectStore(gv)}function TZ(){const r=indexedDB.deleteDatabase(nF);return new Xg(r).toPromise()}function h8(){const r=indexedDB.open(nF,kZ);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(gv,{keyPath:iF})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(gv)?e(n):(n.close(),await TZ(),e(await h8()))})})}async function pN(r,e,t){const n=tw(r,!0).put({[iF]:e,value:t});return new Xg(n).toPromise()}async function NZ(r,e){const t=tw(r,!1).get(e),n=await new Xg(t).toPromise();return n===void 0?null:n.value}function mN(r,e){const t=tw(r,!0).delete(e);return new Xg(t).toPromise()}const PZ=800,jZ=3;class aF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h8(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>jZ)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ew._getInstance(CZ()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await EZ(),!this.activeServiceWorker)return;this.sender=new _Z(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AZ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h8();return await pN(e,mv,"1"),await mN(e,mv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>pN(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>NZ(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>mN(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=tw(i,!1).getAll();return new Xg(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aF.type="LOCAL";const IZ=aF;new Wg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(r,e){return e?eu(e):(Fr(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA extends GA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fp(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function OZ(r){return X3(r.auth,new QA(r),r.bypassAuthState)}function RZ(r){const{auth:e,user:t}=r;return Fr(t,e,"internal-error"),cZ(t,new QA(r),r.bypassAuthState)}async function MZ(r){const{auth:e,user:t}=r;return Fr(t,e,"internal-error"),lZ(t,new QA(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,t,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(o){this.reject(o)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OZ;case"linkViaPopup":case"linkViaRedirect":return MZ;case"reauthViaPopup":case"reauthViaRedirect":return RZ;default:ol(this.auth,"internal-error")}}resolve(e){gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DZ=new Wg(2e3,1e4);async function LZ(r,e,t){if(lo(r.app))return Promise.reject(Ml(r,"operation-not-supported-in-this-environment"));const n=Df(r);mQ(r,e,XA);const i=sF(n,t);return new _d(n,"signInViaPopup",e,i).executeNotNull()}class _d extends oF{constructor(e,t,n,i,a){super(e,t,i,a),this.provider=n,this.authWindow=null,this.pollId=null,_d.currentPopupAction&&_d.currentPopupAction.cancel(),_d.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fr(e,this.auth,"internal-error"),e}async onExecution(){gu(this.filter.length===1,"Popup operations only handle one event");const e=YA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ml(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ml(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_d.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if((n=(t=this.authWindow)==null?void 0:t.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ml(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DZ.get())};e()}}_d.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FZ="pendingRedirect",Ly=new Map;class BZ extends oF{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Ly.get(this.auth._key());if(!e){try{const n=await $Z(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Ly.set(this.auth._key(),e)}return this.bypassAuthState||Ly.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $Z(r,e){const t=zZ(e),n=VZ(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function UZ(r,e){Ly.set(r._key(),e)}function VZ(r){return eu(r._redirectPersistence)}function zZ(r){return Dy(FZ,r.config.apiKey,r.name)}async function qZ(r,e,t=!1){if(lo(r.app))return Promise.reject(lu(r));const n=Df(r),i=sF(n,e),s=await new BZ(n,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HZ=600*1e3;class WZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GZ(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!lF(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ml(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(gN(e))}saveEventToCache(e){this.cachedEventUids.add(gN(e)),this.lastProcessedEventTime=Date.now()}}function gN(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function lF({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GZ(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lF(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KZ(r,e={}){return Eu(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YZ=/^https?/;async function QZ(r){if(r.config.emulator)return;const{authorizedDomains:e}=await KZ(r);for(const t of e)try{if(ZZ(t))return}catch{}ol(r,"unauthorized-domain")}function ZZ(r){const e=u8(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const s=new URL(r);return s.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===n}if(!YZ.test(t))return!1;if(XZ.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JZ=new Wg(3e4,6e4);function yN(){const r=mc().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function eJ(r){return new Promise((e,t)=>{var i,a,s;function n(){yN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yN(),t(Ml(r,"network-request-failed"))},timeout:JZ.get()})}if((a=(i=mc().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=mc().gapi)!=null&&s.load)n();else{const l=qQ("iframefcb");return mc()[l]=()=>{gapi.load?n():t(Ml(r,"network-request-failed"))},H3(`${zQ()}?onload=${l}`).catch(c=>t(c))}}).catch(e=>{throw Fy=null,e})}let Fy=null;function tJ(r){return Fy=Fy||eJ(r),Fy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rJ=new Wg(5e3,15e3),nJ="__/auth/iframe",iJ="emulator/auth/iframe",aJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oJ(r){const e=r.config;Fr(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?qA(e,iJ):`https://${r.config.authDomain}/${nJ}`,n={apiKey:e.apiKey,appName:r.name,v:eh},i=sJ.get(r.config.apiHost);i&&(n.eid=i);const a=r._getFrameworks();return a.length&&(n.fw=a.join(",")),`${t}?${Fg(n).slice(1)}`}async function lJ(r){const e=await tJ(r),t=mc().gapi;return Fr(t,r,"internal-error"),e.open({where:document.body,url:oJ(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aJ,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=Ml(r,"network-request-failed"),l=mc().setTimeout(()=>{a(s)},rJ.get());function c(){mc().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uJ=500,fJ=600,dJ="_blank",hJ="http://localhost";class vN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pJ(r,e,t,n=uJ,i=fJ){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...cJ,width:n.toString(),height:i.toString(),top:a,left:s},o=$s().toLowerCase();t&&(l=F3(o)?dJ:t),D3(o)&&(e=e||hJ,c.scrollbars="yes");const u=Object.entries(c).reduce((d,[h,m])=>`${d}${h}=${m},`,"");if(RQ(o)&&l!=="_self")return mJ(e||"",l),new vN(null);const f=window.open(e||"",l,u);Fr(f,r,"popup-blocked");try{f.focus()}catch{}return new vN(f)}function mJ(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gJ="__/auth/handler",yJ="emulator/auth/handler",vJ=encodeURIComponent("fac");async function bN(r,e,t,n,i,a){Fr(r.config.authDomain,r,"auth-domain-config-required"),Fr(r.config.apiKey,r,"invalid-api-key");const s={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:eh,eventId:i};if(e instanceof XA){e.setDefaultLanguage(r.languageCode),s.providerId=e.providerId||"",zW(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))s[u]=f}if(e instanceof Kg){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}r.tenantId&&(s.tid=r.tenantId);const l=s;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await r._getAppCheckToken(),o=c?`#${vJ}=${encodeURIComponent(c)}`:"";return`${bJ(r)}?${Fg(l).slice(1)}${o}`}function bJ({config:r}){return r.emulator?qA(r,yJ):`https://${r.authDomain}/${gJ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="webStorageSupport";class wJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tF,this._completeRedirectFn=qZ,this._overrideRedirectResult=UZ}async _openPopup(e,t,n,i){var s;gu((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await bN(e,t,n,u8(),i);return pJ(e,a,YA())}async _openRedirect(e,t,n,i){await this._originValidation(e);const a=await bN(e,t,n,u8(),i);return SZ(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(gu(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await lJ(e),n=new WZ(e);return t.register("authEvent",i=>(Fr(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(t_,{type:t_},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[t_];a!==void 0&&t(!!a),ol(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=QZ(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return z3()||L3()||WA()}}const xJ=wJ;var wN="@firebase/auth",xN="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Fr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SJ(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EJ(r){Ll(new sl("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=n.options;Fr(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:l,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q3(r)},o=new $Q(n,i,a,c);return YQ(o,t),o},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Ll(new sl("auth-internal",e=>{const t=Df(e.getProvider("auth").getImmediate());return(n=>new _J(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),fo(wN,xN,SJ(r)),fo(wN,xN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AJ=300,CJ=$D("authIdTokenMaxAge")||AJ;let _N=null;const kJ=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>CJ)return;const i=t==null?void 0:t.token;_N!==i&&(_N=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function TJ(r=Ib()){const e=Jd(r,"auth");if(e.isInitialized())return e.getImmediate();const t=XQ(r,{popupRedirectResolver:xJ,persistence:[IZ,wZ,tF]}),n=$D("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=kJ(a.toString());gZ(t,s,()=>s(t.currentUser)),mZ(t,l=>s(l))}}const i=LD("auth");return i&&QQ(t,`http://${i}`),t}function NJ(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}UQ({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const a=Ml("internal-error");a.customData=i,t(a)},n.type="text/javascript",n.charset="UTF-8",NJ().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EJ("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF="firebasestorage.googleapis.com",PJ="storageBucket",jJ=120*1e3,IJ=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends Ul{constructor(e,t,n=0){super(r_(e),`Firebase Storage: ${t} (${r_(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ec.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return r_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wc;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wc||(wc={}));function r_(r){return"storage/"+r}function OJ(){const r="An unknown error occurred, please check the error payload for server response.";return new Ec(wc.UNKNOWN,r)}function RJ(){return new Ec(wc.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MJ(){return new Ec(wc.CANCELED,"User canceled the upload/download.")}function DJ(r){return new Ec(wc.INVALID_URL,"Invalid URL '"+r+"'.")}function LJ(r){return new Ec(wc.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function SN(r){return new Ec(wc.INVALID_ARGUMENT,r)}function uF(){return new Ec(wc.APP_DELETED,"The Firebase app was deleted.")}function FJ(r){return new Ec(wc.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Ol.makeFromUrl(e,t)}catch{return new Ol(e,"")}if(n.path==="")return n;throw LJ(e)}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function o(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${u}/b/${i}/o${d}`,"i"),m={bucket:1,path:3},g=t===cF?"(?:storage.googleapis.com|storage.cloud.google.com)":t,p="([^?#]*)",y=new RegExp(`^https?://${g}/${i}/${p}`,"i"),w=[{regex:l,indices:c,postModify:a},{regex:h,indices:m,postModify:o},{regex:y,indices:{bucket:1,path:2},postModify:o}];for(let C=0;C<w.length;C++){const P=w[C],F=P.regex.exec(e);if(F){const L=F[P.indices.bucket];let j=F[P.indices.path];j||(j=""),n=new Ol(L,j),P.postModify(n);break}}if(n==null)throw DJ(e);return n}}class BJ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $J(r,e,t){let n=1,i=null,a=null,s=!1,l=0;function c(){return l===2}let o=!1;function u(...p){o||(o=!0,e.apply(null,p))}function f(p){i=setTimeout(()=>{i=null,r(h,c())},p)}function d(){a&&clearTimeout(a)}function h(p,...y){if(o){d();return}if(p){d(),u.call(null,p,...y);return}if(c()||s){d(),u.call(null,p,...y);return}n<64&&(n*=2);let w;l===1?(l=2,w=0):w=(n+Math.random())*1e3,f(w)}let m=!1;function g(p){m||(m=!0,d(),!o&&(i!==null?(p||(l=2),clearTimeout(i),f(0)):p||(l=1)))}return f(0),a=setTimeout(()=>{s=!0,g(!0)},t),g}function UJ(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VJ(r){return r!==void 0}function EN(r,e,t,n){if(n<e)throw SN(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw SN(`Invalid value for '${r}'. Expected ${t} or less.`)}function zJ(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const i=e(n)+"="+e(r[n]);t=t+i+"&"}return t=t.slice(0,-1),t}var yv;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(yv||(yv={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qJ(r,e){const t=r>=500&&r<600,i=[408,429].indexOf(r)!==-1,a=e.indexOf(r)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{constructor(e,t,n,i,a,s,l,c,o,u,f,d=!0,h=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=c,this.timeout_=o,this.progressCallback_=u,this.connectionFactory_=f,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new ry(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=l=>{const c=l.loaded,o=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,o)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const l=a.getErrorCode()===yv.NO_ERROR,c=a.getStatus();if(!l||qJ(c,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===yv.ABORT;n(!1,new ry(!1,null,u));return}const o=this.successCodes_.indexOf(c)!==-1;n(!0,new ry(o,a))})},t=(n,i)=>{const a=this.resolve_,s=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());VJ(c)?a(c):a()}catch(c){s(c)}else if(l!==null){const c=OJ();c.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,c)):s(c)}else if(i.canceled){const c=this.appDelete_?uF():MJ();s(c)}else{const c=RJ();s(c)}};this.canceled_?t(!1,new ry(!1,null,!0)):this.backoffId_=$J(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&UJ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ry{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function WJ(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function GJ(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function KJ(r,e){e&&(r["X-Firebase-GMPID"]=e)}function XJ(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function YJ(r,e,t,n,i,a,s=!0,l=!1){const c=zJ(r.urlParams),o=r.url+c,u=Object.assign({},r.headers);return KJ(u,e),WJ(u,t),GJ(u,a),XJ(u,n),new HJ(o,r.method,u,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,i,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QJ(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function ZJ(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,t){this._service=e,t instanceof Ol?this._location=t:this._location=Ol.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new vv(e,t)}get root(){const e=new Ol(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZJ(this._location.path)}get storage(){return this._service}get parent(){const e=QJ(this._location.path);if(e===null)return null;const t=new Ol(this._location.bucket,e);return new vv(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw FJ(e)}}function AN(r,e){const t=e==null?void 0:e[PJ];return t==null?null:Ol.makeFromBucketSpec(t,r)}function JJ(r,e,t,n={}){r.host=`${e}:${t}`;const i=Qd(e);i&&(iA(`https://${r.host}/b`),aA("Storage",!0)),r._isUsingEmulator=!0,r._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(r._overrideAuthToken=typeof a=="string"?a:UD(a,r.app.options.projectId))}class eee{constructor(e,t,n,i,a,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=cF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jJ,this._maxUploadRetryTime=IJ,this._requests=new Set,i!=null?this._bucket=Ol.makeFromBucketSpec(i,this._host):this._bucket=AN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ol.makeFromBucketSpec(this._url,e):this._bucket=AN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){EN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){EN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(lo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vv(this,e)}_makeRequest(e,t,n,i,a=!0){if(this._deleted)return new BJ(uF());{const s=YJ(e,this._appId,n,i,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const CN="@firebase/storage",kN="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF="storage";function tee(r=Ib(),e){r=Vi(r);const n=Jd(r,fF).getImmediate({identifier:e}),i=FD("storage");return i&&ree(n,...i),n}function ree(r,e,t,n={}){JJ(r,e,t,n)}function nee(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),i=r.getProvider("app-check-internal");return new eee(t,n,i,e,eh)}function iee(){Ll(new sl(fF,nee,"PUBLIC").setMultipleInstances(!0)),fo(CN,kN,""),fo(CN,kN,"esm2020")}iee();const dF="@firebase/installations",ZA="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=1e4,pF=`w:${ZA}`,mF="FIS_v2",aee="https://firebaseinstallations.googleapis.com/v1",see=3600*1e3,oee="installations",lee="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cee={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Bd=new Zd(oee,lee,cee);function gF(r){return r instanceof Ul&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF({projectId:r}){return`${aee}/projects/${r}/installations`}function vF(r){return{token:r.token,requestStatus:2,expiresIn:fee(r.expiresIn),creationTime:Date.now()}}async function bF(r,e){const n=(await e.json()).error;return Bd.create("request-failed",{requestName:r,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function wF({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function uee(r,{refreshToken:e}){const t=wF(r);return t.append("Authorization",dee(e)),t}async function xF(r){const e=await r();return e.status>=500&&e.status<600?r():e}function fee(r){return Number(r.replace("s","000"))}function dee(r){return`${mF} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hee({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const n=yF(r),i=wF(r),a=e.getImmediate({optional:!0});if(a){const o=await a.getHeartbeatsHeader();o&&i.append("x-firebase-client",o)}const s={fid:t,authVersion:mF,appId:r.appId,sdkVersion:pF},l={method:"POST",headers:i,body:JSON.stringify(s)},c=await xF(()=>fetch(n,l));if(c.ok){const o=await c.json();return{fid:o.fid||t,registrationStatus:2,refreshToken:o.refreshToken,authToken:vF(o.authToken)}}else throw await bF("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pee(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mee=/^[cdef][\w-]{21}$/,p8="";function gee(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=yee(r);return mee.test(t)?t:p8}catch{return p8}}function yee(r){return pee(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=new Map;function EF(r,e){const t=rw(r);AF(t,e),vee(t,e)}function AF(r,e){const t=SF.get(r);if(t)for(const n of t)n(e)}function vee(r,e){const t=bee();t&&t.postMessage({key:r,fid:e}),wee()}let Sd=null;function bee(){return!Sd&&"BroadcastChannel"in self&&(Sd=new BroadcastChannel("[Firebase] FID Change"),Sd.onmessage=r=>{AF(r.data.key,r.data.fid)}),Sd}function wee(){SF.size===0&&Sd&&(Sd.close(),Sd=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xee="firebase-installations-database",_ee=1,$d="firebase-installations-store";let n_=null;function JA(){return n_||(n_=jb(xee,_ee,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore($d)}}})),n_}async function bv(r,e){const t=rw(r),i=(await JA()).transaction($d,"readwrite"),a=i.objectStore($d),s=await a.get(t);return await a.put(e,t),await i.done,(!s||s.fid!==e.fid)&&EF(r,e.fid),e}async function CF(r){const e=rw(r),n=(await JA()).transaction($d,"readwrite");await n.objectStore($d).delete(e),await n.done}async function nw(r,e){const t=rw(r),i=(await JA()).transaction($d,"readwrite"),a=i.objectStore($d),s=await a.get(t),l=e(s);return l===void 0?await a.delete(t):await a.put(l,t),await i.done,l&&(!s||s.fid!==l.fid)&&EF(r,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(r){let e;const t=await nw(r.appConfig,n=>{const i=See(n),a=Eee(r,i);return e=a.registrationPromise,a.installationEntry});return t.fid===p8?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function See(r){const e=r||{fid:gee(),registrationStatus:0};return kF(e)}function Eee(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Bd.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=Aee(r,t);return{installationEntry:t,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Cee(r)}:{installationEntry:e}}async function Aee(r,e){try{const t=await hee(r,e);return bv(r.appConfig,t)}catch(t){throw gF(t)&&t.customData.serverCode===409?await CF(r.appConfig):await bv(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Cee(r){let e=await TN(r.appConfig);for(;e.registrationStatus===1;)await _F(100),e=await TN(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:n}=await e4(r);return n||t}return e}function TN(r){return nw(r,e=>{if(!e)throw Bd.create("installation-not-found");return kF(e)})}function kF(r){return kee(r)?{fid:r.fid,registrationStatus:0}:r}function kee(r){return r.registrationStatus===1&&r.registrationTime+hF<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tee({appConfig:r,heartbeatServiceProvider:e},t){const n=Nee(r,t),i=uee(r,t),a=e.getImmediate({optional:!0});if(a){const o=await a.getHeartbeatsHeader();o&&i.append("x-firebase-client",o)}const s={installation:{sdkVersion:pF,appId:r.appId}},l={method:"POST",headers:i,body:JSON.stringify(s)},c=await xF(()=>fetch(n,l));if(c.ok){const o=await c.json();return vF(o)}else throw await bF("Generate Auth Token",c)}function Nee(r,{fid:e}){return`${yF(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(r,e=!1){let t;const n=await nw(r.appConfig,a=>{if(!TF(a))throw Bd.create("not-registered");const s=a.authToken;if(!e&&Iee(s))return a;if(s.requestStatus===1)return t=Pee(r,e),a;{if(!navigator.onLine)throw Bd.create("app-offline");const l=Ree(a);return t=jee(r,l),l}});return t?await t:n.authToken}async function Pee(r,e){let t=await NN(r.appConfig);for(;t.authToken.requestStatus===1;)await _F(100),t=await NN(r.appConfig);const n=t.authToken;return n.requestStatus===0?t4(r,e):n}function NN(r){return nw(r,e=>{if(!TF(e))throw Bd.create("not-registered");const t=e.authToken;return Mee(t)?{...e,authToken:{requestStatus:0}}:e})}async function jee(r,e){try{const t=await Tee(r,e),n={...e,authToken:t};return await bv(r.appConfig,n),t}catch(t){if(gF(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await CF(r.appConfig);else{const n={...e,authToken:{requestStatus:0}};await bv(r.appConfig,n)}throw t}}function TF(r){return r!==void 0&&r.registrationStatus===2}function Iee(r){return r.requestStatus===2&&!Oee(r)}function Oee(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+see}function Ree(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function Mee(r){return r.requestStatus===1&&r.requestTime+hF<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dee(r){const e=r,{installationEntry:t,registrationPromise:n}=await e4(e);return n?n.catch(console.error):t4(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lee(r,e=!1){const t=r;return await Fee(t),(await t4(t,e)).token}async function Fee(r){const{registrationPromise:e}=await e4(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bee(r){if(!r||!r.options)throw i_("App Configuration");if(!r.name)throw i_("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw i_(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function i_(r){return Bd.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF="installations",$ee="installations-internal",Uee=r=>{const e=r.getProvider("app").getImmediate(),t=Bee(e),n=Jd(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Vee=r=>{const e=r.getProvider("app").getImmediate(),t=Jd(e,NF).getImmediate();return{getId:()=>Dee(t),getToken:i=>Lee(t,i)}};function zee(){Ll(new sl(NF,Uee,"PUBLIC")),Ll(new sl($ee,Vee,"PRIVATE"))}zee();fo(dF,ZA);fo(dF,ZA,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qee="/firebase-messaging-sw.js",Hee="/firebase-cloud-messaging-push-scope",PF="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Wee="https://fcmregistrations.googleapis.com/v1",jF="google.c.a.c_id",Gee="google.c.a.c_l",Kee="google.c.a.ts",Xee="google.c.a.e",PN=1e4;var jN;(function(r){r[r.DATA_MESSAGE=1]="DATA_MESSAGE",r[r.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(jN||(jN={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var G0;(function(r){r.PUSH_RECEIVED="push-received",r.NOTIFICATION_CLICKED="notification-clicked"})(G0||(G0={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(r){const e=new Uint8Array(r);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yee(r){const e="=".repeat((4-r.length%4)%4),t=(r+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),i=new Uint8Array(n.length);for(let a=0;a<n.length;++a)i[a]=n.charCodeAt(a);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="fcm_token_details_db",Qee=5,IN="fcm_token_object_Store";async function Zee(r){if("databases"in indexedDB&&!(await indexedDB.databases()).map(a=>a.name).includes(a_))return null;let e=null;return(await jb(a_,Qee,{upgrade:async(n,i,a,s)=>{if(i<2||!n.objectStoreNames.contains(IN))return;const l=s.objectStore(IN),c=await l.index("fcmSenderId").get(r);if(await l.clear(),!!c){if(i===2){const o=c;if(!o.auth||!o.p256dh||!o.endpoint)return;e={token:o.fcmToken,createTime:o.createTime??Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:typeof o.vapidKey=="string"?o.vapidKey:Xc(o.vapidKey)}}}else if(i===3){const o=c;e={token:o.fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Xc(o.auth),p256dh:Xc(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Xc(o.vapidKey)}}}else if(i===4){const o=c;e={token:o.fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Xc(o.auth),p256dh:Xc(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Xc(o.vapidKey)}}}}}})).close(),await Wx(a_),await Wx("fcm_vapid_details_db"),await Wx("undefined"),Jee(e)?e:null}function Jee(r){if(!r||!r.subscriptionOptions)return!1;const{subscriptionOptions:e}=r;return typeof r.createTime=="number"&&r.createTime>0&&typeof r.token=="string"&&r.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ete="firebase-messaging-database",tte=1,K0="firebase-messaging-store";let s_=null;function IF(){return s_||(s_=jb(ete,tte,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(K0)}}})),s_}async function rte(r){const e=OF(r),n=await(await IF()).transaction(K0).objectStore(K0).get(e);if(n)return n;{const i=await Zee(r.appConfig.senderId);if(i)return await r4(r,i),i}}async function r4(r,e){const t=OF(r),i=(await IF()).transaction(K0,"readwrite");return await i.objectStore(K0).put(e,t),await i.done,e}function OF({appConfig:r}){return r.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nte={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Bs=new Zd("messaging","Messaging",nte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ite(r,e){const t=await i4(r),n=RF(e),i={method:"POST",headers:t,body:JSON.stringify(n)};let a;try{a=await(await fetch(n4(r.appConfig),i)).json()}catch(s){throw Bs.create("token-subscribe-failed",{errorInfo:s==null?void 0:s.toString()})}if(a.error){const s=a.error.message;throw Bs.create("token-subscribe-failed",{errorInfo:s})}if(!a.token)throw Bs.create("token-subscribe-no-token");return a.token}async function ate(r,e){const t=await i4(r),n=RF(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(n)};let a;try{a=await(await fetch(`${n4(r.appConfig)}/${e.token}`,i)).json()}catch(s){throw Bs.create("token-update-failed",{errorInfo:s==null?void 0:s.toString()})}if(a.error){const s=a.error.message;throw Bs.create("token-update-failed",{errorInfo:s})}if(!a.token)throw Bs.create("token-update-no-token");return a.token}async function ste(r,e){const n={method:"DELETE",headers:await i4(r)};try{const a=await(await fetch(`${n4(r.appConfig)}/${e}`,n)).json();if(a.error){const s=a.error.message;throw Bs.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw Bs.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function n4({projectId:r}){return`${Wee}/projects/${r}/registrations`}async function i4({appConfig:r,installations:e}){const t=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}function RF({p256dh:r,auth:e,endpoint:t,vapidKey:n}){const i={web:{endpoint:t,auth:e,p256dh:r}};return n!==PF&&(i.web.applicationPubKey=n),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ote=10080*60*1e3;async function lte(r){const e=await ute(r.swRegistration,r.vapidKey),t={vapidKey:r.vapidKey,swScope:r.swRegistration.scope,endpoint:e.endpoint,auth:Xc(e.getKey("auth")),p256dh:Xc(e.getKey("p256dh"))},n=await rte(r.firebaseDependencies);if(n){if(fte(n.subscriptionOptions,t))return Date.now()>=n.createTime+ote?cte(r,{token:n.token,createTime:Date.now(),subscriptionOptions:t}):n.token;try{await ste(r.firebaseDependencies,n.token)}catch(i){console.warn(i)}return ON(r.firebaseDependencies,t)}else return ON(r.firebaseDependencies,t)}async function cte(r,e){try{const t=await ate(r.firebaseDependencies,e),n={...e,token:t,createTime:Date.now()};return await r4(r.firebaseDependencies,n),t}catch(t){throw t}}async function ON(r,e){const n={token:await ite(r,e),createTime:Date.now(),subscriptionOptions:e};return await r4(r,n),n.token}async function ute(r,e){const t=await r.pushManager.getSubscription();return t||r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Yee(e)})}function fte(r,e){const t=e.vapidKey===r.vapidKey,n=e.endpoint===r.endpoint,i=e.auth===r.auth,a=e.p256dh===r.p256dh;return t&&n&&i&&a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(r){const e={from:r.from,collapseKey:r.collapse_key,messageId:r.fcmMessageId};return dte(e,r),hte(e,r),pte(e,r),e}function dte(r,e){if(!e.notification)return;r.notification={};const t=e.notification.title;t&&(r.notification.title=t);const n=e.notification.body;n&&(r.notification.body=n);const i=e.notification.image;i&&(r.notification.image=i);const a=e.notification.icon;a&&(r.notification.icon=a)}function hte(r,e){e.data&&(r.data=e.data)}function pte(r,e){var i,a,s,l;if(!e.fcmOptions&&!((i=e.notification)!=null&&i.click_action))return;r.fcmOptions={};const t=((a=e.fcmOptions)==null?void 0:a.link)??((s=e.notification)==null?void 0:s.click_action);t&&(r.fcmOptions.link=t);const n=(l=e.fcmOptions)==null?void 0:l.analytics_label;n&&(r.fcmOptions.analyticsLabel=n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mte(r){return typeof r=="object"&&!!r&&jF in r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gte(r){if(!r||!r.options)throw o_("App Configuration Object");if(!r.name)throw o_("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=r;for(const n of e)if(!t[n])throw o_(n);return{appName:r.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function o_(r){return Bs.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yte{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=gte(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vte(r){try{r.swRegistration=await navigator.serviceWorker.register(qee,{scope:Hee}),r.swRegistration.update().catch(()=>{}),await bte(r.swRegistration)}catch(e){throw Bs.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function bte(r){return new Promise((e,t)=>{const n=setTimeout(()=>t(new Error(`Service worker not registered after ${PN} ms`)),PN),i=r.installing||r.waiting;r.active?(clearTimeout(n),e()):i?i.onstatechange=a=>{var s;((s=a.target)==null?void 0:s.state)==="activated"&&(i.onstatechange=null,clearTimeout(n),e())}:(clearTimeout(n),t(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wte(r,e){if(!e&&!r.swRegistration&&await vte(r),!(!e&&r.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Bs.create("invalid-sw-registration");r.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xte(r,e){e?r.vapidKey=e:r.vapidKey||(r.vapidKey=PF)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MF(r,e){if(!navigator)throw Bs.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Bs.create("permission-blocked");return await xte(r,e==null?void 0:e.vapidKey),await wte(r,e==null?void 0:e.serviceWorkerRegistration),lte(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _te(r,e,t){const n=Ste(e);(await r.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:t[jF],message_name:t[Gee],message_time:t[Kee],message_device_time:Math.floor(Date.now()/1e3)})}function Ste(r){switch(r){case G0.NOTIFICATION_CLICKED:return"notification_open";case G0.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ete(r,e){const t=e.data;if(!t.isFirebaseMessaging)return;r.onMessageHandler&&t.messageType===G0.PUSH_RECEIVED&&(typeof r.onMessageHandler=="function"?r.onMessageHandler(RN(t)):r.onMessageHandler.next(RN(t)));const n=t.data;mte(n)&&n[Xee]==="1"&&await _te(r,t.messageType,n)}const MN="@firebase/messaging",DN="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ate=r=>{const e=new yte(r.getProvider("app").getImmediate(),r.getProvider("installations-internal").getImmediate(),r.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>Ete(e,t)),e},Cte=r=>{const e=r.getProvider("messaging").getImmediate();return{getToken:n=>MF(e,n)}};function kte(){Ll(new sl("messaging",Ate,"PUBLIC")),Ll(new sl("messaging-internal",Cte,"PRIVATE")),fo(MN,DN),fo(MN,DN,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tte(){try{await zD()}catch{return!1}return typeof window<"u"&&VD()&&BW()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nte(r,e){if(!navigator)throw Bs.create("only-available-in-window");return r.onMessageHandler=e,()=>{r.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pte(r=Ib()){return Tte().then(e=>{if(!e)throw Bs.create("unsupported-browser")},e=>{throw Bs.create("indexed-db-unsupported")}),Jd(Vi(r),"messaging").getImmediate()}async function jte(r,e){return r=Vi(r),MF(r,e)}function Ite(r,e){return r=Vi(r),Nte(r,e)}kte();var nf={};const Ote={apiKey:nf.VITE_FIREBASE_API_KEY,authDomain:nf.VITE_FIREBASE_AUTH_DOMAIN,projectId:nf.VITE_FIREBASE_PROJECT_ID,storageBucket:nf.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:nf.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:nf.VITE_FIREBASE_APP_ID,measurementId:nf.VITE_FIREBASE_MEASUREMENT_ID},iw=WD(Ote),Lt=JY(iw),vd=TJ(iw);tee(iw);const DF=Pte(iw),LN=nf.VITE_VAPID_PUBLIC_KEY,Rte=async()=>{try{return typeof window>"u"||!("Notification"in window)||!LN?null:await Notification.requestPermission()==="granted"?await jte(DF,{vapidKey:LN}):null}catch(r){return console.error("Erro ao solicitar permissão de notificação:",r),null}},Mte=()=>new Promise(r=>{Ite(DF,e=>{r(e)})}),a4=()=>{ce.useEffect(()=>{const r=console.error,e=console.warn,t=console.log,n=l=>typeof l=="string"?l.includes("ResizeObserver loop completed with undelivered notifications")||l.includes("ResizeObserver")||l.includes("resize observer"):!1;console.error=(...l)=>{n(l[0])||r.apply(console,l)},console.warn=(...l)=>{n(l[0])||e.apply(console,l)},console.log=(...l)=>{n(l[0])||t.apply(console,l)};const i=l=>{if(n(l.message))return l.preventDefault(),l.stopImmediatePropagation(),!1},a=l=>{if(n(l.reason))return l.preventDefault(),!1},s=window.addEventListener;return window.addEventListener=function(l,c,o){if(l==="error"&&typeof c=="function"){const u=f=>n(f.message)?!1:c(f);return s.call(this,l,u,o)}return s.call(this,l,c,o)},window.addEventListener("error",i),window.addEventListener("unhandledrejection",a),()=>{console.error=r,console.warn=e,console.log=t,window.addEventListener=s,window.removeEventListener("error",i),window.removeEventListener("unhandledrejection",a)}},[])};class By{static getDeviceInfo(){const e=navigator.userAgent,t=[{pattern:"Chrome",name:"Chrome"},{pattern:"Firefox",name:"Firefox"},{pattern:"Safari",name:"Safari"},{pattern:"Edge",name:"Edge"},{pattern:"Opera",name:"Opera"}],n=[{pattern:"Windows",name:"Windows"},{pattern:"Mac",name:"macOS"},{pattern:"Linux",name:"Linux"},{pattern:"Android",name:"Android"},{pattern:"iOS",name:"iOS"}],i=[{pattern:"Mobile",name:"Mobile"},{pattern:"Tablet",name:"Tablet"}],a=(s,l="Desconhecido")=>{const c=s.find(o=>e.includes(o.pattern));return(c==null?void 0:c.name)||l};return{browser:a(t),os:a(n),device:a(i,"Desktop"),userAgent:e}}static async getIPAddress(){try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch(e){return console.error("Erro ao obter IP:",e),"Não disponível"}}static async getSessionInfo(){const e=this.getDeviceInfo(),t=await this.getIPAddress();return{...e,ip:t,timestamp:new Date}}static formatSessionInfo(e){return{ip:e.ip,device:`${e.browser} - ${e.os}`,browser:e.browser,os:e.os}}}const LF=ce.createContext(void 0),Lf=()=>{const r=ce.useContext(LF);if(!r)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return r},Dte=({children:r})=>{const[e,t]=ce.useState(null),[n,i]=ce.useState(null),[a,s]=ce.useState(!0),l=async(m,g)=>{try{const p=await dZ(vd,m,g);try{const y=await By.getSessionInfo();await yd(kn(Lt,"users",p.user.uid),{lastLogin:new Date,sessionInfo:{...y,timestamp:new Date}},{merge:!0})}catch(y){console.error("Erro ao capturar informações de sessão:",y)}return p}catch(p){throw p}},c=async()=>{try{const m=new Zc,g=await LZ(vd,m);return(await uv(kn(Lt,"users",g.user.uid))).exists()?await yd(kn(Lt,"users",g.user.uid),{lastLogin:new Date},{merge:!0}):await yd(kn(Lt,"users",g.user.uid),{uid:g.user.uid,email:g.user.email,displayName:g.user.displayName,photoURL:g.user.photoURL,role:"user",createdAt:new Date,lastLogin:new Date,provider:"google"}),g}catch(m){throw m}},o=async()=>{try{await yZ(vd)}catch(m){throw m}},u=async(m,g,p,y="user")=>{try{const v=await fZ(vd,m,g);return await pZ(v.user,{displayName:p}),await yd(kn(Lt,"users",v.user.uid),{uid:v.user.uid,email:v.user.email,displayName:p,role:y,createdAt:new Date,lastLogin:new Date,provider:"email"}),v}catch(v){throw v}},f=async m=>{try{const g=await uv(kn(Lt,"users",m));if(g.exists()){const p=g.data(),y=v=>{if(!v)return new Date;try{return v&&typeof v.toDate=="function"?v.toDate():v instanceof Date?v:typeof v=="number"?new Date(v):typeof v=="string"?new Date(v):new Date}catch(w){return console.error("Erro ao converter timestamp:",w),new Date}};return{uid:p.uid,email:p.email,displayName:p.displayName,photoURL:p.photoURL,role:p.role,createdAt:y(p.createdAt),lastLogin:y(p.lastLogin),provider:p.provider,telefone:p.telefone,cargo:p.cargo,notificacoes:p.notificacoes,sessionInfo:p.sessionInfo?{...p.sessionInfo,timestamp:y(p.sessionInfo.timestamp)}:void 0}}return null}catch(g){return console.error("Erro ao buscar perfil do usuário:",g),null}},d=async(m,g)=>{try{await yd(kn(Lt,"users",m),g,{merge:!0});const p=await f(m);i(p)}catch(p){throw p}};ce.useEffect(()=>Q3(vd,async g=>{if(t(g),g){const p=await f(g.uid);i(p)}else i(null);s(!1)}),[]);const h={currentUser:e,userProfile:n,login:l,loginWithGoogle:c,logout:o,signup:u,updateUserProfile:d,loading:a};return A.jsx(LF.Provider,{value:h,children:!a&&r})},FF=ce.createContext(void 0),fl=()=>{const r=ce.useContext(FF);if(!r)throw new Error("useNotification deve ser usado dentro de um NotificationProvider");return r},Lte=({children:r})=>{ce.useEffect(()=>{Rte(),Mte().then(n=>{if(n){const{title:i,body:a}=n.notification;Bh.success(`${i}: ${a}`,{duration:5e3,position:"top-right"}),Notification.permission==="granted"&&new Notification(i,{body:a,icon:"/logo192.png"})}}).catch(n=>{console.error("Erro ao receber mensagem:",n)})},[]);const t={showNotification:(n,i="success")=>{const a={duration:4e3,position:"bottom-right",style:{background:"#363636",color:"#fff",borderRadius:"8px",fontSize:"14px"}};switch(i){case"success":Bh.success(n,a);break;case"error":Bh.error(n,a);break;case"warning":Bh(n,{...a,icon:"⚠️"});break;case"info":Bh(n,{...a,icon:"ℹ️"});break;default:Bh(n,a)}}};return A.jsx(FF.Provider,{value:t,children:r})},BF=()=>{const r=Yd(),{showNotification:e}=fl(),t=ce.useCallback((i,a={})=>{const{showNotification:s=!0,redirectToErrorPage:l=!1,errorPageType:c="500",fallbackMessage:o="Ocorreu um erro inesperado"}=a;console.error("Erro capturado:",i);let u=c,f=o;if(i!=null&&i.code)switch(i.code){case"auth/user-not-found":f="Usuário não encontrado. Verifique se o email está correto ou use o login com Google.";break;case"auth/wrong-password":f="Senha incorreta. Verifique sua senha e tente novamente.";break;case"auth/invalid-email":f="Email inválido. Verifique o formato do email.";break;case"auth/invalid-credential":f="Credenciais inválidas. Verifique seu email e senha, ou use o login com Google.";break;case"auth/operation-not-allowed":f="Método de login não habilitado. Entre em contato com o administrador.";break;case"auth/too-many-requests":f="Muitas tentativas. Tente novamente em alguns minutos.";break;case"auth/network-request-failed":f="Erro de conexão. Verifique sua internet e tente novamente.",u="500";break;case"permission-denied":f="Você não tem permissão para esta ação.",u="403";break;case"not-found":f="Recurso não encontrado.",u="404";break;default:f="Ocorreu um erro inesperado. Tente novamente ou use o login com Google."}else i!=null&&i.message&&(f=i.message);return s&&e(f,"error"),l&&r(`/error/${u}`),{errorType:u,errorMessage:f,originalError:i}},[r,e]),n=ce.useCallback(async(i,a={})=>{try{return await i()}catch(s){return t(s,a),null}},[t]);return{handleError:t,handleAsyncError:n}};var Fte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Bte=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$te=(r,e)=>{const t=ce.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:l,...c},o)=>ce.createElement("svg",{ref:o,...Fte,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${Bte(r)}`,...c},[...e.map(([u,f])=>ce.createElement(u,f)),...(Array.isArray(l)?l:[l])||[]]));return t.displayName=`${r}`,t};var $r=$te;const $F=$r("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),UF=$r("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ute=$r("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),VF=$r("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),s4=$r("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Yg=$r("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),zF=$r("Car",[["path",{d:"M14 16H9m10 0h3v-3.15a1 1 0 0 0-.84-.99L16 11l-2.7-3.6a1 1 0 0 0-.8-.4H5.24a2 2 0 0 0-1.8 1.1l-.8 1.63A6 6 0 0 0 2 12.42V16h2",key:"l5np60"}],["circle",{cx:"6.5",cy:"16.5",r:"2.5",key:"ae40ju"}],["circle",{cx:"16.5",cy:"16.5",r:"2.5",key:"1smtlt"}]]),aw=$r("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),o4=$r("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Au=$r("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),cm=$r("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Vte=$r("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),zte=$r("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),X0=$r("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),m8=$r("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Y0=$r("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),qte=$r("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),Hte=$r("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Wte=$r("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Gte=$r("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),qF=$r("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),l4=$r("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Kte=$r("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),g8=$r("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Xte=$r("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),c4=$r("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),sw=$r("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),gc=$r("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Yte=$r("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),um=$r("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),HF=$r("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),u4=$r("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Qte=$r("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Zte=$r("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Cu=$r("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),WF=$r("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),GF=$r("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),f4=$r("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),ow=$r("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Jte=$r("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),ere=$r("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),xc=$r("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),KF=$r("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),lw=$r("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),tre=$r("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Q0=$r("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Qg=$r("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),da=$r("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),rre=({isOpen:r,onClose:e,onSuccess:t})=>{const[n,i]=ce.useState(""),[a,s]=ce.useState(""),[l,c]=ce.useState(""),[o,u]=ce.useState(""),[f,d]=ce.useState(!1),[h,m]=ce.useState(!1),[g,p]=ce.useState(!1);a4();const{signup:y}=Lf(),{showNotification:v}=fl(),{handleError:w}=BF(),C=async P=>{if(P.preventDefault(),a!==l){v("As senhas não coincidem","error");return}if(a.length<6){v("A senha deve ter pelo menos 6 caracteres","error");return}p(!0);try{await y(n,a,o,"user"),v("Conta criada com sucesso! Faça login para continuar.","success"),t==null||t(),e()}catch(F){w(F,{showNotification:!0,redirectToErrorPage:!1,fallbackMessage:"Erro ao criar conta. Tente novamente."})}finally{p(!1)}};return r?A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:A.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Criar Nova Conta"}),A.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:A.jsx(da,{size:20})})]}),A.jsxs("form",{onSubmit:C,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),A.jsxs("div",{className:"relative",children:[A.jsx(Q0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),A.jsx("input",{type:"text",value:o,onChange:P=>u(P.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Digite seu nome completo",required:!0})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),A.jsxs("div",{className:"relative",children:[A.jsx(c4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),A.jsx("input",{type:"email",value:n,onChange:P=>i(P.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Digite seu email",required:!0})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),A.jsxs("div",{className:"relative",children:[A.jsx(g8,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),A.jsx("input",{type:f?"text":"password",value:a,onChange:P=>s(P.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Digite sua senha",required:!0}),A.jsx("button",{type:"button",onClick:()=>d(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f?A.jsx(m8,{size:16}):A.jsx(Y0,{size:16})})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Senha"}),A.jsxs("div",{className:"relative",children:[A.jsx(g8,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),A.jsx("input",{type:h?"text":"password",value:l,onChange:P=>c(P.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Confirme sua senha",required:!0}),A.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:h?A.jsx(m8,{size:16}):A.jsx(Y0,{size:16})})]})]}),A.jsxs("div",{className:"flex space-x-3 pt-4",children:[A.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancelar"}),A.jsx("button",{type:"submit",disabled:g,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?"Criando...":"Criar Conta"})]})]})]})}):null},nre=()=>{const[r,e]=ce.useState(""),[t,n]=ce.useState(""),[i,a]=ce.useState(!1),[s,l]=ce.useState(!1),[c,o]=ce.useState(!1),[u,f]=ce.useState(!1);a4();const{login:d,loginWithGoogle:h}=Lf(),{showNotification:m}=fl(),{handleError:g}=BF(),p=Yd(),y=async w=>{w.preventDefault(),l(!0);try{await d(r,t),m("Login realizado com sucesso!","success"),p("/dashboard")}catch(C){g(C,{showNotification:!0,redirectToErrorPage:!1,fallbackMessage:"Erro ao fazer login. Tente novamente"})}finally{l(!1)}},v=async()=>{o(!0);try{await h(),m("Login com Google realizado com sucesso!","success"),p("/dashboard")}catch(w){g(w,{showNotification:!0,redirectToErrorPage:!1,fallbackMessage:"Erro ao fazer login com Google. Tente novamente"})}finally{o(!1)}};return A.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100 py-12 px-4 sm:px-6 lg:px-8",children:[A.jsxs("div",{className:"max-w-md w-full space-y-8",children:[A.jsxs("div",{children:[A.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100",children:A.jsx(xc,{className:"h-8 w-8 text-primary-600"})}),A.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"SGL - Sistema de Gestão de Logística"}),A.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Faça login para acessar o sistema"})]}),A.jsx("div",{children:A.jsx("button",{onClick:v,disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?A.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-600"}):A.jsxs(A.Fragment,{children:[A.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[A.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),A.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),A.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),A.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Entrar com Google"]})})}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-0 flex items-center",children:A.jsx("div",{className:"w-full border-t border-gray-300"})}),A.jsx("div",{className:"relative flex justify-center text-sm",children:A.jsx("span",{className:"px-2 bg-gradient-to-br from-primary-50 to-primary-100 text-gray-500",children:"ou continue com email"})})]}),A.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),A.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"input-field rounded-lg",placeholder:"Email",value:r,onChange:w=>e(w.target.value)})]}),A.jsxs("div",{className:"relative",children:[A.jsx("label",{htmlFor:"password",className:"sr-only",children:"Senha"}),A.jsx("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"current-password",required:!0,className:"input-field rounded-lg pr-10",placeholder:"Senha",value:t,onChange:w=>n(w.target.value)}),A.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!i),children:i?A.jsx(m8,{className:"h-5 w-5 text-gray-400"}):A.jsx(Y0,{className:"h-5 w-5 text-gray-400"})})]})]}),A.jsx("div",{children:A.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?A.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Entrar com Email"})}),A.jsxs("div",{className:"text-center space-y-3",children:[A.jsx("p",{className:"text-xs text-gray-500",children:"Sistema de Gestão de Logística v1.0"}),A.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[A.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Não tem uma conta?"}),A.jsxs("button",{type:"button",onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[A.jsx(tre,{className:"w-4 h-4 mr-2"}),"Criar Nova Conta"]})]})]})]})]}),A.jsx(rre,{isOpen:u,onClose:()=>f(!1),onSuccess:()=>{e(""),n("")}})]})},ire=()=>{const[r,e]=ce.useState(!1),{logout:t}=Lf(),{showNotification:n}=fl(),i=Yd(),a=ce.useCallback(async()=>{try{await t(),n("Logout realizado com sucesso!","success"),i("/login")}catch{n("Erro ao fazer logout","error")}},[t,n,i]),s=ce.useCallback(()=>{e(l=>!l)},[]);return{sidebarOpen:r,setSidebarOpen:e,handleLogout:a,toggleSidebar:s}},are=({navigation:r,isOpen:e,onClose:t,userProfile:n,onLogout:i,className:a=""})=>A.jsxs(A.Fragment,{children:[e&&A.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 z-40 md:hidden",onClick:t}),A.jsx("div",{className:`fixed inset-0 flex z-50 md:hidden ${e?"":"hidden"}`,children:A.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[A.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:A.jsx("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:t,children:A.jsx(da,{className:"h-6 w-6 text-white"})})}),A.jsxs("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[A.jsxs("div",{className:"flex-shrink-0 flex items-center px-4",children:[A.jsx(xc,{className:"h-8 w-8 text-primary-600"}),A.jsx("span",{className:"ml-2 text-xl font-semibold text-gray-900",children:"SGL"})]}),A.jsx("nav",{className:"mt-5 px-2 space-y-1",children:r.map(s=>{const l=s.icon;return A.jsxs(Hk,{to:s.href,className:({isActive:c})=>`group flex items-center px-2 py-2 text-base font-medium rounded-md ${c?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[A.jsx(l,{className:"mr-4 h-6 w-6"}),s.name]},s.name)})})]})]})}),A.jsx("div",{className:"hidden md:flex md:flex-shrink-0",children:A.jsx("div",{className:"flex flex-col w-64",children:A.jsxs("div",{className:"flex flex-col h-0 flex-1 border-r border-gray-200 bg-white",children:[A.jsxs("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[A.jsxs("div",{className:"flex items-center flex-shrink-0 px-4",children:[A.jsx(xc,{className:"h-8 w-8 text-primary-600"}),A.jsx("span",{className:"ml-2 text-xl font-semibold text-gray-900",children:"SGL"})]}),A.jsx("nav",{className:"mt-5 flex-1 px-2 bg-white space-y-1",children:r.map(s=>{const l=s.icon;return A.jsxs(Hk,{to:s.href,className:({isActive:c})=>`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${c?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[A.jsx(l,{className:"mr-3 h-5 w-5"}),s.name]},s.name)})})]}),n&&A.jsxs("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:[A.jsx("div",{className:"flex items-center",children:A.jsxs("div",{children:[A.jsx("div",{className:"text-sm font-medium text-gray-700",children:n.displayName||"Usuário"}),A.jsx("div",{className:"text-xs text-gray-500",children:n.role==="admin"?"Administrador":"Usuário"})]})}),A.jsx("button",{onClick:i,className:"ml-auto flex-shrink-0 bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:A.jsx(Xte,{className:"h-5 w-5"})})]})]})})})]});class y8{static async createNotification(e){try{const t=await this.getUsersToNotify(e);for(const n of t){const i=kn(xr(Lt,"notificacoes")),a={...e,id:i.id,createdAt:new Date,read:!1,userId:n.id,targetUsers:[n.id]};await yd(i,a),await this.sendNotificationToUser(n,a)}}catch(t){throw console.error("Erro ao criar notificação:",t),t}}static async getUsersToNotify(e){try{const t=xr(Lt,"users"),n=xa(t,rl("role","in",["admin","gerente"])),i=await Lr(n),a=[];return i.forEach(s=>{const l=s.data();this.shouldNotifyUser(l,e)&&a.push({id:s.id,...l})}),a}catch(t){return console.error("Erro ao buscar usuários:",t),[]}}static shouldNotifyUser(e,t){const n=e.notificacoes||{};switch(t.type){case"rota":return n.rotas!==!1;case"folga":return n.folgas!==!1;case"veiculo":return n.manutencao!==!1;case"funcionario":return n.funcionarios!==!1;default:return!0}}static async sendNotificationToUser(e,t){try{const n=e.notificacoes||{};n.push&&e.fcmToken&&await this.sendPushNotification(e.fcmToken,t),n.email&&e.email&&await this.sendEmailNotification(e.email,t)}catch(n){console.error("Erro ao enviar notificação para usuário:",n)}}static async sendPushNotification(e,t){try{Zi.success(`${t.title}: ${t.message}`,{duration:5e3,position:"top-right"})}catch(n){console.error("Erro ao enviar push notification:",n)}}static async sendEmailNotification(e,t){try{console.log(`Email enviado para ${e}:`,{subject:t.title,body:t.message})}catch(n){console.error("Erro ao enviar email:",n)}}static async notifyNewFuncionario(e){await this.createNotification({type:"funcionario",title:"Novo Funcionário Cadastrado",message:`Funcionário ${e.nome} foi cadastrado no sistema.`,priority:"medium"})}static async notifyNewRota(e){await this.createNotification({type:"rota",title:"Nova Rota Criada",message:`Rota de ${e.origem} para ${e.destino} foi criada.`,priority:"high"})}static async notifyNewFolga(e){await this.createNotification({type:"folga",title:"Nova Solicitação de Folga",message:`Solicitação de folga para ${e.funcionarioNome} em ${e.data}.`,priority:"medium"})}static async notifyVeiculoManutencao(e){await this.createNotification({type:"veiculo",title:"Manutenção de Veículo",message:`Veículo ${e.placa} precisa de manutenção.`,priority:"high"})}static async getUserNotifications(e){try{const t=xr(Lt,"notificacoes"),n=xa(t,rl("targetUsers","array-contains",e)),i=await Lr(n),a=[];return i.forEach(s=>{var o;const l=s.data(),c=(o=l.createdAt)!=null&&o.toDate?l.createdAt.toDate():new Date(l.createdAt);a.push({id:s.id,...l,createdAt:c})}),a.sort((s,l)=>l.createdAt.getTime()-s.createdAt.getTime())}catch(t){return console.error("Erro ao buscar notificações:",t),[]}}static async markAsRead(e){try{const t=kn(Lt,"notificacoes",e);await yd(t,{read:!0},{merge:!0})}catch(t){console.error("Erro ao marcar notificação como lida:",t)}}}const sre=({className:r=""})=>{const{userProfile:e}=Lf(),[t,n]=ce.useState([]),[i,a]=ce.useState(0),[s,l]=ce.useState(!1),[c,o]=ce.useState(!1),u=ce.useCallback(async()=>{if(e!=null&&e.uid)try{o(!0);const d=await y8.getUserNotifications(e.uid);n(d),a(d.filter(h=>!h.read).length)}catch(d){console.error("Erro ao carregar notificações:",d)}finally{o(!1)}},[e==null?void 0:e.uid]),f=async d=>{try{await y8.markAsRead(d),n(h=>h.map(m=>m.id===d?{...m,read:!0}:m)),a(h=>Math.max(0,h-1)),Zi.success("Notificação marcada como lida")}catch(h){console.error("Erro ao marcar notificação:",h),Zi.error("Erro ao marcar notificação")}};return ce.useEffect(()=>{u()},[u]),ce.useEffect(()=>{const d=setInterval(u,3e4);return()=>clearInterval(d)},[u]),e?A.jsxs("div",{className:`relative ${r}`,children:[A.jsxs("button",{onClick:()=>l(!s),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Notificações",children:[A.jsx(VF,{size:20}),i>0&&A.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:i>99?"99+":i})]}),s&&A.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[A.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[A.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Notificações"}),A.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:A.jsx(da,{size:16})})]}),A.jsx("div",{className:"max-h-96 overflow-y-auto",children:c?A.jsx("div",{className:"p-4 text-center text-gray-500",children:"Carregando notificações..."}):t.length===0?A.jsx("div",{className:"p-4 text-center text-gray-500",children:"Nenhuma notificação"}):t.map(d=>A.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors ${d.read?"":"bg-blue-50"}`,children:A.jsxs("div",{className:"flex items-start justify-between",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("h4",{className:"text-sm font-medium text-gray-900",children:d.title}),A.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d.message}),A.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date(d.createdAt).toLocaleString("pt-BR")})]}),!d.read&&A.jsx("button",{onClick:()=>f(d.id),className:"ml-2 p-1 text-gray-400 hover:text-green-600 transition-colors",title:"Marcar como lida",children:A.jsx(o4,{size:14})})]})},d.id))}),t.length>0&&A.jsx("div",{className:"p-3 border-t border-gray-200",children:A.jsx("button",{onClick:()=>{t.forEach(d=>{d.read||f(d.id)})},className:"text-sm text-blue-600 hover:text-blue-800 transition-colors",children:"Marcar todas como lidas"})})]}),s&&A.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)})]}):null},ore=({onMenuClick:r,title:e,className:t=""})=>A.jsx("div",{className:`md:hidden pl-1 pt-1 sm:pl-3 sm:pt-3 ${t}`,children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("button",{type:"button",className:"-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:r,children:A.jsx(Yte,{className:"h-6 w-6"})}),e&&A.jsx("h1",{className:"ml-2 text-lg font-medium text-gray-900",children:e})]}),A.jsx("div",{className:"mr-4",children:A.jsx(sre,{})})]})}),lre=({children:r,className:e=""})=>A.jsx("main",{className:`flex-1 relative z-0 overflow-y-auto focus:outline-none ${e}`,children:A.jsx("div",{className:"py-6",children:A.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:r})})}),cre=[{name:"Dashboard",href:"/dashboard",icon:qF},{name:"Funcionários",href:"/funcionarios",icon:Qg},{name:"Veículos",href:"/veiculos",icon:xc},{name:"Rotas",href:"/rotas",icon:gc},{name:"Folgas",href:"/folgas",icon:Yg},{name:"Cidades",href:"/cidades",icon:sw},{name:"Vendedores",href:"/vendedores",icon:s4},{name:"Relatórios",href:"/relatorios",icon:Ute},{name:"Configurações",href:"/configuracoes",icon:GF}],ure=r=>cre.filter(t=>!t.roles||t.roles.includes(r||"user")),fre=({config:r,className:e=""})=>{const{userProfile:t}=Lf(),{sidebarOpen:n,setSidebarOpen:i,handleLogout:a,toggleSidebar:s}=ire(),l=(r==null?void 0:r.navigation)||ure(t==null?void 0:t.role);return A.jsxs("div",{className:`h-screen flex overflow-hidden bg-gray-100 ${e}`,children:[A.jsx(are,{navigation:l,isOpen:n,onClose:()=>i(!1),userProfile:t,onLogout:a}),A.jsxs("div",{className:"flex flex-col w-0 flex-1 overflow-hidden",children:[A.jsx(ore,{onMenuClick:s,title:r==null?void 0:r.title}),A.jsx(lre,{children:A.jsx(gH,{})})]})]})},Hc=r=>r&&typeof r.toDate=="function"?r.toDate():r instanceof Date?r:r&&typeof r=="number"?new Date(r):new Date;class dre{static async getDashboardStats(){try{const e=await Lr(xr(Lt,"funcionarios")),t=await Lr(xr(Lt,"vendedores")),n=await Lr(xr(Lt,"cidades")),i=await Lr(xr(Lt,"veiculos")),a=await Lr(xr(Lt,"rotas")),s=await Lr(xr(Lt,"folgas")),l=e.docs.map(u=>({id:u.id,...u.data()})),c=l.length,o=l.filter(u=>u.funcao==="motorista").length;return{funcionarios:c,motoristas:o,vendedores:t.size,cidades:n.size,veiculos:i.size,rotas:a.size,folgas:s.size}}catch(e){throw console.error("Erro ao buscar estatísticas do dashboard:",e),e}}static async getFuncionariosStatus(){try{const n=(await Lr(xr(Lt,"funcionarios"))).docs.map(a=>({id:a.id,...a.data()})).reduce((a,s)=>{const l=s.status||"disponivel";return a[l]=(a[l]||0)+1,a},{});return[{name:"Trabalhando",value:n.trabalhando||0,color:"#10B981"},{name:"Disponível",value:n.disponivel||0,color:"#3B82F6"},{name:"Folga",value:n.folga||0,color:"#F59E0B"},{name:"Férias",value:n.ferias||0,color:"#EF4444"}].filter(a=>a.value>0)}catch(e){throw console.error("Erro ao buscar status dos funcionários:",e),e}}static async getMotoristasStatus(){try{const i=(await Lr(xr(Lt,"funcionarios"))).docs.map(s=>({id:s.id,...s.data()})).filter(s=>s.funcao==="motorista").reduce((s,l)=>{const c=l.status||"disponivel";return s[c]=(s[c]||0)+1,s},{});return[{name:"Trabalhando",value:i.trabalhando||0,color:"#10B981"},{name:"Disponível",value:i.disponivel||0,color:"#3B82F6"},{name:"Folga",value:i.folga||0,color:"#F59E0B"},{name:"Férias",value:i.ferias||0,color:"#EF4444"}].filter(s=>s.value>0)}catch(e){throw console.error("Erro ao buscar status dos motoristas:",e),e}}static async getVeiculosStatus(){try{const n=(await Lr(xr(Lt,"veiculos"))).docs.map(a=>({id:a.id,...a.data()})).reduce((a,s)=>{const l=s.status||"disponivel";return a[l]=(a[l]||0)+1,a},{});return[{name:"Em Operação",value:n.operacao||n.trabalhando||0,color:"#10B981"},{name:"Disponível",value:n.disponivel||0,color:"#3B82F6"},{name:"Manutenção",value:n.manutencao||0,color:"#F59E0B"},{name:"Inativo",value:n.inativo||n.parado||0,color:"#EF4444"}].filter(a=>a.value>0)}catch(e){throw console.error("Erro ao buscar status dos veículos:",e),e}}static async getRotasData(){try{const n=(await Lr(xr(Lt,"rotas"))).docs.map(i=>({id:i.id,...i.data()})).reduce((i,a)=>{const l=Hc(a.dataCriacao).toLocaleDateString("pt-BR");return i[l]=(i[l]||0)+1,i},{});return Object.entries(n).map(([i,a])=>({data:i,quantidade:a}))}catch(e){throw console.error("Erro ao buscar dados de rotas:",e),e}}static async getAtividadesRecentes(){try{const e=await Lr(xr(Lt,"rotas")),t=await Lr(xr(Lt,"folgas")),n=await Lr(xr(Lt,"funcionarios")),i=await Lr(xr(Lt,"veiculos")),a=[];e.docs.forEach(u=>{const f={id:u.id,...u.data()},d=Hc(f.dataCriacao);let h="Motorista não informado";if(f.motoristaId){const m=n.docs.find(g=>g.id===f.motoristaId);m&&(h=m.data().nome||h)}a.push({id:`rota_${f.id}`,tipo:"rota",titulo:`Nova rota criada para ${f.destino||f.cidadeDestino||"destino não informado"}`,descricao:`${h} - ${d.toLocaleString("pt-BR")}`,timestamp:d,icon:"Map",color:"green"})}),t.docs.forEach(u=>{const f={id:u.id,...u.data()},d=Hc(f.dataCriacao),h=Hc(f.dataInicio);let m="Funcionário não informado";if(f.funcionarioId){const p=n.docs.find(y=>y.id===f.funcionarioId);p&&(m=p.data().nome||m)}const g=f.status==="aprovada"?"aprovada":f.status==="pendente"?"solicitada":f.status==="rejeitada"?"rejeitada":"solicitada";a.push({id:`folga_${f.id}`,tipo:"folga",titulo:`Folga ${g} para ${m}`,descricao:`${h.toLocaleDateString("pt-BR")} - ${d.toLocaleString("pt-BR")}`,timestamp:d,icon:"Calendar",color:f.status==="aprovada"?"green":f.status==="rejeitada"?"red":"blue"})});const s=await Lr(xr(Lt,"cidades")),l=await Lr(xr(Lt,"vendedores")),c=new Date;return c.setDate(c.getDate()-15),n.docs.map(u=>({id:u.id,...u.data()})).filter(u=>u.funcao==="motorista").forEach(u=>{const f=Hc(u.dataCriacao||u.createdAt);f>c&&a.push({id:`motorista_${u.id}`,tipo:"motorista",titulo:`Novo motorista cadastrado: ${u.nome||"Nome não informado"}`,descricao:`CNH: ${u.cnh||"CNH não informada"} - ${f.toLocaleString("pt-BR")}`,timestamp:f,icon:"Car",color:"green"})}),i.docs.forEach(u=>{const f={id:u.id,...u.data()},d=Hc(f.dataCriacao||f.createdAt);d>c&&a.push({id:`veiculo_${f.id}`,tipo:"veiculo",titulo:`Novo veículo cadastrado: ${f.placa||"Placa não informada"}`,descricao:`Modelo: ${f.modelo||"Modelo não informado"} - ${d.toLocaleString("pt-BR")}`,timestamp:d,icon:"Truck",color:"orange"})}),n.docs.forEach(u=>{const f={id:u.id,...u.data()},d=Hc(f.dataCriacao||f.createdAt);if(d>c){const h=p=>{if(!p||p.trim()==="")return"Função não informada";switch(p.toLowerCase().trim()){case"motorista":return"Motorista";case"ajudante":return"Ajudante";case"outro":return"Outro";default:return p.charAt(0).toUpperCase()+p.slice(1).toLowerCase()}},m=f.funcao||null,g=h(m);a.push({id:`funcionario_${f.id}`,tipo:"funcionario",titulo:`Novo funcionário cadastrado: ${f.nome||"Nome não informado"}`,descricao:`${g} - ${d.toLocaleString("pt-BR")}`,timestamp:d,icon:"Users",color:"purple"})}}),s.docs.forEach(u=>{const f={id:u.id,...u.data()},d=Hc(f.dataCriacao||f.createdAt);d>c&&a.push({id:`cidade_${f.id}`,tipo:"cidade",titulo:`Nova cidade cadastrada: ${f.nome||"Nome não informado"}`,descricao:`Estado: ${f.estado||"Estado não informado"} - ${d.toLocaleString("pt-BR")}`,timestamp:d,icon:"Building2",color:"gray"})}),l.docs.forEach(u=>{const f={id:u.id,...u.data()},d=Hc(f.dataCriacao||f.createdAt);d>c&&a.push({id:`vendedor_${f.id}`,tipo:"vendedor",titulo:`Novo vendedor cadastrado: ${f.nome||"Nome não informado"}`,descricao:`Região: ${f.regiao||"Região não informada"} - ${d.toLocaleString("pt-BR")}`,timestamp:d,icon:"UserCheck",color:"blue"})}),a.sort((u,f)=>f.timestamp.getTime()-u.timestamp.getTime()).slice(0,10)}catch(e){throw console.error("Erro ao buscar atividades recentes:",e),e}}static async getAllDashboardData(){try{let e,t,n;try{e=await this.getDashboardStats()}catch(a){console.error("Erro ao buscar estatísticas:",a),e={funcionarios:0,motoristas:0,vendedores:0,cidades:0,veiculos:0,rotas:0,folgas:0}}try{t=await this.getMotoristasStatus()}catch(a){console.error("Erro ao buscar status dos motoristas:",a),t=[]}let i=[];try{i=await this.getVeiculosStatus()}catch(a){console.error("Erro ao buscar status dos veículos:",a),i=[]}try{n=await this.getAtividadesRecentes()}catch(a){console.error("Erro ao buscar atividades recentes:",a),n=[]}return{stats:e,motoristasStatus:t,veiculosStatus:i,atividadesRecentes:n}}catch(e){return console.error("Erro geral ao buscar dados do dashboard:",e),{stats:{funcionarios:0,motoristas:0,vendedores:0,cidades:0,veiculos:0,rotas:0,folgas:0},motoristasStatus:[],veiculosStatus:[],atividadesRecentes:[]}}}}const hre=()=>{const[r,e]=ce.useState({stats:{funcionarios:0,motoristas:0,vendedores:0,cidades:0,veiculos:0,rotas:0,folgas:0},motoristasStatus:[],veiculosStatus:[],atividadesRecentes:[],loading:!0}),[t,n]=ce.useState(null),i=ce.useCallback(async()=>{try{n(null),e(l=>({...l,loading:!0}));const s=await dre.getAllDashboardData();e({...s,loading:!1})}catch(s){console.error("Erro ao buscar dados do dashboard:",s),n(s instanceof Error?s.message:"Erro desconhecido"),e(l=>({...l,loading:!1}))}},[]),a=ce.useCallback(()=>{i()},[i]);return ce.useEffect(()=>{i()},[i]),{data:r,error:t,refreshData:a,loading:r.loading}},$h=({title:r,value:e,icon:t,trend:n,trendValue:i,color:a})=>A.jsx("div",{className:"card",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:`p-3 rounded-lg ${a}`,children:A.jsx(t,{className:"h-6 w-6 text-white"})}),A.jsxs("div",{className:"ml-4",children:[A.jsx("p",{className:"text-sm font-medium text-gray-600",children:r}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e}),n&&A.jsxs("div",{className:"flex items-center mt-1",children:[n==="up"?A.jsx(ere,{className:"h-4 w-4 text-green-500"}):A.jsx(Jte,{className:"h-4 w-4 text-red-500"}),A.jsx("span",{className:`ml-1 text-sm ${n==="up"?"text-green-600":"text-red-600"}`,children:i})]})]})]})}),pre=({stats:r})=>A.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",children:[A.jsx($h,{title:"Funcionários",value:r.funcionarios,icon:Qg,color:"bg-blue-500"}),A.jsx($h,{title:"Motoristas",value:r.motoristas,icon:zF,color:"bg-green-500"}),A.jsx($h,{title:"Vendedores",value:r.vendedores,icon:lw,color:"bg-teal-500"}),A.jsx($h,{title:"Cidades",value:r.cidades,icon:s4,color:"bg-purple-500"}),A.jsx($h,{title:"Veículos",value:r.veiculos,icon:xc,color:"bg-indigo-500"}),A.jsx($h,{title:"Rotas Ativas",value:r.rotas,icon:gc,color:"bg-orange-500"})]});function XF(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=XF(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function nn(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=XF(r))&&(n&&(n+=" "),n+=e);return n}var l_,FN;function ho(){if(FN)return l_;FN=1;var r=Array.isArray;return l_=r,l_}var c_,BN;function YF(){if(BN)return c_;BN=1;var r=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;return c_=r,c_}var u_,$N;function Ac(){if($N)return u_;$N=1;var r=YF(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return u_=t,u_}var f_,UN;function Zg(){if(UN)return f_;UN=1;var r=Ac(),e=r.Symbol;return f_=e,f_}var d_,VN;function mre(){if(VN)return d_;VN=1;var r=Zg(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,i=r?r.toStringTag:void 0;function a(s){var l=t.call(s,i),c=s[i];try{s[i]=void 0;var o=!0}catch{}var u=n.call(s);return o&&(l?s[i]=c:delete s[i]),u}return d_=a,d_}var h_,zN;function gre(){if(zN)return h_;zN=1;var r=Object.prototype,e=r.toString;function t(n){return e.call(n)}return h_=t,h_}var p_,qN;function ku(){if(qN)return p_;qN=1;var r=Zg(),e=mre(),t=gre(),n="[object Null]",i="[object Undefined]",a=r?r.toStringTag:void 0;function s(l){return l==null?l===void 0?i:n:a&&a in Object(l)?e(l):t(l)}return p_=s,p_}var m_,HN;function Tu(){if(HN)return m_;HN=1;function r(e){return e!=null&&typeof e=="object"}return m_=r,m_}var g_,WN;function fm(){if(WN)return g_;WN=1;var r=ku(),e=Tu(),t="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&r(i)==t}return g_=n,g_}var y_,GN;function d4(){if(GN)return y_;GN=1;var r=ho(),e=fm(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(r(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:n.test(a)||!t.test(a)||s!=null&&a in Object(s)}return y_=i,y_}var v_,KN;function Ff(){if(KN)return v_;KN=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return v_=r,v_}var b_,XN;function h4(){if(XN)return b_;XN=1;var r=ku(),e=Ff(),t="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(l){if(!e(l))return!1;var c=r(l);return c==n||c==i||c==t||c==a}return b_=s,b_}var w_,YN;function yre(){if(YN)return w_;YN=1;var r=Ac(),e=r["__core-js_shared__"];return w_=e,w_}var x_,QN;function vre(){if(QN)return x_;QN=1;var r=yre(),e=(function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function t(n){return!!e&&e in n}return x_=t,x_}var __,ZN;function QF(){if(ZN)return __;ZN=1;var r=Function.prototype,e=r.toString;function t(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return __=t,__}var S_,JN;function bre(){if(JN)return S_;JN=1;var r=h4(),e=vre(),t=Ff(),n=QF(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,o=l.hasOwnProperty,u=RegExp("^"+c.call(o).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!t(d)||e(d))return!1;var h=r(d)?u:a;return h.test(n(d))}return S_=f,S_}var E_,e7;function wre(){if(e7)return E_;e7=1;function r(e,t){return e==null?void 0:e[t]}return E_=r,E_}var A_,t7;function sh(){if(t7)return A_;t7=1;var r=bre(),e=wre();function t(n,i){var a=e(n,i);return r(a)?a:void 0}return A_=t,A_}var C_,r7;function cw(){if(r7)return C_;r7=1;var r=sh(),e=r(Object,"create");return C_=e,C_}var k_,n7;function xre(){if(n7)return k_;n7=1;var r=cw();function e(){this.__data__=r?r(null):{},this.size=0}return k_=e,k_}var T_,i7;function _re(){if(i7)return T_;i7=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return T_=r,T_}var N_,a7;function Sre(){if(a7)return N_;a7=1;var r=cw(),e="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function i(a){var s=this.__data__;if(r){var l=s[a];return l===e?void 0:l}return n.call(s,a)?s[a]:void 0}return N_=i,N_}var P_,s7;function Ere(){if(s7)return P_;s7=1;var r=cw(),e=Object.prototype,t=e.hasOwnProperty;function n(i){var a=this.__data__;return r?a[i]!==void 0:t.call(a,i)}return P_=n,P_}var j_,o7;function Are(){if(o7)return j_;o7=1;var r=cw(),e="__lodash_hash_undefined__";function t(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=r&&i===void 0?e:i,this}return j_=t,j_}var I_,l7;function Cre(){if(l7)return I_;l7=1;var r=xre(),e=_re(),t=Sre(),n=Ere(),i=Are();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var o=s[l];this.set(o[0],o[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,I_=a,I_}var O_,c7;function kre(){if(c7)return O_;c7=1;function r(){this.__data__=[],this.size=0}return O_=r,O_}var R_,u7;function p4(){if(u7)return R_;u7=1;function r(e,t){return e===t||e!==e&&t!==t}return R_=r,R_}var M_,f7;function uw(){if(f7)return M_;f7=1;var r=p4();function e(t,n){for(var i=t.length;i--;)if(r(t[i][0],n))return i;return-1}return M_=e,M_}var D_,d7;function Tre(){if(d7)return D_;d7=1;var r=uw(),e=Array.prototype,t=e.splice;function n(i){var a=this.__data__,s=r(a,i);if(s<0)return!1;var l=a.length-1;return s==l?a.pop():t.call(a,s,1),--this.size,!0}return D_=n,D_}var L_,h7;function Nre(){if(h7)return L_;h7=1;var r=uw();function e(t){var n=this.__data__,i=r(n,t);return i<0?void 0:n[i][1]}return L_=e,L_}var F_,p7;function Pre(){if(p7)return F_;p7=1;var r=uw();function e(t){return r(this.__data__,t)>-1}return F_=e,F_}var B_,m7;function jre(){if(m7)return B_;m7=1;var r=uw();function e(t,n){var i=this.__data__,a=r(i,t);return a<0?(++this.size,i.push([t,n])):i[a][1]=n,this}return B_=e,B_}var $_,g7;function fw(){if(g7)return $_;g7=1;var r=kre(),e=Tre(),t=Nre(),n=Pre(),i=jre();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var o=s[l];this.set(o[0],o[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,$_=a,$_}var U_,y7;function m4(){if(y7)return U_;y7=1;var r=sh(),e=Ac(),t=r(e,"Map");return U_=t,U_}var V_,v7;function Ire(){if(v7)return V_;v7=1;var r=Cre(),e=fw(),t=m4();function n(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return V_=n,V_}var z_,b7;function Ore(){if(b7)return z_;b7=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return z_=r,z_}var q_,w7;function dw(){if(w7)return q_;w7=1;var r=Ore();function e(t,n){var i=t.__data__;return r(n)?i[typeof n=="string"?"string":"hash"]:i.map}return q_=e,q_}var H_,x7;function Rre(){if(x7)return H_;x7=1;var r=dw();function e(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}return H_=e,H_}var W_,_7;function Mre(){if(_7)return W_;_7=1;var r=dw();function e(t){return r(this,t).get(t)}return W_=e,W_}var G_,S7;function Dre(){if(S7)return G_;S7=1;var r=dw();function e(t){return r(this,t).has(t)}return G_=e,G_}var K_,E7;function Lre(){if(E7)return K_;E7=1;var r=dw();function e(t,n){var i=r(this,t),a=i.size;return i.set(t,n),this.size+=i.size==a?0:1,this}return K_=e,K_}var X_,A7;function g4(){if(A7)return X_;A7=1;var r=Ire(),e=Rre(),t=Mre(),n=Dre(),i=Lre();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var o=s[l];this.set(o[0],o[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,X_=a,X_}var Y_,C7;function ZF(){if(C7)return Y_;C7=1;var r=g4(),e="Expected a function";function t(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=a.cache;if(c.has(l))return c.get(l);var o=n.apply(this,s);return a.cache=c.set(l,o)||c,o};return a.cache=new(t.Cache||r),a}return t.Cache=r,Y_=t,Y_}var Q_,k7;function Fre(){if(k7)return Q_;k7=1;var r=ZF(),e=500;function t(n){var i=r(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return Q_=t,Q_}var Z_,T7;function Bre(){if(T7)return Z_;T7=1;var r=Fre(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,n=r(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,l,c,o){a.push(c?o.replace(t,"$1"):l||s)}),a});return Z_=n,Z_}var J_,N7;function y4(){if(N7)return J_;N7=1;function r(e,t){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=t(e[n],n,e);return a}return J_=r,J_}var e5,P7;function $re(){if(P7)return e5;P7=1;var r=Zg(),e=y4(),t=ho(),n=fm(),i=r?r.prototype:void 0,a=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(t(l))return e(l,s)+"";if(n(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return e5=s,e5}var t5,j7;function JF(){if(j7)return t5;j7=1;var r=$re();function e(t){return t==null?"":r(t)}return t5=e,t5}var r5,I7;function eB(){if(I7)return r5;I7=1;var r=ho(),e=d4(),t=Bre(),n=JF();function i(a,s){return r(a)?a:e(a,s)?[a]:t(n(a))}return r5=i,r5}var n5,O7;function hw(){if(O7)return n5;O7=1;var r=fm();function e(t){if(typeof t=="string"||r(t))return t;var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}return n5=e,n5}var i5,R7;function v4(){if(R7)return i5;R7=1;var r=eB(),e=hw();function t(n,i){i=r(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return i5=t,i5}var a5,M7;function tB(){if(M7)return a5;M7=1;var r=v4();function e(t,n,i){var a=t==null?void 0:r(t,n);return a===void 0?i:a}return a5=e,a5}var Ure=tB();const Do=Rn(Ure);var s5,D7;function Vre(){if(D7)return s5;D7=1;function r(e){return e==null}return s5=r,s5}var zre=Vre();const Jr=Rn(zre);var o5,L7;function qre(){if(L7)return o5;L7=1;var r=ku(),e=ho(),t=Tu(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&t(a)&&r(a)==n}return o5=i,o5}var Hre=qre();const Ud=Rn(Hre);var Wre=h4();const Wr=Rn(Wre);var Gre=Ff();const dm=Rn(Gre);var l5={exports:{}},$n={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F7;function Kre(){if(F7)return $n;F7=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),m;m=Symbol.for("react.module.reference");function g(p){if(typeof p=="object"&&p!==null){var y=p.$$typeof;switch(y){case r:switch(p=p.type,p){case t:case i:case n:case o:case u:return p;default:switch(p=p&&p.$$typeof,p){case l:case s:case c:case d:case f:case a:return p;default:return y}}case e:return y}}}return $n.ContextConsumer=s,$n.ContextProvider=a,$n.Element=r,$n.ForwardRef=c,$n.Fragment=t,$n.Lazy=d,$n.Memo=f,$n.Portal=e,$n.Profiler=i,$n.StrictMode=n,$n.Suspense=o,$n.SuspenseList=u,$n.isAsyncMode=function(){return!1},$n.isConcurrentMode=function(){return!1},$n.isContextConsumer=function(p){return g(p)===s},$n.isContextProvider=function(p){return g(p)===a},$n.isElement=function(p){return typeof p=="object"&&p!==null&&p.$$typeof===r},$n.isForwardRef=function(p){return g(p)===c},$n.isFragment=function(p){return g(p)===t},$n.isLazy=function(p){return g(p)===d},$n.isMemo=function(p){return g(p)===f},$n.isPortal=function(p){return g(p)===e},$n.isProfiler=function(p){return g(p)===i},$n.isStrictMode=function(p){return g(p)===n},$n.isSuspense=function(p){return g(p)===o},$n.isSuspenseList=function(p){return g(p)===u},$n.isValidElementType=function(p){return typeof p=="string"||typeof p=="function"||p===t||p===i||p===n||p===o||p===u||p===h||typeof p=="object"&&p!==null&&(p.$$typeof===d||p.$$typeof===f||p.$$typeof===a||p.$$typeof===s||p.$$typeof===c||p.$$typeof===m||p.getModuleId!==void 0)},$n.typeOf=g,$n}var B7;function Xre(){return B7||(B7=1,l5.exports=Kre()),l5.exports}var Yre=Xre(),c5,$7;function rB(){if($7)return c5;$7=1;var r=ku(),e=Tu(),t="[object Number]";function n(i){return typeof i=="number"||e(i)&&r(i)==t}return c5=n,c5}var u5,U7;function Qre(){if(U7)return u5;U7=1;var r=rB();function e(t){return r(t)&&t!=+t}return u5=e,u5}var Zre=Qre();const Jg=Rn(Zre);var Jre=rB();const ene=Rn(Jre);var Gs=function(e){return e===0?0:e>0?1:-1},Ed=function(e){return Ud(e)&&e.indexOf("%")===e.length-1},Ft=function(e){return ene(e)&&!Jg(e)},tne=function(e){return Jr(e)},La=function(e){return Ft(e)||Ud(e)},rne=0,hm=function(e){var t=++rne;return"".concat(e||"").concat(t)},Ks=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ft(e)&&!Ud(e))return n;var a;if(Ed(e)){var s=e.indexOf("%");a=t*parseFloat(e.slice(0,s))/100}else a=+e;return Jg(a)&&(a=n),i&&a>t&&(a=t),a},uf=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},nne=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},i=0;i<t;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Io=function(e,t){return Ft(e)&&Ft(t)?function(n){return e+n*(t-e)}:function(){return t}};function wv(r,e,t){return!r||!r.length?null:r.find(function(n){return n&&(typeof e=="function"?e(n):Do(n,e))===t})}var ine=function(e,t){return Ft(e)&&Ft(t)?e-t:Ud(e)&&Ud(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function dp(r,e){for(var t in r)if({}.hasOwnProperty.call(r,t)&&(!{}.hasOwnProperty.call(e,t)||r[t]!==e[t]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(r,n))return!1;return!0}function v8(r){"@babel/helpers - typeof";return v8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v8(r)}var ane=["viewBox","children"],sne=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],V7=["points","pathLength"],f5={svg:ane,polygon:V7,polyline:V7},b4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],xv=function(e,t){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(ce.isValidElement(e)&&(n=e.props),!dm(n))return null;var i={};return Object.keys(n).forEach(function(a){b4.includes(a)&&(i[a]=t||function(s){return n[a](n,s)})}),i},one=function(e,t,n){return function(i){return e(t,n,i),null}},Vd=function(e,t,n){if(!dm(e)||v8(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];b4.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=one(s,t,n))}),i},lne=["children"],cne=["children"];function z7(r,e){if(r==null)return{};var t=une(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function une(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function b8(r){"@babel/helpers - typeof";return b8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b8(r)}var q7={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},cu=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},H7=null,d5=null,w4=function r(e){if(e===H7&&Array.isArray(d5))return d5;var t=[];return ce.Children.forEach(e,function(n){Jr(n)||(Yre.isFragment(n)?t=t.concat(r(n.props.children)):t.push(n))}),d5=t,H7=e,t};function Lo(r,e){var t=[],n=[];return Array.isArray(e)?n=e.map(function(i){return cu(i)}):n=[cu(e)],w4(r).forEach(function(i){var a=Do(i,"type.displayName")||Do(i,"type.name");n.indexOf(a)!==-1&&t.push(i)}),t}function jo(r,e){var t=Lo(r,e);return t&&t[0]}var W7=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,i=t.height;return!(!Ft(n)||n<=0||!Ft(i)||i<=0)},fne=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],dne=function(e){return e&&e.type&&Ud(e.type)&&fne.indexOf(e.type)>=0},hne=function(e){return e&&b8(e)==="object"&&"clipDot"in e},pne=function(e,t,n,i){var a,s=(a=f5==null?void 0:f5[i])!==null&&a!==void 0?a:[];return t.startsWith("data-")||!Wr(e)&&(i&&s.includes(t)||sne.includes(t))||n&&b4.includes(t)},jr=function(e,t,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(ce.isValidElement(e)&&(i=e.props),!dm(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;pne((l=i)===null||l===void 0?void 0:l[s],s,t,n)&&(a[s]=i[s])}),a},w8=function r(e,t){if(e===t)return!0;var n=ce.Children.count(e);if(n!==ce.Children.count(t))return!1;if(n===0)return!0;if(n===1)return G7(Array.isArray(e)?e[0]:e,Array.isArray(t)?t[0]:t);for(var i=0;i<n;i++){var a=e[i],s=t[i];if(Array.isArray(a)||Array.isArray(s)){if(!r(a,s))return!1}else if(!G7(a,s))return!1}return!0},G7=function(e,t){if(Jr(e)&&Jr(t))return!0;if(!Jr(e)&&!Jr(t)){var n=e.props||{},i=n.children,a=z7(n,lne),s=t.props||{},l=s.children,c=z7(s,cne);return i&&l?dp(a,c)&&w8(i,l):!i&&!l?dp(a,c):!1}return!1},K7=function(e,t){var n=[],i={};return w4(e).forEach(function(a,s){if(dne(a))n.push(a);else if(a){var l=cu(a.type),c=t[l]||{},o=c.handler,u=c.once;if(o&&(!u||!i[l])){var f=o(a,l,s);n.push(f),i[l]=!0}}}),n},mne=function(e){var t=e&&e.type;return t&&q7[t]?q7[t]:null},gne=function(e,t){return w4(t).indexOf(e)},yne=["children","width","height","viewBox","className","style","title","desc"];function x8(){return x8=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},x8.apply(this,arguments)}function vne(r,e){if(r==null)return{};var t=bne(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function bne(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function _8(r){var e=r.children,t=r.width,n=r.height,i=r.viewBox,a=r.className,s=r.style,l=r.title,c=r.desc,o=vne(r,yne),u=i||{width:t,height:n,x:0,y:0},f=nn("recharts-surface",a);return Le.createElement("svg",x8({},jr(o,!0,"svg"),{className:f,width:t,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Le.createElement("title",null,l),Le.createElement("desc",null,c),e)}var wne=["children","className"];function S8(){return S8=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},S8.apply(this,arguments)}function xne(r,e){if(r==null)return{};var t=_ne(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function _ne(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}var jn=Le.forwardRef(function(r,e){var t=r.children,n=r.className,i=xne(r,wne),a=nn("recharts-layer",n);return Le.createElement("g",S8({className:a},jr(i,!0),{ref:e}),t)}),Dl=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},h5,X7;function Sne(){if(X7)return h5;X7=1;function r(e,t,n){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+t];return s}return h5=r,h5}var p5,Y7;function Ene(){if(Y7)return p5;Y7=1;var r=Sne();function e(t,n,i){var a=t.length;return i=i===void 0?a:i,!n&&i>=a?t:r(t,n,i)}return p5=e,p5}var m5,Q7;function nB(){if(Q7)return m5;Q7=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+t+n,a="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+r+i+a+"]");function c(o){return l.test(o)}return m5=c,m5}var g5,Z7;function Ane(){if(Z7)return g5;Z7=1;function r(e){return e.split("")}return g5=r,g5}var y5,J7;function Cne(){if(J7)return y5;J7=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+t+n,a="\\ufe0e\\ufe0f",s="["+r+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",o="(?:"+l+"|"+c+")",u="[^"+r+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",m=o+"?",g="["+a+"]?",p="(?:"+h+"(?:"+[u,f,d].join("|")+")"+g+m+")*",y=g+m+p,v="(?:"+[u+l+"?",l,f,d,s].join("|")+")",w=RegExp(c+"(?="+c+")|"+v+y,"g");function C(P){return P.match(w)||[]}return y5=C,y5}var v5,e9;function kne(){if(e9)return v5;e9=1;var r=Ane(),e=nB(),t=Cne();function n(i){return e(i)?t(i):r(i)}return v5=n,v5}var b5,t9;function Tne(){if(t9)return b5;t9=1;var r=Ene(),e=nB(),t=kne(),n=JF();function i(a){return function(s){s=n(s);var l=e(s)?t(s):void 0,c=l?l[0]:s.charAt(0),o=l?r(l,1).join(""):s.slice(1);return c[a]()+o}}return b5=i,b5}var w5,r9;function Nne(){if(r9)return w5;r9=1;var r=Tne(),e=r("toUpperCase");return w5=e,w5}var Pne=Nne();const pw=Rn(Pne);function mi(r){return function(){return r}}const iB=Math.cos,_v=Math.sin,Vl=Math.sqrt,Sv=Math.PI,mw=2*Sv,E8=Math.PI,A8=2*E8,pd=1e-6,jne=A8-pd;function aB(r){this._+=r[0];for(let e=1,t=r.length;e<t;++e)this._+=arguments[e]+r[e]}function Ine(r){let e=Math.floor(r);if(!(e>=0))throw new Error(`invalid digits: ${r}`);if(e>15)return aB;const t=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*t)/t+n[i]}}class One{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?aB:Ine(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,i){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,t,n,i,a,s){this._append`C${+e},${+t},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,t,n,i,a){if(e=+e,t=+t,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=n-e,o=i-t,u=s-e,f=l-t,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(d>pd)if(!(Math.abs(f*c-o*u)>pd)||!a)this._append`L${this._x1=e},${this._y1=t}`;else{let h=n-s,m=i-l,g=c*c+o*o,p=h*h+m*m,y=Math.sqrt(g),v=Math.sqrt(d),w=a*Math.tan((E8-Math.acos((g+d-p)/(2*y*v)))/2),C=w/v,P=w/y;Math.abs(C-1)>pd&&this._append`L${e+C*u},${t+C*f}`,this._append`A${a},${a},0,0,${+(f*h>u*m)},${this._x1=e+P*c},${this._y1=t+P*o}`}}arc(e,t,n,i,a,s){if(e=+e,t=+t,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),o=e+l,u=t+c,f=1^s,d=s?i-a:a-i;this._x1===null?this._append`M${o},${u}`:(Math.abs(this._x1-o)>pd||Math.abs(this._y1-u)>pd)&&this._append`L${o},${u}`,n&&(d<0&&(d=d%A8+A8),d>jne?this._append`A${n},${n},0,1,${f},${e-l},${t-c}A${n},${n},0,1,${f},${this._x1=o},${this._y1=u}`:d>pd&&this._append`A${n},${n},0,${+(d>=E8)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=t+n*Math.sin(a)}`)}rect(e,t,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function x4(r){let e=3;return r.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);e=n}return r},()=>new One(e)}function _4(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function sB(r){this._context=r}sB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:this._context.lineTo(r,e);break}}};function gw(r){return new sB(r)}function oB(r){return r[0]}function lB(r){return r[1]}function cB(r,e){var t=mi(!0),n=null,i=gw,a=null,s=x4(l);r=typeof r=="function"?r:r===void 0?oB:mi(r),e=typeof e=="function"?e:e===void 0?lB:mi(e);function l(c){var o,u=(c=_4(c)).length,f,d=!1,h;for(n==null&&(a=i(h=s())),o=0;o<=u;++o)!(o<u&&t(f=c[o],o,c))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+r(f,o,c),+e(f,o,c));if(h)return a=null,h+""||null}return l.x=function(c){return arguments.length?(r=typeof c=="function"?c:mi(+c),l):r},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:mi(+c),l):e},l.defined=function(c){return arguments.length?(t=typeof c=="function"?c:mi(!!c),l):t},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function ny(r,e,t){var n=null,i=mi(!0),a=null,s=gw,l=null,c=x4(o);r=typeof r=="function"?r:r===void 0?oB:mi(+r),e=typeof e=="function"?e:mi(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?lB:mi(+t);function o(f){var d,h,m,g=(f=_4(f)).length,p,y=!1,v,w=new Array(g),C=new Array(g);for(a==null&&(l=s(v=c())),d=0;d<=g;++d){if(!(d<g&&i(p=f[d],d,f))===y)if(y=!y)h=d,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=d-1;m>=h;--m)l.point(w[m],C[m]);l.lineEnd(),l.areaEnd()}y&&(w[d]=+r(p,d,f),C[d]=+e(p,d,f),l.point(n?+n(p,d,f):w[d],t?+t(p,d,f):C[d]))}if(v)return l=null,v+""||null}function u(){return cB().defined(i).curve(s).context(a)}return o.x=function(f){return arguments.length?(r=typeof f=="function"?f:mi(+f),n=null,o):r},o.x0=function(f){return arguments.length?(r=typeof f=="function"?f:mi(+f),o):r},o.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:mi(+f),o):n},o.y=function(f){return arguments.length?(e=typeof f=="function"?f:mi(+f),t=null,o):e},o.y0=function(f){return arguments.length?(e=typeof f=="function"?f:mi(+f),o):e},o.y1=function(f){return arguments.length?(t=f==null?null:typeof f=="function"?f:mi(+f),o):t},o.lineX0=o.lineY0=function(){return u().x(r).y(e)},o.lineY1=function(){return u().x(r).y(t)},o.lineX1=function(){return u().x(n).y(e)},o.defined=function(f){return arguments.length?(i=typeof f=="function"?f:mi(!!f),o):i},o.curve=function(f){return arguments.length?(s=f,a!=null&&(l=s(a)),o):s},o.context=function(f){return arguments.length?(f==null?a=l=null:l=s(a=f),o):a},o}class uB{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function Rne(r){return new uB(r,!0)}function Mne(r){return new uB(r,!1)}const S4={draw(r,e){const t=Vl(e/Sv);r.moveTo(t,0),r.arc(0,0,t,0,mw)}},Dne={draw(r,e){const t=Vl(e/5)/2;r.moveTo(-3*t,-t),r.lineTo(-t,-t),r.lineTo(-t,-3*t),r.lineTo(t,-3*t),r.lineTo(t,-t),r.lineTo(3*t,-t),r.lineTo(3*t,t),r.lineTo(t,t),r.lineTo(t,3*t),r.lineTo(-t,3*t),r.lineTo(-t,t),r.lineTo(-3*t,t),r.closePath()}},fB=Vl(1/3),Lne=fB*2,Fne={draw(r,e){const t=Vl(e/Lne),n=t*fB;r.moveTo(0,-t),r.lineTo(n,0),r.lineTo(0,t),r.lineTo(-n,0),r.closePath()}},Bne={draw(r,e){const t=Vl(e),n=-t/2;r.rect(n,n,t,t)}},$ne=.8908130915292852,dB=_v(Sv/10)/_v(7*Sv/10),Une=_v(mw/10)*dB,Vne=-iB(mw/10)*dB,zne={draw(r,e){const t=Vl(e*$ne),n=Une*t,i=Vne*t;r.moveTo(0,-t),r.lineTo(n,i);for(let a=1;a<5;++a){const s=mw*a/5,l=iB(s),c=_v(s);r.lineTo(c*t,-l*t),r.lineTo(l*n-c*i,c*n+l*i)}r.closePath()}},x5=Vl(3),qne={draw(r,e){const t=-Vl(e/(x5*3));r.moveTo(0,t*2),r.lineTo(-x5*t,-t),r.lineTo(x5*t,-t),r.closePath()}},Qo=-.5,Zo=Vl(3)/2,C8=1/Vl(12),Hne=(C8/2+1)*3,Wne={draw(r,e){const t=Vl(e/Hne),n=t/2,i=t*C8,a=n,s=t*C8+t,l=-a,c=s;r.moveTo(n,i),r.lineTo(a,s),r.lineTo(l,c),r.lineTo(Qo*n-Zo*i,Zo*n+Qo*i),r.lineTo(Qo*a-Zo*s,Zo*a+Qo*s),r.lineTo(Qo*l-Zo*c,Zo*l+Qo*c),r.lineTo(Qo*n+Zo*i,Qo*i-Zo*n),r.lineTo(Qo*a+Zo*s,Qo*s-Zo*a),r.lineTo(Qo*l+Zo*c,Qo*c-Zo*l),r.closePath()}};function Gne(r,e){let t=null,n=x4(i);r=typeof r=="function"?r:mi(r||S4),e=typeof e=="function"?e:mi(e===void 0?64:+e);function i(){let a;if(t||(t=a=n()),r.apply(this,arguments).draw(t,+e.apply(this,arguments)),a)return t=null,a+""||null}return i.type=function(a){return arguments.length?(r=typeof a=="function"?a:mi(a),i):r},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:mi(+a),i):e},i.context=function(a){return arguments.length?(t=a??null,i):t},i}function Ev(){}function Av(r,e,t){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+e)/6,(r._y0+4*r._y1+t)/6)}function hB(r){this._context=r}hB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Av(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Av(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function Kne(r){return new hB(r)}function pB(r){this._context=r}pB.prototype={areaStart:Ev,areaEnd:Ev,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._x2=r,this._y2=e;break;case 1:this._point=2,this._x3=r,this._y3=e;break;case 2:this._point=3,this._x4=r,this._y4=e,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+e)/6);break;default:Av(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function Xne(r){return new pB(r)}function mB(r){this._context=r}mB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+r)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 3:this._point=4;default:Av(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function Yne(r){return new mB(r)}function gB(r){this._context=r}gB.prototype={areaStart:Ev,areaEnd:Ev,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,e){r=+r,e=+e,this._point?this._context.lineTo(r,e):(this._point=1,this._context.moveTo(r,e))}};function Qne(r){return new gB(r)}function n9(r){return r<0?-1:1}function i9(r,e,t){var n=r._x1-r._x0,i=e-r._x1,a=(r._y1-r._y0)/(n||i<0&&-0),s=(t-r._y1)/(i||n<0&&-0),l=(a*i+s*n)/(n+i);return(n9(a)+n9(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function a9(r,e){var t=r._x1-r._x0;return t?(3*(r._y1-r._y0)/t-e)/2:e}function _5(r,e,t){var n=r._x0,i=r._y0,a=r._x1,s=r._y1,l=(a-n)/3;r._context.bezierCurveTo(n+l,i+l*e,a-l,s-l*t,a,s)}function Cv(r){this._context=r}Cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_5(this,this._t0,a9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){var t=NaN;if(r=+r,e=+e,!(r===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,_5(this,a9(this,t=i9(this,r,e)),t);break;default:_5(this,this._t0,t=i9(this,r,e));break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e,this._t0=t}}};function yB(r){this._context=new vB(r)}(yB.prototype=Object.create(Cv.prototype)).point=function(r,e){Cv.prototype.point.call(this,e,r)};function vB(r){this._context=r}vB.prototype={moveTo:function(r,e){this._context.moveTo(e,r)},closePath:function(){this._context.closePath()},lineTo:function(r,e){this._context.lineTo(e,r)},bezierCurveTo:function(r,e,t,n,i,a){this._context.bezierCurveTo(e,r,n,t,a,i)}};function Zne(r){return new Cv(r)}function Jne(r){return new yB(r)}function bB(r){this._context=r}bB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,e=this._y,t=r.length;if(t)if(this._line?this._context.lineTo(r[0],e[0]):this._context.moveTo(r[0],e[0]),t===2)this._context.lineTo(r[1],e[1]);else for(var n=s9(r),i=s9(e),a=0,s=1;s<t;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],r[s],e[s]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,e){this._x.push(+r),this._y.push(+e)}};function s9(r){var e,t=r.length-1,n,i=new Array(t),a=new Array(t),s=new Array(t);for(i[0]=0,a[0]=2,s[0]=r[0]+2*r[1],e=1;e<t-1;++e)i[e]=1,a[e]=4,s[e]=4*r[e]+2*r[e+1];for(i[t-1]=2,a[t-1]=7,s[t-1]=8*r[t-1]+r[t],e=1;e<t;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[t-1]=s[t-1]/a[t-1],e=t-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[t-1]=(r[t]+i[t-1])/2,e=0;e<t-1;++e)a[e]=2*r[e+1]-i[e+1];return[i,a]}function eie(r){return new bB(r)}function yw(r,e){this._context=r,this._t=e}yw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(r,e);else{var t=this._x*(1-this._t)+r*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=r,this._y=e}};function tie(r){return new yw(r,.5)}function rie(r){return new yw(r,0)}function nie(r){return new yw(r,1)}function Np(r,e){if((s=r.length)>1)for(var t=1,n,i,a=r[e[0]],s,l=a.length;t<s;++t)for(i=a,a=r[e[t]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function k8(r){for(var e=r.length,t=new Array(e);--e>=0;)t[e]=e;return t}function iie(r,e){return r[e]}function aie(r){const e=[];return e.key=r,e}function sie(){var r=mi([]),e=k8,t=Np,n=iie;function i(a){var s=Array.from(r.apply(this,arguments),aie),l,c=s.length,o=-1,u;for(const f of a)for(l=0,++o;l<c;++l)(s[l][o]=[0,+n(f,s[l].key,o,a)]).data=f;for(l=0,u=_4(e(s));l<c;++l)s[u[l]].index=l;return t(s,u),s}return i.keys=function(a){return arguments.length?(r=typeof a=="function"?a:mi(Array.from(a)),i):r},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:mi(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?k8:typeof a=="function"?a:mi(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(t=a??Np,i):t},i}function oie(r,e){if((n=r.length)>0){for(var t,n,i=0,a=r[0].length,s;i<a;++i){for(s=t=0;t<n;++t)s+=r[t][i][1]||0;if(s)for(t=0;t<n;++t)r[t][i][1]/=s}Np(r,e)}}function lie(r,e){if((i=r.length)>0){for(var t=0,n=r[e[0]],i,a=n.length;t<a;++t){for(var s=0,l=0;s<i;++s)l+=r[s][t][1]||0;n[t][1]+=n[t][0]=-l/2}Np(r,e)}}function cie(r,e){if(!(!((s=r.length)>0)||!((a=(i=r[e[0]]).length)>0))){for(var t=0,n=1,i,a,s;n<a;++n){for(var l=0,c=0,o=0;l<s;++l){for(var u=r[e[l]],f=u[n][1]||0,d=u[n-1][1]||0,h=(f-d)/2,m=0;m<l;++m){var g=r[e[m]],p=g[n][1]||0,y=g[n-1][1]||0;h+=p-y}c+=f,o+=h*f}i[n-1][1]+=i[n-1][0]=t,c&&(t-=o/c)}i[n-1][1]+=i[n-1][0]=t,Np(r,e)}}function Z0(r){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z0(r)}var uie=["type","size","sizeType"];function T8(){return T8=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},T8.apply(this,arguments)}function o9(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function l9(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?o9(Object(t),!0).forEach(function(n){fie(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):o9(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function fie(r,e,t){return e=die(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function die(r){var e=hie(r,"string");return Z0(e)=="symbol"?e:e+""}function hie(r,e){if(Z0(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function pie(r,e){if(r==null)return{};var t=mie(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function mie(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}var wB={symbolCircle:S4,symbolCross:Dne,symbolDiamond:Fne,symbolSquare:Bne,symbolStar:zne,symbolTriangle:qne,symbolWye:Wne},gie=Math.PI/180,yie=function(e){var t="symbol".concat(pw(e));return wB[t]||S4},vie=function(e,t,n){if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*gie;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},bie=function(e,t){wB["symbol".concat(pw(e))]=t},E4=function(e){var t=e.type,n=t===void 0?"circle":t,i=e.size,a=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=pie(e,uie),o=l9(l9({},c),{},{type:n,size:a,sizeType:l}),u=function(){var p=yie(n),y=Gne().type(p).size(vie(a,l,n));return y()},f=o.className,d=o.cx,h=o.cy,m=jr(o,!0);return d===+d&&h===+h&&a===+a?Le.createElement("path",T8({},m,{className:nn("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};E4.registerSymbol=bie;function Pp(r){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(r)}function N8(){return N8=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},N8.apply(this,arguments)}function c9(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function wie(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?c9(Object(t),!0).forEach(function(n){J0(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):c9(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function xie(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _ie(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,_B(n.key),n)}}function Sie(r,e,t){return e&&_ie(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Eie(r,e,t){return e=kv(e),Aie(r,xB()?Reflect.construct(e,t||[],kv(r).constructor):e.apply(r,t))}function Aie(r,e){if(e&&(Pp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cie(r)}function Cie(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function xB(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xB=function(){return!!r})()}function kv(r){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kv(r)}function kie(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&P8(r,e)}function P8(r,e){return P8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},P8(r,e)}function J0(r,e,t){return e=_B(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function _B(r){var e=Tie(r,"string");return Pp(e)=="symbol"?e:e+""}function Tie(r,e){if(Pp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Jo=32,A4=(function(r){function e(){return xie(this,e),Eie(this,e,arguments)}return kie(e,r),Sie(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Jo/2,s=Jo/6,l=Jo/3,c=n.inactive?i:n.color;if(n.type==="plainline")return Le.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Jo,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return Le.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Jo,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return Le.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Jo/8,"h").concat(Jo,"v").concat(Jo*3/4,"h").concat(-Jo,"z"),className:"recharts-legend-icon"});if(Le.isValidElement(n.legendIcon)){var o=wie({},n);return delete o.legendIcon,Le.cloneElement(n.legendIcon,o)}return Le.createElement(E4,{fill:c,cx:a,cy:a,size:Jo,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,o=i.inactiveColor,u={x:0,y:0,width:Jo,height:Jo},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,m){var g=h.formatter||c,p=nn(J0(J0({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",h.inactive));if(h.type==="none")return null;var y=Wr(h.value)?null:h.value;Dl(!Wr(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=h.inactive?o:h.color;return Le.createElement("li",N8({className:p,style:f,key:"legend-item-".concat(m)},Vd(n.props,h,m)),Le.createElement(_8,{width:s,height:s,viewBox:u,style:d},n.renderIcon(h)),Le.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},g?g(y,h,m):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return Le.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(ce.PureComponent);J0(A4,"displayName","Legend");J0(A4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var S5,u9;function Nie(){if(u9)return S5;u9=1;var r=fw();function e(){this.__data__=new r,this.size=0}return S5=e,S5}var E5,f9;function Pie(){if(f9)return E5;f9=1;function r(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}return E5=r,E5}var A5,d9;function jie(){if(d9)return A5;d9=1;function r(e){return this.__data__.get(e)}return A5=r,A5}var C5,h9;function Iie(){if(h9)return C5;h9=1;function r(e){return this.__data__.has(e)}return C5=r,C5}var k5,p9;function Oie(){if(p9)return k5;p9=1;var r=fw(),e=m4(),t=g4(),n=200;function i(a,s){var l=this.__data__;if(l instanceof r){var c=l.__data__;if(!e||c.length<n-1)return c.push([a,s]),this.size=++l.size,this;l=this.__data__=new t(c)}return l.set(a,s),this.size=l.size,this}return k5=i,k5}var T5,m9;function SB(){if(m9)return T5;m9=1;var r=fw(),e=Nie(),t=Pie(),n=jie(),i=Iie(),a=Oie();function s(l){var c=this.__data__=new r(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,T5=s,T5}var N5,g9;function Rie(){if(g9)return N5;g9=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return N5=e,N5}var P5,y9;function Mie(){if(y9)return P5;y9=1;function r(e){return this.__data__.has(e)}return P5=r,P5}var j5,v9;function EB(){if(v9)return j5;v9=1;var r=g4(),e=Rie(),t=Mie();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new r;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=t,j5=n,j5}var I5,b9;function AB(){if(b9)return I5;b9=1;function r(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}return I5=r,I5}var O5,w9;function CB(){if(w9)return O5;w9=1;function r(e,t){return e.has(t)}return O5=r,O5}var R5,x9;function kB(){if(x9)return R5;x9=1;var r=EB(),e=AB(),t=CB(),n=1,i=2;function a(s,l,c,o,u,f){var d=c&n,h=s.length,m=l.length;if(h!=m&&!(d&&m>h))return!1;var g=f.get(s),p=f.get(l);if(g&&p)return g==l&&p==s;var y=-1,v=!0,w=c&i?new r:void 0;for(f.set(s,l),f.set(l,s);++y<h;){var C=s[y],P=l[y];if(o)var F=d?o(P,C,y,l,s,f):o(C,P,y,s,l,f);if(F!==void 0){if(F)continue;v=!1;break}if(w){if(!e(l,function(L,j){if(!t(w,j)&&(C===L||u(C,L,c,o,f)))return w.push(j)})){v=!1;break}}else if(!(C===P||u(C,P,c,o,f))){v=!1;break}}return f.delete(s),f.delete(l),v}return R5=a,R5}var M5,_9;function Die(){if(_9)return M5;_9=1;var r=Ac(),e=r.Uint8Array;return M5=e,M5}var D5,S9;function Lie(){if(S9)return D5;S9=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i,a){n[++t]=[a,i]}),n}return D5=r,D5}var L5,E9;function C4(){if(E9)return L5;E9=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}return L5=r,L5}var F5,A9;function Fie(){if(A9)return F5;A9=1;var r=Zg(),e=Die(),t=p4(),n=kB(),i=Lie(),a=C4(),s=1,l=2,c="[object Boolean]",o="[object Date]",u="[object Error]",f="[object Map]",d="[object Number]",h="[object RegExp]",m="[object Set]",g="[object String]",p="[object Symbol]",y="[object ArrayBuffer]",v="[object DataView]",w=r?r.prototype:void 0,C=w?w.valueOf:void 0;function P(F,L,j,I,z,$,B){switch(j){case v:if(F.byteLength!=L.byteLength||F.byteOffset!=L.byteOffset)return!1;F=F.buffer,L=L.buffer;case y:return!(F.byteLength!=L.byteLength||!$(new e(F),new e(L)));case c:case o:case d:return t(+F,+L);case u:return F.name==L.name&&F.message==L.message;case h:case g:return F==L+"";case f:var T=i;case m:var R=I&s;if(T||(T=a),F.size!=L.size&&!R)return!1;var N=B.get(F);if(N)return N==L;I|=l,B.set(F,L);var _=n(T(F),T(L),I,z,$,B);return B.delete(F),_;case p:if(C)return C.call(F)==C.call(L)}return!1}return F5=P,F5}var B5,C9;function TB(){if(C9)return B5;C9=1;function r(e,t){for(var n=-1,i=t.length,a=e.length;++n<i;)e[a+n]=t[n];return e}return B5=r,B5}var $5,k9;function Bie(){if(k9)return $5;k9=1;var r=TB(),e=ho();function t(n,i,a){var s=i(n);return e(n)?s:r(s,a(n))}return $5=t,$5}var U5,T9;function $ie(){if(T9)return U5;T9=1;function r(e,t){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var l=e[n];t(l,n,e)&&(s[a++]=l)}return s}return U5=r,U5}var V5,N9;function Uie(){if(N9)return V5;N9=1;function r(){return[]}return V5=r,V5}var z5,P9;function Vie(){if(P9)return z5;P9=1;var r=$ie(),e=Uie(),t=Object.prototype,n=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),r(i(s),function(l){return n.call(s,l)}))}:e;return z5=a,z5}var q5,j9;function zie(){if(j9)return q5;j9=1;function r(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}return q5=r,q5}var H5,I9;function qie(){if(I9)return H5;I9=1;var r=ku(),e=Tu(),t="[object Arguments]";function n(i){return e(i)&&r(i)==t}return H5=n,H5}var W5,O9;function k4(){if(O9)return W5;O9=1;var r=qie(),e=Tu(),t=Object.prototype,n=t.hasOwnProperty,i=t.propertyIsEnumerable,a=r((function(){return arguments})())?r:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return W5=a,W5}var g0={exports:{}},G5,R9;function Hie(){if(R9)return G5;R9=1;function r(){return!1}return G5=r,G5}g0.exports;var M9;function NB(){return M9||(M9=1,(function(r,e){var t=Ac(),n=Hie(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,s=a&&a.exports===i,l=s?t.Buffer:void 0,c=l?l.isBuffer:void 0,o=c||n;r.exports=o})(g0,g0.exports)),g0.exports}var K5,D9;function T4(){if(D9)return K5;D9=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(n,i){var a=typeof n;return i=i??r,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return K5=t,K5}var X5,L9;function N4(){if(L9)return X5;L9=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return X5=e,X5}var Y5,F9;function Wie(){if(F9)return Y5;F9=1;var r=ku(),e=N4(),t=Tu(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",o="[object Map]",u="[object Number]",f="[object Object]",d="[object RegExp]",h="[object Set]",m="[object String]",g="[object WeakMap]",p="[object ArrayBuffer]",y="[object DataView]",v="[object Float32Array]",w="[object Float64Array]",C="[object Int8Array]",P="[object Int16Array]",F="[object Int32Array]",L="[object Uint8Array]",j="[object Uint8ClampedArray]",I="[object Uint16Array]",z="[object Uint32Array]",$={};$[v]=$[w]=$[C]=$[P]=$[F]=$[L]=$[j]=$[I]=$[z]=!0,$[n]=$[i]=$[p]=$[a]=$[y]=$[s]=$[l]=$[c]=$[o]=$[u]=$[f]=$[d]=$[h]=$[m]=$[g]=!1;function B(T){return t(T)&&e(T.length)&&!!$[r(T)]}return Y5=B,Y5}var Q5,B9;function PB(){if(B9)return Q5;B9=1;function r(e){return function(t){return e(t)}}return Q5=r,Q5}var y0={exports:{}};y0.exports;var $9;function Gie(){return $9||($9=1,(function(r,e){var t=YF(),n=e&&!e.nodeType&&e,i=n&&!0&&r&&!r.nodeType&&r,a=i&&i.exports===n,s=a&&t.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();r.exports=l})(y0,y0.exports)),y0.exports}var Z5,U9;function jB(){if(U9)return Z5;U9=1;var r=Wie(),e=PB(),t=Gie(),n=t&&t.isTypedArray,i=n?e(n):r;return Z5=i,Z5}var J5,V9;function Kie(){if(V9)return J5;V9=1;var r=zie(),e=k4(),t=ho(),n=NB(),i=T4(),a=jB(),s=Object.prototype,l=s.hasOwnProperty;function c(o,u){var f=t(o),d=!f&&e(o),h=!f&&!d&&n(o),m=!f&&!d&&!h&&a(o),g=f||d||h||m,p=g?r(o.length,String):[],y=p.length;for(var v in o)(u||l.call(o,v))&&!(g&&(v=="length"||h&&(v=="offset"||v=="parent")||m&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||i(v,y)))&&p.push(v);return p}return J5=c,J5}var e6,z9;function Xie(){if(z9)return e6;z9=1;var r=Object.prototype;function e(t){var n=t&&t.constructor,i=typeof n=="function"&&n.prototype||r;return t===i}return e6=e,e6}var t6,q9;function IB(){if(q9)return t6;q9=1;function r(e,t){return function(n){return e(t(n))}}return t6=r,t6}var r6,H9;function Yie(){if(H9)return r6;H9=1;var r=IB(),e=r(Object.keys,Object);return r6=e,r6}var n6,W9;function Qie(){if(W9)return n6;W9=1;var r=Xie(),e=Yie(),t=Object.prototype,n=t.hasOwnProperty;function i(a){if(!r(a))return e(a);var s=[];for(var l in Object(a))n.call(a,l)&&l!="constructor"&&s.push(l);return s}return n6=i,n6}var i6,G9;function e1(){if(G9)return i6;G9=1;var r=h4(),e=N4();function t(n){return n!=null&&e(n.length)&&!r(n)}return i6=t,i6}var a6,K9;function vw(){if(K9)return a6;K9=1;var r=Kie(),e=Qie(),t=e1();function n(i){return t(i)?r(i):e(i)}return a6=n,a6}var s6,X9;function Zie(){if(X9)return s6;X9=1;var r=Bie(),e=Vie(),t=vw();function n(i){return r(i,t,e)}return s6=n,s6}var o6,Y9;function Jie(){if(Y9)return o6;Y9=1;var r=Zie(),e=1,t=Object.prototype,n=t.hasOwnProperty;function i(a,s,l,c,o,u){var f=l&e,d=r(a),h=d.length,m=r(s),g=m.length;if(h!=g&&!f)return!1;for(var p=h;p--;){var y=d[p];if(!(f?y in s:n.call(s,y)))return!1}var v=u.get(a),w=u.get(s);if(v&&w)return v==s&&w==a;var C=!0;u.set(a,s),u.set(s,a);for(var P=f;++p<h;){y=d[p];var F=a[y],L=s[y];if(c)var j=f?c(L,F,y,s,a,u):c(F,L,y,a,s,u);if(!(j===void 0?F===L||o(F,L,l,c,u):j)){C=!1;break}P||(P=y=="constructor")}if(C&&!P){var I=a.constructor,z=s.constructor;I!=z&&"constructor"in a&&"constructor"in s&&!(typeof I=="function"&&I instanceof I&&typeof z=="function"&&z instanceof z)&&(C=!1)}return u.delete(a),u.delete(s),C}return o6=i,o6}var l6,Q9;function eae(){if(Q9)return l6;Q9=1;var r=sh(),e=Ac(),t=r(e,"DataView");return l6=t,l6}var c6,Z9;function tae(){if(Z9)return c6;Z9=1;var r=sh(),e=Ac(),t=r(e,"Promise");return c6=t,c6}var u6,J9;function OB(){if(J9)return u6;J9=1;var r=sh(),e=Ac(),t=r(e,"Set");return u6=t,u6}var f6,eP;function rae(){if(eP)return f6;eP=1;var r=sh(),e=Ac(),t=r(e,"WeakMap");return f6=t,f6}var d6,tP;function nae(){if(tP)return d6;tP=1;var r=eae(),e=m4(),t=tae(),n=OB(),i=rae(),a=ku(),s=QF(),l="[object Map]",c="[object Object]",o="[object Promise]",u="[object Set]",f="[object WeakMap]",d="[object DataView]",h=s(r),m=s(e),g=s(t),p=s(n),y=s(i),v=a;return(r&&v(new r(new ArrayBuffer(1)))!=d||e&&v(new e)!=l||t&&v(t.resolve())!=o||n&&v(new n)!=u||i&&v(new i)!=f)&&(v=function(w){var C=a(w),P=C==c?w.constructor:void 0,F=P?s(P):"";if(F)switch(F){case h:return d;case m:return l;case g:return o;case p:return u;case y:return f}return C}),d6=v,d6}var h6,rP;function iae(){if(rP)return h6;rP=1;var r=SB(),e=kB(),t=Fie(),n=Jie(),i=nae(),a=ho(),s=NB(),l=jB(),c=1,o="[object Arguments]",u="[object Array]",f="[object Object]",d=Object.prototype,h=d.hasOwnProperty;function m(g,p,y,v,w,C){var P=a(g),F=a(p),L=P?u:i(g),j=F?u:i(p);L=L==o?f:L,j=j==o?f:j;var I=L==f,z=j==f,$=L==j;if($&&s(g)){if(!s(p))return!1;P=!0,I=!1}if($&&!I)return C||(C=new r),P||l(g)?e(g,p,y,v,w,C):t(g,p,L,y,v,w,C);if(!(y&c)){var B=I&&h.call(g,"__wrapped__"),T=z&&h.call(p,"__wrapped__");if(B||T){var R=B?g.value():g,N=T?p.value():p;return C||(C=new r),w(R,N,y,v,C)}}return $?(C||(C=new r),n(g,p,y,v,w,C)):!1}return h6=m,h6}var p6,nP;function P4(){if(nP)return p6;nP=1;var r=iae(),e=Tu();function t(n,i,a,s,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:r(n,i,a,s,t,l)}return p6=t,p6}var m6,iP;function aae(){if(iP)return m6;iP=1;var r=SB(),e=P4(),t=1,n=2;function i(a,s,l,c){var o=l.length,u=o,f=!c;if(a==null)return!u;for(a=Object(a);o--;){var d=l[o];if(f&&d[2]?d[1]!==a[d[0]]:!(d[0]in a))return!1}for(;++o<u;){d=l[o];var h=d[0],m=a[h],g=d[1];if(f&&d[2]){if(m===void 0&&!(h in a))return!1}else{var p=new r;if(c)var y=c(m,g,h,a,s,p);if(!(y===void 0?e(g,m,t|n,c,p):y))return!1}}return!0}return m6=i,m6}var g6,aP;function RB(){if(aP)return g6;aP=1;var r=Ff();function e(t){return t===t&&!r(t)}return g6=e,g6}var y6,sP;function sae(){if(sP)return y6;sP=1;var r=RB(),e=vw();function t(n){for(var i=e(n),a=i.length;a--;){var s=i[a],l=n[s];i[a]=[s,l,r(l)]}return i}return y6=t,y6}var v6,oP;function MB(){if(oP)return v6;oP=1;function r(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}return v6=r,v6}var b6,lP;function oae(){if(lP)return b6;lP=1;var r=aae(),e=sae(),t=MB();function n(i){var a=e(i);return a.length==1&&a[0][2]?t(a[0][0],a[0][1]):function(s){return s===i||r(s,i,a)}}return b6=n,b6}var w6,cP;function lae(){if(cP)return w6;cP=1;function r(e,t){return e!=null&&t in Object(e)}return w6=r,w6}var x6,uP;function cae(){if(uP)return x6;uP=1;var r=eB(),e=k4(),t=ho(),n=T4(),i=N4(),a=hw();function s(l,c,o){c=r(c,l);for(var u=-1,f=c.length,d=!1;++u<f;){var h=a(c[u]);if(!(d=l!=null&&o(l,h)))break;l=l[h]}return d||++u!=f?d:(f=l==null?0:l.length,!!f&&i(f)&&n(h,f)&&(t(l)||e(l)))}return x6=s,x6}var _6,fP;function uae(){if(fP)return _6;fP=1;var r=lae(),e=cae();function t(n,i){return n!=null&&e(n,i,r)}return _6=t,_6}var S6,dP;function fae(){if(dP)return S6;dP=1;var r=P4(),e=tB(),t=uae(),n=d4(),i=RB(),a=MB(),s=hw(),l=1,c=2;function o(u,f){return n(u)&&i(f)?a(s(u),f):function(d){var h=e(d,u);return h===void 0&&h===f?t(d,u):r(f,h,l|c)}}return S6=o,S6}var E6,hP;function pm(){if(hP)return E6;hP=1;function r(e){return e}return E6=r,E6}var A6,pP;function dae(){if(pP)return A6;pP=1;function r(e){return function(t){return t==null?void 0:t[e]}}return A6=r,A6}var C6,mP;function hae(){if(mP)return C6;mP=1;var r=v4();function e(t){return function(n){return r(n,t)}}return C6=e,C6}var k6,gP;function pae(){if(gP)return k6;gP=1;var r=dae(),e=hae(),t=d4(),n=hw();function i(a){return t(a)?r(n(a)):e(a)}return k6=i,k6}var T6,yP;function Cc(){if(yP)return T6;yP=1;var r=oae(),e=fae(),t=pm(),n=ho(),i=pae();function a(s){return typeof s=="function"?s:s==null?t:typeof s=="object"?n(s)?e(s[0],s[1]):r(s):i(s)}return T6=a,T6}var N6,vP;function DB(){if(vP)return N6;vP=1;function r(e,t,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(t(e[s],s,e))return s;return-1}return N6=r,N6}var P6,bP;function mae(){if(bP)return P6;bP=1;function r(e){return e!==e}return P6=r,P6}var j6,wP;function gae(){if(wP)return j6;wP=1;function r(e,t,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===t)return i;return-1}return j6=r,j6}var I6,xP;function yae(){if(xP)return I6;xP=1;var r=DB(),e=mae(),t=gae();function n(i,a,s){return a===a?t(i,a,s):r(i,e,s)}return I6=n,I6}var O6,_P;function vae(){if(_P)return O6;_P=1;var r=yae();function e(t,n){var i=t==null?0:t.length;return!!i&&r(t,n,0)>-1}return O6=e,O6}var R6,SP;function bae(){if(SP)return R6;SP=1;function r(e,t,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(t,e[i]))return!0;return!1}return R6=r,R6}var M6,EP;function wae(){if(EP)return M6;EP=1;function r(){}return M6=r,M6}var D6,AP;function xae(){if(AP)return D6;AP=1;var r=OB(),e=wae(),t=C4(),n=1/0,i=r&&1/t(new r([,-0]))[1]==n?function(a){return new r(a)}:e;return D6=i,D6}var L6,CP;function _ae(){if(CP)return L6;CP=1;var r=EB(),e=vae(),t=bae(),n=CB(),i=xae(),a=C4(),s=200;function l(c,o,u){var f=-1,d=e,h=c.length,m=!0,g=[],p=g;if(u)m=!1,d=t;else if(h>=s){var y=o?null:i(c);if(y)return a(y);m=!1,d=n,p=new r}else p=o?[]:g;e:for(;++f<h;){var v=c[f],w=o?o(v):v;if(v=u||v!==0?v:0,m&&w===w){for(var C=p.length;C--;)if(p[C]===w)continue e;o&&p.push(w),g.push(v)}else d(p,w,u)||(p!==g&&p.push(w),g.push(v))}return g}return L6=l,L6}var F6,kP;function Sae(){if(kP)return F6;kP=1;var r=Cc(),e=_ae();function t(n,i){return n&&n.length?e(n,r(i,2)):[]}return F6=t,F6}var Eae=Sae();const TP=Rn(Eae);function LB(r,e,t){return e===!0?TP(r,t):Wr(e)?TP(r,e):r}function jp(r){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(r)}var Aae=["ref"];function NP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Wc(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(t),!0).forEach(function(n){bw(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):NP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Cae(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function PP(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,BB(n.key),n)}}function kae(r,e,t){return e&&PP(r.prototype,e),t&&PP(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Tae(r,e,t){return e=Tv(e),Nae(r,FB()?Reflect.construct(e,t||[],Tv(r).constructor):e.apply(r,t))}function Nae(r,e){if(e&&(jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pae(r)}function Pae(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function FB(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FB=function(){return!!r})()}function Tv(r){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tv(r)}function jae(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&j8(r,e)}function j8(r,e){return j8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j8(r,e)}function bw(r,e,t){return e=BB(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function BB(r){var e=Iae(r,"string");return jp(e)=="symbol"?e:e+""}function Iae(r,e){if(jp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function Oae(r,e){if(r==null)return{};var t=Rae(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Rae(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function Mae(r){return r.value}function Dae(r,e){if(Le.isValidElement(r))return Le.cloneElement(r,e);if(typeof r=="function")return Le.createElement(r,e);e.ref;var t=Oae(e,Aae);return Le.createElement(A4,t)}var jP=1,hp=(function(r){function e(){var t;Cae(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=Tae(this,e,[].concat(i)),bw(t,"lastBoundingBox",{width:-1,height:-1}),t}return jae(e,r),kae(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>jP||Math.abs(i.height-this.lastBoundingBox.height)>jP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Wc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,o=i.chartWidth,u=i.chartHeight,f,d;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((o||0)-h.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var m=this.getBBoxSnapshot();d={top:((u||0)-m.height)/2}}else d=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Wc(Wc({},f),d)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,o=i.payloadUniqBy,u=i.payload,f=Wc(Wc({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Le.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},Dae(a,Wc(Wc({},this.props),{},{payload:LB(u,o,Mae)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Wc(Wc({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&Ft(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])})(ce.PureComponent);bw(hp,"displayName","Legend");bw(hp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var B6,IP;function Lae(){if(IP)return B6;IP=1;var r=Zg(),e=k4(),t=ho(),n=r?r.isConcatSpreadable:void 0;function i(a){return t(a)||e(a)||!!(n&&a&&a[n])}return B6=i,B6}var $6,OP;function $B(){if(OP)return $6;OP=1;var r=TB(),e=Lae();function t(n,i,a,s,l){var c=-1,o=n.length;for(a||(a=e),l||(l=[]);++c<o;){var u=n[c];i>0&&a(u)?i>1?t(u,i-1,a,s,l):r(l,u):s||(l[l.length]=u)}return l}return $6=t,$6}var U6,RP;function Fae(){if(RP)return U6;RP=1;function r(e){return function(t,n,i){for(var a=-1,s=Object(t),l=i(t),c=l.length;c--;){var o=l[e?c:++a];if(n(s[o],o,s)===!1)break}return t}}return U6=r,U6}var V6,MP;function Bae(){if(MP)return V6;MP=1;var r=Fae(),e=r();return V6=e,V6}var z6,DP;function UB(){if(DP)return z6;DP=1;var r=Bae(),e=vw();function t(n,i){return n&&r(n,i,e)}return z6=t,z6}var q6,LP;function $ae(){if(LP)return q6;LP=1;var r=e1();function e(t,n){return function(i,a){if(i==null)return i;if(!r(i))return t(i,a);for(var s=i.length,l=n?s:-1,c=Object(i);(n?l--:++l<s)&&a(c[l],l,c)!==!1;);return i}}return q6=e,q6}var H6,FP;function j4(){if(FP)return H6;FP=1;var r=UB(),e=$ae(),t=e(r);return H6=t,H6}var W6,BP;function VB(){if(BP)return W6;BP=1;var r=j4(),e=e1();function t(n,i){var a=-1,s=e(n)?Array(n.length):[];return r(n,function(l,c,o){s[++a]=i(l,c,o)}),s}return W6=t,W6}var G6,$P;function Uae(){if($P)return G6;$P=1;function r(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}return G6=r,G6}var K6,UP;function Vae(){if(UP)return K6;UP=1;var r=fm();function e(t,n){if(t!==n){var i=t!==void 0,a=t===null,s=t===t,l=r(t),c=n!==void 0,o=n===null,u=n===n,f=r(n);if(!o&&!f&&!l&&t>n||l&&c&&u&&!o&&!f||a&&c&&u||!i&&u||!s)return 1;if(!a&&!l&&!f&&t<n||f&&i&&s&&!a&&!l||o&&i&&s||!c&&s||!u)return-1}return 0}return K6=e,K6}var X6,VP;function zae(){if(VP)return X6;VP=1;var r=Vae();function e(t,n,i){for(var a=-1,s=t.criteria,l=n.criteria,c=s.length,o=i.length;++a<c;){var u=r(s[a],l[a]);if(u){if(a>=o)return u;var f=i[a];return u*(f=="desc"?-1:1)}}return t.index-n.index}return X6=e,X6}var Y6,zP;function qae(){if(zP)return Y6;zP=1;var r=y4(),e=v4(),t=Cc(),n=VB(),i=Uae(),a=PB(),s=zae(),l=pm(),c=ho();function o(u,f,d){f.length?f=r(f,function(g){return c(g)?function(p){return e(p,g.length===1?g[0]:g)}:g}):f=[l];var h=-1;f=r(f,a(t));var m=n(u,function(g,p,y){var v=r(f,function(w){return w(g)});return{criteria:v,index:++h,value:g}});return i(m,function(g,p){return s(g,p,d)})}return Y6=o,Y6}var Q6,qP;function Hae(){if(qP)return Q6;qP=1;function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}return Q6=r,Q6}var Z6,HP;function Wae(){if(HP)return Z6;HP=1;var r=Hae(),e=Math.max;function t(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,l=-1,c=e(s.length-i,0),o=Array(c);++l<c;)o[l]=s[i+l];l=-1;for(var u=Array(i+1);++l<i;)u[l]=s[l];return u[i]=a(o),r(n,this,u)}}return Z6=t,Z6}var J6,WP;function Gae(){if(WP)return J6;WP=1;function r(e){return function(){return e}}return J6=r,J6}var eS,GP;function zB(){if(GP)return eS;GP=1;var r=sh(),e=(function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch{}})();return eS=e,eS}var tS,KP;function Kae(){if(KP)return tS;KP=1;var r=Gae(),e=zB(),t=pm(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:r(a),writable:!0})}:t;return tS=n,tS}var rS,XP;function Xae(){if(XP)return rS;XP=1;var r=800,e=16,t=Date.now;function n(i){var a=0,s=0;return function(){var l=t(),c=e-(l-s);if(s=l,c>0){if(++a>=r)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return rS=n,rS}var nS,YP;function Yae(){if(YP)return nS;YP=1;var r=Kae(),e=Xae(),t=e(r);return nS=t,nS}var iS,QP;function Qae(){if(QP)return iS;QP=1;var r=pm(),e=Wae(),t=Yae();function n(i,a){return t(e(i,a,r),i+"")}return iS=n,iS}var aS,ZP;function ww(){if(ZP)return aS;ZP=1;var r=p4(),e=e1(),t=T4(),n=Ff();function i(a,s,l){if(!n(l))return!1;var c=typeof s;return(c=="number"?e(l)&&t(s,l.length):c=="string"&&s in l)?r(l[s],a):!1}return aS=i,aS}var sS,JP;function Zae(){if(JP)return sS;JP=1;var r=$B(),e=qae(),t=Qae(),n=ww(),i=t(function(a,s){if(a==null)return[];var l=s.length;return l>1&&n(a,s[0],s[1])?s=[]:l>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(a,r(s,1),[])});return sS=i,sS}var Jae=Zae();const I4=Rn(Jae);function eg(r){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(r)}function I8(){return I8=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},I8.apply(this,arguments)}function ese(r,e){return ise(r)||nse(r,e)||rse(r,e)||tse()}function tse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rse(r,e){if(r){if(typeof r=="string")return ej(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ej(r,e)}}function ej(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function nse(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function ise(r){if(Array.isArray(r))return r}function tj(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function oS(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tj(Object(t),!0).forEach(function(n){ase(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):tj(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ase(r,e,t){return e=sse(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function sse(r){var e=ose(r,"string");return eg(e)=="symbol"?e:e+""}function ose(r,e){if(eg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function lse(r){return Array.isArray(r)&&La(r[0])&&La(r[1])?r.join(" ~ "):r}var cse=function(e){var t=e.separator,n=t===void 0?" : ":t,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,o=c===void 0?{}:c,u=e.payload,f=e.formatter,d=e.itemSorter,h=e.wrapperClassName,m=e.labelClassName,g=e.label,p=e.labelFormatter,y=e.accessibilityLayer,v=y===void 0?!1:y,w=function(){if(u&&u.length){var B={padding:0,margin:0},T=(d?I4(u,d):u).map(function(R,N){if(R.type==="none")return null;var _=oS({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},l),E=R.formatter||f||lse,S=R.value,k=R.name,M=S,V=k;if(E&&M!=null&&V!=null){var O=E(S,k,R,N,u);if(Array.isArray(O)){var X=ese(O,2);M=X[0],V=X[1]}else M=O}return Le.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:_},La(V)?Le.createElement("span",{className:"recharts-tooltip-item-name"},V):null,La(V)?Le.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Le.createElement("span",{className:"recharts-tooltip-item-value"},M),Le.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return Le.createElement("ul",{className:"recharts-tooltip-item-list",style:B},T)}return null},C=oS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),P=oS({margin:0},o),F=!Jr(g),L=F?g:"",j=nn("recharts-default-tooltip",h),I=nn("recharts-tooltip-label",m);F&&p&&u!==void 0&&u!==null&&(L=p(g,u));var z=v?{role:"status","aria-live":"assertive"}:{};return Le.createElement("div",I8({className:j,style:C},z),Le.createElement("p",{className:I,style:P},Le.isValidElement(L)?L:"".concat(L)),w())};function tg(r){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(r)}function iy(r,e,t){return e=use(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function use(r){var e=fse(r,"string");return tg(e)=="symbol"?e:e+""}function fse(r,e){if(tg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Zm="recharts-tooltip-wrapper",dse={visibility:"hidden"};function hse(r){var e=r.coordinate,t=r.translateX,n=r.translateY;return nn(Zm,iy(iy(iy(iy({},"".concat(Zm,"-right"),Ft(t)&&e&&Ft(e.x)&&t>=e.x),"".concat(Zm,"-left"),Ft(t)&&e&&Ft(e.x)&&t<e.x),"".concat(Zm,"-bottom"),Ft(n)&&e&&Ft(e.y)&&n>=e.y),"".concat(Zm,"-top"),Ft(n)&&e&&Ft(e.y)&&n<e.y))}function rj(r){var e=r.allowEscapeViewBox,t=r.coordinate,n=r.key,i=r.offsetTopLeft,a=r.position,s=r.reverseDirection,l=r.tooltipDimension,c=r.viewBox,o=r.viewBoxDimension;if(a&&Ft(a[n]))return a[n];var u=t[n]-l-i,f=t[n]+i;if(e[n])return s[n]?u:f;if(s[n]){var d=u,h=c[n];return d<h?Math.max(f,c[n]):Math.max(u,c[n])}var m=f+l,g=c[n]+o;return m>g?Math.max(u,c[n]):Math.max(f,c[n])}function pse(r){var e=r.translateX,t=r.translateY,n=r.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function mse(r){var e=r.allowEscapeViewBox,t=r.coordinate,n=r.offsetTopLeft,i=r.position,a=r.reverseDirection,s=r.tooltipBox,l=r.useTranslate3d,c=r.viewBox,o,u,f;return s.height>0&&s.width>0&&t?(u=rj({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=rj({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),o=pse({translateX:u,translateY:f,useTranslate3d:l})):o=dse,{cssProperties:o,cssClasses:hse({translateX:u,translateY:f,coordinate:t})}}function Ip(r){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(r)}function nj(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ij(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(t),!0).forEach(function(n){R8(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):nj(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function gse(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function yse(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,HB(n.key),n)}}function vse(r,e,t){return e&&yse(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function bse(r,e,t){return e=Nv(e),wse(r,qB()?Reflect.construct(e,t||[],Nv(r).constructor):e.apply(r,t))}function wse(r,e){if(e&&(Ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xse(r)}function xse(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function qB(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qB=function(){return!!r})()}function Nv(r){return Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nv(r)}function _se(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&O8(r,e)}function O8(r,e){return O8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O8(r,e)}function R8(r,e,t){return e=HB(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function HB(r){var e=Sse(r,"string");return Ip(e)=="symbol"?e:e+""}function Sse(r,e){if(Ip(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var aj=1,Ese=(function(r){function e(){var t;gse(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=bse(this,e,[].concat(i)),R8(t,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),R8(t,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,o,u;t.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=t.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(o=(u=t.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&o!==void 0?o:0}})}}),t}return _se(e,r),vse(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>aj||Math.abs(n.height-this.state.lastBoundingBox.height)>aj)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,o=i.children,u=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,h=i.offset,m=i.position,g=i.reverseDirection,p=i.useTranslate3d,y=i.viewBox,v=i.wrapperStyle,w=mse({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:h,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:y}),C=w.cssClasses,P=w.cssProperties,F=ij(ij({transition:d&&a?"transform ".concat(l,"ms ").concat(c):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return Le.createElement("div",{tabIndex:-1,className:C,style:F,ref:function(j){n.wrapperNode=j}},o)}}])})(ce.PureComponent),Ase=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},oh={isSsr:Ase()};function Op(r){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(r)}function sj(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function oj(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sj(Object(t),!0).forEach(function(n){O4(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):sj(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Cse(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function kse(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,GB(n.key),n)}}function Tse(r,e,t){return e&&kse(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Nse(r,e,t){return e=Pv(e),Pse(r,WB()?Reflect.construct(e,t||[],Pv(r).constructor):e.apply(r,t))}function Pse(r,e){if(e&&(Op(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jse(r)}function jse(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function WB(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WB=function(){return!!r})()}function Pv(r){return Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pv(r)}function Ise(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&M8(r,e)}function M8(r,e){return M8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M8(r,e)}function O4(r,e,t){return e=GB(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function GB(r){var e=Ose(r,"string");return Op(e)=="symbol"?e:e+""}function Ose(r,e){if(Op(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function Rse(r){return r.dataKey}function Mse(r,e){return Le.isValidElement(r)?Le.cloneElement(r,e):typeof r=="function"?Le.createElement(r,e):Le.createElement(cse,e)}var oo=(function(r){function e(){return Cse(this,e),Nse(this,e,arguments)}return Ise(e,r),Tse(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,o=i.content,u=i.coordinate,f=i.filterNull,d=i.isAnimationActive,h=i.offset,m=i.payload,g=i.payloadUniqBy,p=i.position,y=i.reverseDirection,v=i.useTranslate3d,w=i.viewBox,C=i.wrapperStyle,P=m??[];f&&P.length&&(P=LB(m.filter(function(L){return L.value!=null&&(L.hide!==!0||n.props.includeHidden)}),g,Rse));var F=P.length>0;return Le.createElement(Ese,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:d,active:a,coordinate:u,hasPayload:F,offset:h,position:p,reverseDirection:y,useTranslate3d:v,viewBox:w,wrapperStyle:C},Mse(o,oj(oj({},this.props),{},{payload:P})))}}])})(ce.PureComponent);O4(oo,"displayName","Tooltip");O4(oo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!oh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var lS,lj;function Dse(){if(lj)return lS;lj=1;var r=Ac(),e=function(){return r.Date.now()};return lS=e,lS}var cS,cj;function Lse(){if(cj)return cS;cj=1;var r=/\s/;function e(t){for(var n=t.length;n--&&r.test(t.charAt(n)););return n}return cS=e,cS}var uS,uj;function Fse(){if(uj)return uS;uj=1;var r=Lse(),e=/^\s+/;function t(n){return n&&n.slice(0,r(n)+1).replace(e,"")}return uS=t,uS}var fS,fj;function KB(){if(fj)return fS;fj=1;var r=Fse(),e=Ff(),t=fm(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(o){if(typeof o=="number")return o;if(t(o))return n;if(e(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=e(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=r(o);var f=a.test(o);return f||s.test(o)?l(o.slice(2),f?2:8):i.test(o)?n:+o}return fS=c,fS}var dS,dj;function Bse(){if(dj)return dS;dj=1;var r=Ff(),e=Dse(),t=KB(),n="Expected a function",i=Math.max,a=Math.min;function s(l,c,o){var u,f,d,h,m,g,p=0,y=!1,v=!1,w=!0;if(typeof l!="function")throw new TypeError(n);c=t(c)||0,r(o)&&(y=!!o.leading,v="maxWait"in o,d=v?i(t(o.maxWait)||0,c):d,w="trailing"in o?!!o.trailing:w);function C(T){var R=u,N=f;return u=f=void 0,p=T,h=l.apply(N,R),h}function P(T){return p=T,m=setTimeout(j,c),y?C(T):h}function F(T){var R=T-g,N=T-p,_=c-R;return v?a(_,d-N):_}function L(T){var R=T-g,N=T-p;return g===void 0||R>=c||R<0||v&&N>=d}function j(){var T=e();if(L(T))return I(T);m=setTimeout(j,F(T))}function I(T){return m=void 0,w&&u?C(T):(u=f=void 0,h)}function z(){m!==void 0&&clearTimeout(m),p=0,u=g=f=m=void 0}function $(){return m===void 0?h:I(e())}function B(){var T=e(),R=L(T);if(u=arguments,f=this,g=T,R){if(m===void 0)return P(g);if(v)return clearTimeout(m),m=setTimeout(j,c),C(g)}return m===void 0&&(m=setTimeout(j,c)),h}return B.cancel=z,B.flush=$,B}return dS=s,dS}var hS,hj;function $se(){if(hj)return hS;hj=1;var r=Bse(),e=Ff(),t="Expected a function";function n(i,a,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(t);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),r(i,a,{leading:l,maxWait:a,trailing:c})}return hS=n,hS}var Use=$se();const XB=Rn(Use);function rg(r){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(r)}function pj(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ay(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(t),!0).forEach(function(n){Vse(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):pj(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Vse(r,e,t){return e=zse(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function zse(r){var e=qse(r,"string");return rg(e)=="symbol"?e:e+""}function qse(r,e){if(rg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Hse(r,e){return Xse(r)||Kse(r,e)||Gse(r,e)||Wse()}function Wse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gse(r,e){if(r){if(typeof r=="string")return mj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mj(r,e)}}function mj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Kse(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function Xse(r){if(Array.isArray(r))return r}var sy=ce.forwardRef(function(r,e){var t=r.aspect,n=r.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=r.width,s=a===void 0?"100%":a,l=r.height,c=l===void 0?"100%":l,o=r.minWidth,u=o===void 0?0:o,f=r.minHeight,d=r.maxHeight,h=r.children,m=r.debounce,g=m===void 0?0:m,p=r.id,y=r.className,v=r.onResize,w=r.style,C=w===void 0?{}:w,P=ce.useRef(null),F=ce.useRef();F.current=v,ce.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var L=ce.useState({containerWidth:i.width,containerHeight:i.height}),j=Hse(L,2),I=j[0],z=j[1],$=ce.useCallback(function(T,R){z(function(N){var _=Math.round(T),E=Math.round(R);return N.containerWidth===_&&N.containerHeight===E?N:{containerWidth:_,containerHeight:E}})},[]);ce.useEffect(function(){var T=function(k){var M,V=k[0].contentRect,O=V.width,X=V.height;$(O,X),(M=F.current)===null||M===void 0||M.call(F,O,X)};g>0&&(T=XB(T,g,{trailing:!0,leading:!1}));var R=new ResizeObserver(T),N=P.current.getBoundingClientRect(),_=N.width,E=N.height;return $(_,E),R.observe(P.current),function(){R.disconnect()}},[$,g]);var B=ce.useMemo(function(){var T=I.containerWidth,R=I.containerHeight;if(T<0||R<0)return null;Dl(Ed(s)||Ed(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Dl(!t||t>0,"The aspect(%s) must be greater than zero.",t);var N=Ed(s)?T:s,_=Ed(c)?R:c;t&&t>0&&(N?_=N/t:_&&(N=_*t),d&&_>d&&(_=d)),Dl(N>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,_,s,c,u,f,t);var E=!Array.isArray(h)&&cu(h.type).endsWith("Chart");return Le.Children.map(h,function(S){return Le.isValidElement(S)?ce.cloneElement(S,ay({width:N,height:_},E?{style:ay({height:"100%",width:"100%",maxHeight:_,maxWidth:N},S.props.style)}:{})):S})},[t,h,c,d,f,u,I,s]);return Le.createElement("div",{id:p?"".concat(p):void 0,className:nn("recharts-responsive-container",y),style:ay(ay({},C),{},{width:s,height:c,minWidth:u,minHeight:f,maxHeight:d}),ref:P},B)}),t1=function(e){return null};t1.displayName="Cell";function ng(r){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(r)}function gj(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function D8(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(t),!0).forEach(function(n){Yse(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):gj(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Yse(r,e,t){return e=Qse(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Qse(r){var e=Zse(r,"string");return ng(e)=="symbol"?e:e+""}function Zse(r,e){if(ng(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Uh={widthCache:{},cacheCount:0},Jse=2e3,eoe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yj="recharts_measurement_span";function toe(r){var e=D8({},r);return Object.keys(e).forEach(function(t){e[t]||delete e[t]}),e}var A0=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||oh.isSsr)return{width:0,height:0};var n=toe(t),i=JSON.stringify({text:e,copyStyle:n});if(Uh.widthCache[i])return Uh.widthCache[i];try{var a=document.getElementById(yj);a||(a=document.createElement("span"),a.setAttribute("id",yj),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=D8(D8({},eoe),n);Object.assign(a.style,s),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Uh.widthCache[i]=c,++Uh.cacheCount>Jse&&(Uh.cacheCount=0,Uh.widthCache={}),c}catch{return{width:0,height:0}}},roe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ig(r){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(r)}function jv(r,e){return soe(r)||aoe(r,e)||ioe(r,e)||noe()}function noe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ioe(r,e){if(r){if(typeof r=="string")return vj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vj(r,e)}}function vj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function aoe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function soe(r){if(Array.isArray(r))return r}function ooe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function bj(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,coe(n.key),n)}}function loe(r,e,t){return e&&bj(r.prototype,e),t&&bj(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function coe(r){var e=uoe(r,"string");return ig(e)=="symbol"?e:e+""}function uoe(r,e){if(ig(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var wj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,foe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,doe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},hoe=Object.keys(YB),tp="NaN";function poe(r,e){return r*YB[e]}var oy=(function(){function r(e,t){ooe(this,r),this.num=e,this.unit=t,this.num=e,this.unit=t,Number.isNaN(e)&&(this.unit=""),t!==""&&!foe.test(t)&&(this.num=NaN,this.unit=""),hoe.includes(t)&&(this.num=poe(e,t),this.unit="px")}return loe(r,[{key:"add",value:function(t){return this.unit!==t.unit?new r(NaN,""):new r(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new r(NaN,""):new r(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new r(NaN,""):new r(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new r(NaN,""):new r(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(t){var n,i=(n=doe.exec(t))!==null&&n!==void 0?n:[],a=jv(i,3),s=a[1],l=a[2];return new r(parseFloat(s),l??"")}}])})();function QB(r){if(r.includes(tp))return tp;for(var e=r;e.includes("*")||e.includes("/");){var t,n=(t=wj.exec(e))!==null&&t!==void 0?t:[],i=jv(n,4),a=i[1],s=i[2],l=i[3],c=oy.parse(a??""),o=oy.parse(l??""),u=s==="*"?c.multiply(o):c.divide(o);if(u.isNaN())return tp;e=e.replace(wj,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=xj.exec(e))!==null&&f!==void 0?f:[],h=jv(d,4),m=h[1],g=h[2],p=h[3],y=oy.parse(m??""),v=oy.parse(p??""),w=g==="+"?y.add(v):y.subtract(v);if(w.isNaN())return tp;e=e.replace(xj,w.toString())}return e}var _j=/\(([^()]*)\)/;function moe(r){for(var e=r;e.includes("(");){var t=_j.exec(e),n=jv(t,2),i=n[1];e=e.replace(_j,QB(i))}return e}function goe(r){var e=r.replace(/\s+/g,"");return e=moe(e),e=QB(e),e}function yoe(r){try{return goe(r)}catch{return tp}}function pS(r){var e=yoe(r.slice(5,-1));return e===tp?"":e}var voe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],boe=["dx","dy","angle","className","breakAll"];function L8(){return L8=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},L8.apply(this,arguments)}function Sj(r,e){if(r==null)return{};var t=woe(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function woe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function Ej(r,e){return Eoe(r)||Soe(r,e)||_oe(r,e)||xoe()}function xoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _oe(r,e){if(r){if(typeof r=="string")return Aj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Aj(r,e)}}function Aj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Soe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function Eoe(r){if(Array.isArray(r))return r}var ZB=/[ \f\n\r\t\v\u2028\u2029]+/,JB=function(e){var t=e.children,n=e.breakAll,i=e.style;try{var a=[];Jr(t)||(n?a=t.toString().split(""):a=t.toString().split(ZB));var s=a.map(function(c){return{word:c,width:A0(c,i).width}}),l=n?0:A0(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},Aoe=function(e,t,n,i,a){var s=e.maxLines,l=e.children,c=e.style,o=e.breakAll,u=Ft(s),f=l,d=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return N.reduce(function(_,E){var S=E.word,k=E.width,M=_[_.length-1];if(M&&(i==null||a||M.width+k+n<Number(i)))M.words.push(S),M.width+=k+n;else{var V={words:[S],width:k};_.push(V)}return _},[])},h=d(t),m=function(N){return N.reduce(function(_,E){return _.width>E.width?_:E})};if(!u)return h;for(var g="…",p=function(N){var _=f.slice(0,N),E=JB({breakAll:o,style:c,children:_+g}).wordsWithComputedWidth,S=d(E),k=S.length>s||m(S).width>Number(i);return[k,S]},y=0,v=f.length-1,w=0,C;y<=v&&w<=f.length-1;){var P=Math.floor((y+v)/2),F=P-1,L=p(F),j=Ej(L,2),I=j[0],z=j[1],$=p(P),B=Ej($,1),T=B[0];if(!I&&!T&&(y=P+1),I&&T&&(v=P-1),!I&&T){C=z;break}w++}return C||h},Cj=function(e){var t=Jr(e)?[]:e.toString().split(ZB);return[{words:t}]},Coe=function(e){var t=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,l=e.maxLines;if((t||n)&&!oh.isSsr){var c,o,u=JB({breakAll:s,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,d=u.spaceWidth;c=f,o=d}else return Cj(i);return Aoe({breakAll:s,children:i,maxLines:l,style:a},c,o,t,n)}return Cj(i)},kj="#808080",zd=function(e){var t=e.x,n=t===void 0?0:t,i=e.y,a=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,o=c===void 0?"0.71em":c,u=e.scaleToFit,f=u===void 0?!1:u,d=e.textAnchor,h=d===void 0?"start":d,m=e.verticalAnchor,g=m===void 0?"end":m,p=e.fill,y=p===void 0?kj:p,v=Sj(e,voe),w=ce.useMemo(function(){return Coe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),C=v.dx,P=v.dy,F=v.angle,L=v.className,j=v.breakAll,I=Sj(v,boe);if(!La(n)||!La(a))return null;var z=n+(Ft(C)?C:0),$=a+(Ft(P)?P:0),B;switch(g){case"start":B=pS("calc(".concat(o,")"));break;case"middle":B=pS("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(o," / 2))"));break;default:B=pS("calc(".concat(w.length-1," * -").concat(l,")"));break}var T=[];if(f){var R=w[0].width,N=v.width;T.push("scale(".concat((Ft(N)?N/R:1)/R,")"))}return F&&T.push("rotate(".concat(F,", ").concat(z,", ").concat($,")")),T.length&&(I.transform=T.join(" ")),Le.createElement("text",L8({},jr(I,!0),{x:z,y:$,className:nn("recharts-text",L),textAnchor:h,fill:y.includes("url")?kj:y}),w.map(function(_,E){var S=_.words.join(j?"":" ");return Le.createElement("tspan",{x:z,dy:E===0?B:l,key:"".concat(S,"-").concat(E)},S)}))};function bf(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function koe(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function R4(r){let e,t,n;r.length!==2?(e=bf,t=(l,c)=>bf(r(l),c),n=(l,c)=>r(l)-c):(e=r===bf||r===koe?r:Toe,t=r,n=r);function i(l,c,o=0,u=l.length){if(o<u){if(e(c,c)!==0)return u;do{const f=o+u>>>1;t(l[f],c)<0?o=f+1:u=f}while(o<u)}return o}function a(l,c,o=0,u=l.length){if(o<u){if(e(c,c)!==0)return u;do{const f=o+u>>>1;t(l[f],c)<=0?o=f+1:u=f}while(o<u)}return o}function s(l,c,o=0,u=l.length){const f=i(l,c,o,u-1);return f>o&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:s,right:a}}function Toe(){return 0}function e$(r){return r===null?NaN:+r}function*Noe(r,e){for(let t of r)t!=null&&(t=+t)>=t&&(yield t)}const Poe=R4(bf),r1=Poe.right;R4(e$).center;class Tj extends Map{constructor(e,t=Ooe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(Nj(this,e))}has(e){return super.has(Nj(this,e))}set(e,t){return super.set(joe(this,e),t)}delete(e){return super.delete(Ioe(this,e))}}function Nj({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):t}function joe({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):(r.set(n,t),t)}function Ioe({_intern:r,_key:e},t){const n=e(t);return r.has(n)&&(t=r.get(n),r.delete(n)),t}function Ooe(r){return r!==null&&typeof r=="object"?r.valueOf():r}function Roe(r=bf){if(r===bf)return t$;if(typeof r!="function")throw new TypeError("compare is not a function");return(e,t)=>{const n=r(e,t);return n||n===0?n:(r(t,t)===0)-(r(e,e)===0)}}function t$(r,e){return(r==null||!(r>=r))-(e==null||!(e>=e))||(r<e?-1:r>e?1:0)}const Moe=Math.sqrt(50),Doe=Math.sqrt(10),Loe=Math.sqrt(2);function Iv(r,e,t){const n=(e-r)/Math.max(0,t),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=Moe?10:a>=Doe?5:a>=Loe?2:1;let l,c,o;return i<0?(o=Math.pow(10,-i)/s,l=Math.round(r*o),c=Math.round(e*o),l/o<r&&++l,c/o>e&&--c,o=-o):(o=Math.pow(10,i)*s,l=Math.round(r/o),c=Math.round(e/o),l*o<r&&++l,c*o>e&&--c),c<l&&.5<=t&&t<2?Iv(r,e,t*2):[l,c,o]}function F8(r,e,t){if(e=+e,r=+r,t=+t,!(t>0))return[];if(r===e)return[r];const n=e<r,[i,a,s]=n?Iv(e,r,t):Iv(r,e,t);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(s<0)for(let o=0;o<l;++o)c[o]=(a-o)/-s;else for(let o=0;o<l;++o)c[o]=(a-o)*s;else if(s<0)for(let o=0;o<l;++o)c[o]=(i+o)/-s;else for(let o=0;o<l;++o)c[o]=(i+o)*s;return c}function B8(r,e,t){return e=+e,r=+r,t=+t,Iv(r,e,t)[2]}function $8(r,e,t){e=+e,r=+r,t=+t;const n=e<r,i=n?B8(e,r,t):B8(r,e,t);return(n?-1:1)*(i<0?1/-i:i)}function Pj(r,e){let t;for(const n of r)n!=null&&(t<n||t===void 0&&n>=n)&&(t=n);return t}function jj(r,e){let t;for(const n of r)n!=null&&(t>n||t===void 0&&n>=n)&&(t=n);return t}function r$(r,e,t=0,n=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),n=Math.floor(Math.min(r.length-1,n)),!(t<=e&&e<=n))return r;for(i=i===void 0?t$:Roe(i);n>t;){if(n-t>600){const c=n-t+1,o=e-t+1,u=Math.log(c),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(c-f)/c)*(o-c/2<0?-1:1),h=Math.max(t,Math.floor(e-o*f/c+d)),m=Math.min(n,Math.floor(e+(c-o)*f/c+d));r$(r,e,h,m,i)}const a=r[e];let s=t,l=n;for(Jm(r,t,e),i(r[n],a)>0&&Jm(r,t,n);s<l;){for(Jm(r,s,l),++s,--l;i(r[s],a)<0;)++s;for(;i(r[l],a)>0;)--l}i(r[t],a)===0?Jm(r,t,l):(++l,Jm(r,l,n)),l<=e&&(t=l+1),e<=l&&(n=l-1)}return r}function Jm(r,e,t){const n=r[e];r[e]=r[t],r[t]=n}function Foe(r,e,t){if(r=Float64Array.from(Noe(r)),!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return jj(r);if(e>=1)return Pj(r);var n,i=(n-1)*e,a=Math.floor(i),s=Pj(r$(r,a).subarray(0,a+1)),l=jj(r.subarray(a+1));return s+(l-s)*(i-a)}}function Boe(r,e,t=e$){if(!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return+t(r[0],0,r);if(e>=1)return+t(r[n-1],n-1,r);var n,i=(n-1)*e,a=Math.floor(i),s=+t(r[a],a,r),l=+t(r[a+1],a+1,r);return s+(l-s)*(i-a)}}function $oe(r,e,t){r=+r,e=+e,t=(i=arguments.length)<2?(e=r,r=0,1):i<3?1:+t;for(var n=-1,i=Math.max(0,Math.ceil((e-r)/t))|0,a=new Array(i);++n<i;)a[n]=r+n*t;return a}function dl(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}function Nu(r,e){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const U8=Symbol("implicit");function M4(){var r=new Tj,e=[],t=[],n=U8;function i(a){let s=r.get(a);if(s===void 0){if(n!==U8)return n;r.set(a,s=e.push(a)-1)}return t[s%t.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],r=new Tj;for(const s of a)r.has(s)||r.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(t=Array.from(a),i):t.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return M4(e,t).unknown(n)},dl.apply(i,arguments),i}function ag(){var r=M4().unknown(void 0),e=r.domain,t=r.range,n=0,i=1,a,s,l=!1,c=0,o=0,u=.5;delete r.unknown;function f(){var d=e().length,h=i<n,m=h?i:n,g=h?n:i;a=(g-m)/Math.max(1,d-c+o*2),l&&(a=Math.floor(a)),m+=(g-m-a*(d-c))*u,s=a*(1-c),l&&(m=Math.round(m),s=Math.round(s));var p=$oe(d).map(function(y){return m+a*y});return t(h?p.reverse():p)}return r.domain=function(d){return arguments.length?(e(d),f()):e()},r.range=function(d){return arguments.length?([n,i]=d,n=+n,i=+i,f()):[n,i]},r.rangeRound=function(d){return[n,i]=d,n=+n,i=+i,l=!0,f()},r.bandwidth=function(){return s},r.step=function(){return a},r.round=function(d){return arguments.length?(l=!!d,f()):l},r.padding=function(d){return arguments.length?(c=Math.min(1,o=+d),f()):c},r.paddingInner=function(d){return arguments.length?(c=Math.min(1,d),f()):c},r.paddingOuter=function(d){return arguments.length?(o=+d,f()):o},r.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},r.copy=function(){return ag(e(),[n,i]).round(l).paddingInner(c).paddingOuter(o).align(u)},dl.apply(f(),arguments)}function n$(r){var e=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return n$(e())},r}function C0(){return n$(ag.apply(null,arguments).paddingInner(1))}function D4(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function i$(r,e){var t=Object.create(r.prototype);for(var n in e)t[n]=e[n];return t}function n1(){}var sg=.7,Ov=1/sg,pp="\\s*([+-]?\\d+)\\s*",og="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uoe=/^#([0-9a-f]{3,8})$/,Voe=new RegExp(`^rgb\\(${pp},${pp},${pp}\\)$`),zoe=new RegExp(`^rgb\\(${yc},${yc},${yc}\\)$`),qoe=new RegExp(`^rgba\\(${pp},${pp},${pp},${og}\\)$`),Hoe=new RegExp(`^rgba\\(${yc},${yc},${yc},${og}\\)$`),Woe=new RegExp(`^hsl\\(${og},${yc},${yc}\\)$`),Goe=new RegExp(`^hsla\\(${og},${yc},${yc},${og}\\)$`),Ij={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};D4(n1,lg,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:Oj,formatHex:Oj,formatHex8:Koe,formatHsl:Xoe,formatRgb:Rj,toString:Rj});function Oj(){return this.rgb().formatHex()}function Koe(){return this.rgb().formatHex8()}function Xoe(){return a$(this).formatHsl()}function Rj(){return this.rgb().formatRgb()}function lg(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=Uoe.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?Mj(e):t===3?new uo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?ly(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?ly(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Voe.exec(r))?new uo(e[1],e[2],e[3],1):(e=zoe.exec(r))?new uo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qoe.exec(r))?ly(e[1],e[2],e[3],e[4]):(e=Hoe.exec(r))?ly(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Woe.exec(r))?Fj(e[1],e[2]/100,e[3]/100,1):(e=Goe.exec(r))?Fj(e[1],e[2]/100,e[3]/100,e[4]):Ij.hasOwnProperty(r)?Mj(Ij[r]):r==="transparent"?new uo(NaN,NaN,NaN,0):null}function Mj(r){return new uo(r>>16&255,r>>8&255,r&255,1)}function ly(r,e,t,n){return n<=0&&(r=e=t=NaN),new uo(r,e,t,n)}function Yoe(r){return r instanceof n1||(r=lg(r)),r?(r=r.rgb(),new uo(r.r,r.g,r.b,r.opacity)):new uo}function V8(r,e,t,n){return arguments.length===1?Yoe(r):new uo(r,e,t,n??1)}function uo(r,e,t,n){this.r=+r,this.g=+e,this.b=+t,this.opacity=+n}D4(uo,V8,i$(n1,{brighter(r){return r=r==null?Ov:Math.pow(Ov,r),new uo(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?sg:Math.pow(sg,r),new uo(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new uo(Nd(this.r),Nd(this.g),Nd(this.b),Rv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dj,formatHex:Dj,formatHex8:Qoe,formatRgb:Lj,toString:Lj}));function Dj(){return`#${Ad(this.r)}${Ad(this.g)}${Ad(this.b)}`}function Qoe(){return`#${Ad(this.r)}${Ad(this.g)}${Ad(this.b)}${Ad((isNaN(this.opacity)?1:this.opacity)*255)}`}function Lj(){const r=Rv(this.opacity);return`${r===1?"rgb(":"rgba("}${Nd(this.r)}, ${Nd(this.g)}, ${Nd(this.b)}${r===1?")":`, ${r})`}`}function Rv(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function Nd(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function Ad(r){return r=Nd(r),(r<16?"0":"")+r.toString(16)}function Fj(r,e,t,n){return n<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new jl(r,e,t,n)}function a$(r){if(r instanceof jl)return new jl(r.h,r.s,r.l,r.opacity);if(r instanceof n1||(r=lg(r)),!r)return new jl;if(r instanceof jl)return r;r=r.rgb();var e=r.r/255,t=r.g/255,n=r.b/255,i=Math.min(e,t,n),a=Math.max(e,t,n),s=NaN,l=a-i,c=(a+i)/2;return l?(e===a?s=(t-n)/l+(t<n)*6:t===a?s=(n-e)/l+2:s=(e-t)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new jl(s,l,c,r.opacity)}function Zoe(r,e,t,n){return arguments.length===1?a$(r):new jl(r,e,t,n??1)}function jl(r,e,t,n){this.h=+r,this.s=+e,this.l=+t,this.opacity=+n}D4(jl,Zoe,i$(n1,{brighter(r){return r=r==null?Ov:Math.pow(Ov,r),new jl(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?sg:Math.pow(sg,r),new jl(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,i=2*t-n;return new uo(mS(r>=240?r-240:r+120,i,n),mS(r,i,n),mS(r<120?r+240:r-120,i,n),this.opacity)},clamp(){return new jl(Bj(this.h),cy(this.s),cy(this.l),Rv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=Rv(this.opacity);return`${r===1?"hsl(":"hsla("}${Bj(this.h)}, ${cy(this.s)*100}%, ${cy(this.l)*100}%${r===1?")":`, ${r})`}`}}));function Bj(r){return r=(r||0)%360,r<0?r+360:r}function cy(r){return Math.max(0,Math.min(1,r||0))}function mS(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}const L4=r=>()=>r;function Joe(r,e){return function(t){return r+t*e}}function ele(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(n){return Math.pow(r+n*e,t)}}function tle(r){return(r=+r)==1?s$:function(e,t){return t-e?ele(e,t,r):L4(isNaN(e)?t:e)}}function s$(r,e){var t=e-r;return t?Joe(r,t):L4(isNaN(r)?e:r)}const $j=(function r(e){var t=tle(e);function n(i,a){var s=t((i=V8(i)).r,(a=V8(a)).r),l=t(i.g,a.g),c=t(i.b,a.b),o=s$(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=l(u),i.b=c(u),i.opacity=o(u),i+""}}return n.gamma=r,n})(1);function rle(r,e){e||(e=[]);var t=r?Math.min(e.length,r.length):0,n=e.slice(),i;return function(a){for(i=0;i<t;++i)n[i]=r[i]*(1-a)+e[i]*a;return n}}function nle(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function ile(r,e){var t=e?e.length:0,n=r?Math.min(t,r.length):0,i=new Array(n),a=new Array(t),s;for(s=0;s<n;++s)i[s]=mm(r[s],e[s]);for(;s<t;++s)a[s]=e[s];return function(l){for(s=0;s<n;++s)a[s]=i[s](l);return a}}function ale(r,e){var t=new Date;return r=+r,e=+e,function(n){return t.setTime(r*(1-n)+e*n),t}}function Mv(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}function sle(r,e){var t={},n={},i;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in r?t[i]=mm(r[i],e[i]):n[i]=e[i];return function(a){for(i in t)n[i]=t[i](a);return n}}var z8=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gS=new RegExp(z8.source,"g");function ole(r){return function(){return r}}function lle(r){return function(e){return r(e)+""}}function cle(r,e){var t=z8.lastIndex=gS.lastIndex=0,n,i,a,s=-1,l=[],c=[];for(r=r+"",e=e+"";(n=z8.exec(r))&&(i=gS.exec(e));)(a=i.index)>t&&(a=e.slice(t,a),l[s]?l[s]+=a:l[++s]=a),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Mv(n,i)})),t=gS.lastIndex;return t<e.length&&(a=e.slice(t),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?lle(c[0].x):ole(e):(e=c.length,function(o){for(var u=0,f;u<e;++u)l[(f=c[u]).i]=f.x(o);return l.join("")})}function mm(r,e){var t=typeof e,n;return e==null||t==="boolean"?L4(e):(t==="number"?Mv:t==="string"?(n=lg(e))?(e=n,$j):cle:e instanceof lg?$j:e instanceof Date?ale:nle(e)?rle:Array.isArray(e)?ile:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?sle:Mv)(r,e)}function F4(r,e){return r=+r,e=+e,function(t){return Math.round(r*(1-t)+e*t)}}function ule(r,e){e===void 0&&(e=r,r=mm);for(var t=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);t<n;)a[t]=r(i,i=e[++t]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[l](s-l)}}function fle(r){return function(){return r}}function Dv(r){return+r}var Uj=[0,1];function Xs(r){return r}function q8(r,e){return(e-=r=+r)?function(t){return(t-r)/e}:fle(isNaN(e)?NaN:.5)}function dle(r,e){var t;return r>e&&(t=r,r=e,e=t),function(n){return Math.max(r,Math.min(e,n))}}function hle(r,e,t){var n=r[0],i=r[1],a=e[0],s=e[1];return i<n?(n=q8(i,n),a=t(s,a)):(n=q8(n,i),a=t(a,s)),function(l){return a(n(l))}}function ple(r,e,t){var n=Math.min(r.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(r[n]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=q8(r[s],r[s+1]),a[s]=t(e[s],e[s+1]);return function(l){var c=r1(r,l,1,n)-1;return a[c](i[c](l))}}function i1(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function xw(){var r=Uj,e=Uj,t=mm,n,i,a,s=Xs,l,c,o;function u(){var d=Math.min(r.length,e.length);return s!==Xs&&(s=dle(r[0],r[d-1])),l=d>2?ple:hle,c=o=null,f}function f(d){return d==null||isNaN(d=+d)?a:(c||(c=l(r.map(n),e,t)))(n(s(d)))}return f.invert=function(d){return s(i((o||(o=l(e,r.map(n),Mv)))(d)))},f.domain=function(d){return arguments.length?(r=Array.from(d,Dv),u()):r.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),t=F4,u()},f.clamp=function(d){return arguments.length?(s=d?!0:Xs,u()):s!==Xs},f.interpolate=function(d){return arguments.length?(t=d,u()):t},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,h){return n=d,i=h,u()}}function B4(){return xw()(Xs,Xs)}function mle(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function Lv(r,e){if((t=(r=e?r.toExponential(e-1):r.toExponential()).indexOf("e"))<0)return null;var t,n=r.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+r.slice(t+1)]}function Rp(r){return r=Lv(Math.abs(r)),r?r[1]:NaN}function gle(r,e){return function(t,n){for(var i=t.length,a=[],s=0,l=r[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(t.substring(i-=l,i+l)),!((c+=l+1)>n));)l=r[s=(s+1)%r.length];return a.reverse().join(e)}}function yle(r){return function(e){return e.replace(/[0-9]/g,function(t){return r[+t]})}}var vle=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cg(r){if(!(e=vle.exec(r)))throw new Error("invalid format: "+r);var e;return new $4({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}cg.prototype=$4.prototype;function $4(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}$4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ble(r){e:for(var e=r.length,t=1,n=-1,i;t<e;++t)switch(r[t]){case".":n=i=t;break;case"0":n===0&&(n=t),i=t;break;default:if(!+r[t])break e;n>0&&(n=0);break}return n>0?r.slice(0,n)+r.slice(i+1):r}var o$;function wle(r,e){var t=Lv(r,e);if(!t)return r+"";var n=t[0],i=t[1],a=i-(o$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Lv(r,Math.max(0,e+a-1))[0]}function Vj(r,e){var t=Lv(r,e);if(!t)return r+"";var n=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const zj={"%":(r,e)=>(r*100).toFixed(e),b:r=>Math.round(r).toString(2),c:r=>r+"",d:mle,e:(r,e)=>r.toExponential(e),f:(r,e)=>r.toFixed(e),g:(r,e)=>r.toPrecision(e),o:r=>Math.round(r).toString(8),p:(r,e)=>Vj(r*100,e),r:Vj,s:wle,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function qj(r){return r}var Hj=Array.prototype.map,Wj=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xle(r){var e=r.grouping===void 0||r.thousands===void 0?qj:gle(Hj.call(r.grouping,Number),r.thousands+""),t=r.currency===void 0?"":r.currency[0]+"",n=r.currency===void 0?"":r.currency[1]+"",i=r.decimal===void 0?".":r.decimal+"",a=r.numerals===void 0?qj:yle(Hj.call(r.numerals,String)),s=r.percent===void 0?"%":r.percent+"",l=r.minus===void 0?"−":r.minus+"",c=r.nan===void 0?"NaN":r.nan+"";function o(f){f=cg(f);var d=f.fill,h=f.align,m=f.sign,g=f.symbol,p=f.zero,y=f.width,v=f.comma,w=f.precision,C=f.trim,P=f.type;P==="n"?(v=!0,P="g"):zj[P]||(w===void 0&&(w=12),C=!0,P="g"),(p||d==="0"&&h==="=")&&(p=!0,d="0",h="=");var F=g==="$"?t:g==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",L=g==="$"?n:/[%p]/.test(P)?s:"",j=zj[P],I=/[defgprs%]/.test(P);w=w===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function z($){var B=F,T=L,R,N,_;if(P==="c")T=j($)+T,$="";else{$=+$;var E=$<0||1/$<0;if($=isNaN($)?c:j(Math.abs($),w),C&&($=ble($)),E&&+$==0&&m!=="+"&&(E=!1),B=(E?m==="("?m:l:m==="-"||m==="("?"":m)+B,T=(P==="s"?Wj[8+o$/3]:"")+T+(E&&m==="("?")":""),I){for(R=-1,N=$.length;++R<N;)if(_=$.charCodeAt(R),48>_||_>57){T=(_===46?i+$.slice(R+1):$.slice(R))+T,$=$.slice(0,R);break}}}v&&!p&&($=e($,1/0));var S=B.length+$.length+T.length,k=S<y?new Array(y-S+1).join(d):"";switch(v&&p&&($=e(k+$,k.length?y-T.length:1/0),k=""),h){case"<":$=B+$+T+k;break;case"=":$=B+k+$+T;break;case"^":$=k.slice(0,S=k.length>>1)+B+$+T+k.slice(S);break;default:$=k+B+$+T;break}return a($)}return z.toString=function(){return f+""},z}function u(f,d){var h=o((f=cg(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Rp(d)/3)))*3,g=Math.pow(10,-m),p=Wj[8+m/3];return function(y){return h(g*y)+p}}return{format:o,formatPrefix:u}}var uy,U4,l$;_le({thousands:",",grouping:[3],currency:["$",""]});function _le(r){return uy=xle(r),U4=uy.format,l$=uy.formatPrefix,uy}function Sle(r){return Math.max(0,-Rp(Math.abs(r)))}function Ele(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rp(e)/3)))*3-Rp(Math.abs(r)))}function Ale(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,Rp(e)-Rp(r))+1}function c$(r,e,t,n){var i=$8(r,e,t),a;switch(n=cg(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(r),Math.abs(e));return n.precision==null&&!isNaN(a=Ele(i,s))&&(n.precision=a),l$(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Ale(i,Math.max(Math.abs(r),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Sle(i))&&(n.precision=a-(n.type==="%")*2);break}}return U4(n)}function Bf(r){var e=r.domain;return r.ticks=function(t){var n=e();return F8(n[0],n[n.length-1],t??10)},r.tickFormat=function(t,n){var i=e();return c$(i[0],i[i.length-1],t??10,n)},r.nice=function(t){t==null&&(t=10);var n=e(),i=0,a=n.length-1,s=n[i],l=n[a],c,o,u=10;for(l<s&&(o=s,s=l,l=o,o=i,i=a,a=o);u-- >0;){if(o=B8(s,l,t),o===c)return n[i]=s,n[a]=l,e(n);if(o>0)s=Math.floor(s/o)*o,l=Math.ceil(l/o)*o;else if(o<0)s=Math.ceil(s*o)/o,l=Math.floor(l*o)/o;else break;c=o}return r},r}function Fv(){var r=B4();return r.copy=function(){return i1(r,Fv())},dl.apply(r,arguments),Bf(r)}function u$(r){var e;function t(n){return n==null||isNaN(n=+n)?e:n}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(r=Array.from(n,Dv),t):r.slice()},t.unknown=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return u$(r).unknown(e)},r=arguments.length?Array.from(r,Dv):[0,1],Bf(t)}function f$(r,e){r=r.slice();var t=0,n=r.length-1,i=r[t],a=r[n],s;return a<i&&(s=t,t=n,n=s,s=i,i=a,a=s),r[t]=e.floor(i),r[n]=e.ceil(a),r}function Gj(r){return Math.log(r)}function Kj(r){return Math.exp(r)}function Cle(r){return-Math.log(-r)}function kle(r){return-Math.exp(-r)}function Tle(r){return isFinite(r)?+("1e"+r):r<0?0:r}function Nle(r){return r===10?Tle:r===Math.E?Math.exp:e=>Math.pow(r,e)}function Ple(r){return r===Math.E?Math.log:r===10&&Math.log10||r===2&&Math.log2||(r=Math.log(r),e=>Math.log(e)/r)}function Xj(r){return(e,t)=>-r(-e,t)}function V4(r){const e=r(Gj,Kj),t=e.domain;let n=10,i,a;function s(){return i=Ple(n),a=Nle(n),t()[0]<0?(i=Xj(i),a=Xj(a),r(Cle,kle)):r(Gj,Kj),e}return e.base=function(l){return arguments.length?(n=+l,s()):n},e.domain=function(l){return arguments.length?(t(l),s()):t()},e.ticks=l=>{const c=t();let o=c[0],u=c[c.length-1];const f=u<o;f&&([o,u]=[u,o]);let d=i(o),h=i(u),m,g;const p=l==null?10:+l;let y=[];if(!(n%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(m=1;m<n;++m)if(g=d<0?m/a(-d):m*a(d),!(g<o)){if(g>u)break;y.push(g)}}else for(;d<=h;++d)for(m=n-1;m>=1;--m)if(g=d>0?m/a(-d):m*a(d),!(g<o)){if(g>u)break;y.push(g)}y.length*2<p&&(y=F8(o,u,p))}else y=F8(d,h,Math.min(h-d,p)).map(a);return f?y.reverse():y},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=cg(c)).precision==null&&(c.trim=!0),c=U4(c)),l===1/0)return c;const o=Math.max(1,n*l/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=o?c(u):""}},e.nice=()=>t(f$(t(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function d$(){const r=V4(xw()).domain([1,10]);return r.copy=()=>i1(r,d$()).base(r.base()),dl.apply(r,arguments),r}function Yj(r){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/r))}}function Qj(r){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*r}}function z4(r){var e=1,t=r(Yj(e),Qj(e));return t.constant=function(n){return arguments.length?r(Yj(e=+n),Qj(e)):e},Bf(t)}function h$(){var r=z4(xw());return r.copy=function(){return i1(r,h$()).constant(r.constant())},dl.apply(r,arguments)}function Zj(r){return function(e){return e<0?-Math.pow(-e,r):Math.pow(e,r)}}function jle(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function Ile(r){return r<0?-r*r:r*r}function q4(r){var e=r(Xs,Xs),t=1;function n(){return t===1?r(Xs,Xs):t===.5?r(jle,Ile):r(Zj(t),Zj(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,n()):t},Bf(e)}function H4(){var r=q4(xw());return r.copy=function(){return i1(r,H4()).exponent(r.exponent())},dl.apply(r,arguments),r}function Ole(){return H4.apply(null,arguments).exponent(.5)}function Jj(r){return Math.sign(r)*r*r}function Rle(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function p$(){var r=B4(),e=[0,1],t=!1,n;function i(a){var s=Rle(r(a));return isNaN(s)?n:t?Math.round(s):s}return i.invert=function(a){return r.invert(Jj(a))},i.domain=function(a){return arguments.length?(r.domain(a),i):r.domain()},i.range=function(a){return arguments.length?(r.range((e=Array.from(a,Dv)).map(Jj)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(t=!!a,i):t},i.clamp=function(a){return arguments.length?(r.clamp(a),i):r.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return p$(r.domain(),e).round(t).clamp(r.clamp()).unknown(n)},dl.apply(i,arguments),Bf(i)}function m$(){var r=[],e=[],t=[],n;function i(){var s=0,l=Math.max(1,e.length);for(t=new Array(l-1);++s<l;)t[s-1]=Boe(r,s/l);return a}function a(s){return s==null||isNaN(s=+s)?n:e[r1(t,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?t[l-1]:r[0],l<t.length?t[l]:r[r.length-1]]},a.domain=function(s){if(!arguments.length)return r.slice();r=[];for(let l of s)l!=null&&!isNaN(l=+l)&&r.push(l);return r.sort(bf),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return t.slice()},a.copy=function(){return m$().domain(r).range(e).unknown(n)},dl.apply(a,arguments)}function g$(){var r=0,e=1,t=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[r1(n,c,0,t)]:a}function l(){var c=-1;for(n=new Array(t);++c<t;)n[c]=((c+1)*e-(c-t)*r)/(t+1);return s}return s.domain=function(c){return arguments.length?([r,e]=c,r=+r,e=+e,l()):[r,e]},s.range=function(c){return arguments.length?(t=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var o=i.indexOf(c);return o<0?[NaN,NaN]:o<1?[r,n[0]]:o>=t?[n[t-1],e]:[n[o-1],n[o]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return g$().domain([r,e]).range(i).unknown(a)},dl.apply(Bf(s),arguments)}function y$(){var r=[.5],e=[0,1],t,n=1;function i(a){return a!=null&&a<=a?e[r1(r,a,0,n)]:t}return i.domain=function(a){return arguments.length?(r=Array.from(a),n=Math.min(r.length,e.length-1),i):r.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(r.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[r[s-1],r[s]]},i.unknown=function(a){return arguments.length?(t=a,i):t},i.copy=function(){return y$().domain(r).range(e).unknown(t)},dl.apply(i,arguments)}const yS=new Date,vS=new Date;function Ba(r,e,t,n){function i(a){return r(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(r(a=new Date(+a)),a),i.ceil=a=>(r(a=new Date(a-1)),e(a,1),r(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let o;do c.push(o=new Date(+a)),e(a,l),r(a);while(o<a&&a<s);return c},i.filter=a=>Ba(s=>{if(s>=s)for(;r(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),t&&(i.count=(a,s)=>(yS.setTime(+a),vS.setTime(+s),r(yS),r(vS),Math.floor(t(yS,vS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Bv=Ba(()=>{},(r,e)=>{r.setTime(+r+e)},(r,e)=>e-r);Bv.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?Ba(e=>{e.setTime(Math.floor(e/r)*r)},(e,t)=>{e.setTime(+e+t*r)},(e,t)=>(t-e)/r):Bv);Bv.range;const tu=1e3,il=tu*60,ru=il*60,yu=ru*24,W4=yu*7,eI=yu*30,bS=yu*365,Cd=Ba(r=>{r.setTime(r-r.getMilliseconds())},(r,e)=>{r.setTime(+r+e*tu)},(r,e)=>(e-r)/tu,r=>r.getUTCSeconds());Cd.range;const G4=Ba(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*tu)},(r,e)=>{r.setTime(+r+e*il)},(r,e)=>(e-r)/il,r=>r.getMinutes());G4.range;const K4=Ba(r=>{r.setUTCSeconds(0,0)},(r,e)=>{r.setTime(+r+e*il)},(r,e)=>(e-r)/il,r=>r.getUTCMinutes());K4.range;const X4=Ba(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*tu-r.getMinutes()*il)},(r,e)=>{r.setTime(+r+e*ru)},(r,e)=>(e-r)/ru,r=>r.getHours());X4.range;const Y4=Ba(r=>{r.setUTCMinutes(0,0,0)},(r,e)=>{r.setTime(+r+e*ru)},(r,e)=>(e-r)/ru,r=>r.getUTCHours());Y4.range;const a1=Ba(r=>r.setHours(0,0,0,0),(r,e)=>r.setDate(r.getDate()+e),(r,e)=>(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*il)/yu,r=>r.getDate()-1);a1.range;const _w=Ba(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/yu,r=>r.getUTCDate()-1);_w.range;const v$=Ba(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/yu,r=>Math.floor(r/yu));v$.range;function lh(r){return Ba(e=>{e.setDate(e.getDate()-(e.getDay()+7-r)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*il)/W4)}const Sw=lh(0),$v=lh(1),Mle=lh(2),Dle=lh(3),Mp=lh(4),Lle=lh(5),Fle=lh(6);Sw.range;$v.range;Mle.range;Dle.range;Mp.range;Lle.range;Fle.range;function ch(r){return Ba(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-r)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/W4)}const Ew=ch(0),Uv=ch(1),Ble=ch(2),$le=ch(3),Dp=ch(4),Ule=ch(5),Vle=ch(6);Ew.range;Uv.range;Ble.range;$le.range;Dp.range;Ule.range;Vle.range;const Q4=Ba(r=>{r.setDate(1),r.setHours(0,0,0,0)},(r,e)=>{r.setMonth(r.getMonth()+e)},(r,e)=>e.getMonth()-r.getMonth()+(e.getFullYear()-r.getFullYear())*12,r=>r.getMonth());Q4.range;const Z4=Ba(r=>{r.setUTCDate(1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCMonth(r.getUTCMonth()+e)},(r,e)=>e.getUTCMonth()-r.getUTCMonth()+(e.getUTCFullYear()-r.getUTCFullYear())*12,r=>r.getUTCMonth());Z4.range;const vu=Ba(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,e)=>{r.setFullYear(r.getFullYear()+e)},(r,e)=>e.getFullYear()-r.getFullYear(),r=>r.getFullYear());vu.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:Ba(e=>{e.setFullYear(Math.floor(e.getFullYear()/r)*r),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*r)});vu.range;const bu=Ba(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCFullYear(r.getUTCFullYear()+e)},(r,e)=>e.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());bu.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:Ba(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/r)*r),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*r)});bu.range;function b$(r,e,t,n,i,a){const s=[[Cd,1,tu],[Cd,5,5*tu],[Cd,15,15*tu],[Cd,30,30*tu],[a,1,il],[a,5,5*il],[a,15,15*il],[a,30,30*il],[i,1,ru],[i,3,3*ru],[i,6,6*ru],[i,12,12*ru],[n,1,yu],[n,2,2*yu],[t,1,W4],[e,1,eI],[e,3,3*eI],[r,1,bS]];function l(o,u,f){const d=u<o;d&&([o,u]=[u,o]);const h=f&&typeof f.range=="function"?f:c(o,u,f),m=h?h.range(o,+u+1):[];return d?m.reverse():m}function c(o,u,f){const d=Math.abs(u-o)/f,h=R4(([,,p])=>p).right(s,d);if(h===s.length)return r.every($8(o/bS,u/bS,f));if(h===0)return Bv.every(Math.max($8(o,u,f),1));const[m,g]=s[d/s[h-1][2]<s[h][2]/d?h-1:h];return m.every(g)}return[l,c]}const[zle,qle]=b$(bu,Z4,Ew,v$,Y4,K4),[Hle,Wle]=b$(vu,Q4,Sw,a1,X4,G4);function wS(r){if(0<=r.y&&r.y<100){var e=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return e.setFullYear(r.y),e}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function xS(r){if(0<=r.y&&r.y<100){var e=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return e.setUTCFullYear(r.y),e}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function e0(r,e,t){return{y:r,m:e,d:t,H:0,M:0,S:0,L:0}}function Gle(r){var e=r.dateTime,t=r.date,n=r.time,i=r.periods,a=r.days,s=r.shortDays,l=r.months,c=r.shortMonths,o=t0(i),u=r0(i),f=t0(a),d=r0(a),h=t0(s),m=r0(s),g=t0(l),p=r0(l),y=t0(c),v=r0(c),w={a:E,A:S,b:k,B:M,c:null,d:sI,e:sI,f:gce,g:Cce,G:Tce,H:hce,I:pce,j:mce,L:w$,m:yce,M:vce,p:V,q:O,Q:cI,s:uI,S:bce,u:wce,U:xce,V:_ce,w:Sce,W:Ece,x:null,X:null,y:Ace,Y:kce,Z:Nce,"%":lI},C={a:X,A:Q,b:re,B:G,c:null,d:oI,e:oI,f:Oce,g:zce,G:Hce,H:Pce,I:jce,j:Ice,L:_$,m:Rce,M:Mce,p:J,q,Q:cI,s:uI,S:Dce,u:Lce,U:Fce,V:Bce,w:$ce,W:Uce,x:null,X:null,y:Vce,Y:qce,Z:Wce,"%":lI},P={a:z,A:$,b:B,B:T,c:R,d:iI,e:iI,f:cce,g:nI,G:rI,H:aI,I:aI,j:ace,L:lce,m:ice,M:sce,p:I,q:nce,Q:fce,s:dce,S:oce,u:Zle,U:Jle,V:ece,w:Qle,W:tce,x:N,X:_,y:nI,Y:rI,Z:rce,"%":uce};w.x=F(t,w),w.X=F(n,w),w.c=F(e,w),C.x=F(t,C),C.X=F(n,C),C.c=F(e,C);function F(U,Z){return function(ie){var le=[],de=-1,fe=0,ue=U.length,Ae,he,xe;for(ie instanceof Date||(ie=new Date(+ie));++de<ue;)U.charCodeAt(de)===37&&(le.push(U.slice(fe,de)),(he=tI[Ae=U.charAt(++de)])!=null?Ae=U.charAt(++de):he=Ae==="e"?" ":"0",(xe=Z[Ae])&&(Ae=xe(ie,he)),le.push(Ae),fe=de+1);return le.push(U.slice(fe,de)),le.join("")}}function L(U,Z){return function(ie){var le=e0(1900,void 0,1),de=j(le,U,ie+="",0),fe,ue;if(de!=ie.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(Z&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(fe=xS(e0(le.y,0,1)),ue=fe.getUTCDay(),fe=ue>4||ue===0?Uv.ceil(fe):Uv(fe),fe=_w.offset(fe,(le.V-1)*7),le.y=fe.getUTCFullYear(),le.m=fe.getUTCMonth(),le.d=fe.getUTCDate()+(le.w+6)%7):(fe=wS(e0(le.y,0,1)),ue=fe.getDay(),fe=ue>4||ue===0?$v.ceil(fe):$v(fe),fe=a1.offset(fe,(le.V-1)*7),le.y=fe.getFullYear(),le.m=fe.getMonth(),le.d=fe.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),ue="Z"in le?xS(e0(le.y,0,1)).getUTCDay():wS(e0(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(ue+5)%7:le.w+le.U*7-(ue+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,xS(le)):wS(le)}}function j(U,Z,ie,le){for(var de=0,fe=Z.length,ue=ie.length,Ae,he;de<fe;){if(le>=ue)return-1;if(Ae=Z.charCodeAt(de++),Ae===37){if(Ae=Z.charAt(de++),he=P[Ae in tI?Z.charAt(de++):Ae],!he||(le=he(U,ie,le))<0)return-1}else if(Ae!=ie.charCodeAt(le++))return-1}return le}function I(U,Z,ie){var le=o.exec(Z.slice(ie));return le?(U.p=u.get(le[0].toLowerCase()),ie+le[0].length):-1}function z(U,Z,ie){var le=h.exec(Z.slice(ie));return le?(U.w=m.get(le[0].toLowerCase()),ie+le[0].length):-1}function $(U,Z,ie){var le=f.exec(Z.slice(ie));return le?(U.w=d.get(le[0].toLowerCase()),ie+le[0].length):-1}function B(U,Z,ie){var le=y.exec(Z.slice(ie));return le?(U.m=v.get(le[0].toLowerCase()),ie+le[0].length):-1}function T(U,Z,ie){var le=g.exec(Z.slice(ie));return le?(U.m=p.get(le[0].toLowerCase()),ie+le[0].length):-1}function R(U,Z,ie){return j(U,e,Z,ie)}function N(U,Z,ie){return j(U,t,Z,ie)}function _(U,Z,ie){return j(U,n,Z,ie)}function E(U){return s[U.getDay()]}function S(U){return a[U.getDay()]}function k(U){return c[U.getMonth()]}function M(U){return l[U.getMonth()]}function V(U){return i[+(U.getHours()>=12)]}function O(U){return 1+~~(U.getMonth()/3)}function X(U){return s[U.getUTCDay()]}function Q(U){return a[U.getUTCDay()]}function re(U){return c[U.getUTCMonth()]}function G(U){return l[U.getUTCMonth()]}function J(U){return i[+(U.getUTCHours()>=12)]}function q(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var Z=F(U+="",w);return Z.toString=function(){return U},Z},parse:function(U){var Z=L(U+="",!1);return Z.toString=function(){return U},Z},utcFormat:function(U){var Z=F(U+="",C);return Z.toString=function(){return U},Z},utcParse:function(U){var Z=L(U+="",!0);return Z.toString=function(){return U},Z}}}var tI={"-":"",_:" ",0:"0"},ts=/^\s*\d+/,Kle=/^%/,Xle=/[\\^$*+?|[\]().{}]/g;function In(r,e,t){var n=r<0?"-":"",i=(n?-r:r)+"",a=i.length;return n+(a<t?new Array(t-a+1).join(e)+i:i)}function Yle(r){return r.replace(Xle,"\\$&")}function t0(r){return new RegExp("^(?:"+r.map(Yle).join("|")+")","i")}function r0(r){return new Map(r.map((e,t)=>[e.toLowerCase(),t]))}function Qle(r,e,t){var n=ts.exec(e.slice(t,t+1));return n?(r.w=+n[0],t+n[0].length):-1}function Zle(r,e,t){var n=ts.exec(e.slice(t,t+1));return n?(r.u=+n[0],t+n[0].length):-1}function Jle(r,e,t){var n=ts.exec(e.slice(t,t+2));return n?(r.U=+n[0],t+n[0].length):-1}function ece(r,e,t){var n=ts.exec(e.slice(t,t+2));return n?(r.V=+n[0],t+n[0].length):-1}function tce(r,e,t){var n=ts.exec(e.slice(t,t+2));return n?(r.W=+n[0],t+n[0].length):-1}function rI(r,e,t){var n=ts.exec(e.slice(t,t+4));return n?(r.y=+n[0],t+n[0].length):-1}function nI(r,e,t){var n=ts.exec(e.slice(t,t+2));return n?(r.y=+n[0]+(+n[0]>68?1900:2e3),t+n[0].length):-1}function rce(r,e,t){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return n?(r.Z=n[1]?0:-(n[2]+(n[3]||"00")),t+n[0].length):-1}function nce(r,e,t){var n=ts.exec(e.slice(t,t+1));return n?(r.q=n[0]*3-3,t+n[0].length):-1}function ice(r,e,t){var n=ts.exec(e.slice(t,t+2));return n?(r.m=n[0]-1,t+n[0].length):-1}function iI(r,e,t){var n=ts.exec(e.slice(t,t+2));return n?(r.d=+n[0],t+n[0].length):-1}function ace(r,e,t){var n=ts.exec(e.slice(t,t+3));return n?(r.m=0,r.d=+n[0],t+n[0].length):-1}function aI(r,e,t){var n=ts.exec(e.slice(t,t+2));return n?(r.H=+n[0],t+n[0].length):-1}function sce(r,e,t){var n=ts.exec(e.slice(t,t+2));return n?(r.M=+n[0],t+n[0].length):-1}function oce(r,e,t){var n=ts.exec(e.slice(t,t+2));return n?(r.S=+n[0],t+n[0].length):-1}function lce(r,e,t){var n=ts.exec(e.slice(t,t+3));return n?(r.L=+n[0],t+n[0].length):-1}function cce(r,e,t){var n=ts.exec(e.slice(t,t+6));return n?(r.L=Math.floor(n[0]/1e3),t+n[0].length):-1}function uce(r,e,t){var n=Kle.exec(e.slice(t,t+1));return n?t+n[0].length:-1}function fce(r,e,t){var n=ts.exec(e.slice(t));return n?(r.Q=+n[0],t+n[0].length):-1}function dce(r,e,t){var n=ts.exec(e.slice(t));return n?(r.s=+n[0],t+n[0].length):-1}function sI(r,e){return In(r.getDate(),e,2)}function hce(r,e){return In(r.getHours(),e,2)}function pce(r,e){return In(r.getHours()%12||12,e,2)}function mce(r,e){return In(1+a1.count(vu(r),r),e,3)}function w$(r,e){return In(r.getMilliseconds(),e,3)}function gce(r,e){return w$(r,e)+"000"}function yce(r,e){return In(r.getMonth()+1,e,2)}function vce(r,e){return In(r.getMinutes(),e,2)}function bce(r,e){return In(r.getSeconds(),e,2)}function wce(r){var e=r.getDay();return e===0?7:e}function xce(r,e){return In(Sw.count(vu(r)-1,r),e,2)}function x$(r){var e=r.getDay();return e>=4||e===0?Mp(r):Mp.ceil(r)}function _ce(r,e){return r=x$(r),In(Mp.count(vu(r),r)+(vu(r).getDay()===4),e,2)}function Sce(r){return r.getDay()}function Ece(r,e){return In($v.count(vu(r)-1,r),e,2)}function Ace(r,e){return In(r.getFullYear()%100,e,2)}function Cce(r,e){return r=x$(r),In(r.getFullYear()%100,e,2)}function kce(r,e){return In(r.getFullYear()%1e4,e,4)}function Tce(r,e){var t=r.getDay();return r=t>=4||t===0?Mp(r):Mp.ceil(r),In(r.getFullYear()%1e4,e,4)}function Nce(r){var e=r.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+In(e/60|0,"0",2)+In(e%60,"0",2)}function oI(r,e){return In(r.getUTCDate(),e,2)}function Pce(r,e){return In(r.getUTCHours(),e,2)}function jce(r,e){return In(r.getUTCHours()%12||12,e,2)}function Ice(r,e){return In(1+_w.count(bu(r),r),e,3)}function _$(r,e){return In(r.getUTCMilliseconds(),e,3)}function Oce(r,e){return _$(r,e)+"000"}function Rce(r,e){return In(r.getUTCMonth()+1,e,2)}function Mce(r,e){return In(r.getUTCMinutes(),e,2)}function Dce(r,e){return In(r.getUTCSeconds(),e,2)}function Lce(r){var e=r.getUTCDay();return e===0?7:e}function Fce(r,e){return In(Ew.count(bu(r)-1,r),e,2)}function S$(r){var e=r.getUTCDay();return e>=4||e===0?Dp(r):Dp.ceil(r)}function Bce(r,e){return r=S$(r),In(Dp.count(bu(r),r)+(bu(r).getUTCDay()===4),e,2)}function $ce(r){return r.getUTCDay()}function Uce(r,e){return In(Uv.count(bu(r)-1,r),e,2)}function Vce(r,e){return In(r.getUTCFullYear()%100,e,2)}function zce(r,e){return r=S$(r),In(r.getUTCFullYear()%100,e,2)}function qce(r,e){return In(r.getUTCFullYear()%1e4,e,4)}function Hce(r,e){var t=r.getUTCDay();return r=t>=4||t===0?Dp(r):Dp.ceil(r),In(r.getUTCFullYear()%1e4,e,4)}function Wce(){return"+0000"}function lI(){return"%"}function cI(r){return+r}function uI(r){return Math.floor(+r/1e3)}var Vh,E$,A$;Gce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Gce(r){return Vh=Gle(r),E$=Vh.format,Vh.parse,A$=Vh.utcFormat,Vh.utcParse,Vh}function Kce(r){return new Date(r)}function Xce(r){return r instanceof Date?+r:+new Date(+r)}function J4(r,e,t,n,i,a,s,l,c,o){var u=B4(),f=u.invert,d=u.domain,h=o(".%L"),m=o(":%S"),g=o("%I:%M"),p=o("%I %p"),y=o("%a %d"),v=o("%b %d"),w=o("%B"),C=o("%Y");function P(F){return(c(F)<F?h:l(F)<F?m:s(F)<F?g:a(F)<F?p:n(F)<F?i(F)<F?y:v:t(F)<F?w:C)(F)}return u.invert=function(F){return new Date(f(F))},u.domain=function(F){return arguments.length?d(Array.from(F,Xce)):d().map(Kce)},u.ticks=function(F){var L=d();return r(L[0],L[L.length-1],F??10)},u.tickFormat=function(F,L){return L==null?P:o(L)},u.nice=function(F){var L=d();return(!F||typeof F.range!="function")&&(F=e(L[0],L[L.length-1],F??10)),F?d(f$(L,F)):u},u.copy=function(){return i1(u,J4(r,e,t,n,i,a,s,l,c,o))},u}function Yce(){return dl.apply(J4(Hle,Wle,vu,Q4,Sw,a1,X4,G4,Cd,E$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Qce(){return dl.apply(J4(zle,qle,bu,Z4,Ew,_w,Y4,K4,Cd,A$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Aw(){var r=0,e=1,t,n,i,a,s=Xs,l=!1,c;function o(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-t)*i,l?Math.max(0,Math.min(1,f)):f))}o.domain=function(f){return arguments.length?([r,e]=f,t=a(r=+r),n=a(e=+e),i=t===n?0:1/(n-t),o):[r,e]},o.clamp=function(f){return arguments.length?(l=!!f,o):l},o.interpolator=function(f){return arguments.length?(s=f,o):s};function u(f){return function(d){var h,m;return arguments.length?([h,m]=d,s=f(h,m),o):[s(0),s(1)]}}return o.range=u(mm),o.rangeRound=u(F4),o.unknown=function(f){return arguments.length?(c=f,o):c},function(f){return a=f,t=f(r),n=f(e),i=t===n?0:1/(n-t),o}}function $f(r,e){return e.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function C$(){var r=Bf(Aw()(Xs));return r.copy=function(){return $f(r,C$())},Nu.apply(r,arguments)}function k$(){var r=V4(Aw()).domain([1,10]);return r.copy=function(){return $f(r,k$()).base(r.base())},Nu.apply(r,arguments)}function T$(){var r=z4(Aw());return r.copy=function(){return $f(r,T$()).constant(r.constant())},Nu.apply(r,arguments)}function eC(){var r=q4(Aw());return r.copy=function(){return $f(r,eC()).exponent(r.exponent())},Nu.apply(r,arguments)}function Zce(){return eC.apply(null,arguments).exponent(.5)}function N$(){var r=[],e=Xs;function t(n){if(n!=null&&!isNaN(n=+n))return e((r1(r,n,1)-1)/(r.length-1))}return t.domain=function(n){if(!arguments.length)return r.slice();r=[];for(let i of n)i!=null&&!isNaN(i=+i)&&r.push(i);return r.sort(bf),t},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.range=function(){return r.map((n,i)=>e(i/(r.length-1)))},t.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Foe(r,a/n))},t.copy=function(){return N$(e).domain(r)},Nu.apply(t,arguments)}function Cw(){var r=0,e=.5,t=1,n=1,i,a,s,l,c,o=Xs,u,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+u(g))-a)*(n*g<n*a?l:c),o(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([r,e,t]=g,i=u(r=+r),a=u(e=+e),s=u(t=+t),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,h):[r,e,t]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(o=g,h):o};function m(g){return function(p){var y,v,w;return arguments.length?([y,v,w]=p,o=ule(g,[y,v,w]),h):[o(0),o(.5),o(1)]}}return h.range=m(mm),h.rangeRound=m(F4),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return u=g,i=g(r),a=g(e),s=g(t),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,h}}function P$(){var r=Bf(Cw()(Xs));return r.copy=function(){return $f(r,P$())},Nu.apply(r,arguments)}function j$(){var r=V4(Cw()).domain([.1,1,10]);return r.copy=function(){return $f(r,j$()).base(r.base())},Nu.apply(r,arguments)}function I$(){var r=z4(Cw());return r.copy=function(){return $f(r,I$()).constant(r.constant())},Nu.apply(r,arguments)}function tC(){var r=q4(Cw());return r.copy=function(){return $f(r,tC()).exponent(r.exponent())},Nu.apply(r,arguments)}function Jce(){return tC.apply(null,arguments).exponent(.5)}const fI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ag,scaleDiverging:P$,scaleDivergingLog:j$,scaleDivergingPow:tC,scaleDivergingSqrt:Jce,scaleDivergingSymlog:I$,scaleIdentity:u$,scaleImplicit:U8,scaleLinear:Fv,scaleLog:d$,scaleOrdinal:M4,scalePoint:C0,scalePow:H4,scaleQuantile:m$,scaleQuantize:g$,scaleRadial:p$,scaleSequential:C$,scaleSequentialLog:k$,scaleSequentialPow:eC,scaleSequentialQuantile:N$,scaleSequentialSqrt:Zce,scaleSequentialSymlog:T$,scaleSqrt:Ole,scaleSymlog:h$,scaleThreshold:y$,scaleTime:Yce,scaleUtc:Qce,tickFormat:c$},Symbol.toStringTag,{value:"Module"}));var _S,dI;function kw(){if(dI)return _S;dI=1;var r=fm();function e(t,n,i){for(var a=-1,s=t.length;++a<s;){var l=t[a],c=n(l);if(c!=null&&(o===void 0?c===c&&!r(c):i(c,o)))var o=c,u=l}return u}return _S=e,_S}var SS,hI;function O$(){if(hI)return SS;hI=1;function r(e,t){return e>t}return SS=r,SS}var ES,pI;function eue(){if(pI)return ES;pI=1;var r=kw(),e=O$(),t=pm();function n(i){return i&&i.length?r(i,t,e):void 0}return ES=n,ES}var tue=eue();const Tw=Rn(tue);var AS,mI;function R$(){if(mI)return AS;mI=1;function r(e,t){return e<t}return AS=r,AS}var CS,gI;function rue(){if(gI)return CS;gI=1;var r=kw(),e=R$(),t=pm();function n(i){return i&&i.length?r(i,t,e):void 0}return CS=n,CS}var nue=rue();const Nw=Rn(nue);var kS,yI;function iue(){if(yI)return kS;yI=1;var r=y4(),e=Cc(),t=VB(),n=ho();function i(a,s){var l=n(a)?r:t;return l(a,e(s,3))}return kS=i,kS}var TS,vI;function aue(){if(vI)return TS;vI=1;var r=$B(),e=iue();function t(n,i){return r(e(n,i),1)}return TS=t,TS}var sue=aue();const oue=Rn(sue);var NS,bI;function lue(){if(bI)return NS;bI=1;var r=P4();function e(t,n){return r(t,n)}return NS=e,NS}var cue=lue();const s1=Rn(cue);var gm=1e9,uue={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nC,Ii=!0,ll="[DecimalError] ",Pd=ll+"Invalid argument: ",rC=ll+"Exponent out of range: ",ym=Math.floor,md=Math.pow,fue=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Oo,Za=1e7,wi=7,M$=9007199254740991,Vv=ym(M$/wi),cr={};cr.absoluteValue=cr.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};cr.comparedTo=cr.cmp=function(r){var e,t,n,i,a=this;if(r=new a.constructor(r),a.s!==r.s)return a.s||-r.s;if(a.e!==r.e)return a.e>r.e^a.s<0?1:-1;for(n=a.d.length,i=r.d.length,e=0,t=n<i?n:i;e<t;++e)if(a.d[e]!==r.d[e])return a.d[e]>r.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};cr.decimalPlaces=cr.dp=function(){var r=this,e=r.d.length-1,t=(e-r.e)*wi;if(e=r.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};cr.dividedBy=cr.div=function(r){return uu(this,new this.constructor(r))};cr.dividedToIntegerBy=cr.idiv=function(r){var e=this,t=e.constructor;return si(uu(e,new t(r),0,1),t.precision)};cr.equals=cr.eq=function(r){return!this.cmp(r)};cr.exponent=function(){return Ea(this)};cr.greaterThan=cr.gt=function(r){return this.cmp(r)>0};cr.greaterThanOrEqualTo=cr.gte=function(r){return this.cmp(r)>=0};cr.isInteger=cr.isint=function(){return this.e>this.d.length-2};cr.isNegative=cr.isneg=function(){return this.s<0};cr.isPositive=cr.ispos=function(){return this.s>0};cr.isZero=function(){return this.s===0};cr.lessThan=cr.lt=function(r){return this.cmp(r)<0};cr.lessThanOrEqualTo=cr.lte=function(r){return this.cmp(r)<1};cr.logarithm=cr.log=function(r){var e,t=this,n=t.constructor,i=n.precision,a=i+5;if(r===void 0)r=new n(10);else if(r=new n(r),r.s<1||r.eq(Oo))throw Error(ll+"NaN");if(t.s<1)throw Error(ll+(t.s?"NaN":"-Infinity"));return t.eq(Oo)?new n(0):(Ii=!1,e=uu(ug(t,a),ug(r,a),a),Ii=!0,si(e,i))};cr.minus=cr.sub=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?F$(e,r):D$(e,(r.s=-r.s,r))};cr.modulo=cr.mod=function(r){var e,t=this,n=t.constructor,i=n.precision;if(r=new n(r),!r.s)throw Error(ll+"NaN");return t.s?(Ii=!1,e=uu(t,r,0,1).times(r),Ii=!0,t.minus(e)):si(new n(t),i)};cr.naturalExponential=cr.exp=function(){return L$(this)};cr.naturalLogarithm=cr.ln=function(){return ug(this)};cr.negated=cr.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};cr.plus=cr.add=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?D$(e,r):F$(e,(r.s=-r.s,r))};cr.precision=cr.sd=function(r){var e,t,n,i=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(Pd+r);if(e=Ea(i)+1,n=i.d.length-1,t=n*wi+1,n=i.d[n],n){for(;n%10==0;n/=10)t--;for(n=i.d[0];n>=10;n/=10)t++}return r&&e>t?e:t};cr.squareRoot=cr.sqrt=function(){var r,e,t,n,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ll+"NaN")}for(r=Ea(l),Ii=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=lc(l.d),(e.length+r)%2==0&&(e+="0"),i=Math.sqrt(e),r=ym((r+1)/2)-(r<0||r%2),i==1/0?e="5e"+r:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),n=new c(e)):n=new c(i.toString()),t=c.precision,i=s=t+3;;)if(a=n,n=a.plus(uu(l,a,s+2)).times(.5),lc(a.d).slice(0,s)===(e=lc(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(si(a,t+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;s+=4}return Ii=!0,si(n,t)};cr.times=cr.mul=function(r){var e,t,n,i,a,s,l,c,o,u=this,f=u.constructor,d=u.d,h=(r=new f(r)).d;if(!u.s||!r.s)return new f(0);for(r.s*=u.s,t=u.e+r.e,c=d.length,o=h.length,c<o&&(a=d,d=h,h=a,s=c,c=o,o=s),a=[],s=c+o,n=s;n--;)a.push(0);for(n=o;--n>=0;){for(e=0,i=c+n;i>n;)l=a[i]+h[n]*d[i-n-1]+e,a[i--]=l%Za|0,e=l/Za|0;a[i]=(a[i]+e)%Za|0}for(;!a[--s];)a.pop();return e?++t:a.shift(),r.d=a,r.e=t,Ii?si(r,f.precision):r};cr.toDecimalPlaces=cr.todp=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(_c(r,0,gm),e===void 0?e=n.rounding:_c(e,0,8),si(t,r+Ea(t)+1,e))};cr.toExponential=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=qd(n,!0):(_c(r,0,gm),e===void 0?e=i.rounding:_c(e,0,8),n=si(new i(n),r+1,e),t=qd(n,!0,r+1)),t};cr.toFixed=function(r,e){var t,n,i=this,a=i.constructor;return r===void 0?qd(i):(_c(r,0,gm),e===void 0?e=a.rounding:_c(e,0,8),n=si(new a(i),r+Ea(i)+1,e),t=qd(n.abs(),!1,r+Ea(n)+1),i.isneg()&&!i.isZero()?"-"+t:t)};cr.toInteger=cr.toint=function(){var r=this,e=r.constructor;return si(new e(r),Ea(r)+1,e.rounding)};cr.toNumber=function(){return+this};cr.toPower=cr.pow=function(r){var e,t,n,i,a,s,l=this,c=l.constructor,o=12,u=+(r=new c(r));if(!r.s)return new c(Oo);if(l=new c(l),!l.s){if(r.s<1)throw Error(ll+"Infinity");return l}if(l.eq(Oo))return l;if(n=c.precision,r.eq(Oo))return si(l,n);if(e=r.e,t=r.d.length-1,s=e>=t,a=l.s,s){if((t=u<0?-u:u)<=M$){for(i=new c(Oo),e=Math.ceil(n/wi+4),Ii=!1;t%2&&(i=i.times(l),xI(i.d,e)),t=ym(t/2),t!==0;)l=l.times(l),xI(l.d,e);return Ii=!0,r.s<0?new c(Oo).div(i):si(i,n)}}else if(a<0)throw Error(ll+"NaN");return a=a<0&&r.d[Math.max(e,t)]&1?-1:1,l.s=1,Ii=!1,i=r.times(ug(l,n+o)),Ii=!0,i=L$(i),i.s=a,i};cr.toPrecision=function(r,e){var t,n,i=this,a=i.constructor;return r===void 0?(t=Ea(i),n=qd(i,t<=a.toExpNeg||t>=a.toExpPos)):(_c(r,1,gm),e===void 0?e=a.rounding:_c(e,0,8),i=si(new a(i),r,e),t=Ea(i),n=qd(i,r<=t||t<=a.toExpNeg,r)),n};cr.toSignificantDigits=cr.tosd=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(_c(r,1,gm),e===void 0?e=n.rounding:_c(e,0,8)),si(new n(t),r,e)};cr.toString=cr.valueOf=cr.val=cr.toJSON=cr[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,e=Ea(r),t=r.constructor;return qd(r,e<=t.toExpNeg||e>=t.toExpPos)};function D$(r,e){var t,n,i,a,s,l,c,o,u=r.constructor,f=u.precision;if(!r.s||!e.s)return e.s||(e=new u(r)),Ii?si(e,f):e;if(c=r.d,o=e.d,s=r.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,l=o.length):(n=o,i=s,l=c.length),s=Math.ceil(f/wi),l=s>l?s+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=o.length,l-a<0&&(a=l,n=o,o=c,c=n),t=0;a;)t=(c[--a]=c[a]+o[a]+t)/Za|0,c[a]%=Za;for(t&&(c.unshift(t),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Ii?si(e,f):e}function _c(r,e,t){if(r!==~~r||r<e||r>t)throw Error(Pd+r)}function lc(r){var e,t,n,i=r.length-1,a="",s=r[0];if(i>0){for(a+=s,e=1;e<i;e++)n=r[e]+"",t=wi-n.length,t&&(a+=af(t)),a+=n;s=r[e],n=s+"",t=wi-n.length,t&&(a+=af(t))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var uu=(function(){function r(n,i){var a,s=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+s,n[l]=a%Za|0,s=a/Za|0;return s&&n.unshift(s),n}function e(n,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function t(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Za+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var l,c,o,u,f,d,h,m,g,p,y,v,w,C,P,F,L,j,I=n.constructor,z=n.s==i.s?1:-1,$=n.d,B=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(ll+"Division by zero");for(c=n.e-i.e,L=B.length,P=$.length,h=new I(z),m=h.d=[],o=0;B[o]==($[o]||0);)++o;if(B[o]>($[o]||0)&&--c,a==null?v=a=I.precision:s?v=a+(Ea(n)-Ea(i))+1:v=a,v<0)return new I(0);if(v=v/wi+2|0,o=0,L==1)for(u=0,B=B[0],v++;(o<P||u)&&v--;o++)w=u*Za+($[o]||0),m[o]=w/B|0,u=w%B|0;else{for(u=Za/(B[0]+1)|0,u>1&&(B=r(B,u),$=r($,u),L=B.length,P=$.length),C=L,g=$.slice(0,L),p=g.length;p<L;)g[p++]=0;j=B.slice(),j.unshift(0),F=B[0],B[1]>=Za/2&&++F;do u=0,l=e(B,g,L,p),l<0?(y=g[0],L!=p&&(y=y*Za+(g[1]||0)),u=y/F|0,u>1?(u>=Za&&(u=Za-1),f=r(B,u),d=f.length,p=g.length,l=e(f,g,d,p),l==1&&(u--,t(f,L<d?j:B,d))):(u==0&&(l=u=1),f=B.slice()),d=f.length,d<p&&f.unshift(0),t(g,f,p),l==-1&&(p=g.length,l=e(B,g,L,p),l<1&&(u++,t(g,L<p?j:B,p))),p=g.length):l===0&&(u++,g=[0]),m[o++]=u,l&&g[0]?g[p++]=$[C]||0:(g=[$[C]],p=1);while((C++<P||g[0]!==void 0)&&v--)}return m[0]||m.shift(),h.e=c,si(h,s?a+Ea(h)+1:a)}})();function L$(r,e){var t,n,i,a,s,l,c=0,o=0,u=r.constructor,f=u.precision;if(Ea(r)>16)throw Error(rC+Ea(r));if(!r.s)return new u(Oo);for(Ii=!1,l=f,s=new u(.03125);r.abs().gte(.1);)r=r.times(s),o+=5;for(n=Math.log(md(2,o))/Math.LN10*2+5|0,l+=n,t=i=a=new u(Oo),u.precision=l;;){if(i=si(i.times(r),l),t=t.times(++c),s=a.plus(uu(i,t,l)),lc(s.d).slice(0,l)===lc(a.d).slice(0,l)){for(;o--;)a=si(a.times(a),l);return u.precision=f,e==null?(Ii=!0,si(a,f)):a}a=s}}function Ea(r){for(var e=r.e*wi,t=r.d[0];t>=10;t/=10)e++;return e}function PS(r,e,t){if(e>r.LN10.sd())throw Ii=!0,t&&(r.precision=t),Error(ll+"LN10 precision limit exceeded");return si(new r(r.LN10),e)}function af(r){for(var e="";r--;)e+="0";return e}function ug(r,e){var t,n,i,a,s,l,c,o,u,f=1,d=10,h=r,m=h.d,g=h.constructor,p=g.precision;if(h.s<1)throw Error(ll+(h.s?"NaN":"-Infinity"));if(h.eq(Oo))return new g(0);if(e==null?(Ii=!1,o=p):o=e,h.eq(10))return e==null&&(Ii=!0),PS(g,o);if(o+=d,g.precision=o,t=lc(m),n=t.charAt(0),a=Ea(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)h=h.times(r),t=lc(h.d),n=t.charAt(0),f++;a=Ea(h),n>1?(h=new g("0."+t),a++):h=new g(n+"."+t.slice(1))}else return c=PS(g,o+2,p).times(a+""),h=ug(new g(n+"."+t.slice(1)),o-d).plus(c),g.precision=p,e==null?(Ii=!0,si(h,p)):h;for(l=s=h=uu(h.minus(Oo),h.plus(Oo),o),u=si(h.times(h),o),i=3;;){if(s=si(s.times(u),o),c=l.plus(uu(s,new g(i),o)),lc(c.d).slice(0,o)===lc(l.d).slice(0,o))return l=l.times(2),a!==0&&(l=l.plus(PS(g,o+2,p).times(a+""))),l=uu(l,new g(f),o),g.precision=p,e==null?(Ii=!0,si(l,p)):l;l=c,i+=2}}function wI(r,e){var t,n,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,t=t-n-1,r.e=ym(t/wi),r.d=[],n=(t+1)%wi,t<0&&(n+=wi),n<i){for(n&&r.d.push(+e.slice(0,n)),i-=wi;n<i;)r.d.push(+e.slice(n,n+=wi));e=e.slice(n),n=wi-e.length}else n-=i;for(;n--;)e+="0";if(r.d.push(+e),Ii&&(r.e>Vv||r.e<-Vv))throw Error(rC+t)}else r.s=0,r.e=0,r.d=[0];return r}function si(r,e,t){var n,i,a,s,l,c,o,u,f=r.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=wi,i=e,o=f[u=0];else{if(u=Math.ceil((n+1)/wi),a=f.length,u>=a)return r;for(o=a=f[u],s=1;a>=10;a/=10)s++;n%=wi,i=n-wi+s}if(t!==void 0&&(a=md(10,s-i-1),l=o/a%10|0,c=e<0||f[u+1]!==void 0||o%a,c=t<4?(l||c)&&(t==0||t==(r.s<0?3:2)):l>5||l==5&&(t==4||c||t==6&&(n>0?i>0?o/md(10,s-i):0:f[u-1])%10&1||t==(r.s<0?8:7))),e<1||!f[0])return c?(a=Ea(r),f.length=1,e=e-a-1,f[0]=md(10,(wi-e%wi)%wi),r.e=ym(-e/wi)||0):(f.length=1,f[0]=r.e=r.s=0),r;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=md(10,wi-n),f[u]=i>0?(o/md(10,s-i)%md(10,i)|0)*a:0),c)for(;;)if(u==0){(f[0]+=a)==Za&&(f[0]=1,++r.e);break}else{if(f[u]+=a,f[u]!=Za)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Ii&&(r.e>Vv||r.e<-Vv))throw Error(rC+Ea(r));return r}function F$(r,e){var t,n,i,a,s,l,c,o,u,f,d=r.constructor,h=d.precision;if(!r.s||!e.s)return e.s?e.s=-e.s:e=new d(r),Ii?si(e,h):e;if(c=r.d,f=e.d,n=e.e,o=r.e,c=c.slice(),s=o-n,s){for(u=s<0,u?(t=c,s=-s,l=f.length):(t=f,n=o,l=c.length),i=Math.max(Math.ceil(h/wi),l)+2,s>i&&(s=i,t.length=1),t.reverse(),i=s;i--;)t.push(0);t.reverse()}else{for(i=c.length,l=f.length,u=i<l,u&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){u=c[i]<f[i];break}s=0}for(u&&(t=c,c=f,f=t,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=Za-1;--c[a],c[i]+=Za}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ii?si(e,h):e):new d(0)}function qd(r,e,t){var n,i=Ea(r),a=lc(r.d),s=a.length;return e?(t&&(n=t-s)>0?a=a.charAt(0)+"."+a.slice(1)+af(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+af(-i-1)+a,t&&(n=t-s)>0&&(a+=af(n))):i>=s?(a+=af(i+1-s),t&&(n=t-i-1)>0&&(a=a+"."+af(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),t&&(n=t-s)>0&&(i+1===s&&(a+="."),a+=af(n))),r.s<0?"-"+a:a}function xI(r,e){if(r.length>e)return r.length=e,!0}function B$(r){var e,t,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Pd+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return wI(s,a.toString())}else if(typeof a!="string")throw Error(Pd+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,fue.test(a))wI(s,a);else throw Error(Pd+a)}if(i.prototype=cr,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=B$,i.config=i.set=due,r===void 0&&(r={}),r)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return i.config(r),i}function due(r){if(!r||typeof r!="object")throw Error(ll+"Object expected");var e,t,n,i=["precision",1,gm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=r[t=i[e]])!==void 0)if(ym(n)===n&&n>=i[e+1]&&n<=i[e+2])this[t]=n;else throw Error(Pd+t+": "+n);if((n=r[t="LN10"])!==void 0)if(n==Math.LN10)this[t]=new this(n);else throw Error(Pd+t+": "+n);return this}var nC=B$(uue);Oo=new nC(1);const ei=nC;function hue(r){return yue(r)||gue(r)||mue(r)||pue()}function pue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mue(r,e){if(r){if(typeof r=="string")return H8(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return H8(r,e)}}function gue(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function yue(r){if(Array.isArray(r))return H8(r)}function H8(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var vue=function(e){return e},$$={},U$=function(e){return e===$$},_I=function(e){return function t(){return arguments.length===0||arguments.length===1&&U$(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},bue=function r(e,t){return e===1?t:_I(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==$$}).length;return s>=e?t.apply(void 0,i):r(e-s,_I(function(){for(var l=arguments.length,c=new Array(l),o=0;o<l;o++)c[o]=arguments[o];var u=i.map(function(f){return U$(f)?c.shift():f});return t.apply(void 0,hue(u).concat(c))}))})},Pw=function(e){return bue(e.length,e)},W8=function(e,t){for(var n=[],i=e;i<t;++i)n[i-e]=i;return n},wue=Pw(function(r,e){return Array.isArray(e)?e.map(r):Object.keys(e).map(function(t){return e[t]}).map(r)}),xue=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return vue;var i=t.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},G8=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},V$=function(e){var t=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t&&a.every(function(l,c){return l===t[c]})||(t=a,n=e.apply(void 0,a)),n}};function _ue(r){var e;return r===0?e=1:e=Math.floor(new ei(r).abs().log(10).toNumber())+1,e}function Sue(r,e,t){for(var n=new ei(r),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(t),i++;return a}var Eue=Pw(function(r,e,t){var n=+r,i=+e;return n+t*(i-n)}),Aue=Pw(function(r,e,t){var n=e-+r;return n=n||1/0,(t-r)/n}),Cue=Pw(function(r,e,t){var n=e-+r;return n=n||1/0,Math.max(0,Math.min(1,(t-r)/n))});const jw={rangeStep:Sue,getDigitCount:_ue,interpolateNumber:Eue,uninterpolateNumber:Aue,uninterpolateTruncation:Cue};function K8(r){return Nue(r)||Tue(r)||z$(r)||kue()}function kue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tue(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function Nue(r){if(Array.isArray(r))return X8(r)}function fg(r,e){return Iue(r)||jue(r,e)||z$(r,e)||Pue()}function Pue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z$(r,e){if(r){if(typeof r=="string")return X8(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return X8(r,e)}}function X8(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function jue(r,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var t=[],n=!0,i=!1,a=void 0;try{for(var s=r[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(t.push(l.value),!(e&&t.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return t}}function Iue(r){if(Array.isArray(r))return r}function q$(r){var e=fg(r,2),t=e[0],n=e[1],i=t,a=n;return t>n&&(i=n,a=t),[i,a]}function H$(r,e,t){if(r.lte(0))return new ei(0);var n=jw.getDigitCount(r.toNumber()),i=new ei(10).pow(n),a=r.div(i),s=n!==1?.05:.1,l=new ei(Math.ceil(a.div(s).toNumber())).add(t).mul(s),c=l.mul(i);return e?c:new ei(Math.ceil(c))}function Oue(r,e,t){var n=1,i=new ei(r);if(!i.isint()&&t){var a=Math.abs(r);a<1?(n=new ei(10).pow(jw.getDigitCount(r)-1),i=new ei(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new ei(Math.floor(r)))}else r===0?i=new ei(Math.floor((e-1)/2)):t||(i=new ei(Math.floor(r)));var s=Math.floor((e-1)/2),l=xue(wue(function(c){return i.add(new ei(c-s).mul(n)).toNumber()}),W8);return l(0,e)}function W$(r,e,t,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-r)/(t-1)))return{step:new ei(0),tickMin:new ei(0),tickMax:new ei(0)};var a=H$(new ei(e).sub(r).div(t-1),n,i),s;r<=0&&e>=0?s=new ei(0):(s=new ei(r).add(e).div(2),s=s.sub(new ei(s).mod(a)));var l=Math.ceil(s.sub(r).div(a).toNumber()),c=Math.ceil(new ei(e).sub(s).div(a).toNumber()),o=l+c+1;return o>t?W$(r,e,t,n,i+1):(o<t&&(c=e>0?c+(t-o):c,l=e>0?l:l+(t-o)),{step:a,tickMin:s.sub(new ei(l).mul(a)),tickMax:s.add(new ei(c).mul(a))})}function Rue(r){var e=fg(r,2),t=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=q$([t,n]),c=fg(l,2),o=c[0],u=c[1];if(o===-1/0||u===1/0){var f=u===1/0?[o].concat(K8(W8(0,i-1).map(function(){return 1/0}))):[].concat(K8(W8(0,i-1).map(function(){return-1/0})),[u]);return t>n?G8(f):f}if(o===u)return Oue(o,i,a);var d=W$(o,u,s,a),h=d.step,m=d.tickMin,g=d.tickMax,p=jw.rangeStep(m,g.add(new ei(.1).mul(h)),h);return t>n?G8(p):p}function Mue(r,e){var t=fg(r,2),n=t[0],i=t[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=q$([n,i]),l=fg(s,2),c=l[0],o=l[1];if(c===-1/0||o===1/0)return[n,i];if(c===o)return[c];var u=Math.max(e,2),f=H$(new ei(o).sub(c).div(u-1),a,0),d=[].concat(K8(jw.rangeStep(new ei(c),new ei(o).sub(new ei(.99).mul(f)),f)),[o]);return n>i?G8(d):d}var Due=V$(Rue),Lue=V$(Mue),Fue="Invariant failed";function Hd(r,e){throw new Error(Fue)}var Bue=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Lp(r){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(r)}function zv(){return zv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},zv.apply(this,arguments)}function $ue(r,e){return que(r)||zue(r,e)||Vue(r,e)||Uue()}function Uue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vue(r,e){if(r){if(typeof r=="string")return SI(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return SI(r,e)}}function SI(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function zue(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function que(r){if(Array.isArray(r))return r}function Hue(r,e){if(r==null)return{};var t=Wue(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Wue(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function Gue(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Kue(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,X$(n.key),n)}}function Xue(r,e,t){return e&&Kue(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Yue(r,e,t){return e=qv(e),Que(r,G$()?Reflect.construct(e,t||[],qv(r).constructor):e.apply(r,t))}function Que(r,e){if(e&&(Lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zue(r)}function Zue(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function G$(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G$=function(){return!!r})()}function qv(r){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qv(r)}function Jue(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Y8(r,e)}function Y8(r,e){return Y8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y8(r,e)}function K$(r,e,t){return e=X$(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function X$(r){var e=efe(r,"string");return Lp(e)=="symbol"?e:e+""}function efe(r,e){if(Lp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var o1=(function(r){function e(){return Gue(this,e),Yue(this,e,arguments)}return Jue(e,r),Xue(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,l=n.dataKey,c=n.data,o=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,d=Hue(n,Bue),h=jr(d,!1);this.props.direction==="x"&&u.type!=="number"&&Hd();var m=c.map(function(g){var p=o(g,l),y=p.x,v=p.y,w=p.value,C=p.errorVal;if(!C)return null;var P=[],F,L;if(Array.isArray(C)){var j=$ue(C,2);F=j[0],L=j[1]}else F=L=C;if(a==="vertical"){var I=u.scale,z=v+i,$=z+s,B=z-s,T=I(w-F),R=I(w+L);P.push({x1:R,y1:$,x2:R,y2:B}),P.push({x1:T,y1:z,x2:R,y2:z}),P.push({x1:T,y1:$,x2:T,y2:B})}else if(a==="horizontal"){var N=f.scale,_=y+i,E=_-s,S=_+s,k=N(w-F),M=N(w+L);P.push({x1:E,y1:M,x2:S,y2:M}),P.push({x1:_,y1:k,x2:_,y2:M}),P.push({x1:E,y1:k,x2:S,y2:k})}return Le.createElement(jn,zv({className:"recharts-errorBar",key:"bar-".concat(P.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},h),P.map(function(V){return Le.createElement("line",zv({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return Le.createElement(jn,{className:"recharts-errorBars"},m)}}])})(Le.Component);K$(o1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});K$(o1,"displayName","ErrorBar");function dg(r){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(r)}function EI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function cd(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(t),!0).forEach(function(n){tfe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):EI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function tfe(r,e,t){return e=rfe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function rfe(r){var e=nfe(r,"string");return dg(e)=="symbol"?e:e+""}function nfe(r,e){if(dg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Y$=function(e){var t=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=jo(t,hp);if(!s)return null;var l=hp.defaultProps,c=l!==void 0?cd(cd({},l),s.props):{},o;return s.props&&s.props.payload?o=s.props&&s.props.payload:a==="children"?o=(n||[]).reduce(function(u,f){var d=f.item,h=f.props,m=h.sectors||h.data||[];return u.concat(m.map(function(g){return{type:s.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):o=(n||[]).map(function(u){var f=u.item,d=f.type.defaultProps,h=d!==void 0?cd(cd({},d),f.props):{},m=h.dataKey,g=h.name,p=h.legendType,y=h.hide;return{inactive:y,dataKey:m,type:c.iconType||p||"square",color:iC(f),value:g||m,payload:h}}),cd(cd(cd({},c),hp.getWithHeight(s,i)),{},{payload:o,item:s})};function hg(r){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(r)}function AI(r){return ofe(r)||sfe(r)||afe(r)||ife()}function ife(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function afe(r,e){if(r){if(typeof r=="string")return Q8(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Q8(r,e)}}function sfe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function ofe(r){if(Array.isArray(r))return Q8(r)}function Q8(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function CI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Qi(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(t),!0).forEach(function(n){mp(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):CI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function mp(r,e,t){return e=lfe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function lfe(r){var e=cfe(r,"string");return hg(e)=="symbol"?e:e+""}function cfe(r,e){if(hg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Da(r,e,t){return Jr(r)||Jr(e)?t:La(e)?Do(r,e,t):Wr(e)?e(r):t}function k0(r,e,t,n){var i=oue(r,function(l){return Da(l,e)});if(t==="number"){var a=i.filter(function(l){return Ft(l)||parseFloat(l)});return a.length?[Nw(a),Tw(a)]:[1/0,-1/0]}var s=n?i.filter(function(l){return!Jr(l)}):i;return s.map(function(l){return La(l)||l instanceof Date?l:""})}var ufe=function(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(t=n==null?void 0:n.length)!==null&&t!==void 0?t:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,o=0;o<l;o++){var u=o>0?i[o-1].coordinate:i[l-1].coordinate,f=i[o].coordinate,d=o>=l-1?i[0].coordinate:i[o+1].coordinate,h=void 0;if(Gs(f-u)!==Gs(d-f)){var m=[];if(Gs(d-f)===Gs(c[1]-c[0])){h=d;var g=f+c[1]-c[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{h=u;var p=d+c[1]-c[0];m[0]=Math.min(f,(p+f)/2),m[1]=Math.max(f,(p+f)/2)}var y=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>y[0]&&e<=y[1]||e>=m[0]&&e<=m[1]){s=i[o].index;break}}else{var v=Math.min(u,d),w=Math.max(u,d);if(e>(v+f)/2&&e<=(w+f)/2){s=i[o].index;break}}}else for(var C=0;C<l;C++)if(C===0&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<l-1&&e>(n[C].coordinate+n[C-1].coordinate)/2&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C===l-1&&e>(n[C].coordinate+n[C-1].coordinate)/2){s=n[C].index;break}return s},iC=function(e){var t,n=e,i=n.type.displayName,a=(t=e.type)!==null&&t!==void 0&&t.defaultProps?Qi(Qi({},e.type.defaultProps),e.props):e.props,s=a.stroke,l=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},ffe=function(e){var t=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),c=0,o=l.length;c<o;c++)for(var u=a[l[c]].stackGroups,f=Object.keys(u),d=0,h=f.length;d<h;d++){var m=u[f[d]],g=m.items,p=m.cateAxisId,y=g.filter(function(L){return cu(L.type).indexOf("Bar")>=0});if(y&&y.length){var v=y[0].type.defaultProps,w=v!==void 0?Qi(Qi({},v),y[0].props):y[0].props,C=w.barSize,P=w[p];s[P]||(s[P]=[]);var F=Jr(C)?t:C;s[P].push({item:y[0],stackList:y.slice(1),barSize:Jr(F)?void 0:Ks(F,n,0)})}}return s},dfe=function(e){var t=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,l=e.maxBarSize,c=s.length;if(c<1)return null;var o=Ks(t,i,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var d=!1,h=i/c,m=s.reduce(function(C,P){return C+P.barSize||0},0);m+=(c-1)*o,m>=i&&(m-=(c-1)*o,o=0),m>=i&&h>0&&(d=!0,h*=.9,m=c*h);var g=(i-m)/2>>0,p={offset:g-o,size:0};u=s.reduce(function(C,P){var F={item:P.item,position:{offset:p.offset+p.size+o,size:d?h:P.barSize}},L=[].concat(AI(C),[F]);return p=L[L.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(j){L.push({item:j,position:p})}),L},f)}else{var y=Ks(n,i,0,!0);i-2*y-(c-1)*o<=0&&(o=0);var v=(i-2*y-(c-1)*o)/c;v>1&&(v>>=0);var w=l===+l?Math.min(v,l):v;u=s.reduce(function(C,P,F){var L=[].concat(AI(C),[{item:P.item,position:{offset:y+(v+o)*F+(v-w)/2,size:w}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(j){L.push({item:j,position:L[L.length-1].position})}),L},f)}return u},hfe=function(e,t,n,i){var a=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),o=Y$({children:a,legendWidth:c});if(o){var u=i||{},f=u.width,d=u.height,h=o.align,m=o.verticalAlign,g=o.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&h!=="center"&&Ft(e[h]))return Qi(Qi({},e),{},mp({},h,e[h]+(f||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&m!=="middle"&&Ft(e[m]))return Qi(Qi({},e),{},mp({},m,e[m]+(d||0)))}return e},pfe=function(e,t,n){return Jr(t)?!0:e==="horizontal"?t==="yAxis":e==="vertical"||n==="x"?t==="xAxis":n==="y"?t==="yAxis":!0},Q$=function(e,t,n,i,a){var s=t.props.children,l=Lo(s,o1).filter(function(o){return pfe(i,a,o.props.direction)});if(l&&l.length){var c=l.map(function(o){return o.props.dataKey});return e.reduce(function(o,u){var f=Da(u,n);if(Jr(f))return o;var d=Array.isArray(f)?[Nw(f),Tw(f)]:[f,f],h=c.reduce(function(m,g){var p=Da(u,g,0),y=d[0]-Math.abs(Array.isArray(p)?p[0]:p),v=d[1]+Math.abs(Array.isArray(p)?p[1]:p);return[Math.min(y,m[0]),Math.max(v,m[1])]},[1/0,-1/0]);return[Math.min(h[0],o[0]),Math.max(h[1],o[1])]},[1/0,-1/0])}return null},mfe=function(e,t,n,i,a){var s=t.map(function(l){return Q$(e,l,n,a,i)}).filter(function(l){return!Jr(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Z$=function(e,t,n,i,a){var s=t.map(function(c){var o=c.props.dataKey;return n==="number"&&o&&Q$(e,c,o,i)||k0(e,o,n,a)});if(n==="number")return s.reduce(function(c,o){return[Math.min(c[0],o[0]),Math.max(c[1],o[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,o){for(var u=0,f=o.length;u<f;u++)l[o[u]]||(l[o[u]]=!0,c.push(o[u]));return c},[])},J$=function(e,t){return e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis"},eU=function(e,t,n,i){if(i)return e.map(function(c){return c.coordinate});var a,s,l=e.map(function(c){return c.coordinate===t&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate});return a||l.push(t),s||l.push(n),l},nu=function(e,t,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,o=(t||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(o=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Gs(l[0]-l[1])*2*o:o,t&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var d=a?a.indexOf(f):f;return{coordinate:i(d)+o,value:f,offset:o}});return u.filter(function(f){return!Jg(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+o,value:f,index:d,offset:o}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+o,value:f,offset:o}}):i.domain().map(function(f,d){return{coordinate:i(f)+o,value:a?a[f]:f,index:d,offset:o}})},jS=new WeakMap,fy=function(e,t){if(typeof t!="function")return e;jS.has(e)||jS.set(e,new WeakMap);var n=jS.get(e);if(n.has(t))return n.get(t);var i=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,i),i},tU=function(e,t,n){var i=e.scale,a=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:ag(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Fv(),realScaleType:"linear"}:a==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:C0(),realScaleType:"point"}:a==="category"?{scale:ag(),realScaleType:"band"}:{scale:Fv(),realScaleType:"linear"};if(Ud(i)){var c="scale".concat(pw(i));return{scale:(fI[c]||C0)(),realScaleType:fI[c]?c:"point"}}return Wr(i)?{scale:i}:{scale:C0(),realScaleType:"point"}},kI=1e-4,rU=function(e){var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,i=e.range(),a=Math.min(i[0],i[1])-kI,s=Math.max(i[0],i[1])+kI,l=e(t[0]),c=e(t[n-1]);(l<a||l>s||c<a||c>s)&&e.domain([t[0],t[n-1]])}},gfe=function(e,t){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===t)return e[n].position;return null},yfe=function(e,t){if(!t||t.length!==2||!Ft(t[0])||!Ft(t[1]))return e;var n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Ft(e[0])||e[0]<n)&&(a[0]=n),(!Ft(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},vfe=function(e){var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,l=0;l<t;++l){var c=Jg(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1])}},bfe=function(e){var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<t;++s){var l=Jg(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},wfe={sign:vfe,expand:oie,none:Np,silhouette:lie,wiggle:cie,positive:bfe},xfe=function(e,t,n){var i=t.map(function(l){return l.props.dataKey}),a=wfe[n],s=sie().keys(i).value(function(l,c){return+Da(l,c,0)}).order(k8).offset(a);return s(e)},_fe=function(e,t,n,i,a,s){if(!e)return null;var l=s?t.reverse():t,c={},o=l.reduce(function(f,d){var h,m=(h=d.type)!==null&&h!==void 0&&h.defaultProps?Qi(Qi({},d.type.defaultProps),d.props):d.props,g=m.stackId,p=m.hide;if(p)return f;var y=m[n],v=f[y]||{hasStack:!1,stackGroups:{}};if(La(g)){var w=v.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(d),v.hasStack=!0,v.stackGroups[g]=w}else v.stackGroups[hm("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[d]};return Qi(Qi({},f),{},mp({},y,v))},c),u={};return Object.keys(o).reduce(function(f,d){var h=o[d];if(h.hasStack){var m={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,p){var y=h.stackGroups[p];return Qi(Qi({},g),{},mp({},p,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:xfe(e,y.items,a)}))},m)}return Qi(Qi({},f),{},mp({},d,h))},u)},nU=function(e,t){var n=t.realScaleType,i=t.type,a=t.tickCount,s=t.originalDomain,l=t.allowDecimals,c=n||t.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var o=e.domain();if(!o.length)return null;var u=Due(o,a,l);return e.domain([Nw(u),Tw(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),d=Lue(f,a,l);return{niceTicks:d}}return null};function TI(r){var e=r.axis,t=r.ticks,n=r.bandSize,i=r.entry,a=r.index,s=r.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Jr(i[e.dataKey])){var l=wv(t,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return t[a]?t[a].coordinate+n/2:null}var c=Da(i,Jr(s)?e.dataKey:s);return Jr(c)?null:e.scale(c)}var NI=function(e){var t=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,l=e.index;if(t.type==="category")return n[l]?n[l].coordinate+i:null;var c=Da(s,t.dataKey,t.domain[l]);return Jr(c)?null:t.scale(c)-a/2+i},Sfe=function(e){var t=e.numericAxis,n=t.scale.domain();if(t.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Efe=function(e,t){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Qi(Qi({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(La(a)){var s=t[a];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},Afe=function(e){return e.reduce(function(t,n){return[Nw(n.concat([t[0]]).filter(Ft)),Tw(n.concat([t[1]]).filter(Ft))]},[1/0,-1/0])},iU=function(e,t,n){return Object.keys(e).reduce(function(i,a){var s=e[a],l=s.stackedData,c=l.reduce(function(o,u){var f=Afe(u.slice(t,n+1));return[Math.min(o[0],f[0]),Math.max(o[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},PI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z8=function(e,t,n){if(Wr(e))return e(t,n);if(!Array.isArray(e))return t;var i=[];if(Ft(e[0]))i[0]=n?e[0]:Math.min(e[0],t[0]);else if(PI.test(e[0])){var a=+PI.exec(e[0])[1];i[0]=t[0]-a}else Wr(e[0])?i[0]=e[0](t[0]):i[0]=t[0];if(Ft(e[1]))i[1]=n?e[1]:Math.max(e[1],t[1]);else if(jI.test(e[1])){var s=+jI.exec(e[1])[1];i[1]=t[1]+s}else Wr(e[1])?i[1]=e[1](t[1]):i[1]=t[1];return i},Hv=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&t&&t.length>=2){for(var a=I4(t,function(f){return f.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var o=a[l],u=a[l-1];s=Math.min((o.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},II=function(e,t,n){return!e||!e.length||s1(e,Do(n,"type.defaultProps.domain"))?t:e},aU=function(e,t){var n=e.type.defaultProps?Qi(Qi({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,o=n.chartType,u=n.hide;return Qi(Qi({},jr(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:iC(e),value:Da(t,i),type:c,payload:t,chartType:o,hide:u})};function pg(r){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(r)}function OI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Yc(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(t),!0).forEach(function(n){sU(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):OI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function sU(r,e,t){return e=Cfe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Cfe(r){var e=kfe(r,"string");return pg(e)=="symbol"?e:e+""}function kfe(r,e){if(pg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Tfe(r,e){return Ife(r)||jfe(r,e)||Pfe(r,e)||Nfe()}function Nfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pfe(r,e){if(r){if(typeof r=="string")return RI(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return RI(r,e)}}function RI(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function jfe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function Ife(r){if(Array.isArray(r))return r}var Wv=Math.PI/180,Ofe=function(e){return e*180/Math.PI},yi=function(e,t,n,i){return{x:e+Math.cos(-Wv*i)*n,y:t+Math.sin(-Wv*i)*n}},oU=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},Rfe=function(e,t,n,i,a){var s=e.width,l=e.height,c=e.startAngle,o=e.endAngle,u=Ks(e.cx,s,s/2),f=Ks(e.cy,l,l/2),d=oU(s,l,n),h=Ks(e.innerRadius,d,0),m=Ks(e.outerRadius,d,d*.8),g=Object.keys(t);return g.reduce(function(p,y){var v=t[y],w=v.domain,C=v.reversed,P;if(Jr(v.range))i==="angleAxis"?P=[c,o]:i==="radiusAxis"&&(P=[h,m]),C&&(P=[P[1],P[0]]);else{P=v.range;var F=P,L=Tfe(F,2);c=L[0],o=L[1]}var j=tU(v,a),I=j.realScaleType,z=j.scale;z.domain(w).range(P),rU(z);var $=nU(z,Yc(Yc({},v),{},{realScaleType:I})),B=Yc(Yc(Yc({},v),$),{},{range:P,radius:m,realScaleType:I,scale:z,cx:u,cy:f,innerRadius:h,outerRadius:m,startAngle:c,endAngle:o});return Yc(Yc({},p),{},sU({},y,B))},{})},Mfe=function(e,t){var n=e.x,i=e.y,a=t.x,s=t.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},Dfe=function(e,t){var n=e.x,i=e.y,a=t.cx,s=t.cy,l=Mfe({x:n,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(n-a)/l,o=Math.acos(c);return i>s&&(o=2*Math.PI-o),{radius:l,angle:Ofe(o),angleInRadian:o}},Lfe=function(e){var t=e.startAngle,n=e.endAngle,i=Math.floor(t/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:t-s*360,endAngle:n-s*360}},Ffe=function(e,t){var n=t.startAngle,i=t.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),l=Math.min(a,s);return e+l*360},MI=function(e,t){var n=e.x,i=e.y,a=Dfe({x:n,y:i},t),s=a.radius,l=a.angle,c=t.innerRadius,o=t.outerRadius;if(s<c||s>o)return!1;if(s===0)return!0;var u=Lfe(t),f=u.startAngle,d=u.endAngle,h=l,m;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}return m?Yc(Yc({},t),{},{radius:s,angle:Ffe(h,t)}):null},lU=function(e){return!ce.isValidElement(e)&&!Wr(e)&&typeof e!="boolean"?e.className:""};function mg(r){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(r)}var Bfe=["offset"];function $fe(r){return qfe(r)||zfe(r)||Vfe(r)||Ufe()}function Ufe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vfe(r,e){if(r){if(typeof r=="string")return J8(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return J8(r,e)}}function zfe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function qfe(r){if(Array.isArray(r))return J8(r)}function J8(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Hfe(r,e){if(r==null)return{};var t=Wfe(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Wfe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function DI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ma(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(t),!0).forEach(function(n){Gfe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):DI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Gfe(r,e,t){return e=Kfe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Kfe(r){var e=Xfe(r,"string");return mg(e)=="symbol"?e:e+""}function Xfe(r,e){if(mg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function gg(){return gg=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},gg.apply(this,arguments)}var Yfe=function(e){var t=e.value,n=e.formatter,i=Jr(e.children)?t:e.children;return Wr(n)?n(i):i},Qfe=function(e,t){var n=Gs(t-e),i=Math.min(Math.abs(t-e),360);return n*i},Zfe=function(e,t,n){var i=e.position,a=e.viewBox,s=e.offset,l=e.className,c=a,o=c.cx,u=c.cy,f=c.innerRadius,d=c.outerRadius,h=c.startAngle,m=c.endAngle,g=c.clockWise,p=(f+d)/2,y=Qfe(h,m),v=y>=0?1:-1,w,C;i==="insideStart"?(w=h+v*s,C=g):i==="insideEnd"?(w=m-v*s,C=!g):i==="end"&&(w=m+v*s,C=g),C=y<=0?C:!C;var P=yi(o,u,p,w),F=yi(o,u,p,w+(C?1:-1)*359),L="M".concat(P.x,",").concat(P.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(C?0:1,`,
    `).concat(F.x,",").concat(F.y),j=Jr(e.id)?hm("recharts-radial-line-"):e.id;return Le.createElement("text",gg({},n,{dominantBaseline:"central",className:nn("recharts-radial-bar-label",l)}),Le.createElement("defs",null,Le.createElement("path",{id:j,d:L})),Le.createElement("textPath",{xlinkHref:"#".concat(j)},t))},Jfe=function(e){var t=e.viewBox,n=e.offset,i=e.position,a=t,s=a.cx,l=a.cy,c=a.innerRadius,o=a.outerRadius,u=a.startAngle,f=a.endAngle,d=(u+f)/2;if(i==="outside"){var h=yi(s,l,o+n,d),m=h.x,g=h.y;return{x:m,y:g,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var p=(c+o)/2,y=yi(s,l,p,d),v=y.x,w=y.y;return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},ede=function(e){var t=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=t,l=s.x,c=s.y,o=s.width,u=s.height,f=u>=0?1:-1,d=f*i,h=f>0?"end":"start",m=f>0?"start":"end",g=o>=0?1:-1,p=g*i,y=g>0?"end":"start",v=g>0?"start":"end";if(a==="top"){var w={x:l+o/2,y:c-f*i,textAnchor:"middle",verticalAnchor:h};return Ma(Ma({},w),n?{height:Math.max(c-n.y,0),width:o}:{})}if(a==="bottom"){var C={x:l+o/2,y:c+u+d,textAnchor:"middle",verticalAnchor:m};return Ma(Ma({},C),n?{height:Math.max(n.y+n.height-(c+u),0),width:o}:{})}if(a==="left"){var P={x:l-p,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return Ma(Ma({},P),n?{width:Math.max(P.x-n.x,0),height:u}:{})}if(a==="right"){var F={x:l+o+p,y:c+u/2,textAnchor:v,verticalAnchor:"middle"};return Ma(Ma({},F),n?{width:Math.max(n.x+n.width-F.x,0),height:u}:{})}var L=n?{width:o,height:u}:{};return a==="insideLeft"?Ma({x:l+p,y:c+u/2,textAnchor:v,verticalAnchor:"middle"},L):a==="insideRight"?Ma({x:l+o-p,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},L):a==="insideTop"?Ma({x:l+o/2,y:c+d,textAnchor:"middle",verticalAnchor:m},L):a==="insideBottom"?Ma({x:l+o/2,y:c+u-d,textAnchor:"middle",verticalAnchor:h},L):a==="insideTopLeft"?Ma({x:l+p,y:c+d,textAnchor:v,verticalAnchor:m},L):a==="insideTopRight"?Ma({x:l+o-p,y:c+d,textAnchor:y,verticalAnchor:m},L):a==="insideBottomLeft"?Ma({x:l+p,y:c+u-d,textAnchor:v,verticalAnchor:h},L):a==="insideBottomRight"?Ma({x:l+o-p,y:c+u-d,textAnchor:y,verticalAnchor:h},L):dm(a)&&(Ft(a.x)||Ed(a.x))&&(Ft(a.y)||Ed(a.y))?Ma({x:l+Ks(a.x,o),y:c+Ks(a.y,u),textAnchor:"end",verticalAnchor:"end"},L):Ma({x:l+o/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},L)},tde=function(e){return"cx"in e&&Ft(e.cx)};function es(r){var e=r.offset,t=e===void 0?5:e,n=Hfe(r,Bfe),i=Ma({offset:t},n),a=i.viewBox,s=i.position,l=i.value,c=i.children,o=i.content,u=i.className,f=u===void 0?"":u,d=i.textBreakAll;if(!a||Jr(l)&&Jr(c)&&!ce.isValidElement(o)&&!Wr(o))return null;if(ce.isValidElement(o))return ce.cloneElement(o,i);var h;if(Wr(o)){if(h=ce.createElement(o,i),ce.isValidElement(h))return h}else h=Yfe(i);var m=tde(a),g=jr(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Zfe(i,h,g);var p=m?Jfe(i):ede(i);return Le.createElement(zd,gg({className:nn("recharts-label",f)},g,p,{breakAll:d}),h)}es.displayName="Label";var cU=function(e){var t=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,o=e.innerRadius,u=e.outerRadius,f=e.x,d=e.y,h=e.top,m=e.left,g=e.width,p=e.height,y=e.clockWise,v=e.labelViewBox;if(v)return v;if(Ft(g)&&Ft(p)){if(Ft(f)&&Ft(d))return{x:f,y:d,width:g,height:p};if(Ft(h)&&Ft(m))return{x:h,y:m,width:g,height:p}}return Ft(f)&&Ft(d)?{x:f,y:d,width:0,height:0}:Ft(t)&&Ft(n)?{cx:t,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:o||0,outerRadius:u||c||l||0,clockWise:y}:e.viewBox?e.viewBox:{}},rde=function(e,t){return e?e===!0?Le.createElement(es,{key:"label-implicit",viewBox:t}):La(e)?Le.createElement(es,{key:"label-implicit",viewBox:t,value:e}):ce.isValidElement(e)?e.type===es?ce.cloneElement(e,{key:"label-implicit",viewBox:t}):Le.createElement(es,{key:"label-implicit",content:e,viewBox:t}):Wr(e)?Le.createElement(es,{key:"label-implicit",content:e,viewBox:t}):dm(e)?Le.createElement(es,gg({viewBox:t},e,{key:"label-implicit"})):null:null},nde=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=cU(e),s=Lo(i,es).map(function(c,o){return ce.cloneElement(c,{viewBox:t||a,key:"label-".concat(o)})});if(!n)return s;var l=rde(e.label,t||a);return[l].concat($fe(s))};es.parseViewBox=cU;es.renderCallByParent=nde;var IS,LI;function ide(){if(LI)return IS;LI=1;function r(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return IS=r,IS}var ade=ide();const sde=Rn(ade);function yg(r){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(r)}var ode=["valueAccessor"],lde=["data","dataKey","clockWise","id","textBreakAll"];function cde(r){return hde(r)||dde(r)||fde(r)||ude()}function ude(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fde(r,e){if(r){if(typeof r=="string")return eE(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return eE(r,e)}}function dde(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function hde(r){if(Array.isArray(r))return eE(r)}function eE(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Gv(){return Gv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Gv.apply(this,arguments)}function FI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function BI(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(t),!0).forEach(function(n){pde(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):FI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function pde(r,e,t){return e=mde(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function mde(r){var e=gde(r,"string");return yg(e)=="symbol"?e:e+""}function gde(r,e){if(yg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function $I(r,e){if(r==null)return{};var t=yde(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function yde(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}var vde=function(e){return Array.isArray(e.value)?sde(e.value):e.value};function fu(r){var e=r.valueAccessor,t=e===void 0?vde:e,n=$I(r,ode),i=n.data,a=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,o=$I(n,lde);return!i||!i.length?null:Le.createElement(jn,{className:"recharts-label-list"},i.map(function(u,f){var d=Jr(a)?t(u,f):Da(u&&u.payload,a),h=Jr(l)?{}:{id:"".concat(l,"-").concat(f)};return Le.createElement(es,Gv({},jr(u,!0),o,h,{parentViewBox:u.parentViewBox,value:d,textBreakAll:c,viewBox:es.parseViewBox(Jr(s)?u:BI(BI({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}fu.displayName="LabelList";function bde(r,e){return r?r===!0?Le.createElement(fu,{key:"labelList-implicit",data:e}):Le.isValidElement(r)||Wr(r)?Le.createElement(fu,{key:"labelList-implicit",data:e,content:r}):dm(r)?Le.createElement(fu,Gv({data:e},r,{key:"labelList-implicit"})):null:null}function wde(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&t&&!r.label)return null;var n=r.children,i=Lo(n,fu).map(function(s,l){return ce.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!t)return i;var a=bde(r.label,e);return[a].concat(cde(i))}fu.renderCallByParent=wde;function vg(r){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(r)}function tE(){return tE=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},tE.apply(this,arguments)}function UI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function VI(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(t),!0).forEach(function(n){xde(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):UI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function xde(r,e,t){return e=_de(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function _de(r){var e=Sde(r,"string");return vg(e)=="symbol"?e:e+""}function Sde(r,e){if(vg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Ede=function(e,t){var n=Gs(t-e),i=Math.min(Math.abs(t-e),359.999);return n*i},dy=function(e){var t=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,o=e.cornerIsExternal,u=c*(l?1:-1)+i,f=Math.asin(c/u)/Wv,d=o?a:a+s*f,h=yi(t,n,u,d),m=yi(t,n,i,d),g=o?a-s*f:a,p=yi(t,n,u*Math.cos(f*Wv),g);return{center:h,circleTangency:m,lineTangency:p,theta:f}},uU=function(e){var t=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,l=e.endAngle,c=Ede(s,l),o=s+c,u=yi(t,n,a,s),f=yi(t,n,a,o),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>o),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=yi(t,n,i,s),m=yi(t,n,i,o);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=o),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},Ade=function(e){var t=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,o=e.startAngle,u=e.endAngle,f=Gs(u-o),d=dy({cx:t,cy:n,radius:a,angle:o,sign:f,cornerRadius:s,cornerIsExternal:c}),h=d.circleTangency,m=d.lineTangency,g=d.theta,p=dy({cx:t,cy:n,radius:a,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:c}),y=p.circleTangency,v=p.lineTangency,w=p.theta,C=c?Math.abs(o-u):Math.abs(o-u)-g-w;if(C<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):uU({cx:t,cy:n,innerRadius:i,outerRadius:a,startAngle:o,endAngle:u});var P="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var F=dy({cx:t,cy:n,radius:i,angle:o,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),L=F.circleTangency,j=F.lineTangency,I=F.theta,z=dy({cx:t,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),$=z.circleTangency,B=z.lineTangency,T=z.theta,R=c?Math.abs(o-u):Math.abs(o-u)-I-T;if(R<0&&s===0)return"".concat(P,"L").concat(t,",").concat(n,"Z");P+="L".concat(B.x,",").concat(B.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else P+="L".concat(t,",").concat(n,"Z");return P},Cde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fU=function(e){var t=VI(VI({},Cde),e),n=t.cx,i=t.cy,a=t.innerRadius,s=t.outerRadius,l=t.cornerRadius,c=t.forceCornerRadius,o=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=t.className;if(s<a||u===f)return null;var h=nn("recharts-sector",d),m=s-a,g=Ks(l,m,0,!0),p;return g>0&&Math.abs(u-f)<360?p=Ade({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:c,cornerIsExternal:o,startAngle:u,endAngle:f}):p=uU({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f}),Le.createElement("path",tE({},jr(t,!0),{className:h,d:p,role:"img"}))};function bg(r){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(r)}function rE(){return rE=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},rE.apply(this,arguments)}function zI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function qI(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(t),!0).forEach(function(n){kde(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):zI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function kde(r,e,t){return e=Tde(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Tde(r){var e=Nde(r,"string");return bg(e)=="symbol"?e:e+""}function Nde(r,e){if(bg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var HI={curveBasisClosed:Xne,curveBasisOpen:Yne,curveBasis:Kne,curveBumpX:Rne,curveBumpY:Mne,curveLinearClosed:Qne,curveLinear:gw,curveMonotoneX:Zne,curveMonotoneY:Jne,curveNatural:eie,curveStep:tie,curveStepAfter:nie,curveStepBefore:rie},hy=function(e){return e.x===+e.x&&e.y===+e.y},n0=function(e){return e.x},i0=function(e){return e.y},Pde=function(e,t){if(Wr(e))return e;var n="curve".concat(pw(e));return(n==="curveMonotone"||n==="curveBump")&&t?HI["".concat(n).concat(t==="vertical"?"Y":"X")]:HI[n]||gw},jde=function(e){var t=e.type,n=t===void 0?"linear":t,i=e.points,a=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,o=c===void 0?!1:c,u=Pde(n,l),f=o?a.filter(function(g){return hy(g)}):a,d;if(Array.isArray(s)){var h=o?s.filter(function(g){return hy(g)}):s,m=f.map(function(g,p){return qI(qI({},g),{},{base:h[p]})});return l==="vertical"?d=ny().y(i0).x1(n0).x0(function(g){return g.base.x}):d=ny().x(n0).y1(i0).y0(function(g){return g.base.y}),d.defined(hy).curve(u),d(m)}return l==="vertical"&&Ft(s)?d=ny().y(i0).x1(n0).x0(s):Ft(s)?d=ny().x(n0).y1(i0).y0(s):d=cB().x(n0).y(i0),d.defined(hy).curve(u),d(f)},Kv=function(e){var t=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?jde(e):i;return ce.createElement("path",rE({},jr(e,!1),xv(e),{className:nn("recharts-curve",t),d:s,ref:a}))},OS={exports:{}},RS,WI;function Ide(){if(WI)return RS;WI=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return RS=r,RS}var MS,GI;function Ode(){if(GI)return MS;GI=1;var r=Ide();function e(){}function t(){}return t.resetWarningCache=e,MS=function(){function n(s,l,c,o,u,f){if(f!==r){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},MS}var KI;function Rde(){return KI||(KI=1,OS.exports=Ode()()),OS.exports}var Mde=Rde();const Un=Rn(Mde);var Dde=Object.getOwnPropertyNames,Lde=Object.getOwnPropertySymbols,Fde=Object.prototype.hasOwnProperty;function XI(r,e){return function(n,i,a){return r(n,i,a)&&e(n,i,a)}}function py(r){return function(t,n,i){if(!t||!n||typeof t!="object"||typeof n!="object")return r(t,n,i);var a=i.cache,s=a.get(t),l=a.get(n);if(s&&l)return s===n&&l===t;a.set(t,n),a.set(n,t);var c=r(t,n,i);return a.delete(t),a.delete(n),c}}function YI(r){return Dde(r).concat(Lde(r))}var Bde=Object.hasOwn||(function(r,e){return Fde.call(r,e)});function uh(r,e){return r===e||!r&&!e&&r!==r&&e!==e}var $de="__v",Ude="__o",Vde="_owner",QI=Object.getOwnPropertyDescriptor,ZI=Object.keys;function zde(r,e,t){var n=r.length;if(e.length!==n)return!1;for(;n-- >0;)if(!t.equals(r[n],e[n],n,n,r,e,t))return!1;return!0}function qde(r,e){return uh(r.getTime(),e.getTime())}function Hde(r,e){return r.name===e.name&&r.message===e.message&&r.cause===e.cause&&r.stack===e.stack}function Wde(r,e){return r===e}function JI(r,e,t){var n=r.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=r.entries(),s,l,c=0;(s=a.next())&&!s.done;){for(var o=e.entries(),u=!1,f=0;(l=o.next())&&!l.done;){if(i[f]){f++;continue}var d=s.value,h=l.value;if(t.equals(d[0],h[0],c,f,r,e,t)&&t.equals(d[1],h[1],d[0],h[0],r,e,t)){u=i[f]=!0;break}f++}if(!u)return!1;c++}return!0}var Gde=uh;function Kde(r,e,t){var n=ZI(r),i=n.length;if(ZI(e).length!==i)return!1;for(;i-- >0;)if(!dU(r,e,t,n[i]))return!1;return!0}function a0(r,e,t){var n=YI(r),i=n.length;if(YI(e).length!==i)return!1;for(var a,s,l;i-- >0;)if(a=n[i],!dU(r,e,t,a)||(s=QI(r,a),l=QI(e,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function Xde(r,e){return uh(r.valueOf(),e.valueOf())}function Yde(r,e){return r.source===e.source&&r.flags===e.flags}function eO(r,e,t){var n=r.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=r.values(),s,l;(s=a.next())&&!s.done;){for(var c=e.values(),o=!1,u=0;(l=c.next())&&!l.done;){if(!i[u]&&t.equals(s.value,l.value,s.value,l.value,r,e,t)){o=i[u]=!0;break}u++}if(!o)return!1}return!0}function Qde(r,e){var t=r.length;if(e.length!==t)return!1;for(;t-- >0;)if(r[t]!==e[t])return!1;return!0}function Zde(r,e){return r.hostname===e.hostname&&r.pathname===e.pathname&&r.protocol===e.protocol&&r.port===e.port&&r.hash===e.hash&&r.username===e.username&&r.password===e.password}function dU(r,e,t,n){return(n===Vde||n===Ude||n===$de)&&(r.$$typeof||e.$$typeof)?!0:Bde(e,n)&&t.equals(r[n],e[n],n,n,r,e,t)}var Jde="[object Arguments]",ehe="[object Boolean]",the="[object Date]",rhe="[object Error]",nhe="[object Map]",ihe="[object Number]",ahe="[object Object]",she="[object RegExp]",ohe="[object Set]",lhe="[object String]",che="[object URL]",uhe=Array.isArray,tO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,rO=Object.assign,fhe=Object.prototype.toString.call.bind(Object.prototype.toString);function dhe(r){var e=r.areArraysEqual,t=r.areDatesEqual,n=r.areErrorsEqual,i=r.areFunctionsEqual,a=r.areMapsEqual,s=r.areNumbersEqual,l=r.areObjectsEqual,c=r.arePrimitiveWrappersEqual,o=r.areRegExpsEqual,u=r.areSetsEqual,f=r.areTypedArraysEqual,d=r.areUrlsEqual;return function(m,g,p){if(m===g)return!0;if(m==null||g==null)return!1;var y=typeof m;if(y!==typeof g)return!1;if(y!=="object")return y==="number"?s(m,g,p):y==="function"?i(m,g,p):!1;var v=m.constructor;if(v!==g.constructor)return!1;if(v===Object)return l(m,g,p);if(uhe(m))return e(m,g,p);if(tO!=null&&tO(m))return f(m,g,p);if(v===Date)return t(m,g,p);if(v===RegExp)return o(m,g,p);if(v===Map)return a(m,g,p);if(v===Set)return u(m,g,p);var w=fhe(m);return w===the?t(m,g,p):w===she?o(m,g,p):w===nhe?a(m,g,p):w===ohe?u(m,g,p):w===ahe?typeof m.then!="function"&&typeof g.then!="function"&&l(m,g,p):w===che?d(m,g,p):w===rhe?n(m,g,p):w===Jde?l(m,g,p):w===ehe||w===ihe||w===lhe?c(m,g,p):!1}}function hhe(r){var e=r.circular,t=r.createCustomConfig,n=r.strict,i={areArraysEqual:n?a0:zde,areDatesEqual:qde,areErrorsEqual:Hde,areFunctionsEqual:Wde,areMapsEqual:n?XI(JI,a0):JI,areNumbersEqual:Gde,areObjectsEqual:n?a0:Kde,arePrimitiveWrappersEqual:Xde,areRegExpsEqual:Yde,areSetsEqual:n?XI(eO,a0):eO,areTypedArraysEqual:n?a0:Qde,areUrlsEqual:Zde};if(t&&(i=rO({},i,t(i))),e){var a=py(i.areArraysEqual),s=py(i.areMapsEqual),l=py(i.areObjectsEqual),c=py(i.areSetsEqual);i=rO({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return i}function phe(r){return function(e,t,n,i,a,s,l){return r(e,t,l)}}function mhe(r){var e=r.circular,t=r.comparator,n=r.createState,i=r.equals,a=r.strict;if(n)return function(c,o){var u=n(),f=u.cache,d=f===void 0?e?new WeakMap:void 0:f,h=u.meta;return t(c,o,{cache:d,equals:i,meta:h,strict:a})};if(e)return function(c,o){return t(c,o,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,o){return t(c,o,s)}}var ghe=Uf();Uf({strict:!0});Uf({circular:!0});Uf({circular:!0,strict:!0});Uf({createInternalComparator:function(){return uh}});Uf({strict:!0,createInternalComparator:function(){return uh}});Uf({circular:!0,createInternalComparator:function(){return uh}});Uf({circular:!0,createInternalComparator:function(){return uh},strict:!0});function Uf(r){r===void 0&&(r={});var e=r.circular,t=e===void 0?!1:e,n=r.createInternalComparator,i=r.createState,a=r.strict,s=a===void 0?!1:a,l=hhe(r),c=dhe(l),o=n?n(c):phe(c);return mhe({circular:t,comparator:c,createState:i,equals:o,strict:s})}function yhe(r){typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}function nO(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=-1,n=function i(a){t<0&&(t=a),a-t>e?(r(a),t=-1):yhe(i)};requestAnimationFrame(n)}function nE(r){"@babel/helpers - typeof";return nE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nE(r)}function vhe(r){return _he(r)||xhe(r)||whe(r)||bhe()}function bhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function whe(r,e){if(r){if(typeof r=="string")return iO(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return iO(r,e)}}function iO(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function xhe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function _he(r){if(Array.isArray(r))return r}function She(){var r={},e=function(){return null},t=!1,n=function i(a){if(!t){if(Array.isArray(a)){if(!a.length)return;var s=a,l=vhe(s),c=l[0],o=l.slice(1);if(typeof c=="number"){nO(i.bind(null,o),c);return}i(c),nO(i.bind(null,o));return}nE(a)==="object"&&(r=a,e(r)),typeof a=="function"&&a()}};return{stop:function(){t=!0},start:function(a){t=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function wg(r){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(r)}function aO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function sO(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(t),!0).forEach(function(n){hU(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):aO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function hU(r,e,t){return e=Ehe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ehe(r){var e=Ahe(r,"string");return wg(e)==="symbol"?e:String(e)}function Ahe(r,e){if(wg(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(wg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Che=function(e,t){return[Object.keys(e),Object.keys(t)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},khe=function(e){return e},The=function(e){return e.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})},T0=function(e,t){return Object.keys(t).reduce(function(n,i){return sO(sO({},n),{},hU({},i,e(i,t[i])))},{})},oO=function(e,t,n){return e.map(function(i){return"".concat(The(i)," ").concat(t,"ms ").concat(n)}).join(",")};function Nhe(r,e){return Ihe(r)||jhe(r,e)||pU(r,e)||Phe()}function Phe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jhe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function Ihe(r){if(Array.isArray(r))return r}function Ohe(r){return Dhe(r)||Mhe(r)||pU(r)||Rhe()}function Rhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pU(r,e){if(r){if(typeof r=="string")return iE(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return iE(r,e)}}function Mhe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Dhe(r){if(Array.isArray(r))return iE(r)}function iE(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var Xv=1e-4,mU=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},gU=function(e,t){return e.map(function(n,i){return n*Math.pow(t,i)}).reduce(function(n,i){return n+i})},lO=function(e,t){return function(n){var i=mU(e,t);return gU(i,n)}},Lhe=function(e,t){return function(n){var i=mU(e,t),a=[].concat(Ohe(i.map(function(s,l){return s*l}).slice(1)),[0]);return gU(a,n)}},cO=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],a=t[1],s=t[2],l=t[3];if(t.length===1)switch(t[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=t[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var o=c[1].split(")")[0].split(",").map(function(p){return parseFloat(p)}),u=Nhe(o,4);i=u[0],a=u[1],s=u[2],l=u[3]}}}var f=lO(i,s),d=lO(a,l),h=Lhe(i,s),m=function(y){return y>1?1:y<0?0:y},g=function(y){for(var v=y>1?1:y,w=v,C=0;C<8;++C){var P=f(w)-v,F=h(w);if(Math.abs(P-v)<Xv||F<Xv)return d(w);w=m(w-P/F)}return d(w)};return g.isStepper=!1,g},Fhe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.stiff,n=t===void 0?100:t,i=e.damping,a=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(u,f,d){var h=-(u-f)*n,m=d*a,g=d+(h-m)*l/1e3,p=d*l/1e3+u;return Math.abs(p-f)<Xv&&Math.abs(g)<Xv?[f,0]:[p,g]};return c.isStepper=!0,c.dt=l,c},Bhe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cO(i);case"spring":return Fhe();default:if(i.split("(")[0]==="cubic-bezier")return cO(i)}return typeof i=="function"?i:null};function xg(r){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(r)}function uO(r){return Vhe(r)||Uhe(r)||yU(r)||$he()}function $he(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uhe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Vhe(r){if(Array.isArray(r))return sE(r)}function fO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function us(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(t),!0).forEach(function(n){aE(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):fO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function aE(r,e,t){return e=zhe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function zhe(r){var e=qhe(r,"string");return xg(e)==="symbol"?e:String(e)}function qhe(r,e){if(xg(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(xg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Hhe(r,e){return Khe(r)||Ghe(r,e)||yU(r,e)||Whe()}function Whe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yU(r,e){if(r){if(typeof r=="string")return sE(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sE(r,e)}}function sE(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Ghe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function Khe(r){if(Array.isArray(r))return r}var Yv=function(e,t,n){return e+(t-e)*n},oE=function(e){var t=e.from,n=e.to;return t!==n},Xhe=function r(e,t,n){var i=T0(function(a,s){if(oE(s)){var l=e(s.from,s.to,s.velocity),c=Hhe(l,2),o=c[0],u=c[1];return us(us({},s),{},{from:o,velocity:u})}return s},t);return n<1?T0(function(a,s){return oE(s)?us(us({},s),{},{velocity:Yv(s.velocity,i[a].velocity,n),from:Yv(s.from,i[a].from,n)}):s},t):r(e,i,n-1)};const Yhe=(function(r,e,t,n,i){var a=Che(r,e),s=a.reduce(function(p,y){return us(us({},p),{},aE({},y,[r[y],e[y]]))},{}),l=a.reduce(function(p,y){return us(us({},p),{},aE({},y,{from:r[y],velocity:0,to:e[y]}))},{}),c=-1,o,u,f=function(){return null},d=function(){return T0(function(y,v){return v.from},l)},h=function(){return!Object.values(l).filter(oE).length},m=function(y){o||(o=y);var v=y-o,w=v/t.dt;l=Xhe(t,l,w),i(us(us(us({},r),e),d())),o=y,h()||(c=requestAnimationFrame(f))},g=function(y){u||(u=y);var v=(y-u)/n,w=T0(function(P,F){return Yv.apply(void 0,uO(F).concat([t(v)]))},s);if(i(us(us(us({},r),e),w)),v<1)c=requestAnimationFrame(f);else{var C=T0(function(P,F){return Yv.apply(void 0,uO(F).concat([t(1)]))},s);i(us(us(us({},r),e),C))}};return f=t.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function Fp(r){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(r)}var Qhe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Zhe(r,e){if(r==null)return{};var t=Jhe(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Jhe(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function DS(r){return npe(r)||rpe(r)||tpe(r)||epe()}function epe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tpe(r,e){if(r){if(typeof r=="string")return lE(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lE(r,e)}}function rpe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function npe(r){if(Array.isArray(r))return lE(r)}function lE(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function dO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Cl(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(t),!0).forEach(function(n){v0(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):dO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function v0(r,e,t){return e=vU(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ipe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ape(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,vU(n.key),n)}}function spe(r,e,t){return e&&ape(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function vU(r){var e=ope(r,"string");return Fp(e)==="symbol"?e:String(e)}function ope(r,e){if(Fp(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Fp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function lpe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&cE(r,e)}function cE(r,e){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cE(r,e)}function cpe(r){var e=upe();return function(){var n=Qv(r),i;if(e){var a=Qv(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return uE(this,i)}}function uE(r,e){if(e&&(Fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fE(r)}function fE(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function upe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qv(r){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qv(r)}var Sc=(function(r){lpe(t,r);var e=cpe(t);function t(n,i){var a;ipe(this,t),a=e.call(this,n,i);var s=a.props,l=s.isActive,c=s.attributeName,o=s.from,u=s.to,f=s.steps,d=s.children,h=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(fE(a)),a.changeStyle=a.changeStyle.bind(fE(a)),!l||h<=0)return a.state={style:{}},typeof d=="function"&&(a.state={style:u}),uE(a);if(f&&f.length)a.state={style:f[0].style};else if(o){if(typeof d=="function")return a.state={style:o},uE(a);a.state={style:c?v0({},c,o):o}}else a.state={style:{}};return a}return spe(t,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,o=a.shouldReAnimate,u=a.to,f=a.from,d=this.state.style;if(l){if(!s){var h={style:c?v0({},c,u):u};this.state&&d&&(c&&d[c]!==u||!c&&d!==u)&&this.setState(h);return}if(!(ghe(i.to,u)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||o?f:i.to;if(this.state&&d){var p={style:c?v0({},c,g):g};(c&&d[c]!==g||!c&&d!==g)&&this.setState(p)}this.runAnimation(Cl(Cl({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,o=i.easing,u=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,h=Yhe(s,l,Bhe(o),c,this.changeStyle),m=function(){a.stopJSAnimation=h()};this.manager.start([d,u,m,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,o=s[0],u=o.style,f=o.duration,d=f===void 0?0:f,h=function(g,p,y){if(y===0)return g;var v=p.duration,w=p.easing,C=w===void 0?"ease":w,P=p.style,F=p.properties,L=p.onAnimationEnd,j=y>0?s[y-1]:p,I=F||Object.keys(P);if(typeof C=="function"||C==="spring")return[].concat(DS(g),[a.runJSAnimation.bind(a,{from:j.style,to:P,duration:v,easing:C}),v]);var z=oO(I,v,C),$=Cl(Cl(Cl({},j.style),P),{},{transition:z});return[].concat(DS(g),[$,v,L]).filter(khe)};return this.manager.start([c].concat(DS(s.reduce(h,[u,Math.max(d,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=She());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,o=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,h=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof o=="function"||typeof h=="function"||o==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=l?v0({},l,c):c,p=oO(Object.keys(g),s,o);m.start([u,a,Cl(Cl({},g),{},{transition:p}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Zhe(i,Qhe),o=ce.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!l||o===0||s<=0)return a;var f=function(h){var m=h.props,g=m.style,p=g===void 0?{}:g,y=m.className,v=ce.cloneElement(h,Cl(Cl({},c),{},{style:Cl(Cl({},p),u),className:y}));return v};return o===1?f(ce.Children.only(a)):Le.createElement("div",null,ce.Children.map(a,function(d){return f(d)}))}}]),t})(ce.PureComponent);Sc.displayName="Animate";Sc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Sc.propTypes={from:Un.oneOfType([Un.object,Un.string]),to:Un.oneOfType([Un.object,Un.string]),attributeName:Un.string,duration:Un.number,begin:Un.number,easing:Un.oneOfType([Un.string,Un.func]),steps:Un.arrayOf(Un.shape({duration:Un.number.isRequired,style:Un.object.isRequired,easing:Un.oneOfType([Un.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Un.func]),properties:Un.arrayOf("string"),onAnimationEnd:Un.func})),children:Un.oneOfType([Un.node,Un.func]),isActive:Un.bool,canBegin:Un.bool,onAnimationEnd:Un.func,shouldReAnimate:Un.bool,onAnimationStart:Un.func,onAnimationReStart:Un.func};function _g(r){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(r)}function Zv(){return Zv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Zv.apply(this,arguments)}function fpe(r,e){return mpe(r)||ppe(r,e)||hpe(r,e)||dpe()}function dpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hpe(r,e){if(r){if(typeof r=="string")return hO(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hO(r,e)}}function hO(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function ppe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function mpe(r){if(Array.isArray(r))return r}function pO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function mO(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(t),!0).forEach(function(n){gpe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):pO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function gpe(r,e,t){return e=ype(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ype(r){var e=vpe(r,"string");return _g(e)=="symbol"?e:e+""}function vpe(r,e){if(_g(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(_g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var gO=function(e,t,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,o=i>=0&&n>=0||i<0&&n<0?1:0,u;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],d=0,h=4;d<h;d++)f[d]=a[d]>s?s:a[d];u="M".concat(e,",").concat(t+l*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(o,",").concat(e+c*f[0],",").concat(t)),u+="L ".concat(e+n-c*f[1],",").concat(t),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(o,`,
        `).concat(e+n,",").concat(t+l*f[1])),u+="L ".concat(e+n,",").concat(t+i-l*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(o,`,
        `).concat(e+n-c*f[2],",").concat(t+i)),u+="L ".concat(e+c*f[3],",").concat(t+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(o,`,
        `).concat(e,",").concat(t+i-l*f[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);u="M ".concat(e,",").concat(t+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(o,",").concat(e+c*m,",").concat(t,`
            L `).concat(e+n-c*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(o,",").concat(e+n,",").concat(t+l*m,`
            L `).concat(e+n,",").concat(t+i-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(o,",").concat(e+n-c*m,",").concat(t+i,`
            L `).concat(e+c*m,",").concat(t+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(o,",").concat(e,",").concat(t+i-l*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},bpe=function(e,t){if(!e||!t)return!1;var n=e.x,i=e.y,a=t.x,s=t.y,l=t.width,c=t.height;if(Math.abs(l)>0&&Math.abs(c)>0){var o=Math.min(a,a+l),u=Math.max(a,a+l),f=Math.min(s,s+c),d=Math.max(s,s+c);return n>=o&&n<=u&&i>=f&&i<=d}return!1},wpe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aC=function(e){var t=mO(mO({},wpe),e),n=ce.useRef(),i=ce.useState(-1),a=fpe(i,2),s=a[0],l=a[1];ce.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var c=t.x,o=t.y,u=t.width,f=t.height,d=t.radius,h=t.className,m=t.animationEasing,g=t.animationDuration,p=t.animationBegin,y=t.isAnimationActive,v=t.isUpdateAnimationActive;if(c!==+c||o!==+o||u!==+u||f!==+f||u===0||f===0)return null;var w=nn("recharts-rectangle",h);return v?Le.createElement(Sc,{canBegin:s>0,from:{width:u,height:f,x:c,y:o},to:{width:u,height:f,x:c,y:o},duration:g,animationEasing:m,isActive:v},function(C){var P=C.width,F=C.height,L=C.x,j=C.y;return Le.createElement(Sc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:g,isActive:y,easing:m},Le.createElement("path",Zv({},jr(t,!0),{className:w,d:gO(L,j,P,F,d),ref:n})))}):Le.createElement("path",Zv({},jr(t,!0),{className:w,d:gO(c,o,u,f,d)}))},xpe=["points","className","baseLinePoints","connectNulls"];function rp(){return rp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},rp.apply(this,arguments)}function _pe(r,e){if(r==null)return{};var t=Spe(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Spe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function yO(r){return kpe(r)||Cpe(r)||Ape(r)||Epe()}function Epe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ape(r,e){if(r){if(typeof r=="string")return dE(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dE(r,e)}}function Cpe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function kpe(r){if(Array.isArray(r))return dE(r)}function dE(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var vO=function(e){return e&&e.x===+e.x&&e.y===+e.y},Tpe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=[[]];return e.forEach(function(n){vO(n)?t[t.length-1].push(n):t[t.length-1].length>0&&t.push([])}),vO(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t},N0=function(e,t){var n=Tpe(e);t&&(n=[n.reduce(function(a,s){return[].concat(yO(a),yO(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Npe=function(e,t,n){var i=N0(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(N0(t.reverse(),n).slice(1))},Ppe=function(e){var t=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=_pe(e,xpe);if(!t||!t.length)return null;var l=nn("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",o=Npe(t,i,a);return Le.createElement("g",{className:l},Le.createElement("path",rp({},jr(s,!0),{fill:o.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:o})),c?Le.createElement("path",rp({},jr(s,!0),{fill:"none",d:N0(t,a)})):null,c?Le.createElement("path",rp({},jr(s,!0),{fill:"none",d:N0(i,a)})):null)}var u=N0(t,a);return Le.createElement("path",rp({},jr(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:l,d:u}))};function hE(){return hE=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},hE.apply(this,arguments)}var Iw=function(e){var t=e.cx,n=e.cy,i=e.r,a=e.className,s=nn("recharts-dot",a);return t===+t&&n===+n&&i===+i?ce.createElement("circle",hE({},jr(e,!1),xv(e),{className:s,cx:t,cy:n,r:i})):null};function Sg(r){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(r)}var jpe=["x","y","top","left","width","height","className"];function pE(){return pE=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},pE.apply(this,arguments)}function bO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ipe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(t),!0).forEach(function(n){Ope(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):bO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Ope(r,e,t){return e=Rpe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Rpe(r){var e=Mpe(r,"string");return Sg(e)=="symbol"?e:e+""}function Mpe(r,e){if(Sg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Dpe(r,e){if(r==null)return{};var t=Lpe(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Lpe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}var Fpe=function(e,t,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(t,"h").concat(n)},Bpe=function(e){var t=e.x,n=t===void 0?0:t,i=e.y,a=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,o=c===void 0?0:c,u=e.width,f=u===void 0?0:u,d=e.height,h=d===void 0?0:d,m=e.className,g=Dpe(e,jpe),p=Ipe({x:n,y:a,top:l,left:o,width:f,height:h},g);return!Ft(n)||!Ft(a)||!Ft(f)||!Ft(h)||!Ft(l)||!Ft(o)?null:Le.createElement("path",pE({},jr(p,!0),{className:nn("recharts-cross",m),d:Fpe(n,a,f,h,l,o)}))},LS,wO;function $pe(){if(wO)return LS;wO=1;var r=kw(),e=O$(),t=Cc();function n(i,a){return i&&i.length?r(i,t(a,2),e):void 0}return LS=n,LS}var Upe=$pe();const Vpe=Rn(Upe);var FS,xO;function zpe(){if(xO)return FS;xO=1;var r=kw(),e=Cc(),t=R$();function n(i,a){return i&&i.length?r(i,e(a,2),t):void 0}return FS=n,FS}var qpe=zpe();const Hpe=Rn(qpe);var Wpe=["cx","cy","angle","ticks","axisLine"],Gpe=["ticks","tick","angle","tickFormatter","stroke"];function Bp(r){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(r)}function P0(){return P0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},P0.apply(this,arguments)}function _O(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ud(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(t),!0).forEach(function(n){Ow(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):_O(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function SO(r,e){if(r==null)return{};var t=Kpe(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Kpe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function Xpe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function EO(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,wU(n.key),n)}}function Ype(r,e,t){return e&&EO(r.prototype,e),t&&EO(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Qpe(r,e,t){return e=Jv(e),Zpe(r,bU()?Reflect.construct(e,t||[],Jv(r).constructor):e.apply(r,t))}function Zpe(r,e){if(e&&(Bp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jpe(r)}function Jpe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function bU(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bU=function(){return!!r})()}function Jv(r){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jv(r)}function eme(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&mE(r,e)}function mE(r,e){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mE(r,e)}function Ow(r,e,t){return e=wU(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function wU(r){var e=tme(r,"string");return Bp(e)=="symbol"?e:e+""}function tme(r,e){if(Bp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Rw=(function(r){function e(){return Xpe(this,e),Qpe(this,e,arguments)}return eme(e,r),Ype(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,l=a.cx,c=a.cy;return yi(l,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,l=n.ticks,c=Vpe(l,function(u){return u.coordinate||0}),o=Hpe(l,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:o.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,o=SO(n,Wpe),u=l.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),f=yi(i,a,u[0],s),d=yi(i,a,u[1],s),h=ud(ud(ud({},jr(o,!1)),{},{fill:"none"},jr(c,!1)),{},{x1:f.x,y1:f.y,x2:d.x,y2:d.y});return Le.createElement("line",P0({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,l=i.angle,c=i.tickFormatter,o=i.stroke,u=SO(i,Gpe),f=this.getTickTextAnchor(),d=jr(u,!1),h=jr(s,!1),m=a.map(function(g,p){var y=n.getTickValueCoord(g),v=ud(ud(ud(ud({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},d),{},{stroke:"none",fill:o},h),{},{index:p},y),{},{payload:g});return Le.createElement(jn,P0({className:nn("recharts-polar-radius-axis-tick",lU(s)),key:"tick-".concat(g.coordinate)},Vd(n.props,g,p)),e.renderTickItem(s,v,c?c(g.value,p):g.value))});return Le.createElement(jn,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:Le.createElement(jn,{className:nn("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),es.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return Le.isValidElement(n)?s=Le.cloneElement(n,i):Wr(n)?s=n(i):s=Le.createElement(zd,P0({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])})(ce.PureComponent);Ow(Rw,"displayName","PolarRadiusAxis");Ow(Rw,"axisType","radiusAxis");Ow(Rw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function $p(r){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(r)}function bd(){return bd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},bd.apply(this,arguments)}function AO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function fd(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(t),!0).forEach(function(n){Mw(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):AO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function rme(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function CO(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,_U(n.key),n)}}function nme(r,e,t){return e&&CO(r.prototype,e),t&&CO(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function ime(r,e,t){return e=eb(e),ame(r,xU()?Reflect.construct(e,t||[],eb(r).constructor):e.apply(r,t))}function ame(r,e){if(e&&($p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sme(r)}function sme(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function xU(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xU=function(){return!!r})()}function eb(r){return eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},eb(r)}function ome(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&gE(r,e)}function gE(r,e){return gE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gE(r,e)}function Mw(r,e,t){return e=_U(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function _U(r){var e=lme(r,"string");return $p(e)=="symbol"?e:e+""}function lme(r,e){if($p(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var cme=Math.PI/180,kO=1e-5,Dw=(function(r){function e(){return rme(this,e),ime(this,e,arguments)}return ome(e,r),nme(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,l=i.radius,c=i.orientation,o=i.tickSize,u=o||8,f=yi(a,s,l,n.coordinate),d=yi(a,s,l+(c==="inner"?-1:1)*u,n.coordinate);return{x1:f.x,y1:f.y,x2:d.x,y2:d.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*cme),s;return a>kO?s=i==="outer"?"start":"end":a<-kO?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,o=fd(fd({},jr(this.props,!1)),{},{fill:"none"},jr(l,!1));if(c==="circle")return Le.createElement(Iw,bd({className:"recharts-polar-angle-axis-line"},o,{cx:i,cy:a,r:s}));var u=this.props.ticks,f=u.map(function(d){return yi(i,a,s,d.coordinate)});return Le.createElement(Ppe,bd({className:"recharts-polar-angle-axis-line"},o,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,l=i.tickLine,c=i.tickFormatter,o=i.stroke,u=jr(this.props,!1),f=jr(s,!1),d=fd(fd({},u),{},{fill:"none"},jr(l,!1)),h=a.map(function(m,g){var p=n.getTickLineCoord(m),y=n.getTickTextAnchor(m),v=fd(fd(fd({textAnchor:y},u),{},{stroke:"none",fill:o},f),{},{index:g,payload:m,x:p.x2,y:p.y2});return Le.createElement(jn,bd({className:nn("recharts-polar-angle-axis-tick",lU(s)),key:"tick-".concat(m.coordinate)},Vd(n.props,m,g)),l&&Le.createElement("line",bd({className:"recharts-polar-angle-axis-tick-line"},d,p)),s&&e.renderTickItem(s,v,c?c(m.value,g):m.value))});return Le.createElement(jn,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:Le.createElement(jn,{className:nn("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return Le.isValidElement(n)?s=Le.cloneElement(n,i):Wr(n)?s=n(i):s=Le.createElement(zd,bd({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])})(ce.PureComponent);Mw(Dw,"displayName","PolarAngleAxis");Mw(Dw,"axisType","angleAxis");Mw(Dw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var BS,TO;function ume(){if(TO)return BS;TO=1;var r=IB(),e=r(Object.getPrototypeOf,Object);return BS=e,BS}var $S,NO;function fme(){if(NO)return $S;NO=1;var r=ku(),e=ume(),t=Tu(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,l=a.hasOwnProperty,c=s.call(Object);function o(u){if(!t(u)||r(u)!=n)return!1;var f=e(u);if(f===null)return!0;var d=l.call(f,"constructor")&&f.constructor;return typeof d=="function"&&d instanceof d&&s.call(d)==c}return $S=o,$S}var dme=fme();const hme=Rn(dme);var US,PO;function pme(){if(PO)return US;PO=1;var r=ku(),e=Tu(),t="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&r(i)==t}return US=n,US}var mme=pme();const gme=Rn(mme);function Eg(r){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(r)}function tb(){return tb=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},tb.apply(this,arguments)}function yme(r,e){return xme(r)||wme(r,e)||bme(r,e)||vme()}function vme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bme(r,e){if(r){if(typeof r=="string")return jO(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jO(r,e)}}function jO(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function wme(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function xme(r){if(Array.isArray(r))return r}function IO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function OO(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(t),!0).forEach(function(n){_me(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):IO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function _me(r,e,t){return e=Sme(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Sme(r){var e=Eme(r,"string");return Eg(e)=="symbol"?e:e+""}function Eme(r,e){if(Eg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var RO=function(e,t,n,i,a){var s=n-i,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-s/2,",").concat(t+a),l+="L ".concat(e+n-s/2-i,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},Ame={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cme=function(e){var t=OO(OO({},Ame),e),n=ce.useRef(),i=ce.useState(-1),a=yme(i,2),s=a[0],l=a[1];ce.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=t.x,o=t.y,u=t.upperWidth,f=t.lowerWidth,d=t.height,h=t.className,m=t.animationEasing,g=t.animationDuration,p=t.animationBegin,y=t.isUpdateAnimationActive;if(c!==+c||o!==+o||u!==+u||f!==+f||d!==+d||u===0&&f===0||d===0)return null;var v=nn("recharts-trapezoid",h);return y?Le.createElement(Sc,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:c,y:o},to:{upperWidth:u,lowerWidth:f,height:d,x:c,y:o},duration:g,animationEasing:m,isActive:y},function(w){var C=w.upperWidth,P=w.lowerWidth,F=w.height,L=w.x,j=w.y;return Le.createElement(Sc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:g,easing:m},Le.createElement("path",tb({},jr(t,!0),{className:v,d:RO(L,j,C,P,F),ref:n})))}):Le.createElement("g",null,Le.createElement("path",tb({},jr(t,!0),{className:v,d:RO(c,o,u,f,d)})))},kme=["option","shapeType","propTransformer","activeClassName","isActive"];function Ag(r){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(r)}function Tme(r,e){if(r==null)return{};var t=Nme(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Nme(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function MO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function rb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(t),!0).forEach(function(n){Pme(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):MO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Pme(r,e,t){return e=jme(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function jme(r){var e=Ime(r,"string");return Ag(e)=="symbol"?e:e+""}function Ime(r,e){if(Ag(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Ome(r,e){return rb(rb({},e),r)}function Rme(r,e){return r==="symbols"}function DO(r){var e=r.shapeType,t=r.elementProps;switch(e){case"rectangle":return Le.createElement(aC,t);case"trapezoid":return Le.createElement(Cme,t);case"sector":return Le.createElement(fU,t);case"symbols":if(Rme(e))return Le.createElement(E4,t);break;default:return null}}function Mme(r){return ce.isValidElement(r)?r.props:r}function SU(r){var e=r.option,t=r.shapeType,n=r.propTransformer,i=n===void 0?Ome:n,a=r.activeClassName,s=a===void 0?"recharts-active-shape":a,l=r.isActive,c=Tme(r,kme),o;if(ce.isValidElement(e))o=ce.cloneElement(e,rb(rb({},c),Mme(e)));else if(Wr(e))o=e(c);else if(hme(e)&&!gme(e)){var u=i(e,c);o=Le.createElement(DO,{shapeType:t,elementProps:u})}else{var f=c;o=Le.createElement(DO,{shapeType:t,elementProps:f})}return l?Le.createElement(jn,{className:s},o):o}function Lw(r,e){return e!=null&&"trapezoids"in r.props}function Fw(r,e){return e!=null&&"sectors"in r.props}function Cg(r,e){return e!=null&&"points"in r.props}function Dme(r,e){var t,n,i=r.x===(e==null||(t=e.labelViewBox)===null||t===void 0?void 0:t.x)||r.x===e.x,a=r.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||r.y===e.y;return i&&a}function Lme(r,e){var t=r.endAngle===e.endAngle,n=r.startAngle===e.startAngle;return t&&n}function Fme(r,e){var t=r.x===e.x,n=r.y===e.y,i=r.z===e.z;return t&&n&&i}function Bme(r,e){var t;return Lw(r,e)?t=Dme:Fw(r,e)?t=Lme:Cg(r,e)&&(t=Fme),t}function $me(r,e){var t;return Lw(r,e)?t="trapezoids":Fw(r,e)?t="sectors":Cg(r,e)&&(t="points"),t}function Ume(r,e){if(Lw(r,e)){var t;return(t=e.tooltipPayload)===null||t===void 0||(t=t[0])===null||t===void 0||(t=t.payload)===null||t===void 0?void 0:t.payload}if(Fw(r,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Cg(r,e)?e.payload:{}}function Vme(r){var e=r.activeTooltipItem,t=r.graphicalItem,n=r.itemData,i=$me(t,e),a=Ume(t,e),s=n.filter(function(c,o){var u=s1(a,c),f=t.props[i].filter(function(m){var g=Bme(t,e);return g(m,e)}),d=t.props[i].indexOf(f[f.length-1]),h=o===d;return u&&h}),l=n.indexOf(s[s.length-1]);return l}var $y;function Up(r){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(r)}function np(){return np=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},np.apply(this,arguments)}function LO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function pi(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(t),!0).forEach(function(n){nl(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):LO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function zme(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function FO(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,AU(n.key),n)}}function qme(r,e,t){return e&&FO(r.prototype,e),t&&FO(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Hme(r,e,t){return e=nb(e),Wme(r,EU()?Reflect.construct(e,t||[],nb(r).constructor):e.apply(r,t))}function Wme(r,e){if(e&&(Up(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gme(r)}function Gme(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function EU(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EU=function(){return!!r})()}function nb(r){return nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nb(r)}function Kme(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&yE(r,e)}function yE(r,e){return yE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yE(r,e)}function nl(r,e,t){return e=AU(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function AU(r){var e=Xme(r,"string");return Up(e)=="symbol"?e:e+""}function Xme(r,e){if(Up(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var kc=(function(r){function e(t){var n;return zme(this,e),n=Hme(this,e,[t]),nl(n,"pieRef",null),nl(n,"sectorRefs",[]),nl(n,"id",hm("recharts-pie-")),nl(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Wr(i)&&i()}),nl(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Wr(i)&&i()}),n.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},n}return Kme(e,r),qme(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,l=a.labelLine,c=a.dataKey,o=a.valueKey,u=jr(this.props,!1),f=jr(s,!1),d=jr(l,!1),h=s&&s.offsetRadius||20,m=n.map(function(g,p){var y=(g.startAngle+g.endAngle)/2,v=yi(g.cx,g.cy,g.outerRadius+h,y),w=pi(pi(pi(pi({},u),g),{},{stroke:"none"},f),{},{index:p,textAnchor:e.getTextAnchor(v.x,g.cx)},v),C=pi(pi(pi(pi({},u),g),{},{fill:"none",stroke:g.fill},d),{},{index:p,points:[yi(g.cx,g.cy,g.outerRadius,y),v]}),P=c;return Jr(c)&&Jr(o)?P="value":Jr(c)&&(P=o),Le.createElement(jn,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(p)},l&&e.renderLabelLineItem(l,C,"line"),e.renderLabelItem(s,w,Da(g,P)))});return Le.createElement(jn,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(o,u){if((o==null?void 0:o.startAngle)===0&&(o==null?void 0:o.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(u),d=c&&i.hasActiveIndex()?c:null,h=f?s:d,m=pi(pi({},o),{},{stroke:l?o.fill:o.stroke,tabIndex:-1});return Le.createElement(jn,np({ref:function(p){p&&!i.sectorRefs.includes(p)&&i.sectorRefs.push(p)},tabIndex:-1,className:"recharts-pie-sector"},Vd(i.props,o,u),{key:"sector-".concat(o==null?void 0:o.startAngle,"-").concat(o==null?void 0:o.endAngle,"-").concat(o.midAngle,"-").concat(u)}),Le.createElement(SU,np({option:h,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,o=i.animationEasing,u=i.animationId,f=this.state,d=f.prevSectors,h=f.prevIsAnimationActive;return Le.createElement(Sc,{begin:l,duration:c,isActive:s,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,p=[],y=a&&a[0],v=y.startAngle;return a.forEach(function(w,C){var P=d&&d[C],F=C>0?Do(w,"paddingAngle",0):0;if(P){var L=Io(P.endAngle-P.startAngle,w.endAngle-w.startAngle),j=pi(pi({},w),{},{startAngle:v+F,endAngle:v+L(g)+F});p.push(j),v=j.endAngle}else{var I=w.endAngle,z=w.startAngle,$=Io(0,I-z),B=$(g),T=pi(pi({},w),{},{startAngle:v+F,endAngle:v+B+F});p.push(T),v=T.endAngle}}),Le.createElement(jn,null,n.renderSectorsStatically(p))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!s1(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,l=i.className,c=i.label,o=i.cx,u=i.cy,f=i.innerRadius,d=i.outerRadius,h=i.isAnimationActive,m=this.state.isAnimationFinished;if(a||!s||!s.length||!Ft(o)||!Ft(u)||!Ft(f)||!Ft(d))return null;var g=nn("recharts-pie",l);return Le.createElement(jn,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(s),es.renderCallByParent(this.props,null,!1),(!h||m)&&fu.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(Le.isValidElement(n))return Le.cloneElement(n,i);if(Wr(n))return n(i);var s=nn("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Le.createElement(Kv,np({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(Le.isValidElement(n))return Le.cloneElement(n,i);var s=a;if(Wr(n)&&(s=n(i),Le.isValidElement(s)))return s;var l=nn("recharts-pie-label-text",typeof n!="boolean"&&!Wr(n)?n.className:"");return Le.createElement(zd,np({},i,{alignmentBaseline:"middle",className:l}),s)}}])})(ce.PureComponent);$y=kc;nl(kc,"displayName","Pie");nl(kc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!oh.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});nl(kc,"parseDeltaAngle",function(r,e){var t=Gs(e-r),n=Math.min(Math.abs(e-r),360);return t*n});nl(kc,"getRealPieData",function(r){var e=r.data,t=r.children,n=jr(r,!1),i=Lo(t,t1);return e&&e.length?e.map(function(a,s){return pi(pi(pi({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return pi(pi({},n),a.props)}):[]});nl(kc,"parseCoordinateOfPie",function(r,e){var t=e.top,n=e.left,i=e.width,a=e.height,s=oU(i,a),l=n+Ks(r.cx,i,i/2),c=t+Ks(r.cy,a,a/2),o=Ks(r.innerRadius,s,0),u=Ks(r.outerRadius,s,s*.8),f=r.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:o,outerRadius:u,maxRadius:f}});nl(kc,"getComposedData",function(r){var e=r.item,t=r.offset,n=e.type.defaultProps!==void 0?pi(pi({},e.type.defaultProps),e.props):e.props,i=$y.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,o=n.dataKey,u=n.nameKey,f=n.valueKey,d=n.tooltipType,h=Math.abs(n.minAngle),m=$y.parseCoordinateOfPie(n,t),g=$y.parseDeltaAngle(s,l),p=Math.abs(g),y=o;Jr(o)&&Jr(f)?(Dl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Jr(o)&&(Dl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var v=i.filter(function(j){return Da(j,y,0)!==0}).length,w=(p>=360?v:v-1)*c,C=p-v*h-w,P=i.reduce(function(j,I){var z=Da(I,y,0);return j+(Ft(z)?z:0)},0),F;if(P>0){var L;F=i.map(function(j,I){var z=Da(j,y,0),$=Da(j,u,I),B=(Ft(z)?z:0)/P,T;I?T=L.endAngle+Gs(g)*c*(z!==0?1:0):T=s;var R=T+Gs(g)*((z!==0?h:0)+B*C),N=(T+R)/2,_=(m.innerRadius+m.outerRadius)/2,E=[{name:$,value:z,payload:j,dataKey:y,type:d}],S=yi(m.cx,m.cy,_,N);return L=pi(pi(pi({percent:B,cornerRadius:a,name:$,tooltipPayload:E,midAngle:N,middleRadius:_,tooltipPosition:S},j),m),{},{value:Da(j,y),startAngle:T,endAngle:R,payload:j,paddingAngle:Gs(g)*c}),L})}return pi(pi({},m),{},{sectors:F,data:i})});var VS,BO;function Yme(){if(BO)return VS;BO=1;var r=Math.ceil,e=Math.max;function t(n,i,a,s){for(var l=-1,c=e(r((i-n)/(a||1)),0),o=Array(c);c--;)o[s?c:++l]=n,n+=a;return o}return VS=t,VS}var zS,$O;function CU(){if($O)return zS;$O=1;var r=KB(),e=1/0,t=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=r(i),i===e||i===-e){var a=i<0?-1:1;return a*t}return i===i?i:0}return zS=n,zS}var qS,UO;function Qme(){if(UO)return qS;UO=1;var r=Yme(),e=ww(),t=CU();function n(i){return function(a,s,l){return l&&typeof l!="number"&&e(a,s,l)&&(s=l=void 0),a=t(a),s===void 0?(s=a,a=0):s=t(s),l=l===void 0?a<s?1:-1:t(l),r(a,s,l,i)}}return qS=n,qS}var HS,VO;function Zme(){if(VO)return HS;VO=1;var r=Qme(),e=r();return HS=e,HS}var Jme=Zme();const ib=Rn(Jme);function kg(r){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(r)}function zO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function qO(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(t),!0).forEach(function(n){kU(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):zO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function kU(r,e,t){return e=e0e(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function e0e(r){var e=t0e(r,"string");return kg(e)=="symbol"?e:e+""}function t0e(r,e){if(kg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var r0e=["Webkit","Moz","O","ms"],n0e=function(e,t){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=r0e.reduce(function(a,s){return qO(qO({},a),{},kU({},s+n,t))},{});return i[e]=t,i};function Vp(r){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(r)}function ab(){return ab=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ab.apply(this,arguments)}function HO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function WS(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(t),!0).forEach(function(n){Po(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):HO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function i0e(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function WO(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,NU(n.key),n)}}function a0e(r,e,t){return e&&WO(r.prototype,e),t&&WO(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function s0e(r,e,t){return e=sb(e),o0e(r,TU()?Reflect.construct(e,t||[],sb(r).constructor):e.apply(r,t))}function o0e(r,e){if(e&&(Vp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l0e(r)}function l0e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function TU(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TU=function(){return!!r})()}function sb(r){return sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sb(r)}function c0e(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&vE(r,e)}function vE(r,e){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vE(r,e)}function Po(r,e,t){return e=NU(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function NU(r){var e=u0e(r,"string");return Vp(e)=="symbol"?e:e+""}function u0e(r,e){if(Vp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var f0e=function(e){var t=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,l=e.travellerWidth;if(!t||!t.length)return{};var c=t.length,o=C0().domain(ib(0,c)).range([a,a+s-l]),u=o.domain().map(function(f){return o(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:o(n),endX:o(i),scale:o,scaleValues:u}},GO=function(e){return e.changedTouches&&!!e.changedTouches.length},zp=(function(r){function e(t){var n;return i0e(this,e),n=s0e(this,e,[t]),Po(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Po(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Po(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Po(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Po(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Po(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Po(n,"handleSlideDragStart",function(i){var a=GO(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return c0e(e,r),a0e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,o=l.data,u=o.length-1,f=Math.min(i,a),d=Math.max(i,a),h=e.getIndexInRange(s,f),m=e.getIndexInRange(s,d);return{startIndex:h-h%c,endIndex:m===u?u:m-m%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=Da(a[n],l,n);return Wr(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,o=c.x,u=c.width,f=c.travellerWidth,d=c.startIndex,h=c.endIndex,m=c.onChange,g=n.pageX-a;g>0?g=Math.min(g,o+u-f-l,o+u-f-s):g<0&&(g=Math.max(g,o-s,o-l));var p=this.getIndex({startX:s+g,endX:l+g});(p.startIndex!==d||p.endIndex!==h)&&m&&m(p),this.setState({startX:s+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=GO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,o=this.state[s],u=this.props,f=u.x,d=u.width,h=u.travellerWidth,m=u.onChange,g=u.gap,p=u.data,y={startX:this.state.startX,endX:this.state.endX},v=n.pageX-a;v>0?v=Math.min(v,f+d-h-o):v<0&&(v=Math.max(v,f-o)),y[s]=o+v;var w=this.getIndex(y),C=w.startIndex,P=w.endIndex,F=function(){var j=p.length-1;return s==="startX"&&(l>c?C%g===0:P%g===0)||l<c&&P===j||s==="endX"&&(l>c?P%g===0:C%g===0)||l>c&&P===j};this.setState(Po(Po({},s,o+v),"brushMoveStartX",n.pageX),function(){m&&F()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,o=s.endX,u=this.state[i],f=l.indexOf(u);if(f!==-1){var d=f+n;if(!(d===-1||d>=l.length)){var h=l[d];i==="startX"&&h>=o||i==="endX"&&h<=c||this.setState(Po({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.fill,o=n.stroke;return Le.createElement("rect",{stroke:o,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.data,o=n.children,u=n.padding,f=ce.Children.only(o);return f?Le.cloneElement(f,{x:i,y:a,width:s,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,l=this,c=this.props,o=c.y,u=c.travellerWidth,f=c.height,d=c.traveller,h=c.ariaLabel,m=c.data,g=c.startIndex,p=c.endIndex,y=Math.max(n,this.props.x),v=WS(WS({},jr(this.props,!1)),{},{x:y,y:o,width:u,height:f}),w=h||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=m[p])===null||s===void 0?void 0:s.name);return Le.createElement(jn,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),l.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,v))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,o=a.travellerWidth,u=Math.min(n,i)+o,f=Math.max(Math.abs(i-n)-o,0);return Le.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:s,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,o=n.stroke,u=this.state,f=u.startX,d=u.endX,h=5,m={pointerEvents:"none",fill:o};return Le.createElement(jn,{className:"recharts-brush-texts"},Le.createElement(zd,ab({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-h,y:s+l/2},m),this.getTextOfTick(i)),Le.createElement(zd,ab({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+c+h,y:s+l/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,l=n.x,c=n.y,o=n.width,u=n.height,f=n.alwaysShowText,d=this.state,h=d.startX,m=d.endX,g=d.isTextActive,p=d.isSlideMoving,y=d.isTravellerMoving,v=d.isTravellerFocused;if(!i||!i.length||!Ft(l)||!Ft(c)||!Ft(o)||!Ft(u)||o<=0||u<=0)return null;var w=nn("recharts-brush",a),C=Le.Children.count(s)===1,P=n0e("userSelect","none");return Le.createElement(jn,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(h,m),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(m,"endX"),(g||p||y||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,l=n.height,c=n.stroke,o=Math.floor(a+l/2)-1;return Le.createElement(Le.Fragment,null,Le.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),Le.createElement("line",{x1:i+1,y1:o,x2:i+s-1,y2:o,fill:"none",stroke:"#fff"}),Le.createElement("line",{x1:i+1,y1:o+2,x2:i+s-1,y2:o+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return Le.isValidElement(n)?a=Le.cloneElement(n,i):Wr(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,l=n.x,c=n.travellerWidth,o=n.updateId,u=n.startIndex,f=n.endIndex;if(a!==i.prevData||o!==i.prevUpdateId)return WS({prevData:a,prevTravellerWidth:c,prevUpdateId:o,prevX:l,prevWidth:s},a&&a.length?f0e({data:a,width:s,x:l,travellerWidth:c,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var d=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:o,prevX:l,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>i?l=c:s=c}return i>=n[l]?l:s}}])})(ce.PureComponent);Po(zp,"displayName","Brush");Po(zp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var GS,KO;function d0e(){if(KO)return GS;KO=1;var r=j4();function e(t,n){var i;return r(t,function(a,s,l){return i=n(a,s,l),!i}),!!i}return GS=e,GS}var KS,XO;function h0e(){if(XO)return KS;XO=1;var r=AB(),e=Cc(),t=d0e(),n=ho(),i=ww();function a(s,l,c){var o=n(s)?r:t;return c&&i(s,l,c)&&(l=void 0),o(s,e(l,3))}return KS=a,KS}var p0e=h0e();const m0e=Rn(p0e);var vc=function(e,t){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===t},XS,YO;function g0e(){if(YO)return XS;YO=1;var r=zB();function e(t,n,i){n=="__proto__"&&r?r(t,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[n]=i}return XS=e,XS}var YS,QO;function y0e(){if(QO)return YS;QO=1;var r=g0e(),e=UB(),t=Cc();function n(i,a){var s={};return a=t(a,3),e(i,function(l,c,o){r(s,c,a(l,c,o))}),s}return YS=n,YS}var v0e=y0e();const b0e=Rn(v0e);var QS,ZO;function w0e(){if(ZO)return QS;ZO=1;function r(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}return QS=r,QS}var ZS,JO;function x0e(){if(JO)return ZS;JO=1;var r=j4();function e(t,n){var i=!0;return r(t,function(a,s,l){return i=!!n(a,s,l),i}),i}return ZS=e,ZS}var JS,eR;function _0e(){if(eR)return JS;eR=1;var r=w0e(),e=x0e(),t=Cc(),n=ho(),i=ww();function a(s,l,c){var o=n(s)?r:e;return c&&i(s,l,c)&&(l=void 0),o(s,t(l,3))}return JS=a,JS}var S0e=_0e();const PU=Rn(S0e);var E0e=["x","y"];function Tg(r){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(r)}function bE(){return bE=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},bE.apply(this,arguments)}function tR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function s0(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(t),!0).forEach(function(n){A0e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):tR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function A0e(r,e,t){return e=C0e(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function C0e(r){var e=k0e(r,"string");return Tg(e)=="symbol"?e:e+""}function k0e(r,e){if(Tg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function T0e(r,e){if(r==null)return{};var t=N0e(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function N0e(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function P0e(r,e){var t=r.x,n=r.y,i=T0e(r,E0e),a="".concat(t),s=parseInt(a,10),l="".concat(n),c=parseInt(l,10),o="".concat(e.height||i.height),u=parseInt(o,10),f="".concat(e.width||i.width),d=parseInt(f,10);return s0(s0(s0(s0(s0({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:u,width:d,name:e.name,radius:e.radius})}function rR(r){return Le.createElement(SU,bE({shapeType:"rectangle",propTransformer:P0e,activeClassName:"recharts-active-bar"},r))}var j0e=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=Ft(n)||tne(n);return a?e(n,i):(a||Hd(),t)}},I0e=["value","background"],jU;function qp(r){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(r)}function O0e(r,e){if(r==null)return{};var t=R0e(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function R0e(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function ob(){return ob=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ob.apply(this,arguments)}function nR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function wa(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(t),!0).forEach(function(n){hf(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):nR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function M0e(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function iR(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,OU(n.key),n)}}function D0e(r,e,t){return e&&iR(r.prototype,e),t&&iR(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function L0e(r,e,t){return e=lb(e),F0e(r,IU()?Reflect.construct(e,t||[],lb(r).constructor):e.apply(r,t))}function F0e(r,e){if(e&&(qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B0e(r)}function B0e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function IU(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IU=function(){return!!r})()}function lb(r){return lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lb(r)}function $0e(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&wE(r,e)}function wE(r,e){return wE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wE(r,e)}function hf(r,e,t){return e=OU(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function OU(r){var e=U0e(r,"string");return qp(e)=="symbol"?e:e+""}function U0e(r,e){if(qp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Tf=(function(r){function e(){var t;M0e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=L0e(this,e,[].concat(i)),hf(t,"state",{isAnimationFinished:!1}),hf(t,"id",hm("recharts-bar-")),hf(t,"handleAnimationEnd",function(){var s=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),s&&s()}),hf(t,"handleAnimationStart",function(){var s=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),s&&s()}),t}return $0e(e,r),D0e(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,o=a.activeBar,u=jr(this.props,!1);return n&&n.map(function(f,d){var h=d===c,m=h?o:s,g=wa(wa(wa({},u),f),{},{isActive:h,option:m,index:d,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Le.createElement(jn,ob({className:"recharts-bar-rectangle"},Vd(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),Le.createElement(rR,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,o=i.animationDuration,u=i.animationEasing,f=i.animationId,d=this.state.prevData;return Le.createElement(Sc,{begin:c,duration:o,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,g=a.map(function(p,y){var v=d&&d[y];if(v){var w=Io(v.x,p.x),C=Io(v.y,p.y),P=Io(v.width,p.width),F=Io(v.height,p.height);return wa(wa({},p),{},{x:w(m),y:C(m),width:P(m),height:F(m)})}if(s==="horizontal"){var L=Io(0,p.height),j=L(m);return wa(wa({},p),{},{y:p.y+p.height-j,height:j})}var I=Io(0,p.width),z=I(m);return wa(wa({},p),{},{width:z})});return Le.createElement(jn,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!s1(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=jr(this.props.background,!1);return a.map(function(o,u){o.value;var f=o.background,d=O0e(o,I0e);if(!f)return null;var h=wa(wa(wa(wa(wa({},d),{},{fill:"#eee"},f),c),Vd(n.props,o,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return Le.createElement(rR,ob({key:"background-bar-".concat(u),option:n.props.background,isActive:u===l},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,o=a.layout,u=a.children,f=Lo(u,o1);if(!f)return null;var d=o==="vertical"?s[0].height/2:s[0].width/2,h=function(p,y){var v=Array.isArray(p.value)?p.value[1]:p.value;return{x:p.x,y:p.y,value:v,errorVal:Da(p,y)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Le.createElement(jn,m,f.map(function(g){return Le.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:l,yAxis:c,layout:o,offset:d,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,l=n.xAxis,c=n.yAxis,o=n.left,u=n.top,f=n.width,d=n.height,h=n.isAnimationActive,m=n.background,g=n.id;if(i||!a||!a.length)return null;var p=this.state.isAnimationFinished,y=nn("recharts-bar",s),v=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,C=v||w,P=Jr(g)?this.id:g;return Le.createElement(jn,{className:y},v||w?Le.createElement("defs",null,Le.createElement("clipPath",{id:"clipPath-".concat(P)},Le.createElement("rect",{x:v?o:o-f/2,y:w?u:u-d/2,width:v?f:f*2,height:w?d:d*2}))):null,Le.createElement(jn,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(P,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,P),(!h||p)&&fu.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(ce.PureComponent);jU=Tf;hf(Tf,"displayName","Bar");hf(Tf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!oh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});hf(Tf,"getComposedData",function(r){var e=r.props,t=r.item,n=r.barPosition,i=r.bandSize,a=r.xAxis,s=r.yAxis,l=r.xAxisTicks,c=r.yAxisTicks,o=r.stackedData,u=r.dataStartIndex,f=r.displayedData,d=r.offset,h=gfe(n,t);if(!h)return null;var m=e.layout,g=t.type.defaultProps,p=g!==void 0?wa(wa({},g),t.props):t.props,y=p.dataKey,v=p.children,w=p.minPointSize,C=m==="horizontal"?s:a,P=o?C.scale.domain():null,F=Sfe({numericAxis:C}),L=Lo(v,t1),j=f.map(function(I,z){var $,B,T,R,N,_;o?$=yfe(o[u+z],P):($=Da(I,y),Array.isArray($)||($=[F,$]));var E=j0e(w,jU.defaultProps.minPointSize)($[1],z);if(m==="horizontal"){var S,k=[s.scale($[0]),s.scale($[1])],M=k[0],V=k[1];B=NI({axis:a,ticks:l,bandSize:i,offset:h.offset,entry:I,index:z}),T=(S=V??M)!==null&&S!==void 0?S:void 0,R=h.size;var O=M-V;if(N=Number.isNaN(O)?0:O,_={x:B,y:s.y,width:R,height:s.height},Math.abs(E)>0&&Math.abs(N)<Math.abs(E)){var X=Gs(N||E)*(Math.abs(E)-Math.abs(N));T-=X,N+=X}}else{var Q=[a.scale($[0]),a.scale($[1])],re=Q[0],G=Q[1];if(B=re,T=NI({axis:s,ticks:c,bandSize:i,offset:h.offset,entry:I,index:z}),R=G-re,N=h.size,_={x:a.x,y:T,width:a.width,height:N},Math.abs(E)>0&&Math.abs(R)<Math.abs(E)){var J=Gs(R||E)*(Math.abs(E)-Math.abs(R));R+=J}}return wa(wa(wa({},I),{},{x:B,y:T,width:R,height:N,value:o?$:$[1],payload:I,background:_},L&&L[z]&&L[z].props),{},{tooltipPayload:[aU(t,I)],tooltipPosition:{x:B+R/2,y:T+N/2}})});return wa({data:j,layout:m},d)});function Ng(r){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(r)}function V0e(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function aR(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,RU(n.key),n)}}function z0e(r,e,t){return e&&aR(r.prototype,e),t&&aR(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function sR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Tl(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(t),!0).forEach(function(n){Bw(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):sR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Bw(r,e,t){return e=RU(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function RU(r){var e=q0e(r,"string");return Ng(e)=="symbol"?e:e+""}function q0e(r,e){if(Ng(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var MU=function(e,t,n,i,a){var s=e.width,l=e.height,c=e.layout,o=e.children,u=Object.keys(t),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},d=!!jo(o,Tf);return u.reduce(function(h,m){var g=t[m],p=g.orientation,y=g.domain,v=g.padding,w=v===void 0?{}:v,C=g.mirror,P=g.reversed,F="".concat(p).concat(C?"Mirror":""),L,j,I,z,$;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var B=y[1]-y[0],T=1/0,R=g.categoricalDomain.sort(ine);if(R.forEach(function(Q,re){re>0&&(T=Math.min((Q||0)-(R[re-1]||0),T))}),Number.isFinite(T)){var N=T/B,_=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(L=N*_/2),g.padding==="no-gap"){var E=Ks(e.barCategoryGap,N*_),S=N*_/2;L=S-E-(S-E)/_*E}}}i==="xAxis"?j=[n.left+(w.left||0)+(L||0),n.left+n.width-(w.right||0)-(L||0)]:i==="yAxis"?j=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(L||0),n.top+n.height-(w.bottom||0)-(L||0)]:j=g.range,P&&(j=[j[1],j[0]]);var k=tU(g,a,d),M=k.scale,V=k.realScaleType;M.domain(y).range(j),rU(M);var O=nU(M,Tl(Tl({},g),{},{realScaleType:V}));i==="xAxis"?($=p==="top"&&!C||p==="bottom"&&C,I=n.left,z=f[F]-$*g.height):i==="yAxis"&&($=p==="left"&&!C||p==="right"&&C,I=f[F]-$*g.width,z=n.top);var X=Tl(Tl(Tl({},g),O),{},{realScaleType:V,x:I,y:z,scale:M,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return X.bandSize=Hv(X,O),!g.hide&&i==="xAxis"?f[F]+=($?-1:1)*X.height:g.hide||(f[F]+=($?-1:1)*X.width),Tl(Tl({},h),{},Bw({},m,X))},{})},DU=function(e,t){var n=e.x,i=e.y,a=t.x,s=t.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},H0e=function(e){var t=e.x1,n=e.y1,i=e.x2,a=e.y2;return DU({x:t,y:n},{x:i,y:a})},LU=(function(){function r(e){V0e(this,r),this.scale=e}return z0e(r,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}},{key:"isInRange",value:function(t){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?t>=i&&t<=a:t>=a&&t<=i}}],[{key:"create",value:function(t){return new r(t)}}])})();Bw(LU,"EPS",1e-4);var sC=function(e){var t=Object.keys(e).reduce(function(n,i){return Tl(Tl({},n),{},Bw({},i,LU.create(e[i])))},{});return Tl(Tl({},t),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return b0e(i,function(c,o){return t[o].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return PU(i,function(a,s){return t[s].isInRange(a)})}})};function W0e(r){return(r%180+180)%180}var G0e=function(e){var t=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=W0e(i),s=a*Math.PI/180,l=Math.atan(n/t),c=s>l&&s<Math.PI-l?n/Math.sin(s):t/Math.cos(s);return Math.abs(c)},e2,oR;function K0e(){if(oR)return e2;oR=1;var r=Cc(),e=e1(),t=vw();function n(i){return function(a,s,l){var c=Object(a);if(!e(a)){var o=r(s,3);a=t(a),s=function(f){return o(c[f],f,c)}}var u=i(a,s,l);return u>-1?c[o?a[u]:u]:void 0}}return e2=n,e2}var t2,lR;function X0e(){if(lR)return t2;lR=1;var r=CU();function e(t){var n=r(t),i=n%1;return n===n?i?n-i:n:0}return t2=e,t2}var r2,cR;function Y0e(){if(cR)return r2;cR=1;var r=DB(),e=Cc(),t=X0e(),n=Math.max;function i(a,s,l){var c=a==null?0:a.length;if(!c)return-1;var o=l==null?0:t(l);return o<0&&(o=n(c+o,0)),r(a,e(s,3),o)}return r2=i,r2}var n2,uR;function Q0e(){if(uR)return n2;uR=1;var r=K0e(),e=Y0e(),t=r(e);return n2=t,n2}var Z0e=Q0e();const J0e=Rn(Z0e);var ege=ZF();const tge=Rn(ege);var rge=tge(function(r){return{x:r.left,y:r.top,width:r.width,height:r.height}},function(r){return["l",r.left,"t",r.top,"w",r.width,"h",r.height].join("")}),oC=ce.createContext(void 0),lC=ce.createContext(void 0),FU=ce.createContext(void 0),BU=ce.createContext({}),$U=ce.createContext(void 0),UU=ce.createContext(0),VU=ce.createContext(0),fR=function(e){var t=e.state,n=t.xAxisMap,i=t.yAxisMap,a=t.offset,s=e.clipPathId,l=e.children,c=e.width,o=e.height,u=rge(a);return Le.createElement(oC.Provider,{value:n},Le.createElement(lC.Provider,{value:i},Le.createElement(BU.Provider,{value:a},Le.createElement(FU.Provider,{value:u},Le.createElement($U.Provider,{value:s},Le.createElement(UU.Provider,{value:o},Le.createElement(VU.Provider,{value:c},l)))))))},nge=function(){return ce.useContext($U)},zU=function(e){var t=ce.useContext(oC);t==null&&Hd();var n=t[e];return n==null&&Hd(),n},ige=function(){var e=ce.useContext(oC);return uf(e)},age=function(){var e=ce.useContext(lC),t=J0e(e,function(n){return PU(n.domain,Number.isFinite)});return t||uf(e)},qU=function(e){var t=ce.useContext(lC);t==null&&Hd();var n=t[e];return n==null&&Hd(),n},sge=function(){var e=ce.useContext(FU);return e},oge=function(){return ce.useContext(BU)},cC=function(){return ce.useContext(VU)},uC=function(){return ce.useContext(UU)};function Hp(r){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(r)}function lge(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function cge(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,WU(n.key),n)}}function uge(r,e,t){return e&&cge(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function fge(r,e,t){return e=cb(e),dge(r,HU()?Reflect.construct(e,t||[],cb(r).constructor):e.apply(r,t))}function dge(r,e){if(e&&(Hp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hge(r)}function hge(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function HU(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HU=function(){return!!r})()}function cb(r){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cb(r)}function pge(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&xE(r,e)}function xE(r,e){return xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xE(r,e)}function dR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function hR(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(t),!0).forEach(function(n){fC(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):dR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function fC(r,e,t){return e=WU(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function WU(r){var e=mge(r,"string");return Hp(e)=="symbol"?e:e+""}function mge(r,e){if(Hp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function gge(r,e){return wge(r)||bge(r,e)||vge(r,e)||yge()}function yge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vge(r,e){if(r){if(typeof r=="string")return pR(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pR(r,e)}}function pR(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function bge(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function wge(r){if(Array.isArray(r))return r}function _E(){return _E=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},_E.apply(this,arguments)}var xge=function(e,t){var n;return Le.isValidElement(e)?n=Le.cloneElement(e,t):Wr(e)?n=e(t):n=Le.createElement("line",_E({},t,{className:"recharts-reference-line-line"})),n},_ge=function(e,t,n,i,a,s,l,c,o){var u=a.x,f=a.y,d=a.width,h=a.height;if(n){var m=o.y,g=e.y.apply(m,{position:s});if(vc(o,"discard")&&!e.y.isInRange(g))return null;var p=[{x:u+d,y:g},{x:u,y:g}];return c==="left"?p.reverse():p}if(t){var y=o.x,v=e.x.apply(y,{position:s});if(vc(o,"discard")&&!e.x.isInRange(v))return null;var w=[{x:v,y:f+h},{x:v,y:f}];return l==="top"?w.reverse():w}if(i){var C=o.segment,P=C.map(function(F){return e.apply(F,{position:s})});return vc(o,"discard")&&m0e(P,function(F){return!e.isInRange(F)})?null:P}return null};function Sge(r){var e=r.x,t=r.y,n=r.segment,i=r.xAxisId,a=r.yAxisId,s=r.shape,l=r.className,c=r.alwaysShow,o=nge(),u=zU(i),f=qU(a),d=sge();if(!o||!d)return null;Dl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=sC({x:u.scale,y:f.scale}),m=La(e),g=La(t),p=n&&n.length===2,y=_ge(h,m,g,p,d,r.position,u.orientation,f.orientation,r);if(!y)return null;var v=gge(y,2),w=v[0],C=w.x,P=w.y,F=v[1],L=F.x,j=F.y,I=vc(r,"hidden")?"url(#".concat(o,")"):void 0,z=hR(hR({clipPath:I},jr(r,!0)),{},{x1:C,y1:P,x2:L,y2:j});return Le.createElement(jn,{className:nn("recharts-reference-line",l)},xge(s,z),es.renderCallByParent(r,H0e({x1:C,y1:P,x2:L,y2:j})))}var dC=(function(r){function e(){return lge(this,e),fge(this,e,arguments)}return pge(e,r),uge(e,[{key:"render",value:function(){return Le.createElement(Sge,this.props)}}])})(Le.Component);fC(dC,"displayName","ReferenceLine");fC(dC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function SE(){return SE=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},SE.apply(this,arguments)}function Wp(r){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(r)}function mR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function gR(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(t),!0).forEach(function(n){$w(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):mR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Ege(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Age(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,KU(n.key),n)}}function Cge(r,e,t){return e&&Age(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function kge(r,e,t){return e=ub(e),Tge(r,GU()?Reflect.construct(e,t||[],ub(r).constructor):e.apply(r,t))}function Tge(r,e){if(e&&(Wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nge(r)}function Nge(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function GU(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GU=function(){return!!r})()}function ub(r){return ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ub(r)}function Pge(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&EE(r,e)}function EE(r,e){return EE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},EE(r,e)}function $w(r,e,t){return e=KU(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function KU(r){var e=jge(r,"string");return Wp(e)=="symbol"?e:e+""}function jge(r,e){if(Wp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Ige=function(e){var t=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=sC({x:i.scale,y:a.scale}),l=s.apply({x:t,y:n},{bandAware:!0});return vc(e,"discard")&&!s.isInRange(l)?null:l},Uw=(function(r){function e(){return Ege(this,e),kge(this,e,arguments)}return Pge(e,r),Cge(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,o=La(i),u=La(a);if(Dl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!u)return null;var f=Ige(this.props);if(!f)return null;var d=f.x,h=f.y,m=this.props,g=m.shape,p=m.className,y=vc(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=gR(gR({clipPath:y},jr(this.props,!0)),{},{cx:d,cy:h});return Le.createElement(jn,{className:nn("recharts-reference-dot",p)},e.renderDot(g,v),es.renderCallByParent(this.props,{x:d-s,y:h-s,width:2*s,height:2*s}))}}])})(Le.Component);$w(Uw,"displayName","ReferenceDot");$w(Uw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});$w(Uw,"renderDot",function(r,e){var t;return Le.isValidElement(r)?t=Le.cloneElement(r,e):Wr(r)?t=r(e):t=Le.createElement(Iw,SE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),t});function AE(){return AE=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},AE.apply(this,arguments)}function Gp(r){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(r)}function yR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function vR(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(t),!0).forEach(function(n){Vw(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):yR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Oge(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Rge(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,YU(n.key),n)}}function Mge(r,e,t){return e&&Rge(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Dge(r,e,t){return e=fb(e),Lge(r,XU()?Reflect.construct(e,t||[],fb(r).constructor):e.apply(r,t))}function Lge(r,e){if(e&&(Gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fge(r)}function Fge(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function XU(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XU=function(){return!!r})()}function fb(r){return fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fb(r)}function Bge(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&CE(r,e)}function CE(r,e){return CE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},CE(r,e)}function Vw(r,e,t){return e=YU(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function YU(r){var e=$ge(r,"string");return Gp(e)=="symbol"?e:e+""}function $ge(r,e){if(Gp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Uge=function(e,t,n,i,a){var s=a.x1,l=a.x2,c=a.y1,o=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var d=sC({x:u.scale,y:f.scale}),h={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(c,{position:"start"}):d.y.rangeMin},m={x:t?d.x.apply(l,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(o,{position:"end"}):d.y.rangeMax};return vc(a,"discard")&&(!d.isInRange(h)||!d.isInRange(m))?null:DU(h,m)},zw=(function(r){function e(){return Oge(this,e),Dge(this,e,arguments)}return Bge(e,r),Mge(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,l=n.y2,c=n.className,o=n.alwaysShow,u=n.clipPathId;Dl(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=La(i),d=La(a),h=La(s),m=La(l),g=this.props.shape;if(!f&&!d&&!h&&!m&&!g)return null;var p=Uge(f,d,h,m,this.props);if(!p&&!g)return null;var y=vc(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Le.createElement(jn,{className:nn("recharts-reference-area",c)},e.renderRect(g,vR(vR({clipPath:y},jr(this.props,!0)),p)),es.renderCallByParent(this.props,p))}}])})(Le.Component);Vw(zw,"displayName","ReferenceArea");Vw(zw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Vw(zw,"renderRect",function(r,e){var t;return Le.isValidElement(r)?t=Le.cloneElement(r,e):Wr(r)?t=r(e):t=Le.createElement(aC,AE({},e,{className:"recharts-reference-area-rect"})),t});function QU(r,e,t){if(e<1)return[];if(e===1&&t===void 0)return r;for(var n=[],i=0;i<r.length;i+=e)n.push(r[i]);return n}function Vge(r,e,t){var n={width:r.width+e.width,height:r.height+e.height};return G0e(n,t)}function zge(r,e,t){var n=t==="width",i=r.x,a=r.y,s=r.width,l=r.height;return e===1?{start:n?i:a,end:n?i+s:a+l}:{start:n?i+s:a+l,end:n?i:a}}function db(r,e,t,n,i){if(r*e<r*n||r*e>r*i)return!1;var a=t();return r*(e-r*a/2-n)>=0&&r*(e+r*a/2-i)<=0}function qge(r,e){return QU(r,e+1)}function Hge(r,e,t,n,i){for(var a=(n||[]).slice(),s=e.start,l=e.end,c=0,o=1,u=s,f=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:QU(n,o)};var g=c,p,y=function(){return p===void 0&&(p=t(m,g)),p},v=m.coordinate,w=c===0||db(r,v,y,u,l);w||(c=0,u=s,o+=1),w&&(u=v+r*(y()/2+i),c+=o)},d;o<=a.length;)if(d=f(),d)return d.v;return[]}function Pg(r){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(r)}function bR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ms(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(t),!0).forEach(function(n){Wge(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):bR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Wge(r,e,t){return e=Gge(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Gge(r){var e=Kge(r,"string");return Pg(e)=="symbol"?e:e+""}function Kge(r,e){if(Pg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Xge(r,e,t,n,i){for(var a=(n||[]).slice(),s=a.length,l=e.start,c=e.end,o=function(d){var h=a[d],m,g=function(){return m===void 0&&(m=t(h,d)),m};if(d===s-1){var p=r*(h.coordinate+r*g()/2-c);a[d]=h=Ms(Ms({},h),{},{tickCoord:p>0?h.coordinate-p*r:h.coordinate})}else a[d]=h=Ms(Ms({},h),{},{tickCoord:h.coordinate});var y=db(r,h.tickCoord,g,l,c);y&&(c=h.tickCoord-r*(g()/2+i),a[d]=Ms(Ms({},h),{},{isShow:!0}))},u=s-1;u>=0;u--)o(u);return a}function Yge(r,e,t,n,i,a){var s=(n||[]).slice(),l=s.length,c=e.start,o=e.end;if(a){var u=n[l-1],f=t(u,l-1),d=r*(u.coordinate+r*f/2-o);s[l-1]=u=Ms(Ms({},u),{},{tickCoord:d>0?u.coordinate-d*r:u.coordinate});var h=db(r,u.tickCoord,function(){return f},c,o);h&&(o=u.tickCoord-r*(f/2+i),s[l-1]=Ms(Ms({},u),{},{isShow:!0}))}for(var m=a?l-1:l,g=function(v){var w=s[v],C,P=function(){return C===void 0&&(C=t(w,v)),C};if(v===0){var F=r*(w.coordinate-r*P()/2-c);s[v]=w=Ms(Ms({},w),{},{tickCoord:F<0?w.coordinate-F*r:w.coordinate})}else s[v]=w=Ms(Ms({},w),{},{tickCoord:w.coordinate});var L=db(r,w.tickCoord,P,c,o);L&&(c=w.tickCoord+r*(P()/2+i),s[v]=Ms(Ms({},w),{},{isShow:!0}))},p=0;p<m;p++)g(p);return s}function hC(r,e,t){var n=r.tick,i=r.ticks,a=r.viewBox,s=r.minTickGap,l=r.orientation,c=r.interval,o=r.tickFormatter,u=r.unit,f=r.angle;if(!i||!i.length||!n)return[];if(Ft(c)||oh.isSsr)return qge(i,typeof c=="number"&&Ft(c)?c:0);var d=[],h=l==="top"||l==="bottom"?"width":"height",m=u&&h==="width"?A0(u,{fontSize:e,letterSpacing:t}):{width:0,height:0},g=function(w,C){var P=Wr(o)?o(w.value,C):w.value;return h==="width"?Vge(A0(P,{fontSize:e,letterSpacing:t}),m,f):A0(P,{fontSize:e,letterSpacing:t})[h]},p=i.length>=2?Gs(i[1].coordinate-i[0].coordinate):1,y=zge(a,p,h);return c==="equidistantPreserveStart"?Hge(p,y,g,i,s):(c==="preserveStart"||c==="preserveStartEnd"?d=Yge(p,y,g,i,s,c==="preserveStartEnd"):d=Xge(p,y,g,i,s),d.filter(function(v){return v.isShow}))}var Qge=["viewBox"],Zge=["viewBox"],Jge=["ticks"];function Kp(r){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(r)}function ip(){return ip=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ip.apply(this,arguments)}function wR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ra(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(t),!0).forEach(function(n){pC(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):wR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function i2(r,e){if(r==null)return{};var t=e1e(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function e1e(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function t1e(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function xR(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,JU(n.key),n)}}function r1e(r,e,t){return e&&xR(r.prototype,e),t&&xR(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function n1e(r,e,t){return e=hb(e),i1e(r,ZU()?Reflect.construct(e,t||[],hb(r).constructor):e.apply(r,t))}function i1e(r,e){if(e&&(Kp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a1e(r)}function a1e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ZU(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZU=function(){return!!r})()}function hb(r){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hb(r)}function s1e(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&kE(r,e)}function kE(r,e){return kE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kE(r,e)}function pC(r,e,t){return e=JU(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function JU(r){var e=o1e(r,"string");return Kp(e)=="symbol"?e:e+""}function o1e(r,e){if(Kp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var vm=(function(r){function e(t){var n;return t1e(this,e),n=n1e(this,e,[t]),n.state={fontSize:"",letterSpacing:""},n}return s1e(e,r),r1e(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=i2(n,Qge),l=this.props,c=l.viewBox,o=i2(l,Zge);return!dp(a,c)||!dp(s,o)||!dp(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,o=i.orientation,u=i.tickSize,f=i.mirror,d=i.tickMargin,h,m,g,p,y,v,w=f?-1:1,C=n.tickSize||u,P=Ft(n.tickCoord)?n.tickCoord:n.coordinate;switch(o){case"top":h=m=n.coordinate,p=s+ +!f*c,g=p-w*C,v=g-w*d,y=P;break;case"left":g=p=n.coordinate,m=a+ +!f*l,h=m-w*C,y=h-w*d,v=P;break;case"right":g=p=n.coordinate,m=a+ +f*l,h=m+w*C,y=h+w*d,v=P;break;default:h=m=n.coordinate,p=s+ +f*c,g=p+w*C,v=g+w*d,y=P;break}return{line:{x1:h,y1:g,x2:m,y2:p},tick:{x:y,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.orientation,o=n.mirror,u=n.axisLine,f=Ra(Ra(Ra({},jr(this.props,!1)),jr(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var d=+(c==="top"&&!o||c==="bottom"&&o);f=Ra(Ra({},f),{},{x1:i,y1:a+d*l,x2:i+s,y2:a+d*l})}else{var h=+(c==="left"&&!o||c==="right"&&o);f=Ra(Ra({},f),{},{x1:i+h*s,y1:a,x2:i+h*s,y2:a+l})}return Le.createElement("line",ip({},f,{className:nn("recharts-cartesian-axis-line",Do(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,l=this.props,c=l.tickLine,o=l.stroke,u=l.tick,f=l.tickFormatter,d=l.unit,h=hC(Ra(Ra({},this.props),{},{ticks:n}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),p=jr(this.props,!1),y=jr(u,!1),v=Ra(Ra({},p),{},{fill:"none"},jr(c,!1)),w=h.map(function(C,P){var F=s.getTickLineCoord(C),L=F.line,j=F.tick,I=Ra(Ra(Ra(Ra({textAnchor:m,verticalAnchor:g},p),{},{stroke:"none",fill:o},y),j),{},{index:P,payload:C,visibleTicksCount:h.length,tickFormatter:f});return Le.createElement(jn,ip({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Vd(s.props,C,P)),c&&Le.createElement("line",ip({},v,L,{className:nn("recharts-cartesian-axis-tick-line",Do(c,"className"))})),u&&e.renderTickItem(u,I,"".concat(Wr(f)?f(C.value,P):C.value).concat(d||"")))});return Le.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,o=i.className,u=i.hide;if(u)return null;var f=this.props,d=f.ticks,h=i2(f,Jge),m=d;return Wr(c)&&(m=d&&d.length>0?c(this.props):c(h)),s<=0||l<=0||!m||!m.length?null:Le.createElement(jn,{className:nn("recharts-cartesian-axis",o),ref:function(p){n.layerReference=p}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),es.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,l=nn(i.className,"recharts-cartesian-axis-tick-value");return Le.isValidElement(n)?s=Le.cloneElement(n,Ra(Ra({},i),{},{className:l})):Wr(n)?s=n(Ra(Ra({},i),{},{className:l})):s=Le.createElement(zd,ip({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(ce.Component);pC(vm,"displayName","CartesianAxis");pC(vm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var l1e=["x1","y1","x2","y2","key"],c1e=["offset"];function Wd(r){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(r)}function _R(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Fs(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(t),!0).forEach(function(n){u1e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):_R(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function u1e(r,e,t){return e=f1e(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function f1e(r){var e=d1e(r,"string");return Wd(e)=="symbol"?e:e+""}function d1e(r,e){if(Wd(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function kd(){return kd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},kd.apply(this,arguments)}function SR(r,e){if(r==null)return{};var t=h1e(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function h1e(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}var p1e=function(e){var t=e.fill;if(!t||t==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,l=e.height,c=e.ry;return Le.createElement("rect",{x:i,y:a,ry:c,width:s,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function eV(r,e){var t;if(Le.isValidElement(r))t=Le.cloneElement(r,e);else if(Wr(r))t=r(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,l=e.key,c=SR(e,l1e),o=jr(c,!1);o.offset;var u=SR(o,c1e);t=Le.createElement("line",kd({},u,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:l}))}return t}function m1e(r){var e=r.x,t=r.width,n=r.horizontal,i=n===void 0?!0:n,a=r.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var o=Fs(Fs({},r),{},{x1:e,y1:l,x2:e+t,y2:l,key:"line-".concat(c),index:c});return eV(i,o)});return Le.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function g1e(r){var e=r.y,t=r.height,n=r.vertical,i=n===void 0?!0:n,a=r.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var o=Fs(Fs({},r),{},{x1:l,y1:e,x2:l,y2:e+t,key:"line-".concat(c),index:c});return eV(i,o)});return Le.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function y1e(r){var e=r.horizontalFill,t=r.fillOpacity,n=r.x,i=r.y,a=r.width,s=r.height,l=r.horizontalPoints,c=r.horizontal,o=c===void 0?!0:c;if(!o||!e||!e.length)return null;var u=l.map(function(d){return Math.round(d+i-i)}).sort(function(d,h){return d-h});i!==u[0]&&u.unshift(0);var f=u.map(function(d,h){var m=!u[h+1],g=m?i+s-d:u[h+1]-d;if(g<=0)return null;var p=h%e.length;return Le.createElement("rect",{key:"react-".concat(h),y:d,x:n,height:g,width:a,stroke:"none",fill:e[p],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return Le.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function v1e(r){var e=r.vertical,t=e===void 0?!0:e,n=r.verticalFill,i=r.fillOpacity,a=r.x,s=r.y,l=r.width,c=r.height,o=r.verticalPoints;if(!t||!n||!n.length)return null;var u=o.map(function(d){return Math.round(d+a-a)}).sort(function(d,h){return d-h});a!==u[0]&&u.unshift(0);var f=u.map(function(d,h){var m=!u[h+1],g=m?a+l-d:u[h+1]-d;if(g<=0)return null;var p=h%n.length;return Le.createElement("rect",{key:"react-".concat(h),x:d,y:s,width:g,height:c,stroke:"none",fill:n[p],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Le.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var b1e=function(e,t){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return eU(hC(Fs(Fs(Fs({},vm.defaultProps),n),{},{ticks:nu(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,t)},w1e=function(e,t){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return eU(hC(Fs(Fs(Fs({},vm.defaultProps),n),{},{ticks:nu(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,t)},zh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Uy(r){var e,t,n,i,a,s,l=cC(),c=uC(),o=oge(),u=Fs(Fs({},r),{},{stroke:(e=r.stroke)!==null&&e!==void 0?e:zh.stroke,fill:(t=r.fill)!==null&&t!==void 0?t:zh.fill,horizontal:(n=r.horizontal)!==null&&n!==void 0?n:zh.horizontal,horizontalFill:(i=r.horizontalFill)!==null&&i!==void 0?i:zh.horizontalFill,vertical:(a=r.vertical)!==null&&a!==void 0?a:zh.vertical,verticalFill:(s=r.verticalFill)!==null&&s!==void 0?s:zh.verticalFill,x:Ft(r.x)?r.x:o.left,y:Ft(r.y)?r.y:o.top,width:Ft(r.width)?r.width:o.width,height:Ft(r.height)?r.height:o.height}),f=u.x,d=u.y,h=u.width,m=u.height,g=u.syncWithTicks,p=u.horizontalValues,y=u.verticalValues,v=ige(),w=age();if(!Ft(h)||h<=0||!Ft(m)||m<=0||!Ft(f)||f!==+f||!Ft(d)||d!==+d)return null;var C=u.verticalCoordinatesGenerator||b1e,P=u.horizontalCoordinatesGenerator||w1e,F=u.horizontalPoints,L=u.verticalPoints;if((!F||!F.length)&&Wr(P)){var j=p&&p.length,I=P({yAxis:w?Fs(Fs({},w),{},{ticks:j?p:w.ticks}):void 0,width:l,height:c,offset:o},j?!0:g);Dl(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Wd(I),"]")),Array.isArray(I)&&(F=I)}if((!L||!L.length)&&Wr(C)){var z=y&&y.length,$=C({xAxis:v?Fs(Fs({},v),{},{ticks:z?y:v.ticks}):void 0,width:l,height:c,offset:o},z?!0:g);Dl(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Wd($),"]")),Array.isArray($)&&(L=$)}return Le.createElement("g",{className:"recharts-cartesian-grid"},Le.createElement(p1e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Le.createElement(m1e,kd({},u,{offset:o,horizontalPoints:F,xAxis:v,yAxis:w})),Le.createElement(g1e,kd({},u,{offset:o,verticalPoints:L,xAxis:v,yAxis:w})),Le.createElement(y1e,kd({},u,{horizontalPoints:F})),Le.createElement(v1e,kd({},u,{verticalPoints:L})))}Uy.displayName="CartesianGrid";var x1e=["type","layout","connectNulls","ref"],_1e=["key"];function Xp(r){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(r)}function ER(r,e){if(r==null)return{};var t=S1e(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function S1e(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function j0(){return j0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},j0.apply(this,arguments)}function AR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function No(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(t),!0).forEach(function(n){Nl(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):AR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function qh(r){return k1e(r)||C1e(r)||A1e(r)||E1e()}function E1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A1e(r,e){if(r){if(typeof r=="string")return TE(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return TE(r,e)}}function C1e(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function k1e(r){if(Array.isArray(r))return TE(r)}function TE(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function T1e(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function CR(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,rV(n.key),n)}}function N1e(r,e,t){return e&&CR(r.prototype,e),t&&CR(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function P1e(r,e,t){return e=pb(e),j1e(r,tV()?Reflect.construct(e,t||[],pb(r).constructor):e.apply(r,t))}function j1e(r,e){if(e&&(Xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I1e(r)}function I1e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function tV(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tV=function(){return!!r})()}function pb(r){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pb(r)}function O1e(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&NE(r,e)}function NE(r,e){return NE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NE(r,e)}function Nl(r,e,t){return e=rV(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function rV(r){var e=R1e(r,"string");return Xp(e)=="symbol"?e:e+""}function R1e(r,e){if(Xp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var l1=(function(r){function e(){var t;T1e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=P1e(this,e,[].concat(i)),Nl(t,"state",{isAnimationFinished:!0,totalLength:0}),Nl(t,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),Nl(t,"getStrokeDasharray",function(s,l,c){var o=c.reduce(function(y,v){return y+v});if(!o)return t.generateSimpleStrokeDasharray(l,s);for(var u=Math.floor(s/o),f=s%o,d=l-s,h=[],m=0,g=0;m<c.length;g+=c[m],++m)if(g+c[m]>f){h=[].concat(qh(c.slice(0,m)),[f-g]);break}var p=h.length%2===0?[0,d]:[d];return[].concat(qh(e.repeat(c,u)),qh(h),p).map(function(y){return"".concat(y,"px")}).join(", ")}),Nl(t,"id",hm("recharts-line-")),Nl(t,"pathRef",function(s){t.mainCurve=s}),Nl(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),Nl(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return O1e(e,r),N1e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,c=a.yAxis,o=a.layout,u=a.children,f=Lo(u,o1);if(!f)return null;var d=function(g,p){return{x:g.x,y:g.y,value:g.value,errorVal:Da(g.payload,p)}},h={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Le.createElement(jn,h,f.map(function(m){return Le.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:l,yAxis:c,layout:o,dataPointFormatter:d})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,o=l.points,u=l.dataKey,f=jr(this.props,!1),d=jr(c,!0),h=o.map(function(g,p){var y=No(No(No({key:"dot-".concat(p),r:3},f),d),{},{index:p,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:o});return e.renderDotItem(c,y)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Le.createElement(jn,j0({className:"recharts-line-dots",key:"dots"},m),h)}},{key:"renderCurveStatically",value:function(n,i,a,s){var l=this.props,c=l.type,o=l.layout,u=l.connectNulls;l.ref;var f=ER(l,x1e),d=No(No(No({},jr(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:c,layout:o,connectNulls:u});return Le.createElement(Kv,j0({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,l=s.points,c=s.strokeDasharray,o=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,d=s.animationEasing,h=s.animationId,m=s.animateNewValues,g=s.width,p=s.height,y=this.state,v=y.prevPoints,w=y.totalLength;return Le.createElement(Sc,{begin:u,duration:f,isActive:o,easing:d,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var P=C.t;if(v){var F=v.length/l.length,L=l.map(function(B,T){var R=Math.floor(T*F);if(v[R]){var N=v[R],_=Io(N.x,B.x),E=Io(N.y,B.y);return No(No({},B),{},{x:_(P),y:E(P)})}if(m){var S=Io(g*2,B.x),k=Io(p/2,B.y);return No(No({},B),{},{x:S(P),y:k(P)})}return No(No({},B),{},{x:B.x,y:B.y})});return a.renderCurveStatically(L,n,i)}var j=Io(0,w),I=j(P),z;if(c){var $="".concat(c).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});z=a.getStrokeDasharray(I,w,$)}else z=a.generateSimpleStrokeDasharray(w,I);return a.renderCurveStatically(l,n,i,{strokeDasharray:z})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,l=a.isAnimationActive,c=this.state,o=c.prevPoints,u=c.totalLength;return l&&s&&s.length&&(!o&&u>0||!s1(o,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,o=i.xAxis,u=i.yAxis,f=i.top,d=i.left,h=i.width,m=i.height,g=i.isAnimationActive,p=i.id;if(a||!l||!l.length)return null;var y=this.state.isAnimationFinished,v=l.length===1,w=nn("recharts-line",c),C=o&&o.allowDataOverflow,P=u&&u.allowDataOverflow,F=C||P,L=Jr(p)?this.id:p,j=(n=jr(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=j.r,z=I===void 0?3:I,$=j.strokeWidth,B=$===void 0?2:$,T=hne(s)?s:{},R=T.clipDot,N=R===void 0?!0:R,_=z*2+B;return Le.createElement(jn,{className:w},C||P?Le.createElement("defs",null,Le.createElement("clipPath",{id:"clipPath-".concat(L)},Le.createElement("rect",{x:C?d:d-h/2,y:P?f:f-m/2,width:C?h:h*2,height:P?m:m*2})),!N&&Le.createElement("clipPath",{id:"clipPath-dots-".concat(L)},Le.createElement("rect",{x:d-_/2,y:f-_/2,width:h+_,height:m+_}))):null,!v&&this.renderCurve(F,L),this.renderErrorBar(F,L),(v||s)&&this.renderDots(F,N,L),(!g||y)&&fu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(qh(n),[0]):n,s=[],l=0;l<i;++l)s=[].concat(qh(s),qh(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(Le.isValidElement(n))a=Le.cloneElement(n,i);else if(Wr(n))a=n(i);else{var s=i.key,l=ER(i,_1e),c=nn("recharts-line-dot",typeof n!="boolean"?n.className:"");a=Le.createElement(Iw,j0({key:s},l,{className:c}))}return a}}])})(ce.PureComponent);Nl(l1,"displayName","Line");Nl(l1,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!oh.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Nl(l1,"getComposedData",function(r){var e=r.props,t=r.xAxis,n=r.yAxis,i=r.xAxisTicks,a=r.yAxisTicks,s=r.dataKey,l=r.bandSize,c=r.displayedData,o=r.offset,u=e.layout,f=c.map(function(d,h){var m=Da(d,s);return u==="horizontal"?{x:TI({axis:t,ticks:i,bandSize:l,entry:d,index:h}),y:Jr(m)?null:n.scale(m),value:m,payload:d}:{x:Jr(m)?null:t.scale(m),y:TI({axis:n,ticks:a,bandSize:l,entry:d,index:h}),value:m,payload:d}});return No({points:f,layout:u},o)});function Yp(r){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(r)}function M1e(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function D1e(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,aV(n.key),n)}}function L1e(r,e,t){return e&&D1e(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function F1e(r,e,t){return e=mb(e),B1e(r,nV()?Reflect.construct(e,t||[],mb(r).constructor):e.apply(r,t))}function B1e(r,e){if(e&&(Yp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $1e(r)}function $1e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function nV(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nV=function(){return!!r})()}function mb(r){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mb(r)}function U1e(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&PE(r,e)}function PE(r,e){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PE(r,e)}function iV(r,e,t){return e=aV(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function aV(r){var e=V1e(r,"string");return Yp(e)=="symbol"?e:e+""}function V1e(r,e){if(Yp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function jE(){return jE=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},jE.apply(this,arguments)}function z1e(r){var e=r.xAxisId,t=cC(),n=uC(),i=zU(e);return i==null?null:ce.createElement(vm,jE({},i,{className:nn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:t,height:n},ticksGenerator:function(s){return nu(s,!0)}}))}var jd=(function(r){function e(){return M1e(this,e),F1e(this,e,arguments)}return U1e(e,r),L1e(e,[{key:"render",value:function(){return ce.createElement(z1e,this.props)}}])})(ce.Component);iV(jd,"displayName","XAxis");iV(jd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Qp(r){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(r)}function q1e(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function H1e(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,lV(n.key),n)}}function W1e(r,e,t){return e&&H1e(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function G1e(r,e,t){return e=gb(e),K1e(r,sV()?Reflect.construct(e,t||[],gb(r).constructor):e.apply(r,t))}function K1e(r,e){if(e&&(Qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X1e(r)}function X1e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function sV(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sV=function(){return!!r})()}function gb(r){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gb(r)}function Y1e(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&IE(r,e)}function IE(r,e){return IE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IE(r,e)}function oV(r,e,t){return e=lV(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function lV(r){var e=Q1e(r,"string");return Qp(e)=="symbol"?e:e+""}function Q1e(r,e){if(Qp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function OE(){return OE=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},OE.apply(this,arguments)}var Z1e=function(e){var t=e.yAxisId,n=cC(),i=uC(),a=qU(t);return a==null?null:ce.createElement(vm,OE({},a,{className:nn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return nu(l,!0)}}))},Id=(function(r){function e(){return q1e(this,e),G1e(this,e,arguments)}return Y1e(e,r),W1e(e,[{key:"render",value:function(){return ce.createElement(Z1e,this.props)}}])})(ce.Component);oV(Id,"displayName","YAxis");oV(Id,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function kR(r){return rye(r)||tye(r)||eye(r)||J1e()}function J1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eye(r,e){if(r){if(typeof r=="string")return RE(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return RE(r,e)}}function tye(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function rye(r){if(Array.isArray(r))return RE(r)}function RE(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var ME=function(e,t,n,i,a){var s=Lo(e,dC),l=Lo(e,Uw),c=[].concat(kR(s),kR(l)),o=Lo(e,zw),u="".concat(i,"Id"),f=i[0],d=t;if(c.length&&(d=c.reduce(function(g,p){if(p.props[u]===n&&vc(p.props,"extendDomain")&&Ft(p.props[f])){var y=p.props[f];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},d)),o.length){var h="".concat(f,"1"),m="".concat(f,"2");d=o.reduce(function(g,p){if(p.props[u]===n&&vc(p.props,"extendDomain")&&Ft(p.props[h])&&Ft(p.props[m])){var y=p.props[h],v=p.props[m];return[Math.min(g[0],y,v),Math.max(g[1],y,v)]}return g},d)}return a&&a.length&&(d=a.reduce(function(g,p){return Ft(p)?[Math.min(g[0],p),Math.max(g[1],p)]:g},d)),d},a2={exports:{}},TR;function nye(){return TR||(TR=1,(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(c,o,u){this.fn=c,this.context=o,this.once=u||!1}function a(c,o,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||c,d),m=t?t+o:o;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],h]:c._events[m].push(h):(c._events[m]=h,c._eventsCount++),c}function s(c,o){--c._eventsCount===0?c._events=new n:delete c._events[o]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var o=[],u,f;if(this._eventsCount===0)return o;for(f in u=this._events)e.call(u,f)&&o.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(u)):o},l.prototype.listeners=function(o){var u=t?t+o:o,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,m=new Array(h);d<h;d++)m[d]=f[d].fn;return m},l.prototype.listenerCount=function(o){var u=t?t+o:o,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(o,u,f,d,h,m){var g=t?t+o:o;if(!this._events[g])return!1;var p=this._events[g],y=arguments.length,v,w;if(p.fn){switch(p.once&&this.removeListener(o,p.fn,void 0,!0),y){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,u),!0;case 3:return p.fn.call(p.context,u,f),!0;case 4:return p.fn.call(p.context,u,f,d),!0;case 5:return p.fn.call(p.context,u,f,d,h),!0;case 6:return p.fn.call(p.context,u,f,d,h,m),!0}for(w=1,v=new Array(y-1);w<y;w++)v[w-1]=arguments[w];p.fn.apply(p.context,v)}else{var C=p.length,P;for(w=0;w<C;w++)switch(p[w].once&&this.removeListener(o,p[w].fn,void 0,!0),y){case 1:p[w].fn.call(p[w].context);break;case 2:p[w].fn.call(p[w].context,u);break;case 3:p[w].fn.call(p[w].context,u,f);break;case 4:p[w].fn.call(p[w].context,u,f,d);break;default:if(!v)for(P=1,v=new Array(y-1);P<y;P++)v[P-1]=arguments[P];p[w].fn.apply(p[w].context,v)}}return!0},l.prototype.on=function(o,u,f){return a(this,o,u,f,!1)},l.prototype.once=function(o,u,f){return a(this,o,u,f,!0)},l.prototype.removeListener=function(o,u,f,d){var h=t?t+o:o;if(!this._events[h])return this;if(!u)return s(this,h),this;var m=this._events[h];if(m.fn)m.fn===u&&(!d||m.once)&&(!f||m.context===f)&&s(this,h);else{for(var g=0,p=[],y=m.length;g<y;g++)(m[g].fn!==u||d&&!m[g].once||f&&m[g].context!==f)&&p.push(m[g]);p.length?this._events[h]=p.length===1?p[0]:p:s(this,h)}return this},l.prototype.removeAllListeners=function(o){var u;return o?(u=t?t+o:o,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,r.exports=l})(a2)),a2.exports}var iye=nye();const aye=Rn(iye);var s2=new aye,o2="recharts.syncMouseEvents";function jg(r){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(r)}function sye(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function oye(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,cV(n.key),n)}}function lye(r,e,t){return e&&oye(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function l2(r,e,t){return e=cV(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function cV(r){var e=cye(r,"string");return jg(e)=="symbol"?e:e+""}function cye(r,e){if(jg(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var uye=(function(){function r(){sye(this,r),l2(this,"activeIndex",0),l2(this,"coordinateList",[]),l2(this,"layout","horizontal")}return lye(r,[{key:"setDetails",value:function(t){var n,i=t.coordinateList,a=i===void 0?null:i,s=t.container,l=s===void 0?null:s,c=t.layout,o=c===void 0?null:c,u=t.offset,f=u===void 0?null:u,d=t.mouseHandlerCallback,h=d===void 0?null:d;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=o??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(this.coordinateList.length!==0)switch(t.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,o=((t=window)===null||t===void 0?void 0:t.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+o,d=s+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])})();function fye(r,e,t){if(t==="number"&&e===!0&&Array.isArray(r)){var n=r==null?void 0:r[0],i=r==null?void 0:r[1];if(n&&i&&Ft(n)&&Ft(i))return!0}return!1}function dye(r,e,t,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:r==="horizontal"?e.x-i:t.left+.5,y:r==="horizontal"?t.top+.5:e.y-i,width:r==="horizontal"?n:t.width-1,height:r==="horizontal"?t.height-1:n}}function uV(r){var e=r.cx,t=r.cy,n=r.radius,i=r.startAngle,a=r.endAngle,s=yi(e,t,n,i),l=yi(e,t,n,a);return{points:[s,l],cx:e,cy:t,radius:n,startAngle:i,endAngle:a}}function hye(r,e,t){var n,i,a,s;if(r==="horizontal")n=e.x,a=n,i=t.top,s=t.top+t.height;else if(r==="vertical")i=e.y,s=i,n=t.left,a=t.left+t.width;else if(e.cx!=null&&e.cy!=null)if(r==="centric"){var l=e.cx,c=e.cy,o=e.innerRadius,u=e.outerRadius,f=e.angle,d=yi(l,c,o,f),h=yi(l,c,u,f);n=d.x,i=d.y,a=h.x,s=h.y}else return uV(e);return[{x:n,y:i},{x:a,y:s}]}function Ig(r){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(r)}function NR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function my(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(t),!0).forEach(function(n){pye(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):NR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function pye(r,e,t){return e=mye(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function mye(r){var e=gye(r,"string");return Ig(e)=="symbol"?e:e+""}function gye(r,e){if(Ig(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function yye(r){var e,t,n=r.element,i=r.tooltipEventType,a=r.isActive,s=r.activeCoordinate,l=r.activePayload,c=r.offset,o=r.activeTooltipIndex,u=r.tooltipAxisBandSize,f=r.layout,d=r.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(t=n.type.defaultProps)===null||t===void 0?void 0:t.cursor;if(!n||!h||!a||!s||d!=="ScatterChart"&&i!=="axis")return null;var m,g=Kv;if(d==="ScatterChart")m=s,g=Bpe;else if(d==="BarChart")m=dye(f,s,c,u),g=aC;else if(f==="radial"){var p=uV(s),y=p.cx,v=p.cy,w=p.radius,C=p.startAngle,P=p.endAngle;m={cx:y,cy:v,startAngle:C,endAngle:P,innerRadius:w,outerRadius:w},g=fU}else m={points:hye(f,s,c)},g=Kv;var F=my(my(my(my({stroke:"#ccc",pointerEvents:"none"},c),m),jr(h,!1)),{},{payload:l,payloadIndex:o,className:nn("recharts-tooltip-cursor",h.className)});return ce.isValidElement(h)?ce.cloneElement(h,F):ce.createElement(g,F)}var vye=["item"],bye=["children","className","width","height","style","compact","title","desc"];function Zp(r){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(r)}function ap(){return ap=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ap.apply(this,arguments)}function PR(r,e){return _ye(r)||xye(r,e)||dV(r,e)||wye()}function wye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xye(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function _ye(r){if(Array.isArray(r))return r}function jR(r,e){if(r==null)return{};var t=Sye(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Sye(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function Eye(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Aye(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,hV(n.key),n)}}function Cye(r,e,t){return e&&Aye(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function kye(r,e,t){return e=yb(e),Tye(r,fV()?Reflect.construct(e,t||[],yb(r).constructor):e.apply(r,t))}function Tye(r,e){if(e&&(Zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nye(r)}function Nye(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function fV(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fV=function(){return!!r})()}function yb(r){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yb(r)}function Pye(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&DE(r,e)}function DE(r,e){return DE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DE(r,e)}function Jp(r){return Oye(r)||Iye(r)||dV(r)||jye()}function jye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dV(r,e){if(r){if(typeof r=="string")return LE(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return LE(r,e)}}function Iye(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Oye(r){if(Array.isArray(r))return LE(r)}function LE(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function IR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ut(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(t),!0).forEach(function(n){Rr(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):IR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Rr(r,e,t){return e=hV(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function hV(r){var e=Rye(r,"string");return Zp(e)=="symbol"?e:e+""}function Rye(r,e){if(Zp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Mye={xAxis:["bottom","top"],yAxis:["left","right"]},Dye={width:"100%",height:"100%"},pV={x:0,y:0};function gy(r){return r}var Lye=function(e,t){return t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius},Fye=function(e,t,n,i){var a=t.find(function(u){return u&&u.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,l=i.radius;return ut(ut(ut({},i),yi(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,o=i.angle;return ut(ut(ut({},i),yi(i.cx,i.cy,c,o)),{},{angle:o,radius:c})}return pV},qw=function(e,t){var n=t.graphicalItems,i=t.dataStartIndex,a=t.dataEndIndex,s=(n??[]).reduce(function(l,c){var o=c.props.data;return o&&o.length?[].concat(Jp(l),Jp(o)):l},[]);return s.length>0?s:e&&e.length&&Ft(i)&&Ft(a)?e.slice(i,a+1):[]};function mV(r){return r==="number"?[0,"auto"]:void 0}var FE=function(e,t,n,i){var a=e.graphicalItems,s=e.tooltipAxis,l=qw(t,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,o){var u,f=(u=o.props.data)!==null&&u!==void 0?u:t;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(s.dataKey&&!s.allowDuplicatedCategory){var h=f===void 0?l:f;d=wv(h,s.dataKey,i)}else d=f&&f[n]||l[n];return d?[].concat(Jp(c),[aU(o,d)]):c},[])},OR=function(e,t,n,i){var a=i||{x:e.chartX,y:e.chartY},s=Lye(a,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,o=e.tooltipTicks,u=ufe(s,l,o,c);if(u>=0&&o){var f=o[u]&&o[u].value,d=FE(e,t,u,f),h=Fye(n,l,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:d,activeCoordinate:h}}return null},Bye=function(e,t){var n=t.axes,i=t.graphicalItems,a=t.axisType,s=t.axisIdKey,l=t.stackGroups,c=t.dataStartIndex,o=t.dataEndIndex,u=e.layout,f=e.children,d=e.stackOffset,h=J$(u,a);return n.reduce(function(m,g){var p,y=g.type.defaultProps!==void 0?ut(ut({},g.type.defaultProps),g.props):g.props,v=y.type,w=y.dataKey,C=y.allowDataOverflow,P=y.allowDuplicatedCategory,F=y.scale,L=y.ticks,j=y.includeHidden,I=y[s];if(m[I])return m;var z=qw(e.data,{graphicalItems:i.filter(function(O){var X,Q=s in O.props?O.props[s]:(X=O.type.defaultProps)===null||X===void 0?void 0:X[s];return Q===I}),dataStartIndex:c,dataEndIndex:o}),$=z.length,B,T,R;fye(y.domain,C,v)&&(B=Z8(y.domain,null,C),h&&(v==="number"||F!=="auto")&&(R=k0(z,w,"category")));var N=mV(v);if(!B||B.length===0){var _,E=(_=y.domain)!==null&&_!==void 0?_:N;if(w){if(B=k0(z,w,v),v==="category"&&h){var S=nne(B);P&&S?(T=B,B=ib(0,$)):P||(B=II(E,B,g).reduce(function(O,X){return O.indexOf(X)>=0?O:[].concat(Jp(O),[X])},[]))}else if(v==="category")P?B=B.filter(function(O){return O!==""&&!Jr(O)}):B=II(E,B,g).reduce(function(O,X){return O.indexOf(X)>=0||X===""||Jr(X)?O:[].concat(Jp(O),[X])},[]);else if(v==="number"){var k=mfe(z,i.filter(function(O){var X,Q,re=s in O.props?O.props[s]:(X=O.type.defaultProps)===null||X===void 0?void 0:X[s],G="hide"in O.props?O.props.hide:(Q=O.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return re===I&&(j||!G)}),w,a,u);k&&(B=k)}h&&(v==="number"||F!=="auto")&&(R=k0(z,w,"category"))}else h?B=ib(0,$):l&&l[I]&&l[I].hasStack&&v==="number"?B=d==="expand"?[0,1]:iU(l[I].stackGroups,c,o):B=Z$(z,i.filter(function(O){var X=s in O.props?O.props[s]:O.type.defaultProps[s],Q="hide"in O.props?O.props.hide:O.type.defaultProps.hide;return X===I&&(j||!Q)}),v,u,!0);if(v==="number")B=ME(f,B,I,a,L),E&&(B=Z8(E,B,C));else if(v==="category"&&E){var M=E,V=B.every(function(O){return M.indexOf(O)>=0});V&&(B=M)}}return ut(ut({},m),{},Rr({},I,ut(ut({},y),{},{axisType:a,domain:B,categoricalDomain:R,duplicateDomain:T,originalDomain:(p=y.domain)!==null&&p!==void 0?p:N,isCategorical:h,layout:u})))},{})},$ye=function(e,t){var n=t.graphicalItems,i=t.Axis,a=t.axisType,s=t.axisIdKey,l=t.stackGroups,c=t.dataStartIndex,o=t.dataEndIndex,u=e.layout,f=e.children,d=qw(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:o}),h=d.length,m=J$(u,a),g=-1;return n.reduce(function(p,y){var v=y.type.defaultProps!==void 0?ut(ut({},y.type.defaultProps),y.props):y.props,w=v[s],C=mV("number");if(!p[w]){g++;var P;return m?P=ib(0,h):l&&l[w]&&l[w].hasStack?(P=iU(l[w].stackGroups,c,o),P=ME(f,P,w,a)):(P=Z8(C,Z$(d,n.filter(function(F){var L,j,I=s in F.props?F.props[s]:(L=F.type.defaultProps)===null||L===void 0?void 0:L[s],z="hide"in F.props?F.props.hide:(j=F.type.defaultProps)===null||j===void 0?void 0:j.hide;return I===w&&!z}),"number",u),i.defaultProps.allowDataOverflow),P=ME(f,P,w,a)),ut(ut({},p),{},Rr({},w,ut(ut({axisType:a},i.defaultProps),{},{hide:!0,orientation:Do(Mye,"".concat(a,".").concat(g%2),null),domain:P,originalDomain:C,isCategorical:m,layout:u})))}return p},{})},Uye=function(e,t){var n=t.axisType,i=n===void 0?"xAxis":n,a=t.AxisComp,s=t.graphicalItems,l=t.stackGroups,c=t.dataStartIndex,o=t.dataEndIndex,u=e.children,f="".concat(i,"Id"),d=Lo(u,a),h={};return d&&d.length?h=Bye(e,{axes:d,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:o}):s&&s.length&&(h=$ye(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:o})),h},Vye=function(e){var t=uf(e),n=nu(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:I4(n,function(i){return i.coordinate}),tooltipAxis:t,tooltipAxisBandSize:Hv(t,n)}},RR=function(e){var t=e.children,n=e.defaultShowTooltip,i=jo(t,zp),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},zye=function(e){return!e||!e.length?!1:e.some(function(t){var n=cu(t&&t.type);return n&&n.indexOf("Bar")>=0})},MR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},qye=function(e,t){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,o=n.width,u=n.height,f=n.children,d=n.margin||{},h=jo(f,zp),m=jo(f,hp),g=Object.keys(c).reduce(function(P,F){var L=c[F],j=L.orientation;return!L.mirror&&!L.hide?ut(ut({},P),{},Rr({},j,P[j]+L.width)):P},{left:d.left||0,right:d.right||0}),p=Object.keys(s).reduce(function(P,F){var L=s[F],j=L.orientation;return!L.mirror&&!L.hide?ut(ut({},P),{},Rr({},j,Do(P,"".concat(j))+L.height)):P},{top:d.top||0,bottom:d.bottom||0}),y=ut(ut({},p),g),v=y.bottom;h&&(y.bottom+=h.props.height||zp.defaultProps.height),m&&t&&(y=hfe(y,i,n,t));var w=o-y.left-y.right,C=u-y.top-y.bottom;return ut(ut({brushBottom:v},y),{},{width:Math.max(w,0),height:Math.max(C,0)})},Hye=function(e,t){if(t==="xAxis")return e[t].width;if(t==="yAxis")return e[t].height},mC=function(e){var t=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,o=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,d=function(y,v){var w=v.graphicalItems,C=v.stackGroups,P=v.offset,F=v.updateId,L=v.dataStartIndex,j=v.dataEndIndex,I=y.barSize,z=y.layout,$=y.barGap,B=y.barCategoryGap,T=y.maxBarSize,R=MR(z),N=R.numericAxisName,_=R.cateAxisName,E=zye(w),S=[];return w.forEach(function(k,M){var V=qw(y.data,{graphicalItems:[k],dataStartIndex:L,dataEndIndex:j}),O=k.type.defaultProps!==void 0?ut(ut({},k.type.defaultProps),k.props):k.props,X=O.dataKey,Q=O.maxBarSize,re=O["".concat(N,"Id")],G=O["".concat(_,"Id")],J={},q=c.reduce(function(ke,Oe){var De=v["".concat(Oe.axisType,"Map")],He=O["".concat(Oe.axisType,"Id")];De&&De[He]||Oe.axisType==="zAxis"||Hd();var Qe=De[He];return ut(ut({},ke),{},Rr(Rr({},Oe.axisType,Qe),"".concat(Oe.axisType,"Ticks"),nu(Qe)))},J),U=q[_],Z=q["".concat(_,"Ticks")],ie=C&&C[re]&&C[re].hasStack&&Efe(k,C[re].stackGroups),le=cu(k.type).indexOf("Bar")>=0,de=Hv(U,Z),fe=[],ue=E&&ffe({barSize:I,stackGroups:C,totalSize:Hye(q,_)});if(le){var Ae,he,xe=Jr(Q)?T:Q,me=(Ae=(he=Hv(U,Z,!0))!==null&&he!==void 0?he:xe)!==null&&Ae!==void 0?Ae:0;fe=dfe({barGap:$,barCategoryGap:B,bandSize:me!==de?me:de,sizeList:ue[G],maxBarSize:xe}),me!==de&&(fe=fe.map(function(ke){return ut(ut({},ke),{},{position:ut(ut({},ke.position),{},{offset:ke.position.offset-me/2})})}))}var Ce=k&&k.type&&k.type.getComposedData;Ce&&S.push({props:ut(ut({},Ce(ut(ut({},q),{},{displayedData:V,props:y,dataKey:X,item:k,bandSize:de,barPosition:fe,offset:P,stackedData:ie,layout:z,dataStartIndex:L,dataEndIndex:j}))),{},Rr(Rr(Rr({key:k.key||"item-".concat(M)},N,q[N]),_,q[_]),"animationId",F)),childIndex:gne(k,y.children),item:k})}),S},h=function(y,v){var w=y.props,C=y.dataStartIndex,P=y.dataEndIndex,F=y.updateId;if(!W7({props:w}))return null;var L=w.children,j=w.layout,I=w.stackOffset,z=w.data,$=w.reverseStackOrder,B=MR(j),T=B.numericAxisName,R=B.cateAxisName,N=Lo(L,n),_=_fe(z,N,"".concat(T,"Id"),"".concat(R,"Id"),I,$),E=c.reduce(function(O,X){var Q="".concat(X.axisType,"Map");return ut(ut({},O),{},Rr({},Q,Uye(w,ut(ut({},X),{},{graphicalItems:N,stackGroups:X.axisType===T&&_,dataStartIndex:C,dataEndIndex:P}))))},{}),S=qye(ut(ut({},E),{},{props:w,graphicalItems:N}),v==null?void 0:v.legendBBox);Object.keys(E).forEach(function(O){E[O]=u(w,E[O],S,O.replace("Map",""),t)});var k=E["".concat(R,"Map")],M=Vye(k),V=d(w,ut(ut({},E),{},{dataStartIndex:C,dataEndIndex:P,updateId:F,graphicalItems:N,stackGroups:_,offset:S}));return ut(ut({formattedGraphicalItems:V,graphicalItems:N,offset:S,stackGroups:_},M),E)},m=(function(p){function y(v){var w,C,P;return Eye(this,y),P=kye(this,y,[v]),Rr(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Rr(P,"accessibilityManager",new uye),Rr(P,"handleLegendBBoxUpdate",function(F){if(F){var L=P.state,j=L.dataStartIndex,I=L.dataEndIndex,z=L.updateId;P.setState(ut({legendBBox:F},h({props:P.props,dataStartIndex:j,dataEndIndex:I,updateId:z},ut(ut({},P.state),{},{legendBBox:F}))))}}),Rr(P,"handleReceiveSyncEvent",function(F,L,j){if(P.props.syncId===F){if(j===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(L)}}),Rr(P,"handleBrushChange",function(F){var L=F.startIndex,j=F.endIndex;if(L!==P.state.dataStartIndex||j!==P.state.dataEndIndex){var I=P.state.updateId;P.setState(function(){return ut({dataStartIndex:L,dataEndIndex:j},h({props:P.props,dataStartIndex:L,dataEndIndex:j,updateId:I},P.state))}),P.triggerSyncEvent({dataStartIndex:L,dataEndIndex:j})}}),Rr(P,"handleMouseEnter",function(F){var L=P.getMouseInfo(F);if(L){var j=ut(ut({},L),{},{isTooltipActive:!0});P.setState(j),P.triggerSyncEvent(j);var I=P.props.onMouseEnter;Wr(I)&&I(j,F)}}),Rr(P,"triggeredAfterMouseMove",function(F){var L=P.getMouseInfo(F),j=L?ut(ut({},L),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(j),P.triggerSyncEvent(j);var I=P.props.onMouseMove;Wr(I)&&I(j,F)}),Rr(P,"handleItemMouseEnter",function(F){P.setState(function(){return{isTooltipActive:!0,activeItem:F,activePayload:F.tooltipPayload,activeCoordinate:F.tooltipPosition||{x:F.cx,y:F.cy}}})}),Rr(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),Rr(P,"handleMouseMove",function(F){F.persist(),P.throttleTriggeredAfterMouseMove(F)}),Rr(P,"handleMouseLeave",function(F){P.throttleTriggeredAfterMouseMove.cancel();var L={isTooltipActive:!1};P.setState(L),P.triggerSyncEvent(L);var j=P.props.onMouseLeave;Wr(j)&&j(L,F)}),Rr(P,"handleOuterEvent",function(F){var L=mne(F),j=Do(P.props,"".concat(L));if(L&&Wr(j)){var I,z;/.*touch.*/i.test(L)?z=P.getMouseInfo(F.changedTouches[0]):z=P.getMouseInfo(F),j((I=z)!==null&&I!==void 0?I:{},F)}}),Rr(P,"handleClick",function(F){var L=P.getMouseInfo(F);if(L){var j=ut(ut({},L),{},{isTooltipActive:!0});P.setState(j),P.triggerSyncEvent(j);var I=P.props.onClick;Wr(I)&&I(j,F)}}),Rr(P,"handleMouseDown",function(F){var L=P.props.onMouseDown;if(Wr(L)){var j=P.getMouseInfo(F);L(j,F)}}),Rr(P,"handleMouseUp",function(F){var L=P.props.onMouseUp;if(Wr(L)){var j=P.getMouseInfo(F);L(j,F)}}),Rr(P,"handleTouchMove",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(F.changedTouches[0])}),Rr(P,"handleTouchStart",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&P.handleMouseDown(F.changedTouches[0])}),Rr(P,"handleTouchEnd",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&P.handleMouseUp(F.changedTouches[0])}),Rr(P,"handleDoubleClick",function(F){var L=P.props.onDoubleClick;if(Wr(L)){var j=P.getMouseInfo(F);L(j,F)}}),Rr(P,"handleContextMenu",function(F){var L=P.props.onContextMenu;if(Wr(L)){var j=P.getMouseInfo(F);L(j,F)}}),Rr(P,"triggerSyncEvent",function(F){P.props.syncId!==void 0&&s2.emit(o2,P.props.syncId,F,P.eventEmitterSymbol)}),Rr(P,"applySyncEvent",function(F){var L=P.props,j=L.layout,I=L.syncMethod,z=P.state.updateId,$=F.dataStartIndex,B=F.dataEndIndex;if(F.dataStartIndex!==void 0||F.dataEndIndex!==void 0)P.setState(ut({dataStartIndex:$,dataEndIndex:B},h({props:P.props,dataStartIndex:$,dataEndIndex:B,updateId:z},P.state)));else if(F.activeTooltipIndex!==void 0){var T=F.chartX,R=F.chartY,N=F.activeTooltipIndex,_=P.state,E=_.offset,S=_.tooltipTicks;if(!E)return;if(typeof I=="function")N=I(S,F);else if(I==="value"){N=-1;for(var k=0;k<S.length;k++)if(S[k].value===F.activeLabel){N=k;break}}var M=ut(ut({},E),{},{x:E.left,y:E.top}),V=Math.min(T,M.x+M.width),O=Math.min(R,M.y+M.height),X=S[N]&&S[N].value,Q=FE(P.state,P.props.data,N),re=S[N]?{x:j==="horizontal"?S[N].coordinate:V,y:j==="horizontal"?O:S[N].coordinate}:pV;P.setState(ut(ut({},F),{},{activeLabel:X,activeCoordinate:re,activePayload:Q,activeTooltipIndex:N}))}else P.setState(F)}),Rr(P,"renderCursor",function(F){var L,j=P.state,I=j.isTooltipActive,z=j.activeCoordinate,$=j.activePayload,B=j.offset,T=j.activeTooltipIndex,R=j.tooltipAxisBandSize,N=P.getTooltipEventType(),_=(L=F.props.active)!==null&&L!==void 0?L:I,E=P.props.layout,S=F.key||"_recharts-cursor";return Le.createElement(yye,{key:S,activeCoordinate:z,activePayload:$,activeTooltipIndex:T,chartName:t,element:F,isActive:_,layout:E,offset:B,tooltipAxisBandSize:R,tooltipEventType:N})}),Rr(P,"renderPolarAxis",function(F,L,j){var I=Do(F,"type.axisType"),z=Do(P.state,"".concat(I,"Map")),$=F.type.defaultProps,B=$!==void 0?ut(ut({},$),F.props):F.props,T=z&&z[B["".concat(I,"Id")]];return ce.cloneElement(F,ut(ut({},T),{},{className:nn(I,T.className),key:F.key||"".concat(L,"-").concat(j),ticks:nu(T,!0)}))}),Rr(P,"renderPolarGrid",function(F){var L=F.props,j=L.radialLines,I=L.polarAngles,z=L.polarRadius,$=P.state,B=$.radiusAxisMap,T=$.angleAxisMap,R=uf(B),N=uf(T),_=N.cx,E=N.cy,S=N.innerRadius,k=N.outerRadius;return ce.cloneElement(F,{polarAngles:Array.isArray(I)?I:nu(N,!0).map(function(M){return M.coordinate}),polarRadius:Array.isArray(z)?z:nu(R,!0).map(function(M){return M.coordinate}),cx:_,cy:E,innerRadius:S,outerRadius:k,key:F.key||"polar-grid",radialLines:j})}),Rr(P,"renderLegend",function(){var F=P.state.formattedGraphicalItems,L=P.props,j=L.children,I=L.width,z=L.height,$=P.props.margin||{},B=I-($.left||0)-($.right||0),T=Y$({children:j,formattedGraphicalItems:F,legendWidth:B,legendContent:o});if(!T)return null;var R=T.item,N=jR(T,vye);return ce.cloneElement(R,ut(ut({},N),{},{chartWidth:I,chartHeight:z,margin:$,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),Rr(P,"renderTooltip",function(){var F,L=P.props,j=L.children,I=L.accessibilityLayer,z=jo(j,oo);if(!z)return null;var $=P.state,B=$.isTooltipActive,T=$.activeCoordinate,R=$.activePayload,N=$.activeLabel,_=$.offset,E=(F=z.props.active)!==null&&F!==void 0?F:B;return ce.cloneElement(z,{viewBox:ut(ut({},_),{},{x:_.left,y:_.top}),active:E,label:N,payload:E?R:[],coordinate:T,accessibilityLayer:I})}),Rr(P,"renderBrush",function(F){var L=P.props,j=L.margin,I=L.data,z=P.state,$=z.offset,B=z.dataStartIndex,T=z.dataEndIndex,R=z.updateId;return ce.cloneElement(F,{key:F.key||"_recharts-brush",onChange:fy(P.handleBrushChange,F.props.onChange),data:I,x:Ft(F.props.x)?F.props.x:$.left,y:Ft(F.props.y)?F.props.y:$.top+$.height+$.brushBottom-(j.bottom||0),width:Ft(F.props.width)?F.props.width:$.width,startIndex:B,endIndex:T,updateId:"brush-".concat(R)})}),Rr(P,"renderReferenceElement",function(F,L,j){if(!F)return null;var I=P,z=I.clipPathId,$=P.state,B=$.xAxisMap,T=$.yAxisMap,R=$.offset,N=F.type.defaultProps||{},_=F.props,E=_.xAxisId,S=E===void 0?N.xAxisId:E,k=_.yAxisId,M=k===void 0?N.yAxisId:k;return ce.cloneElement(F,{key:F.key||"".concat(L,"-").concat(j),xAxis:B[S],yAxis:T[M],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:z})}),Rr(P,"renderActivePoints",function(F){var L=F.item,j=F.activePoint,I=F.basePoint,z=F.childIndex,$=F.isRange,B=[],T=L.props.key,R=L.item.type.defaultProps!==void 0?ut(ut({},L.item.type.defaultProps),L.item.props):L.item.props,N=R.activeDot,_=R.dataKey,E=ut(ut({index:z,dataKey:_,cx:j.x,cy:j.y,r:4,fill:iC(L.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},jr(N,!1)),xv(N));return B.push(y.renderActiveDot(N,E,"".concat(T,"-activePoint-").concat(z))),I?B.push(y.renderActiveDot(N,ut(ut({},E),{},{cx:I.x,cy:I.y}),"".concat(T,"-basePoint-").concat(z))):$&&B.push(null),B}),Rr(P,"renderGraphicChild",function(F,L,j){var I=P.filterFormatItem(F,L,j);if(!I)return null;var z=P.getTooltipEventType(),$=P.state,B=$.isTooltipActive,T=$.tooltipAxis,R=$.activeTooltipIndex,N=$.activeLabel,_=P.props.children,E=jo(_,oo),S=I.props,k=S.points,M=S.isRange,V=S.baseLine,O=I.item.type.defaultProps!==void 0?ut(ut({},I.item.type.defaultProps),I.item.props):I.item.props,X=O.activeDot,Q=O.hide,re=O.activeBar,G=O.activeShape,J=!!(!Q&&B&&E&&(X||re||G)),q={};z!=="axis"&&E&&E.props.trigger==="click"?q={onClick:fy(P.handleItemMouseEnter,F.props.onClick)}:z!=="axis"&&(q={onMouseLeave:fy(P.handleItemMouseLeave,F.props.onMouseLeave),onMouseEnter:fy(P.handleItemMouseEnter,F.props.onMouseEnter)});var U=ce.cloneElement(F,ut(ut({},I.props),q));function Z(Oe){return typeof T.dataKey=="function"?T.dataKey(Oe.payload):null}if(J)if(R>=0){var ie,le;if(T.dataKey&&!T.allowDuplicatedCategory){var de=typeof T.dataKey=="function"?Z:"payload.".concat(T.dataKey.toString());ie=wv(k,de,N),le=M&&V&&wv(V,de,N)}else ie=k==null?void 0:k[R],le=M&&V&&V[R];if(G||re){var fe=F.props.activeIndex!==void 0?F.props.activeIndex:R;return[ce.cloneElement(F,ut(ut(ut({},I.props),q),{},{activeIndex:fe})),null,null]}if(!Jr(ie))return[U].concat(Jp(P.renderActivePoints({item:I,activePoint:ie,basePoint:le,childIndex:R,isRange:M})))}else{var ue,Ae=(ue=P.getItemByXY(P.state.activeCoordinate))!==null&&ue!==void 0?ue:{graphicalItem:U},he=Ae.graphicalItem,xe=he.item,me=xe===void 0?F:xe,Ce=he.childIndex,ke=ut(ut(ut({},I.props),q),{},{activeIndex:Ce});return[ce.cloneElement(me,ke),null,null]}return M?[U,null,null]:[U,null]}),Rr(P,"renderCustomized",function(F,L,j){return ce.cloneElement(F,ut(ut({key:"recharts-customized-".concat(j)},P.props),P.state))}),Rr(P,"renderMap",{CartesianGrid:{handler:gy,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:gy},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:gy},YAxis:{handler:gy},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((w=v.id)!==null&&w!==void 0?w:hm("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=XB(P.triggeredAfterMouseMove,(C=v.throttleDelay)!==null&&C!==void 0?C:1e3/60),P.state={},P}return Pye(y,p),Cye(y,[{key:"componentDidMount",value:function(){var w,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,C=w.children,P=w.data,F=w.height,L=w.layout,j=jo(C,oo);if(j){var I=j.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var z=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,$=FE(this.state,P,I,z),B=this.state.tooltipTicks[I].coordinate,T=(this.state.offset.top+F)/2,R=L==="horizontal",N=R?{x:B,y:T}:{y:B,x:T},_=this.state.formattedGraphicalItems.find(function(S){var k=S.item;return k.type.name==="Scatter"});_&&(N=ut(ut({},N),_.props.points[I].tooltipPosition),$=_.props.points[I].tooltipPayload);var E={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:z,activePayload:$,activeCoordinate:N};this.setState(E),this.renderCursor(j),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var P,F;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(F=this.props.margin.top)!==null&&F!==void 0?F:0}})}return null}},{key:"componentDidUpdate",value:function(w){w8([jo(w.children,oo)],[jo(this.props.children,oo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=jo(this.props.children,oo);if(w&&typeof w.props.shared=="boolean"){var C=w.props.shared?"axis":"item";return l.indexOf(C)>=0?C:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var C=this.container,P=C.getBoundingClientRect(),F=roe(P),L={chartX:Math.round(w.pageX-F.left),chartY:Math.round(w.pageY-F.top)},j=P.width/C.offsetWidth||1,I=this.inRange(L.chartX,L.chartY,j);if(!I)return null;var z=this.state,$=z.xAxisMap,B=z.yAxisMap,T=this.getTooltipEventType(),R=OR(this.state,this.props.data,this.props.layout,I);if(T!=="axis"&&$&&B){var N=uf($).scale,_=uf(B).scale,E=N&&N.invert?N.invert(L.chartX):null,S=_&&_.invert?_.invert(L.chartY):null;return ut(ut({},L),{},{xValue:E,yValue:S},R)}return R?ut(ut({},L),R):null}},{key:"inRange",value:function(w,C){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,F=this.props.layout,L=w/P,j=C/P;if(F==="horizontal"||F==="vertical"){var I=this.state.offset,z=L>=I.left&&L<=I.left+I.width&&j>=I.top&&j<=I.top+I.height;return z?{x:L,y:j}:null}var $=this.state,B=$.angleAxisMap,T=$.radiusAxisMap;if(B&&T){var R=uf(B);return MI({x:L,y:j},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,C=this.getTooltipEventType(),P=jo(w,oo),F={};P&&C==="axis"&&(P.props.trigger==="click"?F={onClick:this.handleClick}:F={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var L=xv(this.props,this.handleOuterEvent);return ut(ut({},L),F)}},{key:"addListener",value:function(){s2.on(o2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){s2.removeListener(o2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,C,P){for(var F=this.state.formattedGraphicalItems,L=0,j=F.length;L<j;L++){var I=F[L];if(I.item===w||I.props.key===w.key||C===cu(I.item.type)&&P===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,C=this.state.offset,P=C.left,F=C.top,L=C.height,j=C.width;return Le.createElement("defs",null,Le.createElement("clipPath",{id:w},Le.createElement("rect",{x:P,y:F,height:L,width:j})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(C,P){var F=PR(P,2),L=F[0],j=F[1];return ut(ut({},C),{},Rr({},L,j.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(C,P){var F=PR(P,2),L=F[0],j=F[1];return ut(ut({},C),{},Rr({},L,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[w])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(w){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[w])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(w){var C=this.state,P=C.formattedGraphicalItems,F=C.activeItem;if(P&&P.length)for(var L=0,j=P.length;L<j;L++){var I=P[L],z=I.props,$=I.item,B=$.type.defaultProps!==void 0?ut(ut({},$.type.defaultProps),$.props):$.props,T=cu($.type);if(T==="Bar"){var R=(z.data||[]).find(function(S){return bpe(w,S)});if(R)return{graphicalItem:I,payload:R}}else if(T==="RadialBar"){var N=(z.data||[]).find(function(S){return MI(w,S)});if(N)return{graphicalItem:I,payload:N}}else if(Lw(I,F)||Fw(I,F)||Cg(I,F)){var _=Vme({graphicalItem:I,activeTooltipItem:F,itemData:B.data}),E=B.activeIndex===void 0?_:B.activeIndex;return{graphicalItem:ut(ut({},I),{},{childIndex:E}),payload:Cg(I,F)?B.data[_]:I.props.data[_]}}}return null}},{key:"render",value:function(){var w=this;if(!W7(this))return null;var C=this.props,P=C.children,F=C.className,L=C.width,j=C.height,I=C.style,z=C.compact,$=C.title,B=C.desc,T=jR(C,bye),R=jr(T,!1);if(z)return Le.createElement(fR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Le.createElement(_8,ap({},R,{width:L,height:j,title:$,desc:B}),this.renderClipPath(),K7(P,this.renderMap)));if(this.props.accessibilityLayer){var N,_;R.tabIndex=(N=this.props.tabIndex)!==null&&N!==void 0?N:0,R.role=(_=this.props.role)!==null&&_!==void 0?_:"application",R.onKeyDown=function(S){w.accessibilityManager.keyboardEvent(S)},R.onFocus=function(){w.accessibilityManager.focus()}}var E=this.parseEventsOfWrapper();return Le.createElement(fR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Le.createElement("div",ap({className:nn("recharts-wrapper",F),style:ut({position:"relative",cursor:"default",width:L,height:j},I)},E,{ref:function(k){w.container=k}}),Le.createElement(_8,ap({},R,{width:L,height:j,title:$,desc:B,style:Dye}),this.renderClipPath(),K7(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(ce.Component);Rr(m,"displayName",t),Rr(m,"defaultProps",ut({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Rr(m,"getDerivedStateFromProps",function(p,y){var v=p.dataKey,w=p.data,C=p.children,P=p.width,F=p.height,L=p.layout,j=p.stackOffset,I=p.margin,z=y.dataStartIndex,$=y.dataEndIndex;if(y.updateId===void 0){var B=RR(p);return ut(ut(ut({},B),{},{updateId:0},h(ut(ut({props:p},B),{},{updateId:0}),y)),{},{prevDataKey:v,prevData:w,prevWidth:P,prevHeight:F,prevLayout:L,prevStackOffset:j,prevMargin:I,prevChildren:C})}if(v!==y.prevDataKey||w!==y.prevData||P!==y.prevWidth||F!==y.prevHeight||L!==y.prevLayout||j!==y.prevStackOffset||!dp(I,y.prevMargin)){var T=RR(p),R={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},N=ut(ut({},OR(y,w,L)),{},{updateId:y.updateId+1}),_=ut(ut(ut({},T),R),N);return ut(ut(ut({},_),h(ut({props:p},_),y)),{},{prevDataKey:v,prevData:w,prevWidth:P,prevHeight:F,prevLayout:L,prevStackOffset:j,prevMargin:I,prevChildren:C})}if(!w8(C,y.prevChildren)){var E,S,k,M,V=jo(C,zp),O=V&&(E=(S=V.props)===null||S===void 0?void 0:S.startIndex)!==null&&E!==void 0?E:z,X=V&&(k=(M=V.props)===null||M===void 0?void 0:M.endIndex)!==null&&k!==void 0?k:$,Q=O!==z||X!==$,re=!Jr(w),G=re&&!Q?y.updateId:y.updateId+1;return ut(ut({updateId:G},h(ut(ut({props:p},y),{},{updateId:G,dataStartIndex:O,dataEndIndex:X}),y)),{},{prevChildren:C,dataStartIndex:O,dataEndIndex:X})}return null}),Rr(m,"renderActiveDot",function(p,y,v){var w;return ce.isValidElement(p)?w=ce.cloneElement(p,y):Wr(p)?w=p(y):w=Le.createElement(Iw,y),Le.createElement(jn,{className:"recharts-active-dot",key:v},w)});var g=ce.forwardRef(function(y,v){return Le.createElement(m,ap({},y,{ref:v}))});return g.displayName=m.displayName,g},Wye=mC({chartName:"LineChart",GraphicalChild:l1,axisComponents:[{axisType:"xAxis",AxisComp:jd},{axisType:"yAxis",AxisComp:Id}],formatAxisMap:MU}),DR=mC({chartName:"BarChart",GraphicalChild:Tf,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:jd},{axisType:"yAxis",AxisComp:Id}],formatAxisMap:MU}),gV=mC({chartName:"PieChart",GraphicalChild:kc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Dw},{axisType:"radiusAxis",AxisComp:Rw}],formatAxisMap:Rfe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const LR=({data:r,title:e,width:t=300,height:n=200})=>A.jsxs("div",{className:"card",children:[A.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:e}),A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsxs(gV,{width:t,height:n,children:[A.jsx(kc,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({percent:i})=>`${(i*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((i,a)=>A.jsx(t1,{fill:i.color},`cell-${a}`))}),A.jsx(oo,{formatter:(i,a)=>[`${i} (${(i/r.reduce((s,l)=>s+l.value,0)*100).toFixed(0)}%)`,a]})]}),A.jsx("div",{className:"mt-6 w-full",children:A.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2",children:r.map((i,a)=>A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:i.color}}),A.jsx("div",{className:"flex-1 min-w-0",children:A.jsx("span",{className:"text-sm text-gray-700 block truncate",children:i.name})}),A.jsx("span",{className:"text-sm font-semibold text-gray-900 flex-shrink-0",children:i.value})]},`legend-${a}`))})})]})]}),Gye=({motoristasStatus:r,veiculosStatus:e})=>A.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[A.jsx(LR,{data:r,title:"Status dos Motoristas",width:350,height:250}),A.jsx(LR,{data:e,title:"Status dos Veículos",width:350,height:250})]}),Kye=r=>{switch(r){case"Map":return gc;case"Calendar":return Yg;case"Truck":return xc;case"Users":return Qg;case"Car":return zF;case"Building2":return s4;case"UserCheck":return lw;default:return gc}},Xye=r=>{switch(r){case"green":return"bg-green-100 text-green-600";case"blue":return"bg-blue-100 text-blue-600";case"purple":return"bg-purple-100 text-purple-600";case"orange":return"bg-orange-100 text-orange-600";case"red":return"bg-red-100 text-red-600";case"gray":return"bg-gray-100 text-gray-600";default:return"bg-gray-100 text-gray-600"}},Yye=({atividades:r})=>r.length===0?A.jsxs("div",{className:"card",children:[A.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Atividades Recentes"}),A.jsx("div",{className:"text-center py-8",children:A.jsx("p",{className:"text-gray-500",children:"Nenhuma atividade recente encontrada"})})]}):A.jsxs("div",{className:"card",children:[A.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Atividades Recentes"}),A.jsx("div",{className:"max-h-72 overflow-y-auto space-y-4 pr-2",children:r.map(e=>{const t=Kye(e.icon),n=Xye(e.color);return A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("div",{className:"flex-shrink-0",children:A.jsx("div",{className:`w-8 h-8 ${n} rounded-full flex items-center justify-center`,children:A.jsx(t,{className:"h-4 w-4"})})}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.titulo}),A.jsx("p",{className:"text-sm text-gray-500",children:e.descricao})]})]},e.id)})})]}),Qye=()=>{const{data:r,error:e,loading:t,refreshData:n}=hre();return t?A.jsx("div",{className:"flex items-center justify-center h-64",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e?A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard"}),A.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Visão geral das operações de logística"})]}),A.jsx("div",{className:"card",children:A.jsxs("div",{className:"text-center py-8",children:[A.jsx("p",{className:"text-red-600 mb-4",children:"Erro ao carregar dados do dashboard"}),A.jsx("p",{className:"text-gray-500 mb-4",children:e}),A.jsx("button",{onClick:n,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Tentar novamente"})]})})]}):A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard"}),A.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Visão geral das operações de logística"})]}),A.jsx(pre,{stats:r.stats}),A.jsx(Gye,{motoristasStatus:r.motoristasStatus,veiculosStatus:r.veiculosStatus}),A.jsx(Yye,{atividades:r.atividadesRecentes})]})},Zye=()=>A.jsx(Qye,{}),Jye="modulepreload",eve=function(r){return"/"+r},FR={},iu=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let s=function(o){return Promise.all(o.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=s(t.map(o=>{if(o=eve(o),o in FR)return;FR[o]=!0;const u=o.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Jye,u||(d.as="script"),d.crossOrigin="",d.href=o,c&&d.setAttribute("nonce",c),document.head.appendChild(d),u)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},tve={danger:{icon:ow,iconColor:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",titleColor:"text-red-800",messageColor:"text-red-700"},warning:{icon:$F,iconColor:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",titleColor:"text-yellow-800",messageColor:"text-yellow-700"},success:{icon:aw,iconColor:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",titleColor:"text-green-800",messageColor:"text-green-700"},info:{icon:l4,iconColor:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",titleColor:"text-blue-800",messageColor:"text-blue-700"}},BR={primary:"bg-blue-600 hover:bg-blue-700 text-white",secondary:"bg-gray-300 hover:bg-gray-400 text-gray-700",danger:"bg-red-600 hover:bg-red-700 text-white",warning:"bg-yellow-600 hover:bg-yellow-700 text-white",success:"bg-green-600 hover:bg-green-700 text-white"},wu=({type:r,title:e,message:t,details:n=[],warning:i,primaryAction:a,secondaryAction:s,isOpen:l,onClose:c})=>{if(!l)return null;const o=tve[r],u=o.icon,f=d=>{d.target===d.currentTarget&&c&&c()};return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:f,children:A.jsxs("div",{className:`${o.bgColor} ${o.borderColor} border-2 rounded-lg shadow-xl max-w-md w-full mx-4`,children:[A.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx(u,{className:`h-6 w-6 ${o.iconColor}`}),A.jsx("h2",{className:`text-xl font-semibold ${o.titleColor}`,children:e})]}),c&&A.jsx("button",{onClick:c,className:"text-gray-400 hover:text-gray-600 transition-colors",children:A.jsx(da,{className:"h-5 w-5"})})]}),A.jsxs("div",{className:"p-6",children:[A.jsx("p",{className:`text-base ${o.messageColor} mb-4`,children:t}),n.length>0&&A.jsx("div",{className:"mb-4 space-y-3",children:n.map((d,h)=>A.jsxs("div",{className:"flex items-center py-2",children:[A.jsxs("span",{className:"font-medium text-gray-700 text-sm w-20",children:[d.label,":"]}),A.jsx("span",{className:"text-gray-900 text-sm font-medium ml-3",children:d.value||"-"})]},h))}),i&&A.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:A.jsx("p",{className:"text-sm text-yellow-800",children:i})})]}),A.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200",children:[A.jsx("button",{onClick:s.onClick,disabled:s.disabled,className:`px-4 py-2 rounded-lg font-medium transition-colors ${BR[s.variant||"secondary"]} ${s.disabled?"opacity-50 cursor-not-allowed":""}`,children:s.label}),A.jsx("button",{onClick:a.onClick,disabled:a.disabled,className:`px-4 py-2 rounded-lg font-medium transition-colors ${BR[a.variant||"primary"]} ${a.disabled?"opacity-50 cursor-not-allowed":""}`,children:a.label})]})]})})},vb=r=>r.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2").slice(0,14),Og=r=>r.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(\d{4})(\d{1,2})$/,"$1-$2").slice(0,15),rve=r=>r.replace(/\D/g,"").replace(/(\d)(\d{2})$/,"$1,$2").replace(/(?=(\d{3})+(\D))\B/g,".").replace(/^/,"R$ "),nve=r=>r.replace(/\D/g,"").replace(/(\d{5})(\d)/,"$1-$2").slice(0,9),yV=r=>{if(r=r.replace(/[^\d]/g,""),r.length!==11||/^(\d)\1{10}$/.test(r))return!1;let e=0;for(let n=0;n<9;n++)e+=parseInt(r.charAt(n))*(10-n);let t=e*10%11;if((t===10||t===11)&&(t=0),t!==parseInt(r.charAt(9)))return!1;e=0;for(let n=0;n<10;n++)e+=parseInt(r.charAt(n))*(11-n);return t=e*10%11,(t===10||t===11)&&(t=0),t===parseInt(r.charAt(10))},gC=r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r),yC=r=>{const e=r.replace(/\D/g,"");return!(e.length!==11||e.charAt(2)!=="9")},Nf=r=>r?r.replace(/\D/g,"").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):"",fh=r=>r?r.replace(/\D/g,"").replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):"",vV=r=>r?parseFloat(r.toString()).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"R$ 0,00",ive=r=>r.replace(/[^A-Za-z0-9]/g,"").toUpperCase().slice(0,7),ave=({funcionarios:r,ordenarPor:e,direcaoOrdenacao:t,onOrdenar:n,onEditar:i,onInativar:a,onAtivar:s})=>{const l=u=>e!==u?null:t==="asc"?A.jsx(cm,{className:"h-4 w-4"}):A.jsx(Au,{className:"h-4 w-4"}),c=u=>({disponivel:"Disponível",folga:"Folga",ferias:"Férias"})[u],o=u=>{switch(u){case"disponivel":return"bg-green-100 text-green-800";case"folga":return"bg-orange-100 text-orange-800";case"ferias":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("nome"),children:A.jsxs("div",{className:"flex items-center",children:["Funcionário ",l("nome")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("cpf"),children:A.jsxs("div",{className:"flex items-center",children:["CPF ",l("cpf")]})}),A.jsx("th",{className:"table-header",children:"Contato"}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("funcao"),children:A.jsxs("div",{className:"flex items-center",children:["Função ",l("funcao")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("cnhCategoria"),children:A.jsxs("div",{className:"flex items-center",children:["Cat. CNH ",l("cnhCategoria")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("salario"),children:A.jsxs("div",{className:"flex items-center",children:["Salário ",l("salario")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("status"),children:A.jsxs("div",{className:"flex items-center",children:["Status ",l("status")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("ativo"),children:A.jsxs("div",{className:"flex items-center",children:["Ativo ",l("ativo")]})}),A.jsx("th",{className:"table-header",children:"Ações"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(u=>A.jsxs("tr",{className:`hover:bg-gray-50 ${u.ativo?"":"bg-gray-100 text-gray-500"}`,children:[A.jsx("td",{className:"table-cell",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:A.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:A.jsx(Q0,{className:"h-5 w-5 text-primary-600"})})}),A.jsxs("div",{className:"ml-4",children:[A.jsx("div",{className:"text-sm font-medium text-gray-900",children:u.nome}),A.jsx("div",{className:"text-sm text-gray-500",children:u.cidade})]})]})}),A.jsx("td",{className:"table-cell",children:A.jsx("div",{className:"text-sm text-gray-900",children:Nf(u.cpf)})}),A.jsxs("td",{className:"table-cell",children:[A.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[A.jsx(HF,{className:"h-4 w-4 mr-1"}),fh(u.celular)]}),u.email&&A.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[A.jsx(c4,{className:"h-4 w-4 mr-1"}),u.email]})]}),A.jsx("td",{className:"table-cell",children:A.jsx("span",{className:"text-sm text-gray-900 capitalize",children:u.funcao||"motorista"})}),A.jsx("td",{className:"table-cell",children:A.jsx("span",{className:"text-sm text-gray-900",children:u.cnhCategoria||"-"})}),A.jsx("td",{className:"table-cell",children:A.jsx("span",{className:"text-sm text-gray-900",children:u.salario?vV(u.salario):"-"})}),A.jsx("td",{className:"table-cell",children:A.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o(u.status)}`,children:c(u.status)})}),A.jsx("td",{className:"table-cell",children:A.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.ativo?"Ativo":"Inativo"})}),A.jsx("td",{className:"table-cell",children:A.jsxs("div",{className:"flex space-x-2",children:[A.jsx("button",{onClick:()=>i(u),className:"text-primary-600 hover:text-primary-900",children:A.jsx(um,{className:"h-4 w-4"})}),u.ativo?A.jsx("button",{onClick:()=>a(u),className:"text-red-600 hover:text-red-900",title:"Inativar funcionário",children:A.jsx(da,{className:"h-4 w-4"})}):A.jsx("button",{onClick:()=>s(u),className:"text-green-600 hover:text-green-900",title:"Ativar funcionário",children:A.jsx(aw,{className:"h-4 w-4"})})]})})]},u.id))})]})})},sve=({aberto:r,editando:e,valores:t,erros:n={},onChange:i,onCancelar:a,onConfirmar:s,somenteLeitura:l=!1})=>(ce.useEffect(()=>{const c=(t.cep||"").replace(/\D/g,"");c.length===8&&fetch(`https://viacep.com.br/ws/${c}/json/`).then(o=>o.json()).then(o=>{if(!o||o.erro)return;const u=[o.logradouro,o.bairro].filter(Boolean).join(" - "),f=o.localidade||"";i({...t,endereco:u,cidade:f})}).catch(()=>{})},[t.cep]),r?A.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:A.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[e?"Editar Funcionário":"Novo Funcionário",l&&e&&A.jsx("span",{className:"ml-3 text-sm text-gray-500 font-normal",children:"(Somente leitura - funcionário inativo)"})]}),A.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:A.jsx(da,{className:"h-6 w-6"})})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome *"}),A.jsx("input",{type:"text",value:t.nome,onChange:c=>i({...t,nome:c.target.value}),className:`input-field h-11 ${n.nome?"border-red-500":""} ${l?"bg-gray-100 cursor-not-allowed":""}`,disabled:l}),n.nome&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.nome})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CPF *"}),A.jsx("input",{type:"text",value:vb(t.cpf||""),onChange:c=>{const o=c.target.value.replace(/\D/g,"");i({...t,cpf:o})},className:`input-field h-11 ${n.cpf?"border-red-500":""} ${l?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"000.000.000-00",disabled:l}),n.cpf&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.cpf})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CNH *"}),A.jsx("input",{type:"text",value:t.cnh,onChange:c=>i({...t,cnh:c.target.value}),className:`input-field h-11 ${n.cnh?"border-red-500":""} ${l?"bg-gray-100 cursor-not-allowed":""}`,disabled:l}),n.cnh&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.cnh})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venc. CNH"}),A.jsx("input",{type:"date",value:t.cnhVencimento||"",onChange:c=>i({...t,cnhVencimento:c.target.value}),className:`input-field h-11 ${l?"bg-gray-100 cursor-not-allowed":""}`,disabled:l})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria CNH"}),A.jsxs("select",{value:t.cnhCategoria||"",onChange:c=>i({...t,cnhCategoria:c.target.value}),className:`input-field h-11 ${l?"bg-gray-100 cursor-not-allowed":""}`,disabled:l,children:[A.jsx("option",{value:"",children:"Selecione"}),A.jsx("option",{value:"A",children:"A"}),A.jsx("option",{value:"B",children:"B"}),A.jsx("option",{value:"C",children:"C"}),A.jsx("option",{value:"D",children:"D"}),A.jsx("option",{value:"E",children:"E"})]})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Celular *"}),A.jsx("input",{type:"text",value:Og(t.celular||""),onChange:c=>{const o=c.target.value.replace(/\D/g,"");i({...t,celular:o})},className:`input-field h-11 ${n.celular?"border-red-500":""} ${l?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"(73) 99999-9999",disabled:l}),n.celular&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.celular})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),A.jsx("input",{type:"email",value:t.email||"",onChange:c=>i({...t,email:c.target.value}),className:`input-field h-11 ${n.email?"border-red-500":""} ${l?"bg-gray-100 cursor-not-allowed":""}`,disabled:l}),n.email&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.email})]})]}),A.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["CEP ",A.jsx("span",{className:"text-black",children:"*"})]}),A.jsx("input",{type:"text",value:nve(t.cep||""),onChange:c=>{const o=c.target.value.replace(/\D/g,"");i({...t,cep:o})},className:`input-field h-11 ${n.cep?"border-red-500":""} ${l?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"00000-000",disabled:l}),n.cep&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.cep})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número"}),A.jsx("input",{type:"text",value:t.numero||"",onChange:c=>i({...t,numero:c.target.value}),className:`input-field h-11 ${l?"bg-gray-100 cursor-not-allowed":""}`,disabled:l})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complemento"}),A.jsx("input",{type:"text",value:t.complemento||"",onChange:c=>i({...t,complemento:c.target.value}),className:`input-field h-11 ${l?"bg-gray-100 cursor-not-allowed":""}`,disabled:l})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço *"}),A.jsx("input",{type:"text",value:t.endereco,onChange:c=>i({...t,endereco:c.target.value}),className:`input-field h-11 ${n.endereco?"border-red-500":""} ${l?"bg-gray-100 cursor-not-allowed":""}`,disabled:l}),n.endereco&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.endereco})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cidade *"}),A.jsx("input",{type:"text",value:t.cidade,onChange:c=>i({...t,cidade:c.target.value}),className:`input-field h-11 ${n.cidade?"border-red-500":""} ${l?"bg-gray-100 cursor-not-allowed":""}`,disabled:l}),n.cidade&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.cidade})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Função"}),A.jsxs("select",{value:t.funcao||"motorista",onChange:c=>i({...t,funcao:c.target.value}),className:`input-field h-11 ${l?"bg-gray-100 cursor-not-allowed":""}`,disabled:l,children:[A.jsx("option",{value:"motorista",children:"Motorista"}),A.jsx("option",{value:"ajudante",children:"Ajudante"}),A.jsx("option",{value:"outro",children:"Outro"})]})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Admissão"}),A.jsx("input",{type:"date",value:t.dataAdmissao||"",onChange:c=>i({...t,dataAdmissao:c.target.value}),className:`input-field h-11 ${l?"bg-gray-100 cursor-not-allowed":""}`,disabled:l})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Salário"}),A.jsx("input",{type:"text",value:rve(t.salario||""),onChange:c=>{const o=c.target.value.replace(/\D/g,"");i({...t,salario:o})},className:`input-field h-11 ${l?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"R$ 0,00",disabled:l})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Último Exame Toxicológico"}),A.jsx("input",{type:"date",value:t.toxicoUltimoExame||"",onChange:c=>i({...t,toxicoUltimoExame:c.target.value}),className:`input-field h-11 ${l?"bg-gray-100 cursor-not-allowed":""}`,disabled:l})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venc. Exame Toxicológico"}),A.jsx("input",{type:"date",value:t.toxicoVencimento||"",onChange:c=>i({...t,toxicoVencimento:c.target.value}),className:`input-field h-11 ${l?"bg-gray-100 cursor-not-allowed":""}`,disabled:l})]})]}),A.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[A.jsx("button",{type:"button",onClick:a,className:"btn-secondary",children:l?"Fechar":"Cancelar"}),!l&&A.jsx("button",{type:"button",onClick:s,className:"btn-primary",children:e?"Atualizar":"Cadastrar"})]})]})]})}):null),bm=({isOpen:r,onClose:e,onExport:t,titulo:n,nomeArquivo:i})=>{if(!r)return null;const a=()=>{t(),e()};return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-md",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Exportar ",n]}),A.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:A.jsx(da,{className:"h-5 w-5"})})]}),A.jsxs("div",{className:"mb-6",children:[A.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Exportar a lista de ",n.toLowerCase()," para Excel com os filtros e ordenação aplicados."]}),A.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[A.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Nome do arquivo:"}),A.jsx("p",{className:"text-sm font-mono text-gray-700 break-all",children:i})]})]}),A.jsxs("div",{className:"flex justify-end space-x-3",children:[A.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancelar"}),A.jsxs("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 flex items-center",children:[A.jsx(X0,{className:"h-4 w-4 mr-2"}),"Exportar Excel"]})]})]})})},Vf="funcionarios";async function ove(){const r=xa(xr(Lt,Vf),kf("dataCriacao","desc"));return(await Lr(r)).docs.map(t=>({id:t.id,...t.data()}))}function bV(r){if(!r)return null;let e=String(r).replace(/[^\d.,]/g,"");if(!e)return null;e.includes(",")&&(e=e.replace(",","."));const t=Number(e);return Number.isNaN(t)?null:t.toFixed(2)}const wf=r=>r.replace(/\D/g,"");async function wV(r,e){const t=wf(r),n=xa(xr(Lt,Vf),rl("cpf","==",t)),i=await Lr(n);return e?i.docs.some(a=>a.id!==e):!i.empty}async function xV(r,e){const t=wf(r),n=xa(xr(Lt,Vf),rl("cnh","==",t)),i=await Lr(n);return e?i.docs.some(a=>a.id!==e):!i.empty}async function lve(r){if(await wV(r.cpf))throw new Error("CPF já cadastrado no sistema");if(await xV(r.cnh))throw new Error("CNH já cadastrada no sistema");const n={...r,cpf:wf(r.cpf),celular:wf(r.celular),cep:r.cep?wf(r.cep):void 0,salario:bV(r.salario),ativo:r.ativo!==void 0?r.ativo:!0,dataCriacao:fa(),dataAtualizacao:fa()},i=await ah(xr(Lt,Vf),n);try{await y8.notifyNewFuncionario({nome:r.nome,id:i.id})}catch(a){console.error("Erro ao enviar notificação:",a)}return i.id}async function cve(r,e){if(await wV(e.cpf,r))throw new Error("CPF já cadastrado no sistema");if(await xV(e.cnh,r))throw new Error("CNH já cadastrada no sistema");const i={...e,cpf:wf(e.cpf),celular:wf(e.celular),cep:e.cep?wf(e.cep):void 0,salario:bV(e.salario),ativo:e.ativo!==void 0?e.ativo:!0,dataAtualizacao:fa()};await ps(kn(Lt,Vf,r),i)}async function uve(r){await Hg(kn(Lt,Vf,r))}async function fve(r){await ps(kn(Lt,Vf,r),{ativo:!1,dataAtualizacao:fa()})}async function dve(r){await ps(kn(Lt,Vf,r),{ativo:!0,dataAtualizacao:fa()})}const Zh={listar:ove,criar:lve,atualizar:cve,excluir:uve,inativar:fve,ativar:dve};var Vy={exports:{}},hve=Vy.exports,$R;function pve(){return $R||($R=1,(function(r,e){(function(t,n){n()})(hve,function(){function t(o,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function n(o,u,f){var d=new XMLHttpRequest;d.open("GET",o),d.responseType="blob",d.onload=function(){c(d.response,u,f)},d.onerror=function(){console.error("could not download file")},d.send()}function i(o){var u=new XMLHttpRequest;u.open("HEAD",o,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function a(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(u)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof globalThis=="object"&&globalThis.global===globalThis?globalThis:void 0,l=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(o,u,f){var d=s.URL||s.webkitURL,h=document.createElement("a");u=u||o.name||"download",h.download=u,h.rel="noopener",typeof o=="string"?(h.href=o,h.origin===location.origin?a(h):i(h.href)?n(o,u,f):a(h,h.target="_blank")):(h.href=d.createObjectURL(o),setTimeout(function(){d.revokeObjectURL(h.href)},4e4),setTimeout(function(){a(h)},0))}:"msSaveOrOpenBlob"in navigator?function(o,u,f){if(u=u||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(t(o,f),u);else if(i(o))n(o,u,f);else{var d=document.createElement("a");d.href=o,d.target="_blank",setTimeout(function(){a(d)})}}:function(o,u,f,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof o=="string")return n(o,u,f);var h=o.type==="application/octet-stream",m=/constructor/i.test(s.HTMLElement)||s.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||h&&m||l)&&typeof FileReader<"u"){var p=new FileReader;p.onloadend=function(){var w=p.result;w=g?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=w:location=w,d=null},p.readAsDataURL(o)}else{var y=s.URL||s.webkitURL,v=y.createObjectURL(o);d?d.location=v:location.href=v,d=null,setTimeout(function(){y.revokeObjectURL(v)},4e4)}});s.saveAs=c.saveAs=c,r.exports=c})})(Vy)),Vy.exports}var dh=pve();function yy(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var c2={exports:{}};/*! ExcelJS 19-10-2023 */var UR;function mve(){return UR||(UR=1,(function(r,e){(function(t){r.exports=t()})((function(){return(function t(n,i,a){function s(o,u){if(!i[o]){if(!n[o]){var f=typeof yy=="function"&&yy;if(!u&&f)return f(o,!0);if(l)return l(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[o]={exports:{}};n[o][0].call(h.exports,(function(m){return s(n[o][1][m]||m)}),h,h.exports,t,n,i,a)}return i[o].exports}for(var l=typeof yy=="function"&&yy,c=0;c<a.length;c++)s(a[c]);return s})({1:[function(t,n,i){const a=t("fs"),s=t("fast-csv"),l=t("dayjs/plugin/customParseFormat"),c=t("dayjs/plugin/utc"),o=t("dayjs").extend(l).extend(c),u=t("../utils/stream-buf"),{fs:{exists:f}}=t("../utils/utils"),d={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(h){this.workbook=h,this.worksheet=null}async readFile(h,m){if(m=m||{},!await f(h))throw new Error("File not found: "+h);const g=a.createReadStream(h),p=await this.read(g,m);return g.close(),p}read(h,m){return m=m||{},new Promise((g,p)=>{const y=this.workbook.addWorksheet(m.sheetName),v=m.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],w=m.map||function(P){if(P==="")return null;const F=Number(P);if(!Number.isNaN(F)&&F!==1/0)return F;const L=v.reduce((I,z)=>{if(I)return I;const $=o(P,z,!0);return $.isValid()?$:null},null);if(L)return new Date(L.valueOf());const j=d[P];return j!==void 0?j:P},C=s.parse(m.parserOptions).on("data",P=>{y.addRow(P.map(w))}).on("end",()=>{C.emit("worksheet",y)});C.on("worksheet",g).on("error",p),h.pipe(C)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(h,m){return new Promise((g,p)=>{m=m||{};const y=this.workbook.getWorksheet(m.sheetName||m.sheetId),v=s.format(m.formatterOptions);h.on("finish",()=>{g()}),v.on("error",p),v.pipe(h);const{dateFormat:w,dateUTC:C}=m,P=m.map||(j=>{if(j){if(j.text||j.hyperlink)return j.hyperlink||j.text||"";if(j.formula||j.result)return j.result||"";if(j instanceof Date)return w?C?o.utc(j).format(w):o(j).format(w):C?o.utc(j).format():o(j).format();if(j.error)return j.error;if(typeof j=="object")return JSON.stringify(j)}return j}),F=m.includeEmptyRows===void 0||m.includeEmptyRows;let L=1;y&&y.eachRow((j,I)=>{if(F)for(;L++<I-1;)v.write([]);const{values:z}=j;z.shift(),v.write(z.map(P)),L=I}),v.end()})}writeFile(h,m){const g={encoding:(m=m||{}).encoding||"utf8"},p=a.createWriteStream(h,g);return this.write(p,m)}async writeBuffer(h){const m=new u;return await this.write(m,h),m.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,n,i){const a=t("../utils/col-cache");class s{constructor(c,o){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=c,o)if(typeof o=="string"){const f=a.decodeAddress(o);this.nativeCol=f.col+u,this.nativeColOff=0,this.nativeRow=f.row+u,this.nativeRowOff=0}else o.nativeCol!==void 0?(this.nativeCol=o.nativeCol||0,this.nativeColOff=o.nativeColOff||0,this.nativeRow=o.nativeRow||0,this.nativeRowOff=o.nativeRowOff||0):o.col!==void 0?(this.col=o.col+u,this.row=o.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(c){return c instanceof s||c==null?c:new s(c)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(c){this.nativeCol=Math.floor(c),this.nativeColOff=Math.floor((c-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(c){this.nativeRow=Math.floor(c),this.nativeRowOff=Math.floor((c-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(c){this.nativeCol=c.nativeCol,this.nativeColOff=c.nativeColOff,this.nativeRow=c.nativeRow,this.nativeRowOff=c.nativeRowOff}}n.exports=s},{"../utils/col-cache":19}],3:[function(t,n,i){const a=t("../utils/col-cache"),s=t("../utils/under-dash"),l=t("./enums"),{slideFormula:c}=t("../utils/shared-formula"),o=t("./note");class u{constructor(h,m,g){if(!h||!m)throw new Error("A Cell needs a Row");this._row=h,this._column=m,a.validateAddress(g),this._address=g,this._value=f.create(u.Types.Null,this),this.style=this._mergeStyle(h.style,m.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(h){this.style.numFmt=h}get font(){return this.style.font}set font(h){this.style.font=h}get alignment(){return this.style.alignment}set alignment(h){this.style.alignment=h}get border(){return this.style.border}set border(h){this.style.border=h}get fill(){return this.style.fill}set fill(h){this.style.fill=h}get protection(){return this.style.protection}set protection(h){this.style.protection=h}_mergeStyle(h,m,g){const p=h&&h.numFmt||m&&m.numFmt;p&&(g.numFmt=p);const y=h&&h.font||m&&m.font;y&&(g.font=y);const v=h&&h.alignment||m&&m.alignment;v&&(g.alignment=v);const w=h&&h.border||m&&m.border;w&&(g.border=w);const C=h&&h.fill||m&&m.fill;C&&(g.fill=C);const P=h&&h.protection||m&&m.protection;return P&&(g.protection=P),g}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(h,m){this._value.release(),this._value=f.create(u.Types.Merge,this,h),m||(this.style=h.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=f.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(h){return this._value.type===u.Types.Merge&&this._value.isMergedTo(h)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(h){this.type!==u.Types.Merge?(this._value.release(),this._value=f.create(f.getType(h),this,h)):this._value.master.value=h}get note(){return this._comment&&this._comment.note}set note(h){this._comment=new o(h)}get text(){return this._value.toString()}get html(){return s.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(h){this.type===u.Types.String&&(this._value=f.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:h}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:h}=this._row;return{sheetName:h.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(h){this.names=[h]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(h){const{definedNames:m}=this.workbook;m.removeAllNames(this.fullAddress),h.forEach(g=>{m.addEx(this.fullAddress,g)})}addName(h){this.workbook.definedNames.addEx(this.fullAddress,h)}removeName(h){this.workbook.definedNames.removeEx(this.fullAddress,h)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(h){this._dataValidations.add(this.address,h)}get model(){const{model:h}=this._value;return h.style=this.style,this._comment&&(h.comment=this._comment.model),h}set model(h){if(this._value.release(),this._value=f.create(h.type,this),this._value.model=h,h.comment)switch(h.comment.type){case"note":this._comment=o.fromModel(h.comment)}h.style?this.style=h.style:this.style={}}}u.Types=l.ValueType;const f={getType:d=>d==null?u.Types.Null:d instanceof String||typeof d=="string"?u.Types.String:typeof d=="number"?u.Types.Number:typeof d=="boolean"?u.Types.Boolean:d instanceof Date?u.Types.Date:d.text&&d.hyperlink?u.Types.Hyperlink:d.formula||d.sharedFormula?u.Types.Formula:d.richText?u.Types.RichText:d.sharedString?u.Types.SharedString:d.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(d){this.model={address:d.address,type:u.Types.Null}}get value(){return null}set value(d){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Number,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.String,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Date,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Hyperlink,text:h?h.text:void 0,hyperlink:h?h.hyperlink:void 0},h&&h.tooltip&&(this.model.tooltip=h.tooltip)}get value(){const d={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(d.tooltip=this.model.tooltip),d}set value(d){this.model={text:d.text,hyperlink:d.hyperlink},d.tooltip&&(this.model.tooltip=d.tooltip)}get text(){return this.model.text}set text(d){this.model.text=d}get hyperlink(){return this.model.hyperlink}set hyperlink(d){this.model.hyperlink=d}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(d,h){this.cell=d,this.model={address:d.address,type:u.Types.Formula,shareType:h?h.shareType:void 0,ref:h?h.ref:void 0,formula:h?h.formula:void 0,sharedFormula:h?h.sharedFormula:void 0,result:h?h.result:void 0}}_copyModel(d){const h={},m=g=>{const p=d[g];p&&(h[g]=p)};return m("formula"),m("result"),m("ref"),m("shareType"),m("sharedFormula"),h}get value(){return this._copyModel(this.model)}set value(d){this.model=this._copyModel(d)}validate(d){switch(f.getType(d)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(d){this.model.formula=d}get formulaType(){return this.model.formula?l.FormulaType.Master:this.model.sharedFormula?l.FormulaType.Shared:l.FormulaType.None}get result(){return this.model.result}set result(d){this.model.result=d}get type(){return u.Types.Formula}get effectiveType(){const d=this.model.result;return d==null?l.ValueType.Null:d instanceof String||typeof d=="string"?l.ValueType.String:typeof d=="number"?l.ValueType.Number:d instanceof Date?l.ValueType.Date:d.text&&d.hyperlink?l.ValueType.Hyperlink:d.formula?l.ValueType.Formula:l.ValueType.Null}get address(){return this.model.address}set address(d){this.model.address=d}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:d}=this.cell,h=d.findCell(this.model.sharedFormula);this._translatedFormula=h&&c(h.formula,h.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Merge,master:h?h.address:void 0},this._master=h,h&&h.addMergeRef()}get value(){return this._master.value}set value(d){d instanceof u?(this._master&&this._master.releaseMergeRef(),d.addMergeRef(),this._master=d):this._master.value=d}isMergedTo(d){return d===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.String,value:JSON.stringify(h),rawValue:h}}get value(){return this.model.rawValue}set value(d){this.model.rawValue=d,this.model.value=JSON.stringify(d)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.SharedString,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.String,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}toString(){return this.model.value.richText.map(d=>d.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Boolean,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Error,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((d,h)=>(d[h.t]=h.f,d),[]),create(d,h,m){const g=this.types[d];if(!g)throw new Error("Could not create Value of type "+d);return new g(h,m)}};n.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,n,i){const a=t("../utils/under-dash"),s=t("./enums"),l=t("../utils/col-cache");class c{constructor(u,f,d){this._worksheet=u,this._number=f,d!==!1&&(this.defn=d)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return l.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((f,d)=>{this._worksheet.getCell(d+1,this.number).value=f})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&a.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,f){const d=this.number;f||(f=u,u=null),this._worksheet.eachRow(u,(h,m)=>{f(h.getCell(d),m)})}get values(){const u=[];return this.eachCell((f,d)=>{f&&f.type!==s.ValueType.Null&&(u[d]=f.value)}),u}set values(u){if(!u)return;const f=this.number;let d=0;u.hasOwnProperty("0")&&(d=1),u.forEach((h,m)=>{this._worksheet.getCell(m+d,f).value=h})}_applyStyle(u,f){return this.style[u]=f,this.eachCell(d=>{d[u]=f}),f}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const f=[];let d=null;return u&&u.forEach((h,m)=>{h.isDefault?d&&(d=null):d&&h.equivalentTo(d)?d.max=m+1:(d={min:m+1,max:m+1,width:h.width!==void 0?h.width:9,style:h.style,isCustomWidth:h.isCustomWidth,hidden:h.hidden,outlineLevel:h.outlineLevel,collapsed:h.collapsed},f.push(d))}),f.length?f:void 0}static fromModel(u,f){const d=[];let h=1,m=0;for(f=(f=f||[]).sort((function(g,p){return g.min-p.min}));m<f.length;){const g=f[m++];for(;h<g.min;)d.push(new c(u,h++));for(;h<=g.max;)d.push(new c(u,h++,g))}return d.length?d:null}}n.exports=c},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,n,i){n.exports=class{constructor(a){this.model=a||{}}add(a,s){return this.model[a]=s}find(a){return this.model[a]}remove(a){this.model[a]=void 0}}},{}],6:[function(t,n,i){const a=t("../utils/under-dash"),s=t("../utils/col-cache"),l=t("../utils/cell-matrix"),c=t("./range"),o=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new l)}add(u,f){const d=s.decodeEx(u);this.addEx(d,f)}addEx(u,f){const d=this.getMatrix(f);if(u.top)for(let h=u.left;h<=u.right;h++)for(let m=u.top;m<=u.bottom;m++){const g={sheetName:u.sheetName,address:s.n2l(h)+m,row:m,col:h};d.addCellEx(g)}else d.addCellEx(u)}remove(u,f){const d=s.decodeEx(u);this.removeEx(d,f)}removeEx(u,f){this.getMatrix(f).removeCellEx(u)}removeAllNames(u){a.each(this.matrixMap,f=>{f.removeCellEx(u)})}forEach(u){a.each(this.matrixMap,(f,d)=>{f.forEach(h=>{u(d,h)})})}getNames(u){return this.getNamesEx(s.decodeEx(u))}getNamesEx(u){return a.map(this.matrixMap,(f,d)=>f.findCellEx(u)&&d).filter(Boolean)}_explore(u,f){f.mark=!1;const{sheetName:d}=f,h=new c(f.row,f.col,f.row,f.col,d);let m,g;function p(v,w){const C=u.findCellAt(d,v,f.col);return!(!C||!C.mark)&&(h[w]=v,C.mark=!1,!0)}for(g=f.row-1;p(g,"top");g--);for(g=f.row+1;p(g,"bottom");g++);function y(v,w){const C=[];for(g=h.top;g<=h.bottom;g++){const P=u.findCellAt(d,g,v);if(!P||!P.mark)return!1;C.push(P)}h[w]=v;for(let P=0;P<C.length;P++)C[P].mark=!1;return!0}for(m=f.col-1;y(m,"left");m--);for(m=f.col+1;y(m,"right");m++);return h}getRanges(u,f){return(f=f||this.matrixMap[u])?(f.forEach(d=>{d.mark=!0}),{name:u,ranges:f.map(d=>d.mark&&this._explore(f,d)).filter(Boolean).map(d=>d.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,f){u.forEachInSheet(f,(d,h,m)=>{d&&(d.row===h&&d.col===m||(d.row=h,d.col=m,d.address=s.n2l(m)+h))})}spliceRows(u,f,d,h){a.each(this.matrixMap,m=>{m.spliceRows(u,f,d,h),this.normaliseMatrix(m,u)})}spliceColumns(u,f,d,h){a.each(this.matrixMap,m=>{m.spliceColumns(u,f,d,h),this.normaliseMatrix(m,u)})}get model(){return a.map(this.matrixMap,(u,f)=>this.getRanges(f,u)).filter(u=>u.ranges.length)}set model(u){const f=this.matrixMap={};u.forEach(d=>{const h=f[d.name]=new l;d.ranges.forEach(m=>{o.test(m.split("!").pop()||"")&&h.addCell(m)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,n,i){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,n,i){const a=t("../utils/col-cache"),s=t("./anchor");n.exports=class{constructor(l,c){this.worksheet=l,this.model=c}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(l){let{type:c,imageId:o,range:u,hyperlinks:f}=l;if(this.type=c,this.imageId=o,c==="image")if(typeof u=="string"){const d=a.decode(u);this.range={tl:new s(this.worksheet,{col:d.left,row:d.top},-1),br:new s(this.worksheet,{col:d.right,row:d.bottom},0),editAs:"oneCell"}}else this.range={tl:new s(this.worksheet,u.tl,0),br:u.br&&new s(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:f||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,n,i){const a=t("../utils/under-dash");class s{constructor(c){this.note=c}get model(){let c=null;switch(typeof this.note){case"string":c={type:"note",note:{texts:[{text:this.note}]}};break;default:c={type:"note",note:this.note}}return a.deepMerge({},s.DEFAULT_CONFIGS,c)}set model(c){const{note:o}=c,{texts:u}=o;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=o}static fromModel(c){const o=new s;return o.model=c,o}}s.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=s},{"../utils/under-dash":26}],10:[function(t,n,i){const a=t("../utils/col-cache");class s{constructor(){this.decode(arguments)}setTLBR(c,o,u,f,d){if(arguments.length<4){const h=a.decodeAddress(c),m=a.decodeAddress(o);this.model={top:Math.min(h.row,m.row),left:Math.min(h.col,m.col),bottom:Math.max(h.row,m.row),right:Math.max(h.col,m.col),sheetName:u},this.setTLBR(h.row,h.col,m.row,m.col,d)}else this.model={top:Math.min(c,u),left:Math.min(o,f),bottom:Math.max(c,u),right:Math.max(o,f),sheetName:d}}decode(c){switch(c.length){case 5:this.setTLBR(c[0],c[1],c[2],c[3],c[4]);break;case 4:this.setTLBR(c[0],c[1],c[2],c[3]);break;case 3:this.setTLBR(c[0],c[1],c[2]);break;case 2:this.setTLBR(c[0],c[1]);break;case 1:{const o=c[0];if(o instanceof s)this.model={top:o.model.top,left:o.model.left,bottom:o.model.bottom,right:o.model.right,sheetName:o.sheetName};else if(o instanceof Array)this.decode(o);else if(o.top&&o.left&&o.bottom&&o.right)this.model={top:o.top,left:o.left,bottom:o.bottom,right:o.right,sheetName:o.sheetName};else{const u=a.decodeEx(o);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+c.length)}}get top(){return this.model.top||1}set top(c){this.model.top=c}get left(){return this.model.left||1}set left(c){this.model.left=c}get bottom(){return this.model.bottom||1}set bottom(c){this.model.bottom=c}get right(){return this.model.right||1}set right(c){this.model.right=c}get sheetName(){return this.model.sheetName}set sheetName(c){this.model.sheetName=c}get _serialisedSheetName(){const{sheetName:c}=this.model;return c?/^[a-zA-Z0-9]*$/.test(c)?c+"!":`'${c}'!`:""}expand(c,o,u,f){(!this.model.top||c<this.top)&&(this.top=c),(!this.model.left||o<this.left)&&(this.left=o),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||f>this.right)&&(this.right=f)}expandRow(c){if(c){const{dimensions:o,number:u}=c;o&&this.expand(u,o.min,u,o.max)}}expandToAddress(c){const o=a.decodeEx(c);this.expand(o.row,o.col,o.row,o.col)}get tl(){return a.n2l(this.left)+this.top}get $t$l(){return`$${a.n2l(this.left)}$${this.top}`}get br(){return a.n2l(this.right)+this.bottom}get $b$r(){return`$${a.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&!(c.bottom<this.top)&&!(c.top>this.bottom)&&!(c.right<this.left)&&!(c.left>this.right)}contains(c){const o=a.decodeEx(c);return this.containsEx(o)}containsEx(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&c.row>=this.top&&c.row<=this.bottom&&c.col>=this.left&&c.col<=this.right}forEachAddress(c){for(let o=this.left;o<=this.right;o++)for(let u=this.top;u<=this.bottom;u++)c(a.encodeAddress(u,o),u,o)}}n.exports=s},{"../utils/col-cache":19}],11:[function(t,n,i){const a=t("../utils/under-dash"),s=t("./enums"),l=t("../utils/col-cache"),c=t("./cell");n.exports=class{constructor(o,u){this._worksheet=o,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(o){return this._cells[o-1]}getCellEx(o){let u=this._cells[o.col-1];if(!u){const f=this._worksheet.getColumn(o.col);u=new c(this,f,o.address),this._cells[o.col-1]=u}return u}getCell(o){if(typeof o=="string"){const u=this._worksheet.getColumnKey(o);o=u?u.number:l.l2n(o)}return this._cells[o-1]||this.getCellEx({address:l.encodeAddress(this._number,o),row:this._number,col:o})}splice(o,u){const f=o+u;for(var d=arguments.length,h=new Array(d>2?d-2:0),m=2;m<d;m++)h[m-2]=arguments[m];const g=h.length-u,p=this._cells.length;let y,v,w;if(g<0)for(y=o+h.length;y<=p;y++)w=this._cells[y-1],v=this._cells[y-g-1],v?(w=this.getCell(y),w.value=v.value,w.style=v.style,w._comment=v._comment):w&&(w.value=null,w.style={},w._comment=void 0);else if(g>0)for(y=p;y>=f;y--)v=this._cells[y-1],v?(w=this.getCell(y+g),w.value=v.value,w.style=v.style,w._comment=v._comment):this._cells[y+g-1]=void 0;for(y=0;y<h.length;y++)w=this.getCell(o+y),w.value=h[y],w.style={},w._comment=void 0}eachCell(o,u){if(u||(u=o,o=null),o&&o.includeEmpty){const f=this._cells.length;for(let d=1;d<=f;d++)u(this.getCell(d),d)}else this._cells.forEach((f,d)=>{f&&f.type!==s.ValueType.Null&&u(f,d+1)})}addPageBreak(o,u){const f=this._worksheet,d=Math.max(0,o-1)||0,h=Math.max(0,u-1)||16838,m={id:this._number,max:h,man:1};d&&(m.min=d),f.rowBreaks.push(m)}get values(){const o=[];return this._cells.forEach(u=>{u&&u.type!==s.ValueType.Null&&(o[u.col]=u.value)}),o}set values(o){if(this._cells=[],o)if(o instanceof Array){let u=0;o.hasOwnProperty("0")&&(u=1),o.forEach((f,d)=>{f!==void 0&&(this.getCellEx({address:l.encodeAddress(this._number,d+u),row:this._number,col:d+u}).value=f)})}else this._worksheet.eachColumnKey((u,f)=>{o[f]!==void 0&&(this.getCellEx({address:l.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=o[f])})}get hasValues(){return a.some(this._cells,o=>o&&o.type!==s.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let o=0;return this.eachCell(()=>{o++}),o}get dimensions(){let o=0,u=0;return this._cells.forEach(f=>{f&&f.type!==s.ValueType.Null&&((!o||o>f.col)&&(o=f.col),u<f.col&&(u=f.col))}),o>0?{min:o,max:u}:null}_applyStyle(o,u){return this.style[o]=u,this._cells.forEach(f=>{f&&(f[o]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(o){this._applyStyle("numFmt",o)}get font(){return this.style.font}set font(o){this._applyStyle("font",o)}get alignment(){return this.style.alignment}set alignment(o){this._applyStyle("alignment",o)}get protection(){return this.style.protection}set protection(o){this._applyStyle("protection",o)}get border(){return this.style.border}set border(o){this._applyStyle("border",o)}get fill(){return this.style.fill}set fill(o){this._applyStyle("fill",o)}get hidden(){return!!this._hidden}set hidden(o){this._hidden=o}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(o){this._outlineLevel=o}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const o=[];let u=0,f=0;return this._cells.forEach(d=>{if(d){const h=d.model;h&&((!u||u>d.col)&&(u=d.col),f<d.col&&(f=d.col),o.push(h))}}),this.height||o.length?{cells:o,number:this.number,min:u,max:f,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(o){if(o.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],o.cells.forEach(f=>{switch(f.type){case c.Types.Merge:break;default:{let d;if(f.address)d=l.decodeAddress(f.address);else if(u){const{row:h}=u,m=u.col+1;d={row:h,col:m,address:l.encodeAddress(h,m),$col$row:`$${l.n2l(m)}$${h}`}}u=d,this.getCellEx(d).model=f;break}}}),o.height?this.height=o.height:delete this.height,this.hidden=o.hidden,this.outlineLevel=o.outlineLevel||0,this.style=o.style&&JSON.parse(JSON.stringify(o.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,n,i){const a=t("../utils/col-cache");class s{constructor(c,o,u){this.table=c,this.column=o,this.index=u}_set(c,o){this.table.cacheState(),this.column[c]=o}get name(){return this.column.name}set name(c){this._set("name",c)}get filterButton(){return this.column.filterButton}set filterButton(c){this.column.filterButton=c}get style(){return this.column.style}set style(c){this.column.style=c}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(c){this._set("totalsRowLabel",c)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(c){this._set("totalsRowFunction",c)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(c){this._set("totalsRowResult",c)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(c){this._set("totalsRowFormula",c)}}n.exports=class{constructor(l,c){this.worksheet=l,c&&(this.table=c,this.validate(),this.store())}getFormula(l){switch(l.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${l.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${l.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${l.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${l.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${l.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${l.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${l.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${l.name}])`;case"custom":return l.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+l.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:l}=this,c=(g,p,y)=>{g[p]===void 0&&(g[p]=y)};c(l,"headerRow",!0),c(l,"totalsRow",!1),c(l,"style",{}),c(l.style,"theme","TableStyleMedium2"),c(l.style,"showFirstColumn",!1),c(l.style,"showLastColumn",!1),c(l.style,"showRowStripes",!1),c(l.style,"showColumnStripes",!1);const o=(g,p)=>{if(!g)throw new Error(p)};o(l.ref,"Table must have ref"),o(l.columns,"Table must have column definitions"),o(l.rows,"Table must have row definitions"),l.tl=a.decodeAddress(l.ref);const{row:u,col:f}=l.tl;o(u>0,"Table must be on valid row"),o(f>0,"Table must be on valid col");const{width:d,filterHeight:h,tableHeight:m}=this;l.autoFilterRef=a.encode(u,f,u+h-1,f+d-1),l.tableRef=a.encode(u,f,u+m-1,f+d-1),l.columns.forEach((g,p)=>{o(g.name,`Column ${p} must have a name`),p===0?c(g,"totalsRowLabel","Total"):(c(g,"totalsRowFunction","none"),g.totalsRowFormula=this.getFormula(g))})}store(){const l=(h,m)=>{m&&Object.keys(m).forEach(g=>{h[g]=m[g]})},{worksheet:c,table:o}=this,{row:u,col:f}=o.tl;let d=0;if(o.headerRow){const h=c.getRow(u+d++);o.columns.forEach((m,g)=>{const{style:p,name:y}=m,v=h.getCell(f+g);v.value=y,l(v,p)})}if(o.rows.forEach(h=>{const m=c.getRow(u+d++);h.forEach((g,p)=>{const y=m.getCell(f+p);y.value=g,l(y,o.columns[p].style)})}),o.totalsRow){const h=c.getRow(u+d++);o.columns.forEach((m,g)=>{const p=h.getCell(f+g);if(g===0)p.value=m.totalsRowLabel;else{const y=this.getFormula(m);p.value=y?{formula:m.totalsRowFormula,result:m.totalsRowResult}:null}l(p,m.style)})}}load(l){const{table:c}=this,{row:o,col:u}=c.tl;let f=0;if(c.headerRow){const d=l.getRow(o+f++);c.columns.forEach((h,m)=>{d.getCell(u+m).value=h.name})}if(c.rows.forEach(d=>{const h=l.getRow(o+f++);d.forEach((m,g)=>{h.getCell(u+g).value=m})}),c.totalsRow){const d=l.getRow(o+f++);c.columns.forEach((h,m)=>{const g=d.getCell(u+m);m===0?g.value=h.totalsRowLabel:this.getFormula(h)&&(g.value={formula:h.totalsRowFormula,result:h.totalsRowResult})})}}get model(){return this.table}set model(l){this.table=l}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const l=a.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let c=0;c<this._cache.tableHeight;c++){const o=this.worksheet.getRow(l.row+c);for(let u=0;u<this._cache.width;u++)o.getCell(l.col+u).value=null}else{for(let c=this.tableHeight;c<this._cache.tableHeight;c++){const o=this.worksheet.getRow(l.row+c);for(let u=0;u<this._cache.width;u++)o.getCell(l.col+u).value=null}for(let c=0;c<this.tableHeight;c++){const o=this.worksheet.getRow(l.row+c);for(let u=this.width;u<this._cache.width;u++)o.getCell(l.col+u).value=null}}this.store()}addRow(l,c){this.cacheState(),c===void 0?this.table.rows.push(l):this.table.rows.splice(c,0,l)}removeRows(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(l,c)}getColumn(l){const c=this.table.columns[l];return new s(this,c,l)}addColumn(l,c,o){this.cacheState(),o===void 0?(this.table.columns.push(l),this.table.rows.forEach((u,f)=>{u.push(c[f])})):(this.table.columns.splice(o,0,l),this.table.rows.forEach((u,f)=>{u.splice(o,0,c[f])}))}removeColumns(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(l,c),this.table.rows.forEach(o=>{o.splice(l,c)})}_assign(l,c,o){this.cacheState(),l[c]=o}get ref(){return this.table.ref}set ref(l){this._assign(this.table,"ref",l)}get name(){return this.table.name}set name(l){this.table.name=l}get displayName(){return this.table.displyName||this.table.name}set displayNamename(l){this.table.displayName=l}get headerRow(){return this.table.headerRow}set headerRow(l){this._assign(this.table,"headerRow",l)}get totalsRow(){return this.table.totalsRow}set totalsRow(l){this._assign(this.table,"totalsRow",l)}get theme(){return this.table.style.name}set theme(l){this.table.style.name=l}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(l){this.table.style.showFirstColumn=l}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(l){this.table.style.showLastColumn=l}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(l){this.table.style.showRowStripes=l}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(l){this.table.style.showColumnStripes=l}}},{"../utils/col-cache":19}],13:[function(t,n,i){const a=t("./worksheet"),s=t("./defined-names"),l=t("../xlsx/xlsx"),c=t("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new s}get xlsx(){return this._xlsx||(this._xlsx=new l(this)),this._xlsx}get csv(){return this._csv||(this._csv=new c(this)),this._csv}get nextId(){for(let o=1;o<this._worksheets.length;o++)if(!this._worksheets[o])return o;return this._worksheets.length||1}addWorksheet(o,u){const f=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const d=this._worksheets.reduce((g,p)=>(p&&p.orderNo)>g?p.orderNo:g,0),h=Object.assign({},u,{id:f,name:o,orderNo:d+1,workbook:this}),m=new a(h);return this._worksheets[f]=m,m}removeWorksheetEx(o){delete this._worksheets[o.id]}removeWorksheet(o){const u=this.getWorksheet(o);u&&u.destroy()}getWorksheet(o){return o===void 0?this._worksheets.find(Boolean):typeof o=="number"?this._worksheets[o]:typeof o=="string"?this._worksheets.find(u=>u&&u.name===o):void 0}get worksheets(){return this._worksheets.slice(1).sort((o,u)=>o.orderNo-u.orderNo).filter(Boolean)}eachSheet(o){this.worksheets.forEach(u=>{o(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(o){const u=this.media.length;return this.media.push(Object.assign({},o,{type:"image"})),u}getImage(o){return this.media[o]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(o=>o.model),sheets:this.worksheets.map(o=>o.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(o){this.creator=o.creator,this.lastModifiedBy=o.lastModifiedBy,this.lastPrinted=o.lastPrinted,this.created=o.created,this.modified=o.modified,this.company=o.company,this.manager=o.manager,this.title=o.title,this.subject=o.subject,this.keywords=o.keywords,this.category=o.category,this.description=o.description,this.language=o.language,this.revision=o.revision,this.contentStatus=o.contentStatus,this.properties=o.properties,this.calcProperties=o.calcProperties,this._worksheets=[],o.worksheets.forEach(u=>{const{id:f,name:d,state:h}=u,m=o.sheets&&o.sheets.findIndex(g=>g.id===f);(this._worksheets[f]=new a({id:f,name:d,orderNo:m,state:h,workbook:this})).model=u}),this._definedNames.model=o.definedNames,this.views=o.views,this._themes=o.themes,this.media=o.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,n,i){const a=t("../utils/under-dash"),s=t("../utils/col-cache"),l=t("./range"),c=t("./row"),o=t("./column"),u=t("./enums"),f=t("./image"),d=t("./table"),h=t("./data-validations"),m=t("../utils/encryptor"),{copyStyle:g}=t("../utils/copy-style");n.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new h,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(y=>y&&y.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const p=new l;return this._rows.forEach(y=>{if(y){const v=y.dimensions;v&&p.expand(y.number,v.min,y.number,v.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((w,C)=>{const P=(C.header?1:C.headers&&C.headers.length)||0;return Math.max(w,P)},0);let y=1;const v=this._columns=[];p.forEach(w=>{const C=new o(this,y++,!1);v.push(C),C.defn=w})}getColumnKey(p){return this._keys[p]}setColumnKey(p,y){this._keys[p]=y}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){a.each(this._keys,p)}getColumn(p){if(typeof p=="string"){const y=this._keys[p];if(y)return y;p=s.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let y=this._columns.length+1;for(;y<=p;)this._columns.push(new o(this,y++))}return this._columns[p-1]}spliceColumns(p,y){const v=this._rows.length;for(var w=arguments.length,C=new Array(w>2?w-2:0),P=2;P<w;P++)C[P-2]=arguments[P];if(C.length>0)for(let I=0;I<v;I++){const z=[p,y];C.forEach(B=>{z.push(B[I]||null)});const $=this.getRow(I+1);$.splice.apply($,z)}else this._rows.forEach(I=>{I&&I.splice(p,y)});const F=C.length-y,L=p+y,j=this._columns.length;if(F<0)for(let I=p+C.length;I<=j;I++)this.getColumn(I).defn=this.getColumn(I-F).defn;else if(F>0)for(let I=j;I>=L;I--)this.getColumn(I+F).defn=this.getColumn(I).defn;for(let I=p;I<p+C.length;I++)this.getColumn(I).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,y,C.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(y=>{p=Math.max(p,y.cellCount)}),p}get actualColumnCount(){const p=[];let y=0;return this.eachRow(v=>{v.eachCell(w=>{let{col:C}=w;p[C]||(p[C]=!0,y++)})}),y}_commitRow(){}get _lastRowNumber(){const p=this._rows;let y=p.length;for(;y>0&&p[y-1]===void 0;)y--;return y}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,y){return this._rows.slice(p-1,p-1+y)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let y=this._rows[p-1];return y||(y=this._rows[p-1]=new c(this,p)),y}getRows(p,y){if(y<1)return;const v=[];for(let w=p;w<p+y;w++)v.push(this.getRow(w));return v}addRow(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=this._nextRow,w=this.getRow(v);return w.values=p,this._setStyleOption(v,y[0]==="i"?y:"n"),w}addRows(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=[];return p.forEach(w=>{v.push(this.addRow(w,y))}),v}insertRow(p,y){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,y),this._setStyleOption(p,v),this.getRow(p)}insertRows(p,y){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...y),v!=="n")for(let w=0;w<y.length;w++)v[0]==="o"&&this.findRow(y.length+p+w)!==void 0?this._copyStyle(y.length+p+w,p+w,v[1]==="+"):v[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+w,v[1]==="+");return this.getRows(p,y.length)}_setStyleOption(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";y[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,y[1]==="+"):y[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,y[1]==="+")}_copyStyle(p,y){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this.getRow(p),C=this.getRow(y);C.style=g(w.style),w.eachCell({includeEmpty:v},(P,F)=>{C.getCell(F).style=g(P.style)}),C.height=w.height}duplicateRow(p,y){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this._rows[p-1],C=new Array(y).fill(w.values);this.spliceRows(p+1,v?0:y,...C);for(let P=0;P<y;P++){const F=this._rows[p+P];F.style=w.style,F.height=w.height,w.eachCell({includeEmpty:!0},(L,j)=>{F.getCell(j).style=L.style})}}spliceRows(p,y){const v=p+y;for(var w=arguments.length,C=new Array(w>2?w-2:0),P=2;P<w;P++)C[P-2]=arguments[P];const F=C.length,L=F-y,j=this._rows.length;let I,z;if(L<0)for(p===j&&(this._rows[j-1]=void 0),I=v;I<=j;I++)if(z=this._rows[I-1],z){const $=this.getRow(I+L);$.values=z.values,$.style=z.style,$.height=z.height,z.eachCell({includeEmpty:!0},(B,T)=>{$.getCell(T).style=B.style}),this._rows[I-1]=void 0}else this._rows[I+L-1]=void 0;else if(L>0)for(I=j;I>=v;I--)if(z=this._rows[I-1],z){const $=this.getRow(I+L);$.values=z.values,$.style=z.style,$.height=z.height,z.eachCell({includeEmpty:!0},(B,T)=>{if($.getCell(T).style=B.style,B._value.constructor.name==="MergeValue"){const R=this.getRow(B._row._number+F).getCell(T),N=B._value._master,_=this.getRow(N._row._number+F).getCell(N._column._number);R.merge(_)}})}else this._rows[I+L-1]=void 0;for(I=0;I<F;I++){const $=this.getRow(p+I);$.style={},$.values=C[I]}this.workbook.definedNames.spliceRows(this.name,p,y,F)}eachRow(p,y){if(y||(y=p,p=void 0),p&&p.includeEmpty){const v=this._rows.length;for(let w=1;w<=v;w++)y(this.getRow(w),w)}else this._rows.forEach(v=>{v&&v.hasValues&&y(v,v.number)})}getSheetValues(){const p=[];return this._rows.forEach(y=>{y&&(p[y.number]=y.values)}),p}findCell(p,y){const v=s.getAddress(p,y),w=this._rows[v.row-1];return w?w.findCell(v.col):void 0}getCell(p,y){const v=s.getAddress(p,y);return this.getRow(v.row).getCellEx(v)}mergeCells(){for(var p=arguments.length,y=new Array(p),v=0;v<p;v++)y[v]=arguments[v];const w=new l(y);this._mergeCellsInternal(w)}mergeCellsWithoutStyle(){for(var p=arguments.length,y=new Array(p),v=0;v<p;v++)y[v]=arguments[v];const w=new l(y);this._mergeCellsInternal(w,!0)}_mergeCellsInternal(p,y){a.each(this._merges,w=>{if(w.intersects(p))throw new Error("Cannot merge already merged cells")});const v=this.getCell(p.top,p.left);for(let w=p.top;w<=p.bottom;w++)for(let C=p.left;C<=p.right;C++)(w>p.top||C>p.left)&&this.getCell(w,C).merge(v,y);this._merges[v.address]=p}_unMergeMaster(p){const y=this._merges[p.address];if(y){for(let v=y.top;v<=y.bottom;v++)for(let w=y.left;w<=y.right;w++)this.getCell(v,w).unmerge();delete this._merges[p.address]}}get hasMerges(){return a.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,y=new Array(p),v=0;v<p;v++)y[v]=arguments[v];const w=new l(y);for(let C=w.top;C<=w.bottom;C++)for(let P=w.left;P<=w.right;P++){const F=this.findCell(C,P);F&&(F.type===u.ValueType.Merge?this._unMergeMaster(F.master):this._merges[F.address]&&this._unMergeMaster(F))}}fillFormula(p,y,v){let w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const C=s.decode(p),{top:P,left:F,bottom:L,right:j}=C,I=j-F+1,z=s.encodeAddress(P,F),$=w==="shared";let B;B=typeof v=="function"?v:Array.isArray(v)?Array.isArray(v[0])?(R,N)=>v[R-P][N-F]:(R,N)=>v[(R-P)*I+(N-F)]:()=>{};let T=!0;for(let R=P;R<=L;R++)for(let N=F;N<=j;N++)T?(this.getCell(R,N).value={shareType:w,formula:y,ref:p,result:B(R,N)},T=!1):this.getCell(R,N).value=$?{sharedFormula:z,result:B(R,N)}:B(R,N)}addImage(p,y){const v={type:"image",imageId:p,range:y};this._media.push(new f(this,v))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){const y={type:"background",imageId:p};this._media.push(new f(this,y))}getBackgroundImageId(){const p=this._media.find(y=>y.type==="background");return p&&p.imageId}protect(p,y){return new Promise(v=>{this.sheetProtection={sheet:!0},y&&"spinCount"in y&&(y.spinCount=Number.isFinite(y.spinCount)?Math.round(Math.max(0,y.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=m.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=y&&"spinCount"in y?y.spinCount:1e5,this.sheetProtection.hashValue=m.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),y&&(this.sheetProtection=Object.assign(this.sheetProtection,y),!p&&"spinCount"in y&&delete this.sheetProtection.spinCount),v()})}unprotect(){this.sheetProtection=null}addTable(p){const y=new d(this,p);return this.tables[p.name]=y,y}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){const p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(w=>w.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(w=>w.model),conditionalFormattings:this.conditionalFormattings};p.cols=o.toModel(this.columns);const y=p.rows=[],v=p.dimensions=new l;return this._rows.forEach(w=>{const C=w&&w.model;C&&(v.expand(C.number,C.min,C.number,C.max),y.push(C))}),p.merges=[],a.each(this._merges,w=>{p.merges.push(w.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(y=>{const v=new c(this,y.number);this._rows[v.number-1]=v,v.model=y})}_parseMergeCells(p){a.each(p.mergeCells,y=>{this.mergeCellsWithoutStyle(y)})}set model(p){this.name=p.name,this._columns=o.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new h(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(y=>new f(this,y)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((y,v)=>{const w=new d;return w.model=v,y[v.name]=w,y},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,n,i){t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");const a={Workbook:t("./doc/workbook")},s=t("./doc/enums");Object.keys(s).forEach(l=>{a[l]=s[l]}),n.exports=a},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,n,i){const a=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");i.bufferToString=function(s){return typeof s=="string"?s:a?a.decode(s):s.toString()}},{}],17:[function(t,n,i){const a=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:s}=t("buffer");i.stringToBuffer=function(l){return typeof l!="string"?l:a?s.from(a.encode(l).buffer):s.from(l)}},{buffer:220}],18:[function(t,n,i){const a=t("./under-dash"),s=t("./col-cache");n.exports=class{constructor(l){this.template=l,this.sheets={}}addCell(l){this.addCellEx(s.decodeEx(l))}getCell(l){return this.findCellEx(s.decodeEx(l),!0)}findCell(l){return this.findCellEx(s.decodeEx(l),!1)}findCellAt(l,c,o){const u=this.sheets[l],f=u&&u[c];return f&&f[o]}addCellEx(l){if(l.top)for(let c=l.top;c<=l.bottom;c++)for(let o=l.left;o<=l.right;o++)this.getCellAt(l.sheetName,c,o);else this.findCellEx(l,!0)}getCellEx(l){return this.findCellEx(l,!0)}findCellEx(l,c){const o=this.findSheet(l,c),u=this.findSheetRow(o,l,c);return this.findRowCell(u,l,c)}getCellAt(l,c,o){const u=this.sheets[l]||(this.sheets[l]=[]),f=u[c]||(u[c]=[]);return f[o]||(f[o]={sheetName:l,address:s.n2l(o)+c,row:c,col:o})}removeCellEx(l){const c=this.findSheet(l);if(!c)return;const o=this.findSheetRow(c,l);o&&delete o[l.col]}forEachInSheet(l,c){const o=this.sheets[l];o&&o.forEach((u,f)=>{u&&u.forEach((d,h)=>{d&&c(d,f,h)})})}forEach(l){a.each(this.sheets,(c,o)=>{this.forEachInSheet(o,l)})}map(l){const c=[];return this.forEach(o=>{c.push(l(o))}),c}findSheet(l,c){const o=l.sheetName;return this.sheets[o]?this.sheets[o]:c?this.sheets[o]=[]:void 0}findSheetRow(l,c,o){const{row:u}=c;return l&&l[u]?l[u]:o?l[u]=[]:void 0}findRowCell(l,c,o){const{col:u}=c;return l&&l[u]?l[u]:o?l[u]=this.template?Object.assign(c,JSON.parse(JSON.stringify(this.template))):c:void 0}spliceRows(l,c,o,u){const f=this.sheets[l];if(f){const d=[];for(let h=0;h<u;h++)d.push([]);f.splice(c,o,...d)}}spliceColumns(l,c,o,u){const f=this.sheets[l];if(f){const d=[];for(let h=0;h<u;h++)d.push(null);a.each(f,h=>{h.splice(c,o,...d)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(t,n,i){const a=/^[A-Z]+\d+$/,s={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:l=>l<=26?1:l<=676?2:3,_fill(l){let c,o,u,f,d,h=1;if(l>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&l>=1){for(;h<=26;)c=this._dictionary[h-1],this._n2l[h]=c,this._l2n[c]=h,h++;this._l2nFill=1}if(this._l2nFill<2&&l>=2){for(h=27;h<=702;)o=h-27,u=o%26,f=Math.floor(o/26),c=this._dictionary[f]+this._dictionary[u],this._n2l[h]=c,this._l2n[c]=h,h++;this._l2nFill=2}if(this._l2nFill<3&&l>=3){for(h=703;h<=16384;)o=h-703,u=o%26,f=Math.floor(o/26)%26,d=Math.floor(o/676),c=this._dictionary[d]+this._dictionary[f]+this._dictionary[u],this._n2l[h]=c,this._l2n[c]=h,h++;this._l2nFill=3}},l2n(l){if(this._l2n[l]||this._fill(l.length),!this._l2n[l])throw new Error("Out of bounds. Invalid column letter: "+l);return this._l2n[l]},n2l(l){if(l<1||l>16384)throw new Error(l+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[l]||this._fill(this._level(l)),this._n2l[l]},_hash:{},validateAddress(l){if(!a.test(l))throw new Error("Invalid Address: "+l);return!0},decodeAddress(l){const c=l.length<5&&this._hash[l];if(c)return c;let o=!1,u="",f=0,d=!1,h="",m=0;for(let p,y=0;y<l.length;y++)if(p=l.charCodeAt(y),!d&&p>=65&&p<=90)o=!0,u+=l[y],f=26*f+p-64;else if(p>=48&&p<=57)d=!0,h+=l[y],m=10*m+p-48;else if(d&&o&&p!==36)break;if(o){if(f>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else f=void 0;d||(m=void 0);const g={address:l=u+h,col:f,row:m,$col$row:`$${u}$${h}`};return f<=100&&m<=100&&(this._hash[l]=g,this._hash[g.$col$row]=g),g},getAddress(l,c){if(c){const o=this.n2l(c)+l;return this.decodeAddress(o)}return this.decodeAddress(l)},decode(l){const c=l.split(":");if(c.length===2){const o=this.decodeAddress(c[0]),u=this.decodeAddress(c[1]),f={top:Math.min(o.row,u.row),left:Math.min(o.col,u.col),bottom:Math.max(o.row,u.row),right:Math.max(o.col,u.col)};return f.tl=this.n2l(f.left)+f.top,f.br=this.n2l(f.right)+f.bottom,f.dimensions=`${f.tl}:${f.br}`,f}return this.decodeAddress(l)},decodeEx(l){const c=l.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),o=c[1]||c[2],u=c[3],f=u.split(":");if(f.length>1){let h=this.decodeAddress(f[0]),m=this.decodeAddress(f[1]);const g=Math.min(h.row,m.row),p=Math.min(h.col,m.col),y=Math.max(h.row,m.row),v=Math.max(h.col,m.col);return h=this.n2l(p)+g,m=this.n2l(v)+y,{top:g,left:p,bottom:y,right:v,sheetName:o,tl:{address:h,col:p,row:g,$col$row:`$${this.n2l(p)}$${g}`,sheetName:o},br:{address:m,col:v,row:y,$col$row:`$${this.n2l(v)}$${y}`,sheetName:o},dimensions:`${h}:${m}`}}if(u.startsWith("#"))return o?{sheetName:o,error:u}:{error:u};const d=this.decodeAddress(u);return o?{sheetName:o,...d}:d},encodeAddress:(l,c)=>s.n2l(c)+l,encode(){switch(arguments.length){case 2:return s.encodeAddress(arguments[0],arguments[1]);case 4:return`${s.encodeAddress(arguments[0],arguments[1])}:${s.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(l,c){const[o,u,,f,d]=l,[h,m]=c;return h>=o&&h<=f&&m>=u&&m<=d}};n.exports=s},{}],20:[function(t,n,i){const a=(l,c)=>({...l,...c.reduce((o,u)=>(l[u]&&(o[u]={...l[u]}),o),{})}),s=function(l,c,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];l[o]&&(c[o]=a(l[o],u))};i.copyStyle=l=>{if(!l)return l;if(c=l,Object.keys(c).length===0)return{};var c;const o={...l};return s(l,o,"font",["color"]),s(l,o,"alignment"),s(l,o,"protection"),l.border&&(s(l,o,"border"),s(l.border,o.border,"top",["color"]),s(l.border,o.border,"left",["color"]),s(l.border,o.border,"bottom",["color"]),s(l.border,o.border,"right",["color"]),s(l.border,o.border,"diagonal",["color"])),l.fill&&(s(l,o,"fill",["fgColor","bgColor","center"]),l.fill.stops&&(o.fill.stops=l.fill.stops.map(u=>a(u,["color"])))),o}},{}],21:[function(t,n,i){(function(a){(function(){const s=t("crypto"),l={hash(c){const o=s.createHash(c);for(var u=arguments.length,f=new Array(u>1?u-1:0),d=1;d<u;d++)f[d-1]=arguments[d];return o.update(a.concat(f)),o.digest()},convertPasswordToHash(c,o,u,f){if(o=o.toLowerCase(),s.getHashes().indexOf(o)<0)throw new Error(`Hash algorithm '${o}' not supported!`);const d=a.from(c,"utf16le");let h=this.hash(o,a.from(u,"base64"),d);for(let m=0;m<f;m++){const g=a.alloc(4);g.writeUInt32LE(m,0),h=this.hash(o,h,g)}return h.toString("base64")},randomBytes:c=>s.randomBytes(c)};n.exports=l}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,n,i){const{SaxesParser:a}=t("saxes"),{PassThrough:s}=t("readable-stream"),{bufferToString:l}=t("./browser-buffer-decode");n.exports=async function*(c){c.pipe&&!c[Symbol.asyncIterator]&&(c=c.pipe(new s));const o=new a;let u;o.on("error",d=>{u=d});let f=[];o.on("opentag",d=>f.push({eventType:"opentag",value:d})),o.on("text",d=>f.push({eventType:"text",value:d})),o.on("closetag",d=>f.push({eventType:"closetag",value:d}));for await(const d of c){if(o.write(l(d)),u)throw u;yield f,f=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,n,i){const a=t("./col-cache"),s=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,l=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(c,o,u){const f=a.decode(o),d=a.decode(u);return c.replace(s,(h,m,g,p,y)=>{if(y)return h;const v=l.exec(p);if(v){const w=v[1],C=v[2].toUpperCase(),P=v[3],F=v[4];if(C.length>3||C.length===3&&C>"XFD")return h;let L=a.l2n(C),j=parseInt(F,10);return w||(L+=d.col-f.col),P||(j+=d.row-f.row),(m||"")+(w||"")+a.n2l(L)+(P||"")+j}return h})}}},{"./col-cache":19}],24:[function(t,n,i){(function(a,s){(function(){const l=t("readable-stream"),c=t("./utils"),o=t("./string-buf");class u{constructor(p,y){this._data=p,this._encoding=y}get length(){return this.toBuffer().length}copy(p,y,v,w){return this.toBuffer().copy(p,y,v,w)}toBuffer(){return this._buffer||(this._buffer=s.from(this._data,this._encoding)),this._buffer}}class f{constructor(p){this._data=p}get length(){return this._data.length}copy(p,y,v,w){return this._data._buf.copy(p,y,v,w)}toBuffer(){return this._data.toBuffer()}}class d{constructor(p){this._data=p}get length(){return this._data.length}copy(p,y,v,w){this._data.copy(p,y,v,w)}toBuffer(){return this._data}}class h{constructor(p){this.size=p,this.buffer=s.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const p=s.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let y;return p===0?null:p===void 0||p>=this.length?(y=this.toBuffer(),this.iRead=this.iWrite,y):(y=s.alloc(p),this.buffer.copy(y,0,this.iRead,p),this.iRead+=p,y)}write(p,y,v){const w=Math.min(v,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,y,y+w),this.iWrite+=w,w}}const m=function(g){g=g||{},this.bufSize=g.bufSize||1048576,this.buffers=[],this.batch=g.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};c.inherits(m,l.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return s.concat(this.buffers.map(g=>g.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const p=this.buffers[this.buffers.length-1];if(!p.full)return p}const g=new h(this.bufSize);return this.buffers.push(g),g},async _pipe(g){await Promise.all(this.pipes.map((function(p){return new Promise(y=>{p.write(g.toBuffer(),()=>{y()})})})))},_writeToBuffers(g){let p=0;const y=g.length;for(;p<y;)p+=this._getWritableBuffer().write(g,p,y-p)},async write(g,p,y){let v;if(p instanceof Function&&(y=p,p="utf8"),y=y||c.nop,g instanceof o)v=new f(g);else if(g instanceof s)v=new d(g);else{if(!(typeof g=="string"||g instanceof String||g instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");v=new u(g,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(v);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(v),a.nextTick(y)):(await this._pipe(v),y());else this.paused||this.emit("data",v.toBuffer()),this._writeToBuffers(v),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(g,p,y){const v=w=>{w?y(w):(this._flush(),this.pipes.forEach(C=>{C.end()}),this.emit("finish"))};g?this.write(g,p,v):v()},read(g){let p;if(g){for(p=[];g&&this.buffers.length&&!this.buffers[0].eod;){const y=this.buffers[0],v=y.read(g);g-=v.length,p.push(v),y.eod&&y.full&&this.buffers.shift()}return s.concat(p)}return p=this.buffers.map(y=>y.toBuffer()).filter(Boolean),this.buffers=[],s.concat(p)},setEncoding(g){this.encoding=g},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(g){this.pipes.push(g),!this.paused&&this.buffers.length&&this.end()},unpipe(g){this.pipes=this.pipes.filter(p=>p!==g)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=m}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,n,i){(function(a){(function(){n.exports=class{constructor(s){this._buf=a.alloc(s&&s.size||16384),this._encoding=s&&s.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=a.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(s){s=s||0,this._buffer=void 0,this._inPos=s}_grow(s){let l=2*this._buf.length;for(;l<s;)l*=2;const c=a.alloc(l);this._buf.copy(c,0),this._buf=c}addText(s){this._buffer=void 0;let l=this._inPos+this._buf.write(s,this._inPos,this._encoding);for(;l>=this._buf.length-4;)this._grow(this._inPos+s.length),l=this._inPos+this._buf.write(s,this._inPos,this._encoding);this._inPos=l}addStringBuf(s){s.length&&(this._buffer=void 0,this.length+s.length>this.capacity&&this._grow(this.length+s.length),s._buf.copy(this._buf,this._inPos,0,s.length),this._inPos+=s.length)}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,n,i){const{toString:a}=Object.prototype,s=/["&<>]/,l={each:function(c,o){c&&(Array.isArray(c)?c.forEach(o):Object.keys(c).forEach(u=>{o(c[u],u)}))},some:function(c,o){return!!c&&(Array.isArray(c)?c.some(o):Object.keys(c).some(u=>o(c[u],u)))},every:function(c,o){return!c||(Array.isArray(c)?c.every(o):Object.keys(c).every(u=>o(c[u],u)))},map:function(c,o){return c?Array.isArray(c)?c.map(o):Object.keys(c).map(u=>o(c[u],u)):[]},keyBy:(c,o)=>c.reduce((u,f)=>(u[f[o]]=f,u),{}),isEqual:function(c,o){const u=typeof c,f=typeof o,d=Array.isArray(c),h=Array.isArray(o);let m;if(u!==f)return!1;switch(typeof c){case"object":if(d||h)return!(!d||!h)&&c.length===o.length&&c.every((g,p)=>{const y=o[p];return l.isEqual(g,y)});if(c===null||o===null)return c===o;if(m=Object.keys(c),Object.keys(o).length!==m.length)return!1;for(const g of m)if(!o.hasOwnProperty(g))return!1;return l.every(c,(g,p)=>{const y=o[p];return l.isEqual(g,y)});default:return c===o}},escapeHtml(c){const o=s.exec(c);if(!o)return c;let u="",f="",d=0,h=o.index;for(;h<c.length;h++){switch(c.charAt(h)){case'"':f="&quot;";break;case"&":f="&amp;";break;case"'":f="&apos;";break;case"<":f="&lt;";break;case">":f="&gt;";break;default:continue}d!==h&&(u+=c.substring(d,h)),d=h+1,u+=f}return d!==h?u+c.substring(d,h):u},strcmp:(c,o)=>c<o?-1:c>o?1:0,isUndefined:c=>a.call(c)==="[object Undefined]",isObject:c=>a.call(c)==="[object Object]",deepMerge(){const c=arguments[0]||{},{length:o}=arguments;let u,f,d;function h(m,g){u=c[g],d=Array.isArray(m),l.isObject(m)||d?(d?(d=!1,f=u&&Array.isArray(u)?u:[]):f=u&&l.isObject(u)?u:{},c[g]=l.deepMerge(f,m)):l.isUndefined(m)||(c[g]=m)}for(let m=0;m<o;m++)l.each(arguments[m],h);return c}};n.exports=l},{}],27:[function(t,n,i){(function(a,s){(function(){const l=t("fs"),c=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,o={nop(){},promiseImmediate:u=>new Promise(f=>{a.setImmediate?s(()=>{f(u)}):setTimeout(()=>{f(u)},1)}),inherits:function(u,f,d,h){u.super_=f,h||(h=d,d=null),d&&Object.keys(d).forEach(g=>{Object.defineProperty(u,g,Object.getOwnPropertyDescriptor(d,g))});const m={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};h&&Object.keys(h).forEach(g=>{m[g]=Object.getOwnPropertyDescriptor(h,g)}),u.prototype=Object.create(f.prototype,m)},dateToExcel:(u,f)=>25569+u.getTime()/864e5-(f?1462:0),excelToDate(u,f){const d=Math.round(24*(u-25569+(f?1462:0))*3600*1e3);return new Date(d)},parsePath(u){const f=u.lastIndexOf("/");return{path:u.substring(0,f),name:u.substring(f+1)}},getRelsPath(u){const f=o.parsePath(u);return`${f.path}/_rels/${f.name}.rels`},xmlEncode(u){const f=c.exec(u);if(!f)return u;let d="",h="",m=0,g=f.index;for(;g<u.length;g++){const p=u.charCodeAt(g);switch(p){case 34:h="&quot;";break;case 38:h="&amp;";break;case 39:h="&apos;";break;case 60:h="&lt;";break;case 62:h="&gt;";break;case 127:h="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){h="";break}continue}m!==g&&(d+=u.substring(m,g)),m=g+1,h&&(d+=h)}return m!==g?d+u.substring(m,g):d},xmlDecode:u=>u.replace(/&([a-z]*);/g,f=>{switch(f){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return f}}),validInt(u){const f=parseInt(u,10);return Number.isNaN(f)?0:f},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(f=>{l.access(u,l.constants.F_OK,d=>{f(!d)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};n.exports=o}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,n,i){const a=t("./under-dash"),s=t("./utils");function l(u,f,d){u.push(` ${f}="${s.xmlEncode(d.toString())}"`)}function c(u,f){if(f){const d=[];a.each(f,(h,m)=>{h!==void 0&&l(d,m,h)}),u.push(d.join(""))}}class o{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(f){const d=this._xml;d.push("<?xml"),c(d,f),d.push(`?>
`)}openNode(f,d){const h=this.tos,m=this._xml;h&&this.open&&m.push(">"),this._stack.push(f),m.push("<"),m.push(f),c(m,d),this.leaf=!0,this.open=!0}addAttribute(f,d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");d!==void 0&&l(this._xml,f,d)}addAttributes(f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");c(this._xml,f)}writeText(f){const d=this._xml;this.open&&(d.push(">"),this.open=!1),this.leaf=!1,d.push(s.xmlEncode(f.toString()))}writeXml(f){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(f)}closeNode(){const f=this._stack.pop(),d=this._xml;this.leaf?d.push("/>"):(d.push("</"),d.push(f),d.push(">")),this.open=!1,this.leaf=!1}leafNode(f,d,h){this.openNode(f,d),h!==void 0&&this.writeText(h),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const f=this._rollbacks.pop();this._xml.length>f.xml&&this._xml.splice(f.xml,this._xml.length-f.xml),this._stack.length>f.stack&&this._stack.splice(f.stack,this._stack.length-f.stack),this.leaf=f.leaf,this.open=f.open}get xml(){return this.closeAll(),this._xml.join("")}}o.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=o},{"./under-dash":26,"./utils":27}],29:[function(t,n,i){(function(a){(function(){const s=t("events"),l=t("jszip"),c=t("./stream-buf"),{stringToBuffer:o}=t("./browser-buffer-encode");class u extends s.EventEmitter{constructor(d){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},d),this.zip=new l,this.stream=new c}append(d,h){h.hasOwnProperty("base64")&&h.base64?this.zip.file(h.name,d,{base64:!0}):(a.browser&&typeof d=="string"&&(d=o(d)),this.zip.file(h.name,d))}async finalize(){const d=await this.zip.generateAsync(this.options);this.stream.end(d),this.emit("finish")}read(d){return this.stream.read(d)}setEncoding(d){return this.stream.setEncoding(d)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(d,h){return this.stream.pipe(d,h)}unpipe(d){return this.stream.unpipe(d)}unshift(d){return this.stream.unshift(d)}wrap(d){return this.stream.wrap(d)}}n.exports={ZipWriter:u}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,n,i){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},28:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"年"m"月"d"日"',"zh-cn":'yyyy"年"m"月"d"日"',"ja-jp":'yyyy"年"m"月"d"日"',"ko-kr":'yyyy"년" mm"월" dd"일"'},32:{"zh-tw":'hh"時"mm"分"',"zh-cn":'h"时"mm"分"',"ja-jp":'h"時"mm"分"',"ko-kr":'h"시" mm"분"'},33:{"zh-tw":'hh"時"mm"分"ss"秒"',"zh-cn":'h"时"mm"分"ss"秒"',"ja-jp":'h"時"mm"分"ss"秒"',"ko-kr":'h"시" mm"분" ss"초"'},34:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},51:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},52:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'yyyy"年"m"月"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'m"月"d"日"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},55:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},58:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,n,i){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,n,i){const a=t("../../utils/parse-sax"),s=t("../../utils/xml-stream");class l{prepare(){}render(){}parseOpen(o){}parseText(o){}parseClose(o){}reconcile(o,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(o=>{o instanceof l?o.reset():o.xform&&o.xform.reset()})}mergeModel(o){this.model=Object.assign(this.model||{},o)}async parse(o){for await(const u of o)for(const{eventType:f,value:d}of u)if(f==="opentag")this.parseOpen(d);else if(f==="text")this.parseText(d);else if(f==="closetag"&&!this.parseClose(d.name))return this.model;return this.model}async parseStream(o){return this.parse(a(o))}get xml(){return this.toXml(this.model)}toXml(o){const u=new s;return this.render(u,o),u.xml}static toAttribute(o,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(f)return u}else if(f||o!==u)return o.toString()}static toStringAttribute(o,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(o,u,f)}static toStringValue(o,u){return o===void 0?u:o}static toBoolAttribute(o,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(f)return u}else if(f||o!==u)return o?"1":"0"}static toBoolValue(o,u){return o===void 0?u:o==="1"}static toIntAttribute(o,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(o,u,f)}static toIntValue(o,u){return o===void 0?u:parseInt(o,10)}static toFloatAttribute(o,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(o,u,f)}static toFloatValue(o,u){return o===void 0?u:parseFloat(o)}}n.exports=l},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,n,i){const a=t("../base-xform"),s=t("../../../utils/col-cache");function l(o){try{return s.decodeEx(o),!0}catch{return!1}}function c(o){const u=[];let f=!1,d="";return o.split(",").forEach(h=>{if(!h)return;const m=(h.match(/'/g)||[]).length;if(!m)return void(f?d+=h+",":l(h)&&u.push(h));const g=m%2==0;!f&&g&&l(h)?u.push(h):f&&!g?(f=!1,l(d+h)&&u.push(d+h),d=""):(f=!0,d+=h+",")}),u}n.exports=class extends a{render(o,u){o.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),o.writeText(u.ranges.join(",")),o.closeNode()}parseOpen(o){switch(o.name){case"definedName":return this._parsedName=o.attributes.name,this._parsedLocalSheetId=o.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(o){this._parsedText.push(o)}parseClose(){return this.model={name:this._parsedName,ranges:c(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,n,i){const a=t("../../../utils/utils"),s=t("../base-xform");n.exports=class extends s{render(l,c){l.leafNode("sheet",{sheetId:c.id,name:c.name,state:c.state,"r:id":c.rId})}parseOpen(l){return l.name==="sheet"&&(this.model={name:a.xmlDecode(l.attributes.name),id:parseInt(l.attributes.sheetId,10),state:l.attributes.state,rId:l.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{render(s,l){s.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:l.fullCalcOnLoad?1:void 0})}parseOpen(s){return s.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{render(s,l){s.leafNode("workbookPr",{date1904:l.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(s){return s.name==="workbookPr"&&(this.model={date1904:s.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{render(s,l){const c={xWindow:l.x||0,yWindow:l.y||0,windowWidth:l.width||12e3,windowHeight:l.height||24e3,firstSheet:l.firstSheet,activeTab:l.activeTab};l.visibility&&l.visibility!=="visible"&&(c.visibility=l.visibility),s.leafNode("workbookView",c)}parseOpen(s){if(s.name==="workbookView"){const l=this.model={},c=function(u,f,d){const h=f!==void 0?l[u]=f:d;h!==void 0&&(l[u]=h)},o=function(u,f,d){const h=f!==void 0?l[u]=parseInt(f,10):d;h!==void 0&&(l[u]=h)};return o("x",s.attributes.xWindow,0),o("y",s.attributes.yWindow,0),o("width",s.attributes.windowWidth,25e3),o("height",s.attributes.windowHeight,1e4),c("visibility",s.attributes.visibility,"visible"),o("activeTab",s.attributes.activeTab,void 0),o("firstSheet",s.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../../../utils/col-cache"),l=t("../../../utils/xml-stream"),c=t("../base-xform"),o=t("../static-xform"),u=t("../list-xform"),f=t("./defined-name-xform"),d=t("./sheet-xform"),h=t("./workbook-view-xform"),m=t("./workbook-properties-xform"),g=t("./workbook-calc-properties-xform");class p extends c{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new m,bookViews:new u({tag:"bookViews",count:!1,childXform:new h}),sheets:new u({tag:"sheets",count:!1,childXform:new d}),definedNames:new u({tag:"definedNames",count:!1,childXform:new f}),calcPr:new g}}prepare(v){v.sheets=v.worksheets;const w=[];let C=0;v.sheets.forEach(P=>{if(P.pageSetup&&P.pageSetup.printArea&&P.pageSetup.printArea.split("&&").forEach(F=>{const L=F.split(":"),j={name:"_xlnm.Print_Area",ranges:[`'${P.name}'!$${L[0]}:$${L[1]}`],localSheetId:C};w.push(j)}),P.pageSetup&&(P.pageSetup.printTitlesRow||P.pageSetup.printTitlesColumn)){const F=[];if(P.pageSetup.printTitlesColumn){const j=P.pageSetup.printTitlesColumn.split(":");F.push(`'${P.name}'!$${j[0]}:$${j[1]}`)}if(P.pageSetup.printTitlesRow){const j=P.pageSetup.printTitlesRow.split(":");F.push(`'${P.name}'!$${j[0]}:$${j[1]}`)}const L={name:"_xlnm.Print_Titles",ranges:F,localSheetId:C};w.push(L)}C++}),w.length&&(v.definedNames=v.definedNames.concat(w)),(v.media||[]).forEach((P,F)=>{P.name=P.type+(F+1)})}render(v,w){v.openXml(l.StdDocAttributes),v.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(v),this.map.workbookPr.render(v,w.properties),this.map.bookViews.render(v,w.views),this.map.sheets.render(v,w.sheets),this.map.definedNames.render(v,w.definedNames),this.map.calcPr.render(v,w.calcProperties),v.closeNode()}parseOpen(v){if(this.parser)return this.parser.parseOpen(v),!0;switch(v.name){case"workbook":return!0;default:return this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v),!0}}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser)return this.parser.parseClose(v)||(this.parser=void 0),!0;switch(v){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(v){const w=(v.workbookRels||[]).reduce((j,I)=>(j[I.Id]=I,j),{}),C=[];let P,F=0;(v.sheets||[]).forEach(j=>{const I=w[j.rId];I&&(P=v.worksheetHash["xl/"+I.Target.replace(/^(\s|\/xl\/)+/,"")],P&&(P.name=j.name,P.id=j.id,P.state=j.state,C[F++]=P))});const L=[];a.each(v.definedNames,j=>{if(j.name==="_xlnm.Print_Area"){if(P=C[j.localSheetId],P){P.pageSetup||(P.pageSetup={});const I=s.decodeEx(j.ranges[0]);P.pageSetup.printArea=P.pageSetup.printArea?`${P.pageSetup.printArea}&&${I.dimensions}`:I.dimensions}}else if(j.name==="_xlnm.Print_Titles"){if(P=C[j.localSheetId],P){P.pageSetup||(P.pageSetup={});const I=j.ranges.join(","),z=/\$/g,$=/\$\d+:\$\d+/,B=I.match($);if(B&&B.length){const N=B[0];P.pageSetup.printTitlesRow=N.replace(z,"")}const T=/\$[A-Z]+:\$[A-Z]+/,R=I.match(T);if(R&&R.length){const N=R[0];P.pageSetup.printTitlesColumn=N.replace(z,"")}}}else L.push(j)}),v.definedNames=L,v.media.forEach((j,I)=>{j.index=I})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new o({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,n,i){const a=t("../strings/rich-text-xform"),s=t("../../../utils/utils"),l=t("../base-xform"),c=n.exports=function(o){this.model=o};s.inherits(c,l,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new a),this._richTextXform},render(o,u){u=u||this.model,o.openNode("comment",{ref:u.ref,authorId:0}),o.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(f=>{this.richTextXform.render(o,f)}),o.closeNode(),o.closeNode()},parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"comment":return this.model={type:"note",note:{texts:[]},...o.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(o),!0;default:return!1}},parseText(o){this.parser&&this.parser.parseText(o)},parseClose(o){switch(o){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(o),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,n,i){const a=t("../../../utils/xml-stream"),s=t("../../../utils/utils"),l=t("../base-xform"),c=t("./comment-xform"),o=n.exports=function(){this.map={comment:new c}};s.inherits(o,l,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,f){f=f||this.model,u.openXml(a.StdDocAttributes),u.openNode("comments",o.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),f.comments.forEach(d=>{this.map.comment.render(u,d)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,n,i){const a=t("../../base-xform");n.exports=class extends a{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,l,c){(l===c[2]||this.tag==="x:SizeWithCells"&&l===c[1])&&s.leafNode(this.tag)}parseOpen(s){switch(s.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(t,n,i){const a=t("../../base-xform");n.exports=class extends a{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,l){s.leafNode(this.tag,null,l)}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"x:Anchor"}getAnchorRect(s){const l=Math.floor(s.left),c=Math.floor(68*(s.left-l)),o=Math.floor(s.top),u=Math.floor(18*(s.top-o)),f=Math.floor(s.right),d=Math.floor(68*(s.right-f)),h=Math.floor(s.bottom);return[l,c,o,u,f,d,h,Math.floor(18*(s.bottom-h))]}getDefaultRect(s){const l=s.col,c=Math.max(s.row-2,0);return[l,6,c,14,l+2,2,c+4,16]}render(s,l){const c=l.anchor?this.getAnchorRect(l.anchor):this.getDefaultRect(l.refAddress);s.leafNode("x:Anchor",null,c.join(", "))}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../base-xform":32}],44:[function(t,n,i){const a=t("../base-xform"),s=t("./vml-anchor-xform"),l=t("./style/vml-protection-xform"),c=t("./style/vml-position-xform"),o=["twoCells","oneCells","absolute"];n.exports=class extends a{constructor(){super(),this.map={"x:Anchor":new s,"x:Locked":new l({tag:"x:Locked"}),"x:LockText":new l({tag:"x:LockText"}),"x:SizeWithCells":new c({tag:"x:SizeWithCells"}),"x:MoveWithCells":new c({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,f){const{protection:d,editAs:h}=f.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,h,o),this.map["x:SizeWithCells"].render(u,h,o),this.map["x:Anchor"].render(u,f),this.map["x:Locked"].render(u,d.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,d.lockText),u.leafNode("x:Row",null,f.refAddress.row-1),u.leafNode("x:Column",null,f.refAddress.col-1),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),f=Object.keys(u).length;this.model.editAs=o[f],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,n,i){const a=t("../../../utils/xml-stream"),s=t("../base-xform"),l=t("./vml-shape-xform");class c extends s{constructor(){super(),this.map={"v:shape":new l}}get tag(){return"xml"}render(u,f){u.openXml(a.StdDocAttributes),u.openNode(this.tag,c.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),f.comments.forEach((d,h)=>{this.map["v:shape"].render(u,d,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,f){u.anchors.forEach(d=>{d.br?this.map["xdr:twoCellAnchor"].reconcile(d,f):this.map["xdr:oneCellAnchor"].reconcile(d,f)})}}c.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,n,i){const a=t("../base-xform"),s=t("./vml-textbox-xform"),l=t("./vml-client-data-xform");class c extends a{constructor(){super(),this.map={"v:textbox":new s,"x:ClientData":new l}}get tag(){return"v:shape"}render(u,f,d){u.openNode("v:shape",c.V_SHAPE_ATTRIBUTES(f,d)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,f),this.map["x:ClientData"].render(u,f),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}c.V_SHAPE_ATTRIBUTES=(o,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":o.note.margins&&o.note.margins.insetmode}),n.exports=c},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"v:textbox"}conversionUnit(s,l,c){return`${parseFloat(s)*l.toFixed(2)}${c}`}reverseConversionUnit(s){return(s||"").split(",").map(l=>Number(parseFloat(this.conversionUnit(parseFloat(l),.1,"")).toFixed(2)))}render(s,l){const c={style:"mso-direction-alt:auto"};if(l&&l.note){let{inset:o}=l.note&&l.note.margins;Array.isArray(o)&&(o=o.map(u=>this.conversionUnit(u,10,"mm")).join(",")),o&&(c.inset=o)}s.openNode("v:textbox",c),s.leafNode("div",{style:"text-align:left"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:return this.model={inset:this.reverseConversionUnit(s.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(t,n,i){const a=t("./base-xform");n.exports=class extends a{createNewModel(s){return{}}parseOpen(s){return this.parser=this.parser||this.map[s.name],this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag&&(this.model=this.createNewModel(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}onParserClose(s,l){this.model[s]=l.model}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.onParserClose(s,this.parser),this.parser=void 0),!0):s!==this.tag}}},{"./base-xform":32}],49:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{render(s,l){s.openNode("HeadingPairs"),s.openNode("vt:vector",{size:2,baseType:"variant"}),s.openNode("vt:variant"),s.leafNode("vt:lpstr",void 0,"Worksheets"),s.closeNode(),s.openNode("vt:variant"),s.leafNode("vt:i4",void 0,l.length),s.closeNode(),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="HeadingPairs"}parseText(){}parseClose(s){return s!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{render(s,l){s.openNode("TitlesOfParts"),s.openNode("vt:vector",{size:l.length,baseType:"lpstr"}),l.forEach(c=>{s.leafNode("vt:lpstr",void 0,c.name)}),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="TitlesOfParts"}parseText(){}parseClose(s){return s!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(t,n,i){const a=t("../../../utils/xml-stream"),s=t("../base-xform"),l=t("../simple/string-xform"),c=t("./app-heading-pairs-xform"),o=t("./app-titles-of-parts-xform");class u extends s{constructor(){super(),this.map={Company:new l({tag:"Company"}),Manager:new l({tag:"Manager"}),HeadingPairs:new c,TitleOfParts:new o}}render(d,h){d.openXml(a.StdDocAttributes),d.openNode("Properties",u.PROPERTY_ATTRIBUTES),d.leafNode("Application",void 0,"Microsoft Excel"),d.leafNode("DocSecurity",void 0,"0"),d.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(d,h.worksheets),this.map.TitleOfParts.render(d,h.worksheets),this.map.Company.render(d,h.company||""),this.map.Manager.render(d,h.manager),d.leafNode("LinksUpToDate",void 0,"false"),d.leafNode("SharedDoc",void 0,"false"),d.leafNode("HyperlinksChanged",void 0,"false"),d.leafNode("AppVersion",void 0,"16.0300"),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Properties":return!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}u.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,n,i){const a=t("../../../utils/xml-stream"),s=t("../base-xform");class l extends s{render(o,u){o.openXml(a.StdDocAttributes),o.openNode("Types",l.PROPERTY_ATTRIBUTES);const f={};(u.media||[]).forEach(d=>{if(d.type==="image"){const h=d.extension;f[h]||(f[h]=!0,o.leafNode("Default",{Extension:h,ContentType:"image/"+h}))}}),o.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),o.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),o.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(d=>{const h=`/xl/worksheets/sheet${d.id}.xml`;o.leafNode("Override",{PartName:h,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),o.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),o.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&o.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(d=>{o.leafNode("Override",{PartName:"/xl/tables/"+d.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(d=>{o.leafNode("Override",{PartName:`/xl/drawings/${d.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(o.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(d=>{let{commentName:h}=d;o.leafNode("Override",{PartName:`/xl/${h}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),o.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),o.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),o.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}l.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,n,i){const a=t("../../../utils/xml-stream"),s=t("../base-xform"),l=t("../simple/date-xform"),c=t("../simple/string-xform"),o=t("../simple/integer-xform");class u extends s{constructor(){super(),this.map={"dc:creator":new c({tag:"dc:creator"}),"dc:title":new c({tag:"dc:title"}),"dc:subject":new c({tag:"dc:subject"}),"dc:description":new c({tag:"dc:description"}),"dc:identifier":new c({tag:"dc:identifier"}),"dc:language":new c({tag:"dc:language"}),"cp:keywords":new c({tag:"cp:keywords"}),"cp:category":new c({tag:"cp:category"}),"cp:lastModifiedBy":new c({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new l({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new o({tag:"cp:revision"}),"cp:version":new c({tag:"cp:version"}),"cp:contentStatus":new c({tag:"cp:contentStatus"}),"cp:contentType":new c({tag:"cp:contentType"}),"dcterms:created":new l({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new l({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(d,h){d.openXml(a.StdDocAttributes),d.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(d,h.creator),this.map["dc:title"].render(d,h.title),this.map["dc:subject"].render(d,h.subject),this.map["dc:description"].render(d,h.description),this.map["dc:identifier"].render(d,h.identifier),this.map["dc:language"].render(d,h.language),this.map["cp:keywords"].render(d,h.keywords),this.map["cp:category"].render(d,h.category),this.map["cp:lastModifiedBy"].render(d,h.lastModifiedBy),this.map["cp:lastPrinted"].render(d,h.lastPrinted),this.map["cp:revision"].render(d,h.revision),this.map["cp:version"].render(d,h.version),this.map["cp:contentStatus"].render(d,h.contentStatus),this.map["cp:contentType"].render(d,h.contentType),this.map["dcterms:created"].render(d,h.created),this.map["dcterms:modified"].render(d,h.modified),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}u.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{render(s,l){s.leafNode("Relationship",l)}parseOpen(s){switch(s.name){case"Relationship":return this.model=s.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(t,n,i){const a=t("../../../utils/xml-stream"),s=t("../base-xform"),l=t("./relationship-xform");class c extends s{constructor(){super(),this.map={Relationship:new l}}render(u,f){f=f||this._values,u.openXml(a.StdDocAttributes),u.openNode("Relationships",c.RELATIONSHIPS_ATTRIBUTES),f.forEach(d=>{this.map.Relationship.render(u,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(u){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}c.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset(),this.model={range:{editAs:s.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}reconcilePicture(s,l){if(s&&s.rId){const c=l.rels[s.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(c){const o=c[1],u=l.mediaIndex[o];return l.media[u]}}}}},{"../base-xform":32}],57:[function(t,n,i){const a=t("../base-xform"),s=t("./blip-xform");n.exports=class extends a{constructor(){super(),this.map={"a:blip":new s}}get tag(){return"xdr:blipFill"}render(l,c){l.openNode(this.tag),this.map["a:blip"].render(l,c),l.openNode("a:stretch"),l.leafNode("a:fillRect"),l.closeNode(),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"a:blip"}render(s,l){s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":l.rId,cstate:"print"})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"xdr:cNvPicPr"}render(s){s.openNode(this.tag),s.leafNode("a:picLocks",{noChangeAspect:"1"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(t,n,i){const a=t("../base-xform"),s=t("./hlink-click-xform"),l=t("./ext-lst-xform");n.exports=class extends a{constructor(){super(),this.map={"a:hlinkClick":new s,"a:extLst":new l}}get tag(){return"xdr:cNvPr"}render(c,o){c.openNode(this.tag,{id:o.index,name:"Picture "+o.index}),this.map["a:hlinkClick"].render(c,o),this.map["a:extLst"].render(c,o),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,n,i){const a=t("../base-xform"),s=t("../simple/integer-xform");n.exports=class extends a{constructor(l){super(),this.tag=l.tag,this.map={"xdr:col":new s({tag:"xdr:col",zero:!0}),"xdr:colOff":new s({tag:"xdr:colOff",zero:!0}),"xdr:row":new s({tag:"xdr:row",zero:!0}),"xdr:rowOff":new s({tag:"xdr:rowOff",zero:!0})}}render(l,c){l.openNode(this.tag),this.map["xdr:col"].render(l,c.nativeCol),this.map["xdr:colOff"].render(l,c.nativeColOff),this.map["xdr:row"].render(l,c.nativeRow),this.map["xdr:rowOff"].render(l,c.nativeRowOff),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,n,i){const a=t("../../../utils/col-cache"),s=t("../../../utils/xml-stream"),l=t("../base-xform"),c=t("./two-cell-anchor-xform"),o=t("./one-cell-anchor-xform");class u extends l{constructor(){super(),this.map={"xdr:twoCellAnchor":new c,"xdr:oneCellAnchor":new o}}prepare(d){d.anchors.forEach((h,m)=>{h.anchorType=(function(g){return(typeof g.range=="string"?a.decode(g.range):g.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(h),this.map[h.anchorType].prepare(h,{index:m})})}get tag(){return"xdr:wsDr"}render(d,h){d.openXml(s.StdDocAttributes),d.openNode(this.tag,u.DRAWING_ATTRIBUTES),h.anchors.forEach(m=>{this.map[m.anchorType].render(d,m)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,h){d.anchors.forEach(m=>{m.br?this.map["xdr:twoCellAnchor"].reconcile(m,h):this.map["xdr:oneCellAnchor"].reconcile(m,h)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"a:extLst"}render(s){s.openNode(this.tag),s.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),s.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),s.closeNode(),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.map={}}render(s,l){s.openNode(this.tag);const c=Math.floor(9525*l.width),o=Math.floor(9525*l.height);s.addAttribute("cx",c),s.addAttribute("cy",o),s.closeNode()}parseOpen(s){return s.name===this.tag&&(this.model={width:parseInt(s.attributes.cx||"0",10)/9525,height:parseInt(s.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"a:hlinkClick"}render(s,l){l.hyperlinks&&l.hyperlinks.rId&&s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":l.hyperlinks.rId,tooltip:l.hyperlinks.tooltip})}parseOpen(s){switch(s.name){case this.tag:return this.model={hyperlinks:{rId:s.attributes["r:id"],tooltip:s.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(t,n,i){const a=t("../base-xform"),s=t("./c-nv-pr-xform"),l=t("./c-nv-pic-pr-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:cNvPr":new s,"xdr:cNvPicPr":new l}}get tag(){return"xdr:nvPicPr"}render(c,o){c.openNode(this.tag),this.map["xdr:cNvPr"].render(c,o),this.map["xdr:cNvPicPr"].render(c,o),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,n,i){const a=t("./base-cell-anchor-xform"),s=t("../static-xform"),l=t("./cell-position-xform"),c=t("./ext-xform"),o=t("./pic-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:from":new l({tag:"xdr:from"}),"xdr:ext":new c({tag:"xdr:ext"}),"xdr:pic":new o,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,f){this.map["xdr:pic"].prepare(u.picture,f)}render(u,f){u.openNode(this.tag,{editAs:f.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,f.range.tl),this.map["xdr:ext"].render(u,f.range.ext),this.map["xdr:pic"].render(u,f.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,f){u.medium=this.reconcilePicture(u.picture,f)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,n,i){const a=t("../base-xform"),s=t("../static-xform"),l=t("./blip-fill-xform"),c=t("./nv-pic-pr-xform"),o=t("./sp-pr");n.exports=class extends a{constructor(){super(),this.map={"xdr:nvPicPr":new c,"xdr:blipFill":new l,"xdr:spPr":new s(o)}}get tag(){return"xdr:pic"}prepare(u,f){u.index=f.index+1}render(u,f){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,f),this.map["xdr:blipFill"].render(u,f),this.map["xdr:spPr"].render(u,f),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,n,i){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,n,i){const a=t("./base-cell-anchor-xform"),s=t("../static-xform"),l=t("./cell-position-xform"),c=t("./pic-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:from":new l({tag:"xdr:from"}),"xdr:to":new l({tag:"xdr:to"}),"xdr:pic":new c,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(o,u){this.map["xdr:pic"].prepare(o.picture,u)}render(o,u){o.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(o,u.range.tl),this.map["xdr:to"].render(o,u.range.br),this.map["xdr:pic"].render(o,u.picture),this.map["xdr:clientData"].render(o,{}),o.closeNode()}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(o,u){o.medium=this.reconcilePicture(o.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,n,i){const a=t("./base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.always=!!s.always,this.count=s.count,this.empty=s.empty,this.$count=s.$count||"count",this.$=s.$,this.childXform=s.childXform,this.maxItems=s.maxItems}prepare(s,l){const{childXform:c}=this;s&&s.forEach((o,u)=>{l.index=u,c.prepare(o,l)})}render(s,l){if(this.always||l&&l.length){s.openNode(this.tag,this.$),this.count&&s.addAttribute(this.$count,l&&l.length||0);const{childXform:c}=this;(l||[]).forEach((o,u)=>{c.render(s,o,u)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(s)&&(this.parser=this.childXform,!0)}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(s,l){if(s){const{childXform:c}=this;s.forEach(o=>{c.reconcile(o,l)})}}}},{"./base-xform":32}],72:[function(t,n,i){const a=t("../../../utils/col-cache"),s=t("../base-xform");n.exports=class extends s{get tag(){return"autoFilter"}render(l,c){if(c)if(typeof c=="string")l.leafNode("autoFilter",{ref:c});else{const o=function(d){return typeof d=="string"?d:a.getAddress(d.row,d.column).address},u=o(c.from),f=o(c.to);u&&f&&l.leafNode("autoFilter",{ref:`${u}:${f}`})}}parseOpen(l){l.name==="autoFilter"&&(this.model=l.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,n,i){const a=t("../../../utils/utils"),s=t("../base-xform"),l=t("../../../doc/range"),c=t("../../../doc/enums"),o=t("../strings/rich-text-xform");function u(f){if(f==null)return c.ValueType.Null;if(f instanceof String||typeof f=="string")return c.ValueType.String;if(typeof f=="number")return c.ValueType.Number;if(typeof f=="boolean")return c.ValueType.Boolean;if(f instanceof Date)return c.ValueType.Date;if(f.text&&f.hyperlink)return c.ValueType.Hyperlink;if(f.formula)return c.ValueType.Formula;if(f.error)return c.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends s{constructor(){super(),this.richTextXForm=new o}get tag(){return"c"}prepare(f,d){const h=d.styles.addStyleModel(f.style||{},(function(m){switch(m.type){case c.ValueType.Formula:return u(m.result);default:return m.type}})(f));switch(h&&(f.styleId=h),f.comment&&d.comments.push({...f.comment,ref:f.address}),f.type){case c.ValueType.String:case c.ValueType.RichText:d.sharedStrings&&(f.ssId=d.sharedStrings.add(f.value));break;case c.ValueType.Date:d.date1904&&(f.date1904=!0);break;case c.ValueType.Hyperlink:d.sharedStrings&&f.text!==void 0&&f.text!==null&&(f.ssId=d.sharedStrings.add(f.text)),d.hyperlinks.push({address:f.address,target:f.hyperlink,tooltip:f.tooltip});break;case c.ValueType.Merge:d.merges.add(f);break;case c.ValueType.Formula:if(d.date1904&&(f.date1904=!0),f.shareType==="shared"&&(f.si=d.siFormulae++),f.formula)d.formulae[f.address]=f;else if(f.sharedFormula){const m=d.formulae[f.sharedFormula];if(!m)throw new Error("Shared Formula master must exist above and or left of clone for cell "+f.address);m.si===void 0?(m.shareType="shared",m.si=d.siFormulae++,m.range=new l(m.address,f.address)):m.range&&m.range.expandToAddress(f.address),f.si=m.si}}}renderFormula(f,d){let h=null;switch(d.shareType){case"shared":h={t:"shared",ref:d.ref||d.range.range,si:d.si};break;case"array":h={t:"array",ref:d.ref};break;default:d.si!==void 0&&(h={t:"shared",si:d.si})}switch(u(d.result)){case c.ValueType.Null:f.leafNode("f",h,d.formula);break;case c.ValueType.String:f.addAttribute("t","str"),f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result);break;case c.ValueType.Number:f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result);break;case c.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result?1:0);break;case c.ValueType.Error:f.addAttribute("t","e"),f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result.error);break;case c.ValueType.Date:f.leafNode("f",h,d.formula),f.leafNode("v",null,a.dateToExcel(d.result,d.date1904));break;default:throw new Error("I could not understand type of value")}}render(f,d){if(d.type!==c.ValueType.Null||d.styleId){switch(f.openNode("c"),f.addAttribute("r",d.address),d.styleId&&f.addAttribute("s",d.styleId),d.type){case c.ValueType.Null:break;case c.ValueType.Number:f.leafNode("v",null,d.value);break;case c.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("v",null,d.value?"1":"0");break;case c.ValueType.Error:f.addAttribute("t","e"),f.leafNode("v",null,d.value.error);break;case c.ValueType.String:case c.ValueType.RichText:d.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,d.ssId)):d.value&&d.value.richText?(f.addAttribute("t","inlineStr"),f.openNode("is"),d.value.richText.forEach(h=>{this.richTextXForm.render(f,h)}),f.closeNode("is")):(f.addAttribute("t","str"),f.leafNode("v",null,d.value));break;case c.ValueType.Date:f.leafNode("v",null,a.dateToExcel(d.value,d.date1904));break;case c.ValueType.Hyperlink:d.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,d.ssId)):(f.addAttribute("t","str"),f.leafNode("v",null,d.text));break;case c.ValueType.Formula:this.renderFormula(f,d);break;case c.ValueType.Merge:}f.closeNode()}}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"c":return this.model={address:f.attributes.r},this.t=f.attributes.t,f.attributes.s&&(this.model.styleId=parseInt(f.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=f.attributes.si,this.model.shareType=f.attributes.t,this.model.ref=f.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){if(this.parser)this.parser.parseText(f);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+f:f;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+f:f:this.model.value=this.model.value?this.model.value+f:f}}parseClose(f){switch(f){case"c":{const{model:d}=this;if(d.formula||d.shareType)d.type=c.ValueType.Formula,d.value&&(this.t==="str"?d.result=a.xmlDecode(d.value):this.t==="b"?d.result=parseInt(d.value,10)!==0:this.t==="e"?d.result={error:d.value}:d.result=parseFloat(d.value),d.value=void 0);else if(d.value!==void 0)switch(this.t){case"s":d.type=c.ValueType.String,d.value=parseInt(d.value,10);break;case"str":d.type=c.ValueType.String,d.value=a.xmlDecode(d.value);break;case"inlineStr":d.type=c.ValueType.String;break;case"b":d.type=c.ValueType.Boolean,d.value=parseInt(d.value,10)!==0;break;case"e":d.type=c.ValueType.Error,d.value={error:d.value};break;default:d.type=c.ValueType.Number,d.value=parseFloat(d.value)}else d.styleId?d.type=c.ValueType.Null:d.type=c.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(f),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(f),!0)}}reconcile(f,d){const h=f.styleId&&d.styles&&d.styles.getStyleModel(f.styleId);switch(h&&(f.style=h),f.styleId!==void 0&&(f.styleId=void 0),f.type){case c.ValueType.String:typeof f.value=="number"&&d.sharedStrings&&(f.value=d.sharedStrings.getString(f.value)),f.value.richText&&(f.type=c.ValueType.RichText);break;case c.ValueType.Number:h&&a.isDateFmt(h.numFmt)&&(f.type=c.ValueType.Date,f.value=a.excelToDate(f.value,d.date1904));break;case c.ValueType.Formula:f.result!==void 0&&h&&a.isDateFmt(h.numFmt)&&(f.result=a.excelToDate(f.result,d.date1904)),f.shareType==="shared"&&(f.ref?d.formulae[f.si]=f.address:(f.sharedFormula=d.formulae[f.si],delete f.shareType),delete f.si)}const m=d.hyperlinkMap[f.address];m&&(f.type===c.ValueType.Formula?(f.text=f.result,f.result=void 0):(f.text=f.value,f.value=void 0),f.type=c.ValueType.Hyperlink,f.hyperlink=m);const g=d.commentsMap&&d.commentsMap[f.address];g&&(f.comment=g)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,n,i){const a=t("../../base-xform");n.exports=class extends a{get tag(){return"x14:cfIcon"}render(s,l){s.leafNode(this.tag,{iconSet:l.iconSet,iconId:l.iconId})}parseOpen(s){let{attributes:l}=s;this.model={iconSet:l.iconSet,iconId:a.toIntValue(l.iconId)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],75:[function(t,n,i){const{v4:a}=t("uuid"),s=t("../../base-xform"),l=t("../../composite-xform"),c=t("./databar-ext-xform"),o=t("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class f extends l{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new c,"x14:iconSet":this.iconSetXform=new o}}get tag(){return"x14:cfRule"}static isExt(h){return h.type==="dataBar"?c.isExt(h):!(h.type!=="iconSet"||!h.custom&&!u[h.iconSet])}prepare(h){f.isExt(h)&&(h.x14Id=`{${a()}}`.toUpperCase())}render(h,m){if(f.isExt(m))switch(m.type){case"dataBar":this.renderDataBar(h,m);break;case"iconSet":this.renderIconSet(h,m)}}renderDataBar(h,m){h.openNode(this.tag,{type:"dataBar",id:m.x14Id}),this.databarXform.render(h,m),h.closeNode()}renderIconSet(h,m){h.openNode(this.tag,{type:"iconSet",priority:m.priority,id:m.x14Id||`{${a()}}`}),this.iconSetXform.render(h,m),h.closeNode()}createNewModel(h){let{attributes:m}=h;return{type:m.type,x14Id:m.id,priority:s.toIntValue(m.priority)}}onParserClose(h,m){Object.assign(this.model,m.model)}}n.exports=f},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,n,i){const a=t("../../composite-xform"),s=t("./f-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"xm:f":this.fExtXform=new s}}get tag(){return"x14:cfvo"}render(l,c){l.openNode(this.tag,{type:c.type}),c.value!==void 0&&this.fExtXform.render(l,c.value),l.closeNode()}createNewModel(l){return{type:l.attributes.type}}onParserClose(l,c){switch(l){case"xm:f":this.model.value=c.model?parseFloat(c.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,n,i){const a=t("../../composite-xform"),s=t("./sqref-ext-xform"),l=t("./cf-rule-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"xm:sqref":this.sqRef=new s,"x14:cfRule":this.cfRule=new l}}get tag(){return"x14:conditionalFormatting"}prepare(c,o){c.rules.forEach(u=>{this.cfRule.prepare(u,o)})}render(c,o){o.rules.some(l.isExt)&&(c.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),o.rules.filter(l.isExt).forEach(u=>this.cfRule.render(c,u)),this.sqRef.render(c,o.ref),c.closeNode())}createNewModel(){return{rules:[]}}onParserClose(c,o){switch(c){case"xm:sqref":this.model.ref=o.model;break;case"x14:cfRule":this.model.rules.push(o.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,n,i){const a=t("../../composite-xform"),s=t("./cf-rule-ext-xform"),l=t("./conditional-formatting-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new l}}get tag(){return"x14:conditionalFormattings"}hasContent(c){return c.hasExtContent===void 0&&(c.hasExtContent=c.some(o=>o.rules.some(s.isExt))),c.hasExtContent}prepare(c,o){c.forEach(u=>{this.cfXform.prepare(u,o)})}render(c,o){this.hasContent(o)&&(c.openNode(this.tag),o.forEach(u=>this.cfXform.render(c,u)),c.closeNode())}createNewModel(){return[]}onParserClose(c,o){this.model.push(o.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,n,i){const a=t("../../base-xform"),s=t("../../composite-xform"),l=t("../../style/color-xform"),c=t("./cfvo-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:borderColor":this.borderColorXform=new l("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new l("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new l("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new l("x14:axisColor")}}static isExt(o){return!o.gradient}get tag(){return"x14:dataBar"}render(o,u){o.openNode(this.tag,{minLength:a.toIntAttribute(u.minLength,0,!0),maxLength:a.toIntAttribute(u.maxLength,100,!0),border:a.toBoolAttribute(u.border,!1),gradient:a.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:a.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toAttribute(u.axisPosition,"auto"),direction:a.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(f=>{this.cfvoXform.render(o,f)}),this.borderColorXform.render(o,u.borderColor),this.negativeBorderColorXform.render(o,u.negativeBorderColor),this.negativeFillColorXform.render(o,u.negativeFillColor),this.axisColorXform.render(o,u.axisColor),o.closeNode()}createNewModel(o){let{attributes:u}=o;return{cfvo:[],minLength:a.toIntValue(u.minLength,0),maxLength:a.toIntValue(u.maxLength,100),border:a.toBoolValue(u.border,!1),gradient:a.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:a.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toStringValue(u.axisPosition,"auto"),direction:a.toStringValue(u.direction,"leftToRight")}}onParserClose(o,u){const[,f]=o.split(":");switch(f){case"cfvo":this.model.cfvo.push(u.model);break;default:this.model[f]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,n,i){const a=t("../../base-xform");n.exports=class extends a{get tag(){return"xm:f"}render(s,l){s.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],81:[function(t,n,i){const a=t("../../base-xform"),s=t("../../composite-xform"),l=t("./cfvo-ext-xform"),c=t("./cf-icon-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:cfIcon":this.cfIconXform=new c}}get tag(){return"x14:iconSet"}render(o,u){o.openNode(this.tag,{iconSet:a.toStringAttribute(u.iconSet),reverse:a.toBoolAttribute(u.reverse,!1),showValue:a.toBoolAttribute(u.showValue,!0),custom:a.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(f=>{this.cfvoXform.render(o,f)}),u.icons&&u.icons.forEach((f,d)=>{f.iconId=d,this.cfIconXform.render(o,f)}),o.closeNode()}createNewModel(o){let{attributes:u}=o;return{cfvo:[],iconSet:a.toStringValue(u.iconSet,"3TrafficLights"),reverse:a.toBoolValue(u.reverse,!1),showValue:a.toBoolValue(u.showValue,!0)}}onParserClose(o,u){const[,f]=o.split(":");switch(f){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[f]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,n,i){const a=t("../../base-xform");n.exports=class extends a{get tag(){return"xm:sqref"}render(s,l){s.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],83:[function(t,n,i){const a=t("../../base-xform"),s=t("../../composite-xform"),l=t("../../../../doc/range"),c=t("./databar-xform"),o=t("./ext-lst-ref-xform"),u=t("./formula-xform"),f=t("./color-scale-xform"),d=t("./icon-set-xform"),h={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},m=p=>{const{type:y,operator:v}=p;switch(y){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:y};default:return{type:y,operator:v}}};class g extends s{constructor(){super(),this.map={dataBar:this.databarXform=new c,extLst:this.extLstRefXform=new o,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new f,iconSet:this.iconSetXform=new d}}get tag(){return"cfRule"}static isPrimitive(y){return y.type!=="iconSet"||!y.custom&&!h[y.iconSet]}render(y,v){switch(v.type){case"expression":this.renderExpression(y,v);break;case"cellIs":this.renderCellIs(y,v);break;case"top10":this.renderTop10(y,v);break;case"aboveAverage":this.renderAboveAverage(y,v);break;case"dataBar":this.renderDataBar(y,v);break;case"colorScale":this.renderColorScale(y,v);break;case"iconSet":this.renderIconSet(y,v);break;case"containsText":this.renderText(y,v);break;case"timePeriod":this.renderTimePeriod(y,v)}}renderExpression(y,v){y.openNode(this.tag,{type:"expression",dxfId:v.dxfId,priority:v.priority}),this.formulaXform.render(y,v.formulae[0]),y.closeNode()}renderCellIs(y,v){y.openNode(this.tag,{type:"cellIs",dxfId:v.dxfId,priority:v.priority,operator:v.operator}),v.formulae.forEach(w=>{this.formulaXform.render(y,w)}),y.closeNode()}renderTop10(y,v){y.leafNode(this.tag,{type:"top10",dxfId:v.dxfId,priority:v.priority,percent:a.toBoolAttribute(v.percent,!1),bottom:a.toBoolAttribute(v.bottom,!1),rank:a.toIntValue(v.rank,10,!0)})}renderAboveAverage(y,v){y.leafNode(this.tag,{type:"aboveAverage",dxfId:v.dxfId,priority:v.priority,aboveAverage:a.toBoolAttribute(v.aboveAverage,!0)})}renderDataBar(y,v){y.openNode(this.tag,{type:"dataBar",priority:v.priority}),this.databarXform.render(y,v),this.extLstRefXform.render(y,v),y.closeNode()}renderColorScale(y,v){y.openNode(this.tag,{type:"colorScale",priority:v.priority}),this.colorScaleXform.render(y,v),y.closeNode()}renderIconSet(y,v){g.isPrimitive(v)&&(y.openNode(this.tag,{type:"iconSet",priority:v.priority}),this.iconSetXform.render(y,v),y.closeNode())}renderText(y,v){y.openNode(this.tag,{type:v.operator,dxfId:v.dxfId,priority:v.priority,operator:a.toStringAttribute(v.operator,"containsText")});const w=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const P=new l(C.ref),{tl:F}=P;switch(C.operator){case"containsText":return`NOT(ISERROR(SEARCH("${C.text}",${F})))`;case"containsBlanks":return`LEN(TRIM(${F}))=0`;case"notContainsBlanks":return`LEN(TRIM(${F}))>0`;case"containsErrors":return`ISERROR(${F})`;case"notContainsErrors":return`NOT(ISERROR(${F}))`;default:return}})(v);w&&this.formulaXform.render(y,w),y.closeNode()}renderTimePeriod(y,v){y.openNode(this.tag,{type:"timePeriod",dxfId:v.dxfId,priority:v.priority,timePeriod:v.timePeriod});const w=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const P=new l(C.ref),{tl:F}=P;switch(C.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${F},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${F},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${F},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${F},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${F},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${F},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${F},1)=TODAY()-1`;case"today":return`FLOOR(${F},1)=TODAY()`;case"tomorrow":return`FLOOR(${F},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${F},1)<=6,FLOOR(${F},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${F})=MONTH(EDATE(TODAY(),0-1)),YEAR(${F})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${F})=MONTH(TODAY()),YEAR(${F})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${F})=MONTH(EDATE(TODAY(),0+1)),YEAR(${F})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(v);w&&this.formulaXform.render(y,w),y.closeNode()}createNewModel(y){let{attributes:v}=y;return{...m(v),dxfId:a.toIntValue(v.dxfId),priority:a.toIntValue(v.priority),timePeriod:v.timePeriod,percent:a.toBoolValue(v.percent),bottom:a.toBoolValue(v.bottom),rank:a.toIntValue(v.rank),aboveAverage:a.toBoolValue(v.aboveAverage)}}onParserClose(y,v){switch(y){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,v.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(v.model)}}}n.exports=g},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,n,i){const a=t("../../base-xform");n.exports=class extends a{get tag(){return"cfvo"}render(s,l){s.leafNode(this.tag,{type:l.type,val:l.value})}parseOpen(s){this.model={type:s.attributes.type,value:a.toFloatValue(s.attributes.val)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],85:[function(t,n,i){const a=t("../../composite-xform"),s=t("../../style/color-xform"),l=t("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new l,color:this.colorXform=new s}}get tag(){return"colorScale"}render(c,o){c.openNode(this.tag),o.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),o.color.forEach(u=>{this.colorXform.render(c,u)}),c.closeNode()}createNewModel(c){return{cfvo:[],color:[]}}onParserClose(c,o){this.model[c].push(o.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,n,i){const a=t("../../composite-xform"),s=t("./cf-rule-xform");n.exports=class extends a{constructor(){super(),this.map={cfRule:new s}}get tag(){return"conditionalFormatting"}render(l,c){c.rules.some(s.isPrimitive)&&(l.openNode(this.tag,{sqref:c.ref}),c.rules.forEach(o=>{s.isPrimitive(o)&&(o.ref=c.ref,this.map.cfRule.render(l,o))}),l.closeNode())}createNewModel(l){let{attributes:c}=l;return{ref:c.sqref,rules:[]}}onParserClose(l,c){this.model.rules.push(c.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,n,i){const a=t("../../base-xform"),s=t("./conditional-formatting-xform");n.exports=class extends a{constructor(){super(),this.cfXform=new s}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(l,c){let o=l.reduce((u,f)=>Math.max(u,...f.rules.map(d=>d.priority||0)),1);l.forEach(u=>{u.rules.forEach(f=>{f.priority||(f.priority=o++),f.style&&(f.dxfId=c.styles.addDxfStyle(f.style))})})}render(l,c){c.forEach(o=>{this.cfXform.render(l,o)})}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return!!this.parser&&(!!this.parser.parseClose(l)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(l,c){l.forEach(o=>{o.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=c.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,n,i){const a=t("../../composite-xform"),s=t("../../style/color-xform"),l=t("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new l,color:this.colorXform=new s}}get tag(){return"dataBar"}render(c,o){c.openNode(this.tag),o.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),this.colorXform.render(c,o.color),c.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(c,o){switch(c){case"cfvo":this.model.cfvo.push(o.model);break;case"color":this.model.color=o.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,n,i){const a=t("../../base-xform"),s=t("../../composite-xform");class l extends a{get tag(){return"x14:id"}render(u,f){u.leafNode(this.tag,null,f)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class c extends s{constructor(){super(),this.map={"x14:id":this.idXform=new l}}get tag(){return"ext"}render(u,f){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,f.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,f){this.model.x14Id=f.model}}n.exports=class extends s{constructor(){super(),this.map={ext:new c}}get tag(){return"extLst"}render(o,u){o.openNode(this.tag),this.map.ext.render(o,u),o.closeNode()}createNewModel(){return{}}onParserClose(o,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,n,i){const a=t("../../base-xform");n.exports=class extends a{get tag(){return"formula"}render(s,l){s.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],91:[function(t,n,i){const a=t("../../base-xform"),s=t("../../composite-xform"),l=t("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new l}}get tag(){return"iconSet"}render(c,o){c.openNode(this.tag,{iconSet:a.toStringAttribute(o.iconSet,"3TrafficLights"),reverse:a.toBoolAttribute(o.reverse,!1),showValue:a.toBoolAttribute(o.showValue,!0)}),o.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),c.closeNode()}createNewModel(c){let{attributes:o}=c;return{iconSet:a.toStringValue(o.iconSet,"3TrafficLights"),reverse:a.toBoolValue(o.reverse),showValue:a.toBoolValue(o.showValue),cfvo:[]}}onParserClose(c,o){this.model[c].push(o.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,n,i){const a=t("../../../utils/utils"),s=t("../base-xform");n.exports=class extends s{get tag(){return"col"}prepare(l,c){const o=c.styles.addStyleModel(l.style||{});o&&(l.styleId=o)}render(l,c){l.openNode("col"),l.addAttribute("min",c.min),l.addAttribute("max",c.max),c.width&&l.addAttribute("width",c.width),c.styleId&&l.addAttribute("style",c.styleId),c.hidden&&l.addAttribute("hidden","1"),c.bestFit&&l.addAttribute("bestFit","1"),c.outlineLevel&&l.addAttribute("outlineLevel",c.outlineLevel),c.collapsed&&l.addAttribute("collapsed","1"),l.addAttribute("customWidth","1"),l.closeNode()}parseOpen(l){if(l.name==="col"){const c=this.model={min:parseInt(l.attributes.min||"0",10),max:parseInt(l.attributes.max||"0",10),width:l.attributes.width===void 0?void 0:parseFloat(l.attributes.width||"0")};return l.attributes.style&&(c.styleId=parseInt(l.attributes.style,10)),a.parseBoolean(l.attributes.hidden)&&(c.hidden=!0),a.parseBoolean(l.attributes.bestFit)&&(c.bestFit=!0),l.attributes.outlineLevel&&(c.outlineLevel=parseInt(l.attributes.outlineLevel,10)),a.parseBoolean(l.attributes.collapsed)&&(c.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(l,c){l.styleId&&(l.style=c.styles.getStyleModel(l.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../../../utils/utils"),l=t("../../../utils/col-cache"),c=t("../base-xform"),o=t("../../../doc/range");function u(d,h,m,g){const p=h[m];p!==void 0?d[m]=p:g!==void 0&&(d[m]=g)}function f(d,h,m,g){const p=h[m];p!==void 0&&(d[m]=s.parseBoolean(p))}n.exports=class extends c{get tag(){return"dataValidations"}render(d,h){const m=(function(g){const p=a.map(g,(w,C)=>({address:C,dataValidation:w,marked:!1})).sort((w,C)=>a.strcmp(w.address,C.address)),y=a.keyBy(p,"address"),v=(w,C,P)=>{for(let F=0;F<C;F++){const L=l.encodeAddress(w.row+F,P);if(!g[L]||!a.isEqual(g[w.address],g[L]))return!1}return!0};return p.map(w=>{if(!w.marked){const C=l.decodeEx(w.address);if(C.dimensions)return y[C.dimensions].marked=!0,{...w.dataValidation,sqref:w.address};let P=1,F=l.encodeAddress(C.row+P,C.col);for(;g[F]&&a.isEqual(w.dataValidation,g[F]);)P++,F=l.encodeAddress(C.row+P,C.col);let L=1;for(;v(C,P,C.col+L);)L++;for(let j=0;j<P;j++)for(let I=0;I<L;I++)F=l.encodeAddress(C.row+j,C.col+I),y[F].marked=!0;if(P>1||L>1){const j=C.row+(P-1),I=C.col+(L-1);return{...w.dataValidation,sqref:`${w.address}:${l.encodeAddress(j,I)}`}}return{...w.dataValidation,sqref:w.address}}return null}).filter(Boolean)})(h);m.length&&(d.openNode("dataValidations",{count:m.length}),m.forEach(g=>{d.openNode("dataValidation"),g.type!=="any"&&(d.addAttribute("type",g.type),g.operator&&g.type!=="list"&&g.operator!=="between"&&d.addAttribute("operator",g.operator),g.allowBlank&&d.addAttribute("allowBlank","1")),g.showInputMessage&&d.addAttribute("showInputMessage","1"),g.promptTitle&&d.addAttribute("promptTitle",g.promptTitle),g.prompt&&d.addAttribute("prompt",g.prompt),g.showErrorMessage&&d.addAttribute("showErrorMessage","1"),g.errorStyle&&d.addAttribute("errorStyle",g.errorStyle),g.errorTitle&&d.addAttribute("errorTitle",g.errorTitle),g.error&&d.addAttribute("error",g.error),d.addAttribute("sqref",g.sqref),(g.formulae||[]).forEach((p,y)=>{d.openNode("formula"+(y+1)),g.type==="date"?d.writeText(s.dateToExcel(new Date(p))):d.writeText(p),d.closeNode()}),d.closeNode()}),d.closeNode())}parseOpen(d){switch(d.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=d.attributes.sqref;const h={type:d.attributes.type||"any",formulae:[]};switch(d.attributes.type&&f(h,d.attributes,"allowBlank"),f(h,d.attributes,"showInputMessage"),f(h,d.attributes,"showErrorMessage"),h.type){case"any":case"list":case"custom":break;default:u(h,d.attributes,"operator","between")}return u(h,d.attributes,"promptTitle"),u(h,d.attributes,"prompt"),u(h,d.attributes,"errorStyle"),u(h,d.attributes,"errorTitle"),u(h,d.attributes,"error"),this._dataValidation=h,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(d){this._formula&&this._formula.push(d)}parseClose(d){switch(d){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(h=>{h.includes(":")?new o(h).forEachAddress(m=>{this.model[m]=this._dataValidation}):this.model[h]=this._dataValidation}),!0;case"formula1":case"formula2":{let h=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":h=parseInt(h,10);break;case"decimal":h=parseFloat(h);break;case"date":h=s.excelToDate(parseFloat(h))}return this._dataValidation.formulae.push(h),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"dimension"}render(s,l){l&&s.leafNode("dimension",{ref:l})}parseOpen(s){return s.name==="dimension"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"drawing"}render(s,l){l&&s.leafNode(this.tag,{"r:id":l.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(t,n,i){const a=t("../composite-xform"),s=t("./cf-ext/conditional-formattings-ext-xform");class l extends a{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new s}}get tag(){return"ext"}hasContent(o){return this.conditionalFormattings.hasContent(o.conditionalFormattings)}prepare(o,u){this.conditionalFormattings.prepare(o.conditionalFormattings,u)}render(o,u){o.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(o,u.conditionalFormattings),o.closeNode()}createNewModel(){return{}}onParserClose(o,u){this.model[o]=u.model}}n.exports=class extends a{constructor(){super(),this.map={ext:this.ext=new l}}get tag(){return"extLst"}prepare(c,o){this.ext.prepare(c,o)}hasContent(c){return this.ext.hasContent(c)}render(c,o){this.hasContent(o)&&(c.openNode("extLst"),this.ext.render(c,o),c.closeNode())}createNewModel(){return{}}onParserClose(c,o){Object.assign(this.model,o.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"headerFooter"}render(s,l){if(l){s.addRollback();let c=!1;s.openNode("headerFooter"),l.differentFirst&&(s.addAttribute("differentFirst","1"),c=!0),l.differentOddEven&&(s.addAttribute("differentOddEven","1"),c=!0),l.oddHeader&&typeof l.oddHeader=="string"&&(s.leafNode("oddHeader",null,l.oddHeader),c=!0),l.oddFooter&&typeof l.oddFooter=="string"&&(s.leafNode("oddFooter",null,l.oddFooter),c=!0),l.evenHeader&&typeof l.evenHeader=="string"&&(s.leafNode("evenHeader",null,l.evenHeader),c=!0),l.evenFooter&&typeof l.evenFooter=="string"&&(s.leafNode("evenFooter",null,l.evenFooter),c=!0),l.firstHeader&&typeof l.firstHeader=="string"&&(s.leafNode("firstHeader",null,l.firstHeader),c=!0),l.firstFooter&&typeof l.firstFooter=="string"&&(s.leafNode("firstFooter",null,l.firstFooter),c=!0),c?(s.closeNode(),s.commit()):s.rollback()}}parseOpen(s){switch(s.name){case"headerFooter":return this.model={},s.attributes.differentFirst&&(this.model.differentFirst=parseInt(s.attributes.differentFirst,0)===1),s.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(s.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(s){switch(this.currentNode){case"oddHeader":this.model.oddHeader=s;break;case"oddFooter":this.model.oddFooter=s;break;case"evenHeader":this.model.evenHeader=s;break;case"evenFooter":this.model.evenFooter=s;break;case"firstHeader":this.model.firstHeader=s;break;case"firstFooter":this.model.firstFooter=s}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"hyperlink"}render(s,l){this.isInternalLink(l)?s.leafNode("hyperlink",{ref:l.address,"r:id":l.rId,tooltip:l.tooltip,location:l.target}):s.leafNode("hyperlink",{ref:l.address,"r:id":l.rId,tooltip:l.tooltip})}parseOpen(s){return s.name==="hyperlink"&&(this.model={address:s.attributes.ref,rId:s.attributes["r:id"],tooltip:s.attributes.tooltip},s.attributes.location&&(this.model.target=s.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(s){return s.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(s.target)}}},{"../base-xform":32}],99:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"mergeCell"}render(s,l){s.leafNode("mergeCell",{ref:l})}parseOpen(s){return s.name==="mergeCell"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../../../doc/range"),l=t("../../../utils/col-cache"),c=t("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(o){if(this.merges[o.master])this.merges[o.master].expandToAddress(o.address);else{const u=`${o.master}:${o.address}`;this.merges[o.master]=new s(u)}}get mergeCells(){return a.map(this.merges,o=>o.range)}reconcile(o,u){a.each(o,f=>{const d=l.decode(f);for(let h=d.top;h<=d.bottom;h++){const m=u[h-1];for(let g=d.left;g<=d.right;g++){const p=m.cells[g-1];p?p.type===c.ValueType.Merge&&(p.master=d.tl):m.cells[g]={type:c.ValueType.Null,address:l.encodeAddress(h,g)}}}})}getMasterAddress(o){const u=this.hash[o];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,n,i){const a=t("../base-xform"),s=l=>l!==void 0;n.exports=class extends a{get tag(){return"outlinePr"}render(l,c){return!(!c||!s(c.summaryBelow)&&!s(c.summaryRight))&&(l.leafNode(this.tag,{summaryBelow:s(c.summaryBelow)?Number(c.summaryBelow):void 0,summaryRight:s(c.summaryRight)?Number(c.summaryRight):void 0}),!0)}parseOpen(l){return l.name===this.tag&&(this.model={summaryBelow:s(l.attributes.summaryBelow)?!!Number(l.attributes.summaryBelow):void 0,summaryRight:s(l.attributes.summaryRight)?!!Number(l.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"brk"}render(s,l){s.leafNode("brk",l)}parseOpen(s){return s.name==="brk"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../base-xform");n.exports=class extends s{get tag(){return"pageMargins"}render(l,c){if(c){const o={left:c.left,right:c.right,top:c.top,bottom:c.bottom,header:c.header,footer:c.footer};a.some(o,u=>u!==void 0)&&l.leafNode(this.tag,o)}}parseOpen(l){switch(l.name){case this.tag:return this.model={left:parseFloat(l.attributes.left||.7),right:parseFloat(l.attributes.right||.7),top:parseFloat(l.attributes.top||.75),bottom:parseFloat(l.attributes.bottom||.75),header:parseFloat(l.attributes.header||.3),footer:parseFloat(l.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"pageSetUpPr"}render(s,l){return!(!l||!l.fitToPage)&&(s.leafNode(this.tag,{fitToPage:l.fitToPage?"1":void 0}),!0)}parseOpen(s){return s.name===this.tag&&(this.model={fitToPage:s.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../base-xform");function l(f){return f?"1":void 0}function c(f){switch(f){case"overThenDown":return f;default:return}}function o(f){switch(f){case"atEnd":case"asDisplyed":return f;default:return}}function u(f){switch(f){case"dash":case"blank":case"NA":return f;default:return}}n.exports=class extends s{get tag(){return"pageSetup"}render(f,d){if(d){const h={paperSize:d.paperSize,orientation:d.orientation,horizontalDpi:d.horizontalDpi,verticalDpi:d.verticalDpi,pageOrder:c(d.pageOrder),blackAndWhite:l(d.blackAndWhite),draft:l(d.draft),cellComments:o(d.cellComments),errors:u(d.errors),scale:d.scale,fitToWidth:d.fitToWidth,fitToHeight:d.fitToHeight,firstPageNumber:d.firstPageNumber,useFirstPageNumber:l(d.firstPageNumber),usePrinterDefaults:l(d.usePrinterDefaults),copies:d.copies};a.some(h,m=>m!==void 0)&&f.leafNode(this.tag,h)}}parseOpen(f){switch(f.name){case this.tag:return this.model={paperSize:(d=f.attributes.paperSize,d!==void 0?parseInt(d,10):void 0),orientation:f.attributes.orientation||"portrait",horizontalDpi:parseInt(f.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(f.attributes.verticalDpi||"4294967295",10),pageOrder:f.attributes.pageOrder||"downThenOver",blackAndWhite:f.attributes.blackAndWhite==="1",draft:f.attributes.draft==="1",cellComments:f.attributes.cellComments||"None",errors:f.attributes.errors||"displayed",scale:parseInt(f.attributes.scale||"100",10),fitToWidth:parseInt(f.attributes.fitToWidth||"1",10),fitToHeight:parseInt(f.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(f.attributes.firstPageNumber||"1",10),useFirstPageNumber:f.attributes.useFirstPageNumber==="1",usePrinterDefaults:f.attributes.usePrinterDefaults==="1",copies:parseInt(f.attributes.copies||"1",10)},!0;default:return!1}var d}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"picture"}render(s,l){l&&s.leafNode(this.tag,{"r:id":l.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../base-xform");function l(c){return c?"1":void 0}n.exports=class extends s{get tag(){return"printOptions"}render(c,o){if(o){const u={headings:l(o.showRowColHeaders),gridLines:l(o.showGridLines),horizontalCentered:l(o.horizontalCentered),verticalCentered:l(o.verticalCentered)};a.some(u,f=>f!==void 0)&&c.leafNode(this.tag,u)}}parseOpen(c){switch(c.name){case this.tag:return this.model={showRowColHeaders:c.attributes.headings==="1",showGridLines:c.attributes.gridLines==="1",horizontalCentered:c.attributes.horizontalCentered==="1",verticalCentered:c.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,n,i){const a=t("./page-breaks-xform"),s=t("../list-xform");n.exports=class extends s{constructor(){super({tag:"rowBreaks",count:!0,childXform:new a})}render(l,c){if(c&&c.length){l.openNode(this.tag,this.$),this.count&&(l.addAttribute(this.$count,c.length),l.addAttribute("manualBreakCount",c.length));const{childXform:o}=this;c.forEach(u=>{o.render(l,u)}),l.closeNode()}else this.empty&&l.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,n,i){const a=t("../base-xform"),s=t("../../../utils/utils"),l=t("./cell-xform");n.exports=class extends a{constructor(c){super(),this.maxItems=c&&c.maxItems,this.map={c:new l}}get tag(){return"row"}prepare(c,o){const u=o.styles.addStyleModel(c.style);u&&(c.styleId=u);const f=this.map.c;c.cells.forEach(d=>{f.prepare(d,o)})}render(c,o,u){c.openNode("row"),c.addAttribute("r",o.number),o.height&&(c.addAttribute("ht",o.height),c.addAttribute("customHeight","1")),o.hidden&&c.addAttribute("hidden","1"),o.min>0&&o.max>0&&o.min<=o.max&&c.addAttribute("spans",`${o.min}:${o.max}`),o.styleId&&(c.addAttribute("s",o.styleId),c.addAttribute("customFormat","1")),c.addAttribute("x14ac:dyDescent","0.25"),o.outlineLevel&&c.addAttribute("outlineLevel",o.outlineLevel),o.collapsed&&c.addAttribute("collapsed","1");const f=this.map.c;o.cells.forEach(d=>{f.render(c,d,u)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;if(c.name==="row"){this.numRowsSeen+=1;const o=c.attributes.spans?c.attributes.spans.split(":").map(f=>parseInt(f,10)):[void 0,void 0],u=this.model={number:parseInt(c.attributes.r,10),min:o[0],max:o[1],cells:[]};return c.attributes.s&&(u.styleId=parseInt(c.attributes.s,10)),s.parseBoolean(c.attributes.hidden)&&(u.hidden=!0),s.parseBoolean(c.attributes.bestFit)&&(u.bestFit=!0),c.attributes.ht&&(u.height=parseFloat(c.attributes.ht)),c.attributes.outlineLevel&&(u.outlineLevel=parseInt(c.attributes.outlineLevel,10)),s.parseBoolean(c.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(c,o){c.style=c.styleId?o.styles.getStyleModel(c.styleId):{},c.styleId!==void 0&&(c.styleId=void 0);const u=this.map.c;c.cells.forEach(f=>{u.reconcile(f,o)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../base-xform");n.exports=class extends s{get tag(){return"sheetFormatPr"}render(l,c){if(c){const o={defaultRowHeight:c.defaultRowHeight,outlineLevelRow:c.outlineLevelRow,outlineLevelCol:c.outlineLevelCol,"x14ac:dyDescent":c.dyDescent};c.defaultColWidth&&(o.defaultColWidth=c.defaultColWidth),c.defaultRowHeight&&c.defaultRowHeight===15||(o.customHeight="1"),a.some(o,u=>u!==void 0)&&l.leafNode("sheetFormatPr",o)}}parseOpen(l){return l.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(l.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(l.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(l.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(l.attributes.outlineLevelCol||"0",10)},l.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(l.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,n,i){const a=t("../base-xform"),s=t("../style/color-xform"),l=t("./page-setup-properties-xform"),c=t("./outline-properties-xform");n.exports=class extends a{constructor(){super(),this.map={tabColor:new s("tabColor"),pageSetUpPr:new l,outlinePr:new c}}get tag(){return"sheetPr"}render(o,u){if(u){o.addRollback(),o.openNode("sheetPr");let f=!1;f=this.map.tabColor.render(o,u.tabColor)||f,f=this.map.pageSetUpPr.render(o,u.pageSetup)||f,f=this.map.outlinePr.render(o,u.outlineProperties)||f,f?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){return this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag?(this.reset(),!0):!!this.map[o.name]&&(this.parser=this.map[o.name],this.parser.parseOpen(o),!0)}parseText(o){return!!this.parser&&(this.parser.parseText(o),!0)}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../base-xform");function l(o,u){return o?u:void 0}function c(o,u){return o===u||void 0}n.exports=class extends s{get tag(){return"sheetProtection"}render(o,u){if(u){const f={sheet:l(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:l(u.formatCells,"0"),formatColumns:l(u.formatColumns,"0"),formatRows:l(u.formatRows,"0"),insertColumns:l(u.insertColumns,"0"),insertRows:l(u.insertRows,"0"),insertHyperlinks:l(u.insertHyperlinks,"0"),deleteColumns:l(u.deleteColumns,"0"),deleteRows:l(u.deleteRows,"0"),sort:l(u.sort,"0"),autoFilter:l(u.autoFilter,"0"),pivotTables:l(u.pivotTables,"0")};u.sheet&&(f.algorithmName=u.algorithmName,f.hashValue=u.hashValue,f.saltValue=u.saltValue,f.spinCount=u.spinCount,f.objects=l(u.objects===!1,"1"),f.scenarios=l(u.scenarios===!1,"1")),a.some(f,d=>d!==void 0)&&o.leafNode(this.tag,f)}}parseOpen(o){switch(o.name){case this.tag:return this.model={sheet:c(o.attributes.sheet,"1"),objects:o.attributes.objects!=="1"&&void 0,scenarios:o.attributes.scenarios!=="1"&&void 0,selectLockedCells:o.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:o.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:c(o.attributes.formatCells,"0"),formatColumns:c(o.attributes.formatColumns,"0"),formatRows:c(o.attributes.formatRows,"0"),insertColumns:c(o.attributes.insertColumns,"0"),insertRows:c(o.attributes.insertRows,"0"),insertHyperlinks:c(o.attributes.insertHyperlinks,"0"),deleteColumns:c(o.attributes.deleteColumns,"0"),deleteRows:c(o.attributes.deleteRows,"0"),sort:c(o.attributes.sort,"0"),autoFilter:c(o.attributes.autoFilter,"0"),pivotTables:c(o.attributes.pivotTables,"0")},o.attributes.algorithmName&&(this.model.algorithmName=o.attributes.algorithmName,this.model.hashValue=o.attributes.hashValue,this.model.saltValue=o.attributes.saltValue,this.model.spinCount=parseInt(o.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,n,i){const a=t("../../../utils/col-cache"),s=t("../base-xform"),l={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends s{get tag(){return"sheetView"}prepare(c){switch(c.state){case"frozen":case"split":break;default:c.state="normal"}}render(c,o){c.openNode("sheetView",{workbookViewId:o.workbookViewId||0});const u=function(g,p,y){y&&c.addAttribute(g,p)};let f,d,h,m;switch(u("rightToLeft","1",o.rightToLeft===!0),u("tabSelected","1",o.tabSelected),u("showRuler","0",o.showRuler===!1),u("showRowColHeaders","0",o.showRowColHeaders===!1),u("showGridLines","0",o.showGridLines===!1),u("zoomScale",o.zoomScale,o.zoomScale),u("zoomScaleNormal",o.zoomScaleNormal,o.zoomScaleNormal),u("view",o.style,o.style),o.state){case"frozen":d=o.xSplit||0,h=o.ySplit||0,f=o.topLeftCell||a.getAddress(h+1,d+1).address,m=(o.xSplit&&o.ySplit?"bottomRight":o.xSplit&&"topRight")||"bottomLeft",c.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:f,activePane:m,state:"frozen"}),c.leafNode("selection",{pane:m,activeCell:o.activeCell,sqref:o.activeCell});break;case"split":o.activePane==="topLeft"&&(o.activePane=void 0),c.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:o.topLeftCell,activePane:o.activePane}),c.leafNode("selection",{pane:o.activePane,activeCell:o.activeCell,sqref:o.activeCell});break;case"normal":o.activeCell&&c.leafNode("selection",{activeCell:o.activeCell,sqref:o.activeCell})}c.closeNode()}parseOpen(c){switch(c.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(c.attributes.workbookViewId,10),rightToLeft:c.attributes.rightToLeft==="1",tabSelected:c.attributes.tabSelected==="1",showRuler:c.attributes.showRuler!=="0",showRowColHeaders:c.attributes.showRowColHeaders!=="0",showGridLines:c.attributes.showGridLines!=="0",zoomScale:parseInt(c.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(c.attributes.zoomScaleNormal||"100",10),style:c.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(c.attributes.xSplit||"0",10),ySplit:parseInt(c.attributes.ySplit||"0",10),topLeftCell:c.attributes.topLeftCell,activePane:c.attributes.activePane||"topLeft",state:c.attributes.state},!0;case"selection":{const o=c.attributes.pane||"topLeft";return this.selections[o]={pane:o,activeCell:c.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(c){let o,u;switch(c){case"sheetView":return this.sheetView&&this.pane?(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:l[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(o.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(o.activeCell=u.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)):(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(o.activeCell=u.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"tablePart"}render(s,l){l&&s.leafNode(this.tag,{"r:id":l.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../../../utils/col-cache"),l=t("../../../utils/xml-stream"),c=t("../../rel-type"),o=t("./merges"),u=t("../base-xform"),f=t("../list-xform"),d=t("./row-xform"),h=t("./col-xform"),m=t("./dimension-xform"),g=t("./hyperlink-xform"),p=t("./merge-cell-xform"),y=t("./data-validations-xform"),v=t("./sheet-properties-xform"),w=t("./sheet-format-properties-xform"),C=t("./sheet-view-xform"),P=t("./sheet-protection-xform"),F=t("./page-margins-xform"),L=t("./page-setup-xform"),j=t("./print-options-xform"),I=t("./auto-filter-xform"),z=t("./picture-xform"),$=t("./drawing-xform"),B=t("./table-part-xform"),T=t("./row-breaks-xform"),R=t("./header-footer-xform"),N=t("./cf/conditional-formattings-xform"),_=t("./ext-lst-xform"),E=(k,M)=>{if(!M||!M.length)return k;if(!k||!k.length)return M;const V={},O={};return k.forEach(X=>{V[X.ref]=X,X.rules.forEach(Q=>{const{x14Id:re}=Q;re&&(O[re]=Q)})}),M.forEach(X=>{X.rules.forEach(Q=>{const re=O[Q.x14Id];re?((G,J)=>{Object.keys(J).forEach(q=>{const U=G[q],Z=J[q];U===void 0&&Z!==void 0&&(G[q]=Z)})})(re,Q):V[X.ref]?V[X.ref].rules.push(Q):k.push({ref:X.ref,rules:[Q]})})}),k};class S extends u{constructor(M){super();const{maxRows:V,maxCols:O,ignoreNodes:X}=M||{};this.ignoreNodes=X||[],this.map={sheetPr:new v,dimension:new m,sheetViews:new f({tag:"sheetViews",count:!1,childXform:new C}),sheetFormatPr:new w,cols:new f({tag:"cols",count:!1,childXform:new h}),sheetData:new f({tag:"sheetData",count:!1,empty:!0,childXform:new d({maxItems:O}),maxItems:V}),autoFilter:new I,mergeCells:new f({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new T,hyperlinks:new f({tag:"hyperlinks",count:!1,childXform:new g}),pageMargins:new F,dataValidations:new y,pageSetup:new L,headerFooter:new R,printOptions:new j,picture:new z,drawing:new $,sheetProtection:new P,tableParts:new f({tag:"tableParts",count:!0,childXform:new B}),conditionalFormatting:new N,extLst:new _}}prepare(M,V){V.merges=new o,M.hyperlinks=V.hyperlinks=[],M.comments=V.comments=[],V.formulae={},V.siFormulae=0,this.map.cols.prepare(M.cols,V),this.map.sheetData.prepare(M.rows,V),this.map.conditionalFormatting.prepare(M.conditionalFormattings,V),M.mergeCells=V.merges.mergeCells;const O=M.rels=[];function X(G){return"rId"+(G.length+1)}if(M.hyperlinks.forEach(G=>{const J=X(O);G.rId=J,O.push({Id:J,Type:c.Hyperlink,Target:G.target,TargetMode:"External"})}),M.comments.length>0){const G={Id:X(O),Type:c.Comments,Target:`../comments${M.id}.xml`};O.push(G);const J={Id:X(O),Type:c.VmlDrawing,Target:`../drawings/vmlDrawing${M.id}.vml`};O.push(J),M.comments.forEach(q=>{q.refAddress=s.decodeAddress(q.ref)}),V.commentRefs.push({commentName:"comments"+M.id,vmlDrawing:"vmlDrawing"+M.id})}const Q=[];let re;M.media.forEach(G=>{if(G.type==="background"){const J=X(O);re=V.media[G.imageId],O.push({Id:J,Type:c.Image,Target:`../media/${re.name}.${re.extension}`}),M.background={rId:J},M.image=V.media[G.imageId]}else if(G.type==="image"){let{drawing:J}=M;re=V.media[G.imageId],J||(J=M.drawing={rId:X(O),name:"drawing"+ ++V.drawingsCount,anchors:[],rels:[]},V.drawings.push(J),O.push({Id:J.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${J.name}.xml`}));let q=this.preImageId===G.imageId?Q[G.imageId]:Q[J.rels.length];q||(q=X(J.rels),Q[J.rels.length]=q,J.rels.push({Id:q,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${re.name}.${re.extension}`}));const U={picture:{rId:q},range:G.range};if(G.hyperlinks&&G.hyperlinks.hyperlink){const Z=X(J.rels);Q[J.rels.length]=Z,U.picture.hyperlinks={tooltip:G.hyperlinks.tooltip,rId:Z},J.rels.push({Id:Z,Type:c.Hyperlink,Target:G.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=G.imageId,J.anchors.push(U)}}),M.tables.forEach(G=>{const J=X(O);G.rId=J,O.push({Id:J,Type:c.Table,Target:"../tables/"+G.target}),G.columns.forEach(q=>{const{style:U}=q;U&&(q.dxfId=V.styles.addDxfStyle(U))})}),this.map.extLst.prepare(M,V)}render(M,V){M.openXml(l.StdDocAttributes),M.openNode("worksheet",S.WORKSHEET_ATTRIBUTES);const O=V.properties?{defaultRowHeight:V.properties.defaultRowHeight,dyDescent:V.properties.dyDescent,outlineLevelCol:V.properties.outlineLevelCol,outlineLevelRow:V.properties.outlineLevelRow}:void 0;V.properties&&V.properties.defaultColWidth&&(O.defaultColWidth=V.properties.defaultColWidth);const X={outlineProperties:V.properties&&V.properties.outlineProperties,tabColor:V.properties&&V.properties.tabColor,pageSetup:V.pageSetup&&V.pageSetup.fitToPage?{fitToPage:V.pageSetup.fitToPage}:void 0},Q=V.pageSetup&&V.pageSetup.margins,re={showRowColHeaders:V.pageSetup&&V.pageSetup.showRowColHeaders,showGridLines:V.pageSetup&&V.pageSetup.showGridLines,horizontalCentered:V.pageSetup&&V.pageSetup.horizontalCentered,verticalCentered:V.pageSetup&&V.pageSetup.verticalCentered},G=V.sheetProtection;this.map.sheetPr.render(M,X),this.map.dimension.render(M,V.dimensions),this.map.sheetViews.render(M,V.views),this.map.sheetFormatPr.render(M,O),this.map.cols.render(M,V.cols),this.map.sheetData.render(M,V.rows),this.map.sheetProtection.render(M,G),this.map.autoFilter.render(M,V.autoFilter),this.map.mergeCells.render(M,V.mergeCells),this.map.conditionalFormatting.render(M,V.conditionalFormattings),this.map.dataValidations.render(M,V.dataValidations),this.map.hyperlinks.render(M,V.hyperlinks),this.map.printOptions.render(M,re),this.map.pageMargins.render(M,Q),this.map.pageSetup.render(M,V.pageSetup),this.map.headerFooter.render(M,V.headerFooter),this.map.rowBreaks.render(M,V.rowBreaks),this.map.drawing.render(M,V.drawing),this.map.picture.render(M,V.background),this.map.tableParts.render(M,V.tables),this.map.extLst.render(M,V),V.rels&&V.rels.forEach(J=>{J.Type===c.VmlDrawing&&M.leafNode("legacyDrawing",{"r:id":J.Id})}),M.closeNode()}parseOpen(M){return this.parser?(this.parser.parseOpen(M),!0):M.name==="worksheet"?(a.each(this.map,V=>{V.reset()}),!0):(this.map[M.name]&&!this.ignoreNodes.includes(M.name)&&(this.parser=this.map[M.name],this.parser.parseOpen(M)),!0)}parseText(M){this.parser&&this.parser.parseText(M)}parseClose(M){if(this.parser)return this.parser.parseClose(M)||(this.parser=void 0),!0;switch(M){case"worksheet":{const V=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(V.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(V.outlineProperties=this.map.sheetPr.model.outlineProperties);const O={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},X=Object.assign(O,this.map.pageSetup.model,this.map.printOptions.model),Q=E(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:V,views:this.map.sheetViews.model,pageSetup:X,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Q},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(M,V){const O=(M.relationships||[]).reduce((Q,re)=>{if(Q[re.Id]=re,re.Type===c.Comments&&(M.comments=V.comments[re.Target].comments),re.Type===c.VmlDrawing&&M.comments&&M.comments.length){const G=V.vmlDrawings[re.Target].comments;M.comments.forEach((J,q)=>{J.note=Object.assign({},J.note,G[q])})}return Q},{});if(V.commentsMap=(M.comments||[]).reduce((Q,re)=>(re.ref&&(Q[re.ref]=re),Q),{}),V.hyperlinkMap=(M.hyperlinks||[]).reduce((Q,re)=>(re.rId&&(Q[re.address]=O[re.rId].Target),Q),{}),V.formulae={},M.rows=M.rows&&M.rows.filter(Boolean)||[],M.rows.forEach(Q=>{Q.cells=Q.cells&&Q.cells.filter(Boolean)||[]}),this.map.cols.reconcile(M.cols,V),this.map.sheetData.reconcile(M.rows,V),this.map.conditionalFormatting.reconcile(M.conditionalFormattings,V),M.media=[],M.drawing){const Q=O[M.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Q){const re=Q[1];V.drawings[re].anchors.forEach(G=>{if(G.medium){const J={type:"image",imageId:G.medium.index,range:G.range,hyperlinks:G.picture.hyperlinks};M.media.push(J)}})}}const X=M.background&&O[M.background.rId];if(X){const Q=X.Target.split("/media/")[1],re=V.mediaIndex&&V.mediaIndex[Q];re!==void 0&&M.media.push({type:"background",imageId:re})}M.tables=(M.tables||[]).map(Q=>{const re=O[Q.rId];return V.tables[re.Target]}),delete M.relationships,delete M.hyperlinks,delete M.comments}}S.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=S},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr}render(s,l){l&&(s.openNode(this.tag),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this._format=s.format||function(l){try{return Number.isNaN(l.getTime())?"":l.toISOString()}catch{return""}},this._parse=s.parse||function(l){return new Date(l)}}render(s,l){l&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,this._format(l)):s.writeText(this._format(l)),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=this._parse(s.attributes[this.attr]):this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this.zero=s.zero}render(s,l){(l||this.zero)&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,l):s.writeText(l),s.closeNode())}parseOpen(s){return s.name===this.tag&&(this.attr?this.model=parseInt(s.attributes[this.attr],10):this.text=[],!0)}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs}render(s,l){l!==void 0&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,l):s.writeText(l),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=s.attributes[this.attr]:this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(t,n,i){const a=t("./base-xform"),s=t("../../utils/xml-stream");n.exports=class extends a{constructor(l){super(),this._model=l}render(l){if(!this._xml){const c=new s;(function o(u,f){u.openNode(f.tag,f.$),f.c&&f.c.forEach(d=>{o(u,d)}),f.t&&u.writeText(f.t),u.closeNode()})(c,this._model),this._xml=c.xml}l.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(l){switch(l){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,n,i){const a=t("./text-xform"),s=t("./rich-text-xform"),l=t("../base-xform");n.exports=class extends l{constructor(){super(),this.map={r:new s,t:new a}}get tag(){return"rPh"}render(c,o){if(c.openNode(this.tag,{sb:o.sb||0,eb:o.eb||0}),o&&o.hasOwnProperty("richText")&&o.richText){const{r:u}=this.map;o.richText.forEach(f=>{u.render(c,f)})}else o&&this.map.t.render(c,o.text);c.closeNode()}parseOpen(c){const{name:o}=c;return this.parser?(this.parser.parseOpen(c),!0):o===this.tag?(this.model={sb:parseInt(c.attributes.sb,10),eb:parseInt(c.attributes.eb,10)},!0):(this.parser=this.map[o],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){switch(c){case"r":{let o=this.model.richText;o||(o=this.model.richText=[]),o.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,n,i){const a=t("./text-xform"),s=t("../style/font-xform"),l=t("../base-xform");class c extends l{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new a)}get fontXform(){return this._fontXform||(this._fontXform=new s(c.FONT_OPTIONS))}render(u,f){f=f||this.model,u.openNode("r"),f.font&&this.fontXform.render(u,f.font),this.textXform.render(u,f.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}c.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=c},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,n,i){const a=t("./text-xform"),s=t("./rich-text-xform"),l=t("./phonetic-text-xform"),c=t("../base-xform");n.exports=class extends c{constructor(o){super(),this.model=o,this.map={r:new s,t:new a,rPh:new l}}get tag(){return"si"}render(o,u){o.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(f=>{this.map.r.render(o,f)}):this.map.t.render(o,""):u!=null&&this.map.t.render(o,u),o.closeNode()}parseOpen(o){const{name:u}=o;return this.parser?(this.parser.parseOpen(o),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(o),!0))}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){switch(o){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,n,i){const a=t("../../../utils/xml-stream"),s=t("../base-xform"),l=t("./shared-string-xform");n.exports=class extends s{constructor(c){super(),this.model=c||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new l)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(c){return this.model.values[c]}add(c){return c.richText?this.addRichText(c):this.addText(c)}addText(c){let o=this.hash[c];return o===void 0&&(o=this.hash[c]=this.model.values.length,this.model.values.push(c)),this.model.count++,o}addRichText(c){const o=this.sharedStringXform.toXml(c);let u=this.rich[o];return u===void 0&&(u=this.rich[o]=this.model.values.length,this.model.values.push(c)),this.model.count++,u}render(c,o){o=o||this._values,c.openXml(a.StdDocAttributes),c.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:o.count,uniqueCount:o.values.length});const u=this.sharedStringXform;o.values.forEach(f=>{u.render(c,f)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(c),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(c){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"t"}render(s,l){s.openNode("t"),/^\s|\n|\s$/.test(l)&&s.addAttribute("xml:space","preserve"),s.writeText(l),s.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(s,l)=>String.fromCharCode(parseInt(l,16)))}parseOpen(s){switch(s.name){case"t":return this._text=[],!0;default:return!1}}parseText(s){this._text.push(s)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(t,n,i){const a=t("../../../doc/enums"),s=t("../../../utils/utils"),l=t("../base-xform"),c={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,f)=>(u[f]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,f)=>(u[f]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){switch(u){case"vertical":return u;default:return(u=s.validInt(u))>=-90&&u<=90?u:void 0}},indent:u=>(u=s.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return a.ReadingOrder.LeftToRight;case"rtl":return a.ReadingOrder.RightToLeft;default:return}}},o={toXml(u){if(u=c.textRotation(u)){if(u==="vertical")return 255;const f=Math.round(u);if(f>=0&&f<=90)return f;if(f<0&&f>=-90)return 90-f}},toModel(u){const f=s.validInt(u);if(f!==void 0){if(f===255)return"vertical";if(f>=0&&f<=90)return f;if(f>90&&f<=180)return 90-f}}};n.exports=class extends l{get tag(){return"alignment"}render(u,f){u.addRollback(),u.openNode("alignment");let d=!1;function h(m,g){g&&(u.addAttribute(m,g),d=!0)}h("horizontal",c.horizontal(f.horizontal)),h("vertical",c.vertical(f.vertical)),h("wrapText",!!c.wrapText(f.wrapText)&&"1"),h("shrinkToFit",!!c.shrinkToFit(f.shrinkToFit)&&"1"),h("indent",c.indent(f.indent)),h("textRotation",o.toXml(f.textRotation)),h("readingOrder",c.readingOrder(f.readingOrder)),u.closeNode(),d?u.commit():u.rollback()}parseOpen(u){const f={};let d=!1;function h(m,g,p){m&&(f[g]=p,d=!0)}h(u.attributes.horizontal,"horizontal",u.attributes.horizontal),h(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),h(u.attributes.wrapText,"wrapText",s.parseBoolean(u.attributes.wrapText)),h(u.attributes.shrinkToFit,"shrinkToFit",s.parseBoolean(u.attributes.shrinkToFit)),h(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),h(u.attributes.textRotation,"textRotation",o.toModel(u.attributes.textRotation)),h(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=d?f:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,n,i){const a=t("../base-xform"),s=t("../../../utils/utils"),l=t("./color-xform");class c extends a{constructor(u){super(),this.name=u,this.map={color:new l}}get tag(){return this.name}render(u,f,d){const h=f&&f.color||d||this.defaultColor;u.openNode(this.name),f&&f.style&&(u.addAttribute("style",f.style),h&&this.map.color.render(u,h)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:f}=u.attributes;return this.model=f?{style:f}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return c.validStyleValues[u]}}c.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((o,u)=>(o[u]=!0,o),{}),n.exports=class extends a{constructor(){super(),this.map={top:new c("top"),left:new c("left"),bottom:new c("bottom"),right:new c("right"),diagonal:new c("diagonal")}}render(o,u){const{color:f}=u;function d(h,m){h&&!h.color&&u.color&&(h={...h,color:u.color}),m.render(o,h,f)}o.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&o.addAttribute("diagonalUp","1"),u.diagonal.down&&o.addAttribute("diagonalDown","1")),d(u.left,this.map.left),d(u.right,this.map.right),d(u.top,this.map.top),d(u.bottom,this.map.bottom),d(u.diagonal,this.map.diagonal),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"border":return this.reset(),this.diagonalUp=s.parseBoolean(o.attributes.diagonalUp),this.diagonalDown=s.parseBoolean(o.attributes.diagonalDown),!0;default:return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;if(o==="border"){const u=this.model={},f=function(d,h,m){h&&(m&&Object.assign(h,m),u[d]=h)};f("left",this.map.left.model),f("right",this.map.right.model),f("top",this.map.top.model),f("bottom",this.map.bottom.model),f("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{constructor(s){super(),this.name=s||"color"}get tag(){return this.name}render(s,l){return!!l&&(s.openNode(this.name),l.argb?s.addAttribute("rgb",l.argb):l.theme!==void 0?(s.addAttribute("theme",l.theme),l.tint!==void 0&&s.addAttribute("tint",l.tint)):l.indexed!==void 0?s.addAttribute("indexed",l.indexed):s.addAttribute("auto","1"),s.closeNode(),!0)}parseOpen(s){return s.name===this.name&&(s.attributes.rgb?this.model={argb:s.attributes.rgb}:s.attributes.theme?(this.model={theme:parseInt(s.attributes.theme,10)},s.attributes.tint&&(this.model.tint=parseFloat(s.attributes.tint))):s.attributes.indexed?this.model={indexed:parseInt(s.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(t,n,i){const a=t("../base-xform"),s=t("./alignment-xform"),l=t("./border-xform"),c=t("./fill-xform"),o=t("./font-xform"),u=t("./numfmt-xform"),f=t("./protection-xform");n.exports=class extends a{constructor(){super(),this.map={alignment:new s,border:new l,fill:new c,font:new o,numFmt:new u,protection:new f}}get tag(){return"dxf"}render(d,h){if(d.openNode(this.tag),h.font&&this.map.font.render(d,h.font),h.numFmt&&h.numFmtId){const m={id:h.numFmtId,formatCode:h.numFmt};this.map.numFmt.render(d,m)}h.fill&&this.map.fill.render(d,h.fill),h.alignment&&this.map.alignment.render(d,h.alignment),h.border&&this.map.border.render(d,h.border),h.protection&&this.map.protection.render(d,h.protection),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d),!0}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,n,i){const a=t("../base-xform"),s=t("./color-xform");class l extends a{constructor(){super(),this.map={color:new s}}get tag(){return"stop"}render(d,h){d.openNode("stop"),d.addAttribute("position",h.position),this.map.color.render(d,h.color),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"stop":return this.model={position:parseFloat(d.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(){}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class c extends a{constructor(){super(),this.map={fgColor:new s("fgColor"),bgColor:new s("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(d,h){d.openNode("patternFill"),d.addAttribute("patternType",h.pattern),h.fgColor&&this.map.fgColor.render(d,h.fgColor),h.bgColor&&this.map.bgColor.render(d,h.bgColor),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"patternFill":return this.model={type:"pattern",pattern:d.attributes.patternType},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.parser.model&&(this.model[d]=this.parser.model),this.parser=void 0),!0)}}class o extends a{constructor(){super(),this.map={stop:new l}}get name(){return"gradient"}get tag(){return"gradientFill"}render(d,h){switch(d.openNode("gradientFill"),h.gradient){case"angle":d.addAttribute("degree",h.degree);break;case"path":d.addAttribute("type","path"),h.center.left&&(d.addAttribute("left",h.center.left),h.center.right===void 0&&d.addAttribute("right",h.center.left)),h.center.right&&d.addAttribute("right",h.center.right),h.center.top&&(d.addAttribute("top",h.center.top),h.center.bottom===void 0&&d.addAttribute("bottom",h.center.top)),h.center.bottom&&d.addAttribute("bottom",h.center.bottom)}const m=this.map.stop;h.stops.forEach(g=>{m.render(d,g)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"gradientFill":{const h=this.model={stops:[]};return d.attributes.degree?(h.gradient="angle",h.degree=parseInt(d.attributes.degree,10)):d.attributes.type==="path"&&(h.gradient="path",h.center={left:d.attributes.left?parseFloat(d.attributes.left):0,top:d.attributes.top?parseFloat(d.attributes.top):0},d.attributes.right!==d.attributes.left&&(h.center.right=d.attributes.right?parseFloat(d.attributes.right):0),d.attributes.bottom!==d.attributes.top&&(h.center.bottom=d.attributes.bottom?parseFloat(d.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends a{constructor(){super(),this.map={patternFill:new c,gradientFill:new o}}get tag(){return"fill"}render(d,h){switch(d.addRollback(),d.openNode("fill"),h.type){case"pattern":this.map.patternFill.render(d,h);break;case"gradient":this.map.gradientFill.render(d,h);break;default:return void d.rollback()}d.closeNode(),d.commit()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"fill":return this.model={},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(d){return u.validPatternValues[d]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((f,d)=>(f[d]=!0,f),{}),u.StopXform=l,u.PatternFillXform=c,u.GradientFillXform=o,n.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(t,n,i){const a=t("./color-xform"),s=t("../simple/boolean-xform"),l=t("../simple/integer-xform"),c=t("../simple/string-xform"),o=t("./underline-xform"),u=t("../../../utils/under-dash"),f=t("../base-xform");class d extends f{constructor(m){super(),this.options=m||d.OPTIONS,this.map={b:{prop:"bold",xform:new s({tag:"b",attr:"val"})},i:{prop:"italic",xform:new s({tag:"i",attr:"val"})},u:{prop:"underline",xform:new o},charset:{prop:"charset",xform:new l({tag:"charset",attr:"val"})},color:{prop:"color",xform:new a},condense:{prop:"condense",xform:new s({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new s({tag:"extend",attr:"val"})},family:{prop:"family",xform:new l({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new s({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new c({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new c({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new s({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new s({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new l({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new c({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(m,g){const{map:p}=this;m.openNode(this.options.tagName),u.each(this.map,(y,v)=>{p[v].xform.render(m,g[y.prop])}),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;if(this.map[m.name])return this.parser=this.map[m.name].xform,this.parser.parseOpen(m);switch(m.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser&&!this.parser.parseClose(m)){const g=this.map[m];return this.parser.model&&(this.model[g.prop]=this.parser.model),this.parser=void 0,!0}switch(m){case this.options.tagName:return!1;default:return!0}}}d.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=d},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../../defaultnumformats"),l=t("../base-xform"),c=(function(){const u={};return a.each(s,(f,d)=>{f.f&&(u[f.f]=parseInt(d,10))}),u})();class o extends l{constructor(f,d){super(),this.id=f,this.formatCode=d}get tag(){return"numFmt"}render(f,d){f.leafNode("numFmt",{numFmtId:d.id,formatCode:d.formatCode})}parseOpen(f){switch(f.name){case"numFmt":return this.model={id:parseInt(f.attributes.numFmtId,10),formatCode:f.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}o.getDefaultFmtId=function(u){return c[u]},o.getDefaultFmtCode=function(u){return s[u]&&s[u].f},n.exports=o},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,n,i){const a=t("../base-xform"),s={boolean:(l,c)=>l===void 0?c:l};n.exports=class extends a{get tag(){return"protection"}render(l,c){l.addRollback(),l.openNode("protection");let o=!1;function u(f,d){d!==void 0&&(l.addAttribute(f,d),o=!0)}u("locked",s.boolean(c.locked,!0)?void 0:"0"),u("hidden",s.boolean(c.hidden,!1)?"1":void 0),l.closeNode(),o?l.commit():l.rollback()}parseOpen(l){const c={locked:l.attributes.locked!=="0",hidden:l.attributes.hidden==="1"},o=!c.locked||c.hidden;this.model=o?c:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(t,n,i){const a=t("../base-xform"),s=t("./alignment-xform"),l=t("./protection-xform");n.exports=class extends a{constructor(c){super(),this.xfId=!(!c||!c.xfId),this.map={alignment:new s,protection:new l}}get tag(){return"xf"}render(c,o){c.openNode("xf",{numFmtId:o.numFmtId||0,fontId:o.fontId||0,fillId:o.fillId||0,borderId:o.borderId||0}),this.xfId&&c.addAttribute("xfId",o.xfId||0),o.numFmtId&&c.addAttribute("applyNumberFormat","1"),o.fontId&&c.addAttribute("applyFont","1"),o.fillId&&c.addAttribute("applyFill","1"),o.borderId&&c.addAttribute("applyBorder","1"),o.alignment&&c.addAttribute("applyAlignment","1"),o.protection&&c.addAttribute("applyProtection","1"),o.alignment&&this.map.alignment.render(c,o.alignment),o.protection&&this.map.protection.render(c,o.protection),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"xf":return this.model={numFmtId:parseInt(c.attributes.numFmtId,10),fontId:parseInt(c.attributes.fontId,10),fillId:parseInt(c.attributes.fillId,10),borderId:parseInt(c.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(c.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(c),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):c!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,n,i){const a=t("../../../doc/enums"),s=t("../../../utils/xml-stream"),l=t("../base-xform"),c=t("../static-xform"),o=t("../list-xform"),u=t("./font-xform"),f=t("./fill-xform"),d=t("./border-xform"),h=t("./numfmt-xform"),m=t("./style-xform"),g=t("./dxf-xform");class p extends l{constructor(v){super(),this.map={numFmts:new o({tag:"numFmts",count:!0,childXform:new h}),fonts:new o({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new o({tag:"fills",count:!0,childXform:new f}),borders:new o({tag:"borders",count:!0,childXform:new d}),cellStyleXfs:new o({tag:"cellStyleXfs",count:!0,childXform:new m}),cellXfs:new o({tag:"cellXfs",count:!0,childXform:new m({xfId:!0})}),dxfs:new o({tag:"dxfs",always:!0,count:!0,childXform:new g}),numFmt:new h,font:new u,fill:new f,border:new d,style:new m({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},v&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(v,w){w=w||this.model,v.openXml(s.StdDocAttributes),v.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(w.numFmts&&w.numFmts.length&&(v.openNode("numFmts",{count:w.numFmts.length}),w.numFmts.forEach(C=>{v.writeXml(C)}),v.closeNode()),w.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),v.openNode("fonts",{count:w.fonts.length,"x14ac:knownFonts":1}),w.fonts.forEach(C=>{v.writeXml(C)}),v.closeNode(),v.openNode("fills",{count:w.fills.length}),w.fills.forEach(C=>{v.writeXml(C)}),v.closeNode(),v.openNode("borders",{count:w.borders.length}),w.borders.forEach(C=>{v.writeXml(C)}),v.closeNode(),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),v.openNode("cellXfs",{count:w.styles.length}),w.styles.forEach(C=>{v.writeXml(C)}),v.closeNode()):(this.map.numFmts.render(v,w.numFmts),this.map.fonts.render(v,w.fonts),this.map.fills.render(v,w.fills),this.map.borders.render(v,w.borders),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(v,w.styles)),p.STATIC_XFORMS.cellStyles.render(v),this.map.dxfs.render(v,w.dxfs),p.STATIC_XFORMS.tableStyles.render(v),p.STATIC_XFORMS.extLst.render(v),v.closeNode()}parseOpen(v){if(this.parser)return this.parser.parseOpen(v),!0;switch(v.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v),!0}}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser)return this.parser.parseClose(v)||(this.parser=void 0),!0;switch(v){case"styleSheet":{this.model={};const w=(C,P)=>{P.model&&P.model.length&&(this.model[C]=P.model)};if(w("numFmts",this.map.numFmts),w("fonts",this.map.fonts),w("fills",this.map.fills),w("borders",this.map.borders),w("styles",this.map.cellXfs),w("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const C=this.index.numFmt;this.model.numFmts.forEach(P=>{C[P.id]=P.formatCode})}return!1}default:return!0}}addStyleModel(v,w){if(!v)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(v))return this.weakMap.get(v);const C={};if(w=w||a.ValueType.Number,v.numFmt)C.numFmtId=this._addNumFmtStr(v.numFmt);else switch(w){case a.ValueType.Number:C.numFmtId=this._addNumFmtStr("General");break;case a.ValueType.Date:C.numFmtId=this._addNumFmtStr("mm-dd-yy")}v.font&&(C.fontId=this._addFont(v.font)),v.border&&(C.borderId=this._addBorder(v.border)),v.fill&&(C.fillId=this._addFill(v.fill)),v.alignment&&(C.alignment=v.alignment),v.protection&&(C.protection=v.protection);const P=this._addStyle(C);return this.weakMap&&this.weakMap.set(v,P),P}getStyleModel(v){const w=this.model.styles[v];if(!w)return null;let C=this.index.model[v];if(C)return C;if(C=this.index.model[v]={},w.numFmtId){const F=this.index.numFmt[w.numFmtId]||h.getDefaultFmtCode(w.numFmtId);F&&(C.numFmt=F)}function P(F,L,j){if(j||j===0){const I=L[j];I&&(C[F]=I)}}return P("font",this.model.fonts,w.fontId),P("border",this.model.borders,w.borderId),P("fill",this.model.fills,w.fillId),w.alignment&&(C.alignment=w.alignment),w.protection&&(C.protection=w.protection),C}addDxfStyle(v){return v.numFmt&&(v.numFmtId=this._addNumFmtStr(v.numFmt)),this.model.dxfs.push(v),this.model.dxfs.length-1}getDxfStyle(v){return this.model.dxfs[v]}_addStyle(v){const w=this.map.style.toXml(v);let C=this.index.style[w];return C===void 0&&(C=this.index.style[w]=this.model.styles.length,this.model.styles.push(w)),C}_addNumFmtStr(v){let w=h.getDefaultFmtId(v);if(w!==void 0||(w=this.index.numFmt[v],w!==void 0))return w;w=this.index.numFmt[v]=164+this.model.numFmts.length;const C=this.map.numFmt.toXml({id:w,formatCode:v});return this.model.numFmts.push(C),w}_addFont(v){const w=this.map.font.toXml(v);let C=this.index.font[w];return C===void 0&&(C=this.index.font[w]=this.model.fonts.length,this.model.fonts.push(w)),C}_addBorder(v){const w=this.map.border.toXml(v);let C=this.index.border[w];return C===void 0&&(C=this.index.border[w]=this.model.borders.length,this.model.borders.push(w)),C}_addFill(v){const w=this.map.fill.toXml(v);let C=this.index.fill[w];return C===void 0&&(C=this.index.fill[w]=this.model.fills.length,this.model.fills.push(w)),C}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new c({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new c({tag:"dxfs",$:{count:0}}),tableStyles:new c({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new c({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(y){return y.autodrain(),Promise.resolve()}addStyleModel(y,v){switch(v){case a.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const y={numFmtId:h.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(y)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,n,i){const a=t("../base-xform");class s extends a{constructor(c){super(),this.model=c}get tag(){return"u"}render(c,o){if((o=o||this.model)===!0)c.leafNode("u");else{const u=s.Attributes[o];u&&c.leafNode("u",u)}}parseOpen(c){c.name==="u"&&(this.model=c.attributes.val||!0)}parseText(){}parseClose(){return!1}}s.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=s},{"../base-xform":32}],137:[function(t,n,i){const a=t("../base-xform"),s=t("./filter-column-xform");n.exports=class extends a{constructor(){super(),this.map={filterColumn:new s}}get tag(){return"autoFilter"}prepare(l){l.columns.forEach((c,o)=>{this.map.filterColumn.prepare(c,{index:o})})}render(l,c){return l.openNode(this.tag,{ref:c.autoFilterRef}),c.columns.forEach(o=>{this.map.filterColumn.render(l,o)}),l.closeNode(),!0}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:return this.model={autoFilterRef:l.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[l.name],this.parser)return this.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"customFilter"}render(s,l){s.leafNode(this.tag,{val:l.val,operator:l.operator})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val,operator:s.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(t,n,i){const a=t("../base-xform"),s=t("../list-xform"),l=t("./custom-filter-xform"),c=t("./filter-xform");n.exports=class extends a{constructor(){super(),this.map={customFilters:new s({tag:"customFilters",count:!1,empty:!0,childXform:new l}),filters:new s({tag:"filters",count:!1,empty:!0,childXform:new c})}}get tag(){return"filterColumn"}prepare(o,u){o.colId=u.index.toString()}render(o,u){return u.customFilters?(o.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(o,u.customFilters),o.closeNode(),!0):(o.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;const{attributes:u}=o;switch(o.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"filter"}render(s,l){s.leafNode(this.tag,{val:l.val})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"tableColumn"}prepare(s,l){s.id=l.index+1}render(s,l){return s.leafNode(this.tag,{id:l.id.toString(),name:l.name,totalsRowLabel:l.totalsRowLabel,totalsRowFunction:l.totalsRowFunction,dxfId:l.dxfId}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:l}=s;return this.model={name:l.name,totalsRowLabel:l.totalsRowLabel,totalsRowFunction:l.totalsRowFunction,dxfId:l.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"tableStyleInfo"}render(s,l){return s.leafNode(this.tag,{name:l.theme?l.theme:void 0,showFirstColumn:l.showFirstColumn?"1":"0",showLastColumn:l.showLastColumn?"1":"0",showRowStripes:l.showRowStripes?"1":"0",showColumnStripes:l.showColumnStripes?"1":"0"}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:l}=s;return this.model={theme:l.name?l.name:null,showFirstColumn:l.showFirstColumn==="1",showLastColumn:l.showLastColumn==="1",showRowStripes:l.showRowStripes==="1",showColumnStripes:l.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(t,n,i){const a=t("../../../utils/xml-stream"),s=t("../base-xform"),l=t("../list-xform"),c=t("./auto-filter-xform"),o=t("./table-column-xform"),u=t("./table-style-info-xform");class f extends s{constructor(){super(),this.map={autoFilter:new c,tableColumns:new l({tag:"tableColumns",count:!0,empty:!0,childXform:new o}),tableStyleInfo:new u}}prepare(h,m){this.map.autoFilter.prepare(h),this.map.tableColumns.prepare(h.columns,m)}get tag(){return"table"}render(h,m){h.openXml(a.StdDocAttributes),h.openNode(this.tag,{...f.TABLE_ATTRIBUTES,id:m.id,name:m.name,displayName:m.displayName||m.name,ref:m.tableRef,totalsRowCount:m.totalsRow?"1":void 0,totalsRowShown:m.totalsRow?void 0:"1",headerRowCount:m.headerRow?"1":"0"}),this.map.autoFilter.render(h,m),this.map.tableColumns.render(h,m.columns),this.map.tableStyleInfo.render(h,m.style),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;const{name:m,attributes:g}=h;switch(m){case this.tag:this.reset(),this.model={name:g.name,displayName:g.displayName||g.name,tableRef:g.ref,totalsRow:g.totalsRowCount==="1",headerRow:g.headerRowCount==="1"};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((m,g)=>{this.model.columns[g].filterButton=m.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(h,m){h.columns.forEach(g=>{g.dxfId!==void 0&&(g.style=m.styles.getDxfStyle(g.dxfId))})}}f.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=f},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,n,i){(function(a,s){(function(){const l=t("fs"),c=t("jszip"),{PassThrough:o}=t("readable-stream"),u=t("../utils/zip-stream"),f=t("../utils/stream-buf"),d=t("../utils/utils"),h=t("../utils/xml-stream"),{bufferToString:m}=t("../utils/browser-buffer-decode"),g=t("./xform/style/styles-xform"),p=t("./xform/core/core-xform"),y=t("./xform/strings/shared-strings-xform"),v=t("./xform/core/relationships-xform"),w=t("./xform/core/content-types-xform"),C=t("./xform/core/app-xform"),P=t("./xform/book/workbook-xform"),F=t("./xform/sheet/worksheet-xform"),L=t("./xform/drawing/drawing-xform"),j=t("./xform/table/table-xform"),I=t("./xform/comment/comments-xform"),z=t("./xform/comment/vml-notes-xform"),$=t("./xml/theme1");class B{constructor(R){this.workbook=R}async readFile(R,N){if(!await d.fs.exists(R))throw new Error("File not found: "+R);const _=l.createReadStream(R);try{const E=await this.read(_,N);return _.close(),E}catch(E){throw _.close(),E}}parseRels(R){return new v().parseStream(R)}parseWorkbook(R){return new P().parseStream(R)}parseSharedStrings(R){return new y().parseStream(R)}reconcile(R,N){const _=new P,E=new F(N),S=new L,k=new j;_.reconcile(R);const M={media:R.media,mediaIndex:R.mediaIndex};Object.keys(R.drawings).forEach(X=>{const Q=R.drawings[X],re=R.drawingRels[X];re&&(M.rels=re.reduce((G,J)=>(G[J.Id]=J,G),{}),(Q.anchors||[]).forEach(G=>{const J=G.picture&&G.picture.hyperlinks;J&&M.rels[J.rId]&&(J.hyperlink=M.rels[J.rId].Target,delete J.rId)}),S.reconcile(Q,M))});const V={styles:R.styles};Object.values(R.tables).forEach(X=>{k.reconcile(X,V)});const O={styles:R.styles,sharedStrings:R.sharedStrings,media:R.media,mediaIndex:R.mediaIndex,date1904:R.properties&&R.properties.date1904,drawings:R.drawings,comments:R.comments,tables:R.tables,vmlDrawings:R.vmlDrawings};R.worksheets.forEach(X=>{X.relationships=R.worksheetRels[X.sheetNo],E.reconcile(X,O)}),delete R.worksheetHash,delete R.worksheetRels,delete R.globalRels,delete R.sharedStrings,delete R.workbookRels,delete R.sheetDefs,delete R.styles,delete R.mediaIndex,delete R.drawings,delete R.drawingRels,delete R.vmlDrawings}async _processWorksheetEntry(R,N,_,E,S){const k=new F(E),M=await k.parseStream(R);M.sheetNo=_,N.worksheetHash[S]=M,N.worksheets.push(M)}async _processCommentEntry(R,N,_){const E=new I,S=await E.parseStream(R);N.comments[`../${_}.xml`]=S}async _processTableEntry(R,N,_){const E=new j,S=await E.parseStream(R);N.tables[`../tables/${_}.xml`]=S}async _processWorksheetRelsEntry(R,N,_){const E=new v,S=await E.parseStream(R);N.worksheetRels[_]=S}async _processMediaEntry(R,N,_){const E=_.lastIndexOf(".");if(E>=1){const S=_.substr(E+1),k=_.substr(0,E);await new Promise((M,V)=>{const O=new f;O.on("finish",()=>{N.mediaIndex[_]=N.media.length,N.mediaIndex[k]=N.media.length;const X={type:"image",name:k,extension:S,buffer:O.toBuffer()};N.media.push(X),M()}),R.on("error",X=>{V(X)}),R.pipe(O)})}}async _processDrawingEntry(R,N,_){const E=new L,S=await E.parseStream(R);N.drawings[_]=S}async _processDrawingRelsEntry(R,N,_){const E=new v,S=await E.parseStream(R);N.drawingRels[_]=S}async _processVmlDrawingEntry(R,N,_){const E=new z,S=await E.parseStream(R);N.vmlDrawings[`../drawings/${_}.vml`]=S}async _processThemeEntry(R,N,_){await new Promise((E,S)=>{const k=new f;R.on("error",S),k.on("error",S),k.on("finish",()=>{N.themes[_]=k.read().toString(),E()}),R.pipe(k)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(R,N){!R[Symbol.asyncIterator]&&R.pipe&&(R=R.pipe(new o));const _=[];for await(const E of R)_.push(E);return this.load(s.concat(_),N)}async load(R,N){let _;_=N&&N.base64?s.from(R.toString(),"base64"):R;const E={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},S=await c.loadAsync(_);for(const k of Object.values(S.files))if(!k.dir){let M,V=k.name;if(V[0]==="/"&&(V=V.substr(1)),V.match(/xl\/media\//)||V.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))M=new o,M.write(await k.async("nodebuffer"));else{let O;M=new o({writableObjectMode:!0,readableObjectMode:!0}),O=a.browser?m(await k.async("nodebuffer")):await k.async("string");const X=16384;for(let Q=0;Q<O.length;Q+=X)M.write(O.substring(Q,Q+X))}switch(M.end(),V){case"_rels/.rels":E.globalRels=await this.parseRels(M);break;case"xl/workbook.xml":{const O=await this.parseWorkbook(M);E.sheets=O.sheets,E.definedNames=O.definedNames,E.views=O.views,E.properties=O.properties,E.calcProperties=O.calcProperties;break}case"xl/_rels/workbook.xml.rels":E.workbookRels=await this.parseRels(M);break;case"xl/sharedStrings.xml":E.sharedStrings=new y,await E.sharedStrings.parseStream(M);break;case"xl/styles.xml":E.styles=new g,await E.styles.parseStream(M);break;case"docProps/app.xml":{const O=new C,X=await O.parseStream(M);E.company=X.company,E.manager=X.manager;break}case"docProps/core.xml":{const O=new p,X=await O.parseStream(M);Object.assign(E,X);break}default:{let O=V.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(O){await this._processWorksheetEntry(M,E,O[1],N,V);break}if(O=V.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),O){await this._processWorksheetRelsEntry(M,E,O[1]);break}if(O=V.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),O){await this._processThemeEntry(M,E,O[1]);break}if(O=V.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),O){await this._processMediaEntry(M,E,O[1]);break}if(O=V.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),O){await this._processDrawingEntry(M,E,O[1]);break}if(O=V.match(/xl\/(comments\d+)[.]xml/),O){await this._processCommentEntry(M,E,O[1]);break}if(O=V.match(/xl\/tables\/(table\d+)[.]xml/),O){await this._processTableEntry(M,E,O[1]);break}if(O=V.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),O){await this._processDrawingRelsEntry(M,E,O[1]);break}if(O=V.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),O){await this._processVmlDrawingEntry(M,E,O[1]);break}}}}return this.reconcile(E,N),this.workbook.model=E,this.workbook}async addMedia(R,N){await Promise.all(N.media.map(async _=>{if(_.type==="image"){const E=`xl/media/${_.name}.${_.extension}`;if(_.filename){const S=await(function(k,M){return new Promise((V,O)=>{l.readFile(k,M,(X,Q)=>{X?O(X):V(Q)})})})(_.filename);return R.append(S,{name:E})}if(_.buffer)return R.append(_.buffer,{name:E});if(_.base64){const S=_.base64,k=S.substring(S.indexOf(",")+1);return R.append(k,{name:E,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(R,N){const _=new L,E=new v;N.worksheets.forEach(S=>{const{drawing:k}=S;if(k){_.prepare(k,{});let M=_.toXml(k);R.append(M,{name:`xl/drawings/${k.name}.xml`}),M=E.toXml(k.rels),R.append(M,{name:`xl/drawings/_rels/${k.name}.xml.rels`})}})}addTables(R,N){const _=new j;N.worksheets.forEach(E=>{const{tables:S}=E;S.forEach(k=>{_.prepare(k,{});const M=_.toXml(k);R.append(M,{name:"xl/tables/"+k.target})})})}async addContentTypes(R,N){const _=new w().toXml(N);R.append(_,{name:"[Content_Types].xml"})}async addApp(R,N){const _=new C().toXml(N);R.append(_,{name:"docProps/app.xml"})}async addCore(R,N){const _=new p;R.append(_.toXml(N),{name:"docProps/core.xml"})}async addThemes(R,N){const _=N.themes||{theme1:$};Object.keys(_).forEach(E=>{const S=_[E],k=`xl/theme/${E}.xml`;R.append(S,{name:k})})}async addOfficeRels(R){const N=new v().toXml([{Id:"rId1",Type:B.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:B.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:B.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);R.append(N,{name:"_rels/.rels"})}async addWorkbookRels(R,N){let _=1;const E=[{Id:"rId"+_++,Type:B.RelType.Styles,Target:"styles.xml"},{Id:"rId"+_++,Type:B.RelType.Theme,Target:"theme/theme1.xml"}];N.sharedStrings.count&&E.push({Id:"rId"+_++,Type:B.RelType.SharedStrings,Target:"sharedStrings.xml"}),N.worksheets.forEach(k=>{k.rId="rId"+_++,E.push({Id:k.rId,Type:B.RelType.Worksheet,Target:`worksheets/sheet${k.id}.xml`})});const S=new v().toXml(E);R.append(S,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(R,N){N.sharedStrings&&N.sharedStrings.count&&R.append(N.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(R,N){const{xml:_}=N.styles;_&&R.append(_,{name:"xl/styles.xml"})}async addWorkbook(R,N){const _=new P;R.append(_.toXml(N),{name:"xl/workbook.xml"})}async addWorksheets(R,N){const _=new F,E=new v,S=new I,k=new z;N.worksheets.forEach(M=>{let V=new h;_.render(V,M),R.append(V.xml,{name:`xl/worksheets/sheet${M.id}.xml`}),M.rels&&M.rels.length&&(V=new h,E.render(V,M.rels),R.append(V.xml,{name:`xl/worksheets/_rels/sheet${M.id}.xml.rels`})),M.comments.length>0&&(V=new h,S.render(V,M),R.append(V.xml,{name:`xl/comments${M.id}.xml`}),V=new h,k.render(V,M),R.append(V.xml,{name:`xl/drawings/vmlDrawing${M.id}.vml`}))})}_finalize(R){return new Promise((N,_)=>{R.on("finish",()=>{N(this)}),R.on("error",_),R.finalize()})}prepareModel(R,N){R.creator=R.creator||"ExcelJS",R.lastModifiedBy=R.lastModifiedBy||"ExcelJS",R.created=R.created||new Date,R.modified=R.modified||new Date,R.useSharedStrings=N.useSharedStrings===void 0||N.useSharedStrings,R.useStyles=N.useStyles===void 0||N.useStyles,R.sharedStrings=new y,R.styles=R.useStyles?new g(!0):new g.Mock;const _=new P,E=new F;_.prepare(R);const S={sharedStrings:R.sharedStrings,styles:R.styles,date1904:R.properties.date1904,drawingsCount:0,media:R.media};S.drawings=R.drawings=[],S.commentRefs=R.commentRefs=[];let k=0;R.tables=[],R.worksheets.forEach(M=>{M.tables.forEach(V=>{k++,V.target=`table${k}.xml`,V.id=k,R.tables.push(V)}),E.prepare(M,S)})}async write(R,N){N=N||{};const{model:_}=this.workbook,E=new u.ZipWriter(N.zip);return E.pipe(R),this.prepareModel(_,N),await this.addContentTypes(E,_),await this.addOfficeRels(E,_),await this.addWorkbookRels(E,_),await this.addWorksheets(E,_),await this.addSharedStrings(E,_),await this.addDrawings(E,_),await this.addTables(E,_),await Promise.all([this.addThemes(E,_),this.addStyles(E,_)]),await this.addMedia(E,_),await Promise.all([this.addApp(E,_),this.addCore(E,_)]),await this.addWorkbook(E,_),this._finalize(E)}writeFile(R,N){const _=l.createWriteStream(R);return new Promise((E,S)=>{_.on("finish",()=>{E()}),_.on("error",k=>{S(k)}),this.write(_,N).then(()=>{_.end()}).catch(k=>{S(k)})})}async writeBuffer(R){const N=new f;return await this.write(N,R),N.read()}}B.RelType=t("./rel-type"),n.exports=B}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,n,i){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(t,n,i){(function(a){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvFormatterStream=void 0;const s=t("stream"),l=t("./formatter");class c extends s.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new l.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,f,d){let h=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(m,g)=>m?(h=!0,d(m)):(g&&g.forEach(p=>{this.push(a.from(p,"utf8"))}),h=!0,d()))}catch(m){if(h)throw m;d(m)}}_flush(u){this.rowFormatter.finish((f,d)=>f?u(f):(d&&d.forEach(h=>{this.push(a.from(h,"utf8"))}),u()))}}i.CsvFormatterStream=c}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FormatterOptions=void 0,i.FormatterOptions=class{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var s;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,a||{}),(a==null?void 0:a.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(a==null?void 0:a.quote)===!0?this.quote='"':(a==null?void 0:a.quote)===!1&&(this.quote=""),typeof(a==null?void 0:a.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((s=a.writeHeaders)===null||s===void 0||s),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(t,n,i){var a=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=void 0;const s=a(t("lodash.isboolean")),l=a(t("lodash.isnil")),c=a(t("lodash.escaperegexp"));i.FieldFormatter=class{constructor(o){this._headers=null,this.formatterOptions=o,o.headers!==null&&(this.headers=o.headers),this.REPLACE_REGEXP=new RegExp(o.quote,"g");const u=`[${o.delimiter}${c.default(o.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(o){this._headers=o}shouldQuote(o,u){const f=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return s.default(f)?f:Array.isArray(f)?f[o]:this._headers!==null&&f[this._headers[o]]}format(o,u,f){const d=(""+(l.default(o)?"":o)).replace(/\0/g,""),{formatterOptions:h}=this;return h.quote!==""&&d.indexOf(h.quote)!==-1?this.quoteField(d.replace(this.REPLACE_REGEXP,h.escapedQuote)):d.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,f)?this.quoteField(d):d}quoteField(o){const{quote:u}=this.formatterOptions;return`${u}${o}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,n,i){var a=function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowFormatter=void 0;const s=a(t("lodash.isfunction")),l=a(t("lodash.isequal")),c=t("./FieldFormatter"),o=t("../types");class u{constructor(d){this.rowCount=0,this.formatterOptions=d,this.fieldFormatter=new c.FieldFormatter(d),this.headers=d.headers,this.shouldWriteHeaders=d.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),d.transform&&(this.rowTransform=d.transform)}static isRowHashArray(d){return!!Array.isArray(d)&&Array.isArray(d[0])&&d[0].length===2}static isRowArray(d){return Array.isArray(d)&&!this.isRowHashArray(d)}static gatherHeaders(d){return u.isRowHashArray(d)?d.map(h=>h[0]):Array.isArray(d)?d:Object.keys(d)}static createTransform(d){return o.isSyncTransform(d)?(h,m)=>{let g=null;try{g=d(h)}catch(p){return m(p)}return m(null,g)}:(h,m)=>{d(h,m)}}set rowTransform(d){if(!s.default(d))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(d)}format(d,h){this.callTransformer(d,(m,g)=>{if(m)return h(m);if(!d)return h(null);const p=[];if(g){const{shouldFormatColumns:y,headers:v}=this.checkHeaders(g);if(this.shouldWriteHeaders&&v&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(v,!0)),this.hasWrittenHeaders=!0),y){const w=this.gatherColumns(g);p.push(this.formatColumns(w,!1))}}return h(null,p)})}finish(d){const h=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return d(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));h.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&h.push(this.formatterOptions.rowDelimiter),d(null,h)}checkHeaders(d){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const h=u.gatherHeaders(d);return this.headers=h,this.fieldFormatter.headers=h,this.shouldWriteHeaders?{shouldFormatColumns:!l.default(h,d),headers:h}:{shouldFormatColumns:!0,headers:null}}gatherColumns(d){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(d)?u.isRowHashArray(d)?this.headers.map((h,m)=>{const g=d[m];return g?g[1]:""}):u.isRowArray(d)&&!this.shouldWriteHeaders?d:this.headers.map((h,m)=>d[m]):this.headers.map(h=>d[h])}callTransformer(d,h){return this._rowTransform?this._rowTransform(d,h):h(null,d)}formatColumns(d,h){const m=d.map((p,y)=>this.fieldFormatter.format(p,y,h)).join(this.formatterOptions.delimiter),{rowCount:g}=this;return this.rowCount+=1,g?[this.formatterOptions.rowDelimiter,m].join(""):m}}i.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=i.RowFormatter=void 0;var a=t("./RowFormatter");Object.defineProperty(i,"RowFormatter",{enumerable:!0,get:function(){return a.RowFormatter}});var s=t("./FieldFormatter");Object.defineProperty(i,"FieldFormatter",{enumerable:!0,get:function(){return s.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,n,i){(function(a){(function(){var s=Object.create?function(y,v,w,C){C===void 0&&(C=w),Object.defineProperty(y,C,{enumerable:!0,get:function(){return v[w]}})}:function(y,v,w,C){C===void 0&&(C=w),y[C]=v[w]},l=Object.create?function(y,v){Object.defineProperty(y,"default",{enumerable:!0,value:v})}:function(y,v){y.default=v},c=function(y){if(y&&y.__esModule)return y;var v={};if(y!=null)for(var w in y)w!=="default"&&Object.prototype.hasOwnProperty.call(y,w)&&s(v,y,w);return l(v,y),v},o=function(y,v){for(var w in y)w==="default"||Object.prototype.hasOwnProperty.call(v,w)||s(v,y,w)};Object.defineProperty(i,"__esModule",{value:!0}),i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=i.FormatterOptions=i.CsvFormatterStream=void 0;const u=t("util"),f=t("stream"),d=c(t("fs")),h=t("./FormatterOptions"),m=t("./CsvFormatterStream");o(t("./types"),i);var g=t("./CsvFormatterStream");Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return g.CsvFormatterStream}});var p=t("./FormatterOptions");Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),i.format=y=>new m.CsvFormatterStream(new h.FormatterOptions(y)),i.write=(y,v)=>{const w=i.format(v),C=u.promisify((P,F)=>{w.write(P,void 0,F)});return y.reduce((P,F)=>P.then(()=>C(F)),Promise.resolve()).then(()=>w.end()).catch(P=>{w.emit("error",P)}),w},i.writeToStream=(y,v,w)=>i.write(v,w).pipe(y),i.writeToBuffer=function(y){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const w=[],C=new f.Writable({write(P,F,L){w.push(P),L()}});return new Promise((P,F)=>{C.on("error",F).on("finish",()=>P(a.concat(w))),i.write(y,v).pipe(C)})},i.writeToString=(y,v)=>i.writeToBuffer(y,v).then(w=>w.toString()),i.writeToPath=(y,v,w)=>{const C=d.createWriteStream(y,{encoding:"utf8"});return i.write(v,w).pipe(C)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncTransform=void 0,i.isSyncTransform=a=>a.length===1},{}],153:[function(t,n,i){(function(a){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=void 0;const s=t("string_decoder"),l=t("stream"),c=t("./transforms"),o=t("./parser");class u extends l.Transform{constructor(d){super({objectMode:d.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=d,this.parser=new o.Parser(d),this.headerTransformer=new c.HeaderTransformer(d),this.decoder=new s.StringDecoder(d.encoding),this.rowTransformerValidator=new c.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(d){return this.rowTransformerValidator.rowTransform=d,this}validate(d){return this.rowTransformerValidator.rowValidator=d,this}emit(d){if(d==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var h=arguments.length,m=new Array(h>1?h-1:0),g=1;g<h;g++)m[g-1]=arguments[g];return super.emit(d,...m)}_transform(d,h,m){if(this.hasHitRowLimit)return m();const g=u.wrapDoneCallback(m);try{const{lines:p}=this,y=p+this.decoder.write(d),v=this.parse(y,!0);return this.processRows(v,g)}catch(p){return g(p)}}_flush(d){const h=u.wrapDoneCallback(d);if(this.hasHitRowLimit)return h();try{const m=this.lines+this.decoder.end(),g=this.parse(m,!1);return this.processRows(g,h)}catch(m){return h(m)}}parse(d,h){if(!d)return[];const{line:m,rows:g}=this.parser.parse(d,h);return this.lines=m,g}processRows(d,h){const m=d.length,g=p=>{const y=C=>C?h(C):p%100!=0?g(p+1):void a(()=>g(p+1));if(this.checkAndEmitHeaders(),p>=m||this.hasHitRowLimit)return h();if(this.parsedLineCount+=1,this.shouldSkipLine)return y();const v=d[p];this.rowCount+=1,this.parsedRowCount+=1;const w=this.rowCount;return this.transformRow(v,(C,P)=>{if(C)return this.rowCount-=1,y(C);if(!P)return y(new Error("expected transform result"));if(P.isValid){if(P.row)return this.pushRow(P.row,y)}else this.emit("data-invalid",P.row,w,P.reason);return y()})};g(0)}transformRow(d,h){try{this.headerTransformer.transform(d,(m,g)=>m?h(m):g?g.isValid?g.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(g.row,h):this.skipRow(h):(this.rowCount-=1,this.parsedRowCount-=1,h(null,{row:null,isValid:!0})):this.shouldEmitRows?h(null,{isValid:!1,row:d}):this.skipRow(h):h(new Error("Expected result from header transform")))}catch(m){h(m)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(d){return this.rowCount-=1,d(null,{row:null,isValid:!0})}pushRow(d,h){try{this.parserOptions.objectMode?this.push(d):this.push(JSON.stringify(d)),h()}catch(m){h(m)}}static wrapDoneCallback(d){let h=!1;return function(m){if(m){if(h)throw m;return h=!0,void d(m)}for(var g=arguments.length,p=new Array(g>1?g-1:0),y=1;y<g;y++)p[y-1]=arguments[y];d(...p)}}}i.CsvParserStream=u}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,n,i){var a=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParserOptions=void 0;const s=a(t("lodash.escaperegexp")),l=a(t("lodash.isnil"));i.ParserOptions=class{constructor(c){var o;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,c||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=s.default(this.delimiter),this.escapeChar=(o=this.escape)!==null&&o!==void 0?o:this.quote,this.supportsComments=!l.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,n,i){var a=Object.create?function(g,p,y,v){v===void 0&&(v=y),Object.defineProperty(g,v,{enumerable:!0,get:function(){return p[y]}})}:function(g,p,y,v){v===void 0&&(v=y),g[v]=p[y]},s=Object.create?function(g,p){Object.defineProperty(g,"default",{enumerable:!0,value:p})}:function(g,p){g.default=p},l=function(g){if(g&&g.__esModule)return g;var p={};if(g!=null)for(var y in g)y!=="default"&&Object.prototype.hasOwnProperty.call(g,y)&&a(p,g,y);return s(p,g),p},c=function(g,p){for(var y in g)y==="default"||Object.prototype.hasOwnProperty.call(p,y)||a(p,g,y)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseString=i.parseFile=i.parseStream=i.parse=i.ParserOptions=i.CsvParserStream=void 0;const o=l(t("fs")),u=t("stream"),f=t("./ParserOptions"),d=t("./CsvParserStream");c(t("./types"),i);var h=t("./CsvParserStream");Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return h.CsvParserStream}});var m=t("./ParserOptions");Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return m.ParserOptions}}),i.parse=g=>new d.CsvParserStream(new f.ParserOptions(g)),i.parseStream=(g,p)=>g.pipe(new d.CsvParserStream(new f.ParserOptions(p))),i.parseFile=function(g){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o.createReadStream(g).pipe(new d.CsvParserStream(new f.ParserOptions(p)))},i.parseString=(g,p)=>{const y=new u.Readable;return y.push(g),y.push(null),y.pipe(new d.CsvParserStream(new f.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;const a=t("./Scanner"),s=t("./RowParser"),l=t("./Token");class c{constructor(u){this.parserOptions=u,this.rowParser=new s.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,f){const d=new a.Scanner({line:c.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:f});return this.parserOptions.supportsComments?this.parseWithComments(d):this.parseWithoutComments(d)}parseWithoutComments(u){const f=[];let d=!0;for(;d;)d=this.parseRow(u,f);return{line:u.line,rows:f}}parseWithComments(u){const{parserOptions:f}=this,d=[];for(let h=u.nextCharacterToken;h!==null;h=u.nextCharacterToken)if(l.Token.isTokenComment(h,f)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:d};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:d};u.truncateToCursor()}else if(!this.parseRow(u,d))break;return{line:u.line,rows:d}}parseRow(u,f){if(!u.nextNonSpaceToken)return!1;const d=this.rowParser.parse(u);return d!==null&&(this.parserOptions.ignoreEmpty&&s.RowParser.isEmptyRow(d)||f.push(d),!0)}}i.Parser=c},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.RowParser=void 0;const a=t("./column"),s=t("./Token");i.RowParser=class{constructor(l){this.parserOptions=l,this.columnParser=new a.ColumnParser(l)}static isEmptyRow(l){return l.join("").replace(/\s+/g,"")===""}parse(l){const{parserOptions:c}=this,{hasMoreData:o}=l,u=l,f=[];let d=this.getStartToken(u,f);for(;d;){if(s.Token.isTokenRowDelimiter(d))return u.advancePastToken(d),!u.hasMoreCharacters&&s.Token.isTokenCarriageReturn(d,c)&&o?null:(u.truncateToCursor(),f);if(!this.shouldSkipColumnParse(u,d,f)){const h=this.columnParser.parse(u);if(h===null)return null;f.push(h)}d=u.nextNonSpaceToken}return o?null:(u.truncateToCursor(),f)}getStartToken(l,c){const o=l.nextNonSpaceToken;return o!==null&&s.Token.isTokenDelimiter(o,this.parserOptions)?(c.push(""),l.nextNonSpaceToken):o}shouldSkipColumnParse(l,c,o){const{parserOptions:u}=this;if(s.Token.isTokenDelimiter(c,u)){l.advancePastToken(c);const f=l.nextCharacterToken;if(!l.hasMoreCharacters||f!==null&&s.Token.isTokenRowDelimiter(f)||f!==null&&s.Token.isTokenDelimiter(f,u))return o.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Scanner=void 0;const a=t("./Token"),s=/((?:\r\n)|\n|\r)/;i.Scanner=class{constructor(l){this.cursor=0,this.line=l.line,this.lineLength=this.line.length,this.parserOptions=l.parserOptions,this.hasMoreData=l.hasMoreData,this.cursor=l.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:l}=this,c=this.parserOptions.NEXT_TOKEN_REGEXP;if(l.search(c)===-1)return null;const o=c.exec(l);if(o==null)return null;const u=o[1],f=this.cursor+(o.index||0);return new a.Token({token:u,startCursor:f,endCursor:f+u.length-1})}get nextCharacterToken(){const{cursor:l,lineLength:c}=this;return c<=l?null:new a.Token({token:this.line[l],startCursor:l,endCursor:l})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const l=s.exec(this.lineFromCursor);return l?(this.cursor+=(l.index||0)+l[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(l){return this.cursor=l,this}advanceToToken(l){return this.cursor=l.startCursor,this}advancePastToken(l){return this.cursor=l.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Token=void 0,i.Token=class{constructor(a){this.token=a.token,this.startCursor=a.startCursor,this.endCursor=a.endCursor}static isTokenRowDelimiter(a){const s=a.token;return s==="\r"||s===`
`||s===`\r
`}static isTokenCarriageReturn(a,s){return a.token===s.carriageReturn}static isTokenComment(a,s){return s.supportsComments&&!!a&&a.token===s.comment}static isTokenEscapeCharacter(a,s){return a.token===s.escapeChar}static isTokenQuote(a,s){return a.token===s.quote}static isTokenDelimiter(a,s){return a.token===s.delimiter}}},{}],160:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=void 0,i.ColumnFormatter=class{constructor(a){a.trim?this.format=s=>s.trim():a.ltrim?this.format=s=>s.trimLeft():a.rtrim?this.format=s=>s.trimRight():this.format=s=>s}}},{}],161:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnParser=void 0;const a=t("./NonQuotedColumnParser"),s=t("./QuotedColumnParser"),l=t("../Token");i.ColumnParser=class{constructor(c){this.parserOptions=c,this.quotedColumnParser=new s.QuotedColumnParser(c),this.nonQuotedColumnParser=new a.NonQuotedColumnParser(c)}parse(c){const{nextNonSpaceToken:o}=c;return o!==null&&l.Token.isTokenQuote(o,this.parserOptions)?(c.advanceToToken(o),this.quotedColumnParser.parse(c)):this.nonQuotedColumnParser.parse(c)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.NonQuotedColumnParser=void 0;const a=t("./ColumnFormatter"),s=t("../Token");i.NonQuotedColumnParser=class{constructor(l){this.parserOptions=l,this.columnFormatter=new a.ColumnFormatter(l)}parse(l){if(!l.hasMoreCharacters)return null;const{parserOptions:c}=this,o=[];let u=l.nextCharacterToken;for(;u&&!s.Token.isTokenDelimiter(u,c)&&!s.Token.isTokenRowDelimiter(u);u=l.nextCharacterToken)o.push(u.token),l.advancePastToken(u);return this.columnFormatter.format(o.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=void 0;const a=t("./ColumnFormatter"),s=t("../Token");i.QuotedColumnParser=class{constructor(l){this.parserOptions=l,this.columnFormatter=new a.ColumnFormatter(l)}parse(l){if(!l.hasMoreCharacters)return null;const c=l.cursor,{foundClosingQuote:o,col:u}=this.gatherDataBetweenQuotes(l);if(!o){if(l.advanceTo(c),!l.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${l.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(l),u}gatherDataBetweenQuotes(l){const{parserOptions:c}=this;let o=!1,u=!1;const f=[];let d=l.nextCharacterToken;for(;!u&&d!==null;d=l.nextCharacterToken){const h=s.Token.isTokenQuote(d,c);if(!o&&h)o=!0;else if(o)if(s.Token.isTokenEscapeCharacter(d,c)){l.advancePastToken(d);const m=l.nextCharacterToken;m!==null&&(s.Token.isTokenQuote(m,c)||s.Token.isTokenEscapeCharacter(m,c))?(f.push(m.token),d=m):h?u=!0:f.push(d.token)}else h?u=!0:f.push(d.token);l.advancePastToken(d)}return{col:this.columnFormatter.format(f.join("")),foundClosingQuote:u}}checkForMalformedColumn(l){const{parserOptions:c}=this,{nextNonSpaceToken:o}=l;if(o){const u=s.Token.isTokenDelimiter(o,c),f=s.Token.isTokenRowDelimiter(o);if(!u&&!f){const d=l.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${c.escapedDelimiter}' OR new line got: '${o.token}'. at '${d}`)}l.advanceToToken(o)}else l.hasMoreData||l.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=void 0;var a=t("./ColumnParser");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}});var s=t("./NonQuotedColumnParser");Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return s.NonQuotedColumnParser}});var l=t("./QuotedColumnParser");Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return l.QuotedColumnParser}});var c=t("./ColumnFormatter");Object.defineProperty(i,"ColumnFormatter",{enumerable:!0,get:function(){return c.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=i.Token=i.Scanner=i.RowParser=i.Parser=void 0;var a=t("./Parser");Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return a.Parser}});var s=t("./RowParser");Object.defineProperty(i,"RowParser",{enumerable:!0,get:function(){return s.RowParser}});var l=t("./Scanner");Object.defineProperty(i,"Scanner",{enumerable:!0,get:function(){return l.Scanner}});var c=t("./Token");Object.defineProperty(i,"Token",{enumerable:!0,get:function(){return c.Token}});var o=t("./column");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return o.ColumnParser}}),Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}}),Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,n,i){var a=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=void 0;const s=a(t("lodash.isundefined")),l=a(t("lodash.isfunction")),c=a(t("lodash.uniq")),o=a(t("lodash.groupby"));i.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):l.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,f){return this.shouldMapRow(u)?f(null,this.processRow(u)):f(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:f}=this;if(!this.headersTransform&&f.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:f}=this;if(!f.discardUnmappedColumns&&u.length>this.headersLength){if(!f.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return f.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const f={},{headers:d,headersLength:h}=this;for(let m=0;m<h;m+=1){const g=d[m];if(!s.default(g)){const p=u[m];s.default(p)?f[g]="":f[g]=p}}return f}setHeaders(u){var f;const d=u.filter(h=>!!h);if(c.default(d).length!==d.length){const h=o.default(d),m=Object.keys(h).filter(g=>h[g].length>1);throw new Error("Duplicate headers found "+JSON.stringify(m))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((f=this.headers)===null||f===void 0?void 0:f.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,n,i){var a=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowTransformerValidator=void 0;const s=a(t("lodash.isfunction")),l=t("../types");class c{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return l.isSyncTransform(u)?(f,d)=>{let h=null;try{h=u(f)}catch(m){return d(m)}return d(null,h)}:u}static createValidator(u){return l.isSyncValidate(u)?(f,d)=>{d(null,{row:f,isValid:u(f)})}:(f,d)=>{u(f,(h,m,g)=>h?d(h):d(null,m?{row:f,isValid:m,reason:g}:{row:f,isValid:!1,reason:g}))}}set rowTransform(u){if(!s.default(u))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(u)}set rowValidator(u){if(!s.default(u))throw new TypeError("The validate should be a function");this._rowValidator=c.createValidator(u)}transformAndValidate(u,f){return this.callTransformer(u,(d,h)=>d?f(d):h?this.callValidator(h,(m,g)=>m?f(m):g&&!g.isValid?f(null,{row:h,isValid:!1,reason:g.reason}):f(null,{row:h,isValid:!0})):f(null,{row:null,isValid:!0}))}callTransformer(u,f){return this._rowTransform?this._rowTransform(u,f):f(null,u)}callValidator(u,f){return this._rowValidator?this._rowValidator(u,f):f(null,{row:u,isValid:!0})}}i.RowTransformerValidator=c},{"../types":169,"lodash.isfunction":446}],168:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=i.RowTransformerValidator=void 0;var a=t("./RowTransformerValidator");Object.defineProperty(i,"RowTransformerValidator",{enumerable:!0,get:function(){return a.RowTransformerValidator}});var s=t("./HeaderTransformer");Object.defineProperty(i,"HeaderTransformer",{enumerable:!0,get:function(){return s.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncValidate=i.isSyncTransform=void 0,i.isSyncTransform=a=>a.length===1,i.isSyncValidate=a=>a.length===1},{}],170:[function(t,n,i){const a=i;a.bignum=t("bn.js"),a.define=t("./asn1/api").define,a.base=t("./asn1/base"),a.constants=t("./asn1/constants"),a.decoders=t("./asn1/decoders"),a.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,n,i){const a=t("./encoders"),s=t("./decoders"),l=t("inherits");function c(o,u){this.name=o,this.body=u,this.decoders={},this.encoders={}}i.define=function(o,u){return new c(o,u)},c.prototype._createNamed=function(o){const u=this.name;function f(d){this._initNamed(d,u)}return l(f,o),f.prototype._initNamed=function(d,h){o.call(this,d,h)},new f(this)},c.prototype._getDecoder=function(o){return o=o||"der",this.decoders.hasOwnProperty(o)||(this.decoders[o]=this._createNamed(s[o])),this.decoders[o]},c.prototype.decode=function(o,u,f){return this._getDecoder(u).decode(o,f)},c.prototype._getEncoder=function(o){return o=o||"der",this.encoders.hasOwnProperty(o)||(this.encoders[o]=this._createNamed(a[o])),this.encoders[o]},c.prototype.encode=function(o,u,f){return this._getEncoder(u).encode(o,f)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,n,i){const a=t("inherits"),s=t("../base/reporter").Reporter,l=t("safer-buffer").Buffer;function c(u,f){s.call(this,f),l.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function o(u,f){if(Array.isArray(u))this.length=0,this.value=u.map((function(d){return o.isEncoderBuffer(d)||(d=new o(d,f)),this.length+=d.length,d}),this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return f.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=l.byteLength(u);else{if(!l.isBuffer(u))return f.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}a(c,s),i.DecoderBuffer=c,c.isDecoderBuffer=function(u){return u instanceof c?!0:typeof u=="object"&&l.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},c.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},c.prototype.restore=function(u){const f=new c(this.base);return f.offset=u.offset,f.length=this.offset,this.offset=u.offset,s.prototype.restore.call(this,u.reporter),f},c.prototype.isEmpty=function(){return this.offset===this.length},c.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},c.prototype.skip=function(u,f){if(!(this.offset+u<=this.length))return this.error(f||"DecoderBuffer overrun");const d=new c(this.base);return d._reporterState=this._reporterState,d.offset=this.offset,d.length=this.offset+u,this.offset+=u,d},c.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},i.EncoderBuffer=o,o.isEncoderBuffer=function(u){return u instanceof o?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},o.prototype.join=function(u,f){return u||(u=l.alloc(this.length)),f||(f=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(d){d.join(u,f),f+=d.length})):(typeof this.value=="number"?u[f]=this.value:typeof this.value=="string"?u.write(this.value,f):l.isBuffer(this.value)&&this.value.copy(u,f),f+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,n,i){const a=i;a.Reporter=t("./reporter").Reporter,a.DecoderBuffer=t("./buffer").DecoderBuffer,a.EncoderBuffer=t("./buffer").EncoderBuffer,a.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,n,i){const a=t("../base/reporter").Reporter,s=t("../base/buffer").EncoderBuffer,l=t("../base/buffer").DecoderBuffer,c=t("minimalistic-assert"),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o);function f(h,m,g){const p={};this._baseState=p,p.name=g,p.enc=h,p.parent=m||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}n.exports=f;const d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){const h=this._baseState,m={};d.forEach((function(p){m[p]=h[p]}));const g=new this.constructor(m.parent);return g._baseState=m,g},f.prototype._wrap=function(){const h=this._baseState;u.forEach((function(m){this[m]=function(){const g=new this.constructor(this);return h.children.push(g),g[m].apply(g,arguments)}}),this)},f.prototype._init=function(h){const m=this._baseState;c(m.parent===null),h.call(this),m.children=m.children.filter((function(g){return g._baseState.parent===this}),this),c.equal(m.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(h){const m=this._baseState,g=h.filter((function(p){return p instanceof this.constructor}),this);h=h.filter((function(p){return!(p instanceof this.constructor)}),this),g.length!==0&&(c(m.children===null),m.children=g,g.forEach((function(p){p._baseState.parent=this}),this)),h.length!==0&&(c(m.args===null),m.args=h,m.reverseArgs=h.map((function(p){if(typeof p!="object"||p.constructor!==Object)return p;const y={};return Object.keys(p).forEach((function(v){v==(0|v)&&(v|=0);const w=p[v];y[w]=v})),y})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(h){f.prototype[h]=function(){const m=this._baseState;throw new Error(h+" not implemented for encoding: "+m.enc)}})),o.forEach((function(h){f.prototype[h]=function(){const m=this._baseState,g=Array.prototype.slice.call(arguments);return c(m.tag===null),m.tag=h,this._useArgs(g),this}})),f.prototype.use=function(h){c(h);const m=this._baseState;return c(m.use===null),m.use=h,this},f.prototype.optional=function(){return this._baseState.optional=!0,this},f.prototype.def=function(h){const m=this._baseState;return c(m.default===null),m.default=h,m.optional=!0,this},f.prototype.explicit=function(h){const m=this._baseState;return c(m.explicit===null&&m.implicit===null),m.explicit=h,this},f.prototype.implicit=function(h){const m=this._baseState;return c(m.explicit===null&&m.implicit===null),m.implicit=h,this},f.prototype.obj=function(){const h=this._baseState,m=Array.prototype.slice.call(arguments);return h.obj=!0,m.length!==0&&this._useArgs(m),this},f.prototype.key=function(h){const m=this._baseState;return c(m.key===null),m.key=h,this},f.prototype.any=function(){return this._baseState.any=!0,this},f.prototype.choice=function(h){const m=this._baseState;return c(m.choice===null),m.choice=h,this._useArgs(Object.keys(h).map((function(g){return h[g]}))),this},f.prototype.contains=function(h){const m=this._baseState;return c(m.use===null),m.contains=h,this},f.prototype._decode=function(h,m){const g=this._baseState;if(g.parent===null)return h.wrapResult(g.children[0]._decode(h,m));let p,y=g.default,v=!0,w=null;if(g.key!==null&&(w=h.enterKey(g.key)),g.optional){let C=null;if(g.explicit!==null?C=g.explicit:g.implicit!==null?C=g.implicit:g.tag!==null&&(C=g.tag),C!==null||g.any){if(v=this._peekTag(h,C,g.any),h.isError(v))return v}else{const P=h.save();try{g.choice===null?this._decodeGeneric(g.tag,h,m):this._decodeChoice(h,m),v=!0}catch{v=!1}h.restore(P)}}if(g.obj&&v&&(p=h.enterObject()),v){if(g.explicit!==null){const P=this._decodeTag(h,g.explicit);if(h.isError(P))return P;h=P}const C=h.offset;if(g.use===null&&g.choice===null){let P;g.any&&(P=h.save());const F=this._decodeTag(h,g.implicit!==null?g.implicit:g.tag,g.any);if(h.isError(F))return F;g.any?y=h.raw(P):h=F}if(m&&m.track&&g.tag!==null&&m.track(h.path(),C,h.length,"tagged"),m&&m.track&&g.tag!==null&&m.track(h.path(),h.offset,h.length,"content"),g.any||(y=g.choice===null?this._decodeGeneric(g.tag,h,m):this._decodeChoice(h,m)),h.isError(y))return y;if(g.any||g.choice!==null||g.children===null||g.children.forEach((function(P){P._decode(h,m)})),g.contains&&(g.tag==="octstr"||g.tag==="bitstr")){const P=new l(y);y=this._getUse(g.contains,h._reporterState.obj)._decode(P,m)}}return g.obj&&v&&(y=h.leaveObject(p)),g.key===null||y===null&&v!==!0?w!==null&&h.exitKey(w):h.leaveKey(w,g.key,y),y},f.prototype._decodeGeneric=function(h,m,g){const p=this._baseState;return h==="seq"||h==="set"?null:h==="seqof"||h==="setof"?this._decodeList(m,h,p.args[0],g):/str$/.test(h)?this._decodeStr(m,h,g):h==="objid"&&p.args?this._decodeObjid(m,p.args[0],p.args[1],g):h==="objid"?this._decodeObjid(m,null,null,g):h==="gentime"||h==="utctime"?this._decodeTime(m,h,g):h==="null_"?this._decodeNull(m,g):h==="bool"?this._decodeBool(m,g):h==="objDesc"?this._decodeStr(m,h,g):h==="int"||h==="enum"?this._decodeInt(m,p.args&&p.args[0],g):p.use!==null?this._getUse(p.use,m._reporterState.obj)._decode(m,g):m.error("unknown tag: "+h)},f.prototype._getUse=function(h,m){const g=this._baseState;return g.useDecoder=this._use(h,m),c(g.useDecoder._baseState.parent===null),g.useDecoder=g.useDecoder._baseState.children[0],g.implicit!==g.useDecoder._baseState.implicit&&(g.useDecoder=g.useDecoder.clone(),g.useDecoder._baseState.implicit=g.implicit),g.useDecoder},f.prototype._decodeChoice=function(h,m){const g=this._baseState;let p=null,y=!1;return Object.keys(g.choice).some((function(v){const w=h.save(),C=g.choice[v];try{const P=C._decode(h,m);if(h.isError(P))return!1;p={type:v,value:P},y=!0}catch{return h.restore(w),!1}return!0}),this),y?p:h.error("Choice not matched")},f.prototype._createEncoderBuffer=function(h){return new s(h,this.reporter)},f.prototype._encode=function(h,m,g){const p=this._baseState;if(p.default!==null&&p.default===h)return;const y=this._encodeValue(h,m,g);return y===void 0||this._skipDefault(y,m,g)?void 0:y},f.prototype._encodeValue=function(h,m,g){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(h,m||new a);let y=null;if(this.reporter=m,p.optional&&h===void 0){if(p.default===null)return;h=p.default}let v=null,w=!1;if(p.any)y=this._createEncoderBuffer(h);else if(p.choice)y=this._encodeChoice(h,m);else if(p.contains)v=this._getUse(p.contains,g)._encode(h,m),w=!0;else if(p.children)v=p.children.map((function(C){if(C._baseState.tag==="null_")return C._encode(null,m,h);if(C._baseState.key===null)return m.error("Child should have a key");const P=m.enterKey(C._baseState.key);if(typeof h!="object")return m.error("Child expected, but input is not object");const F=C._encode(h[C._baseState.key],m,h);return m.leaveKey(P),F}),this).filter((function(C){return C})),v=this._createEncoderBuffer(v);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return m.error("Too many args for : "+p.tag);if(!Array.isArray(h))return m.error("seqof/setof, but data is not Array");const C=this.clone();C._baseState.implicit=null,v=this._createEncoderBuffer(h.map((function(P){const F=this._baseState;return this._getUse(F.args[0],h)._encode(P,m)}),C))}else p.use!==null?y=this._getUse(p.use,g)._encode(h,m):(v=this._encodePrimitive(p.tag,h),w=!0);if(!p.any&&p.choice===null){const C=p.implicit!==null?p.implicit:p.tag,P=p.implicit===null?"universal":"context";C===null?p.use===null&&m.error("Tag could be omitted only for .use()"):p.use===null&&(y=this._encodeComposite(C,w,P,v))}return p.explicit!==null&&(y=this._encodeComposite(p.explicit,!1,"context",y)),y},f.prototype._encodeChoice=function(h,m){const g=this._baseState,p=g.choice[h.type];return p||c(!1,h.type+" not found in "+JSON.stringify(Object.keys(g.choice))),p._encode(h.value,m)},f.prototype._encodePrimitive=function(h,m){const g=this._baseState;if(/str$/.test(h))return this._encodeStr(m,h);if(h==="objid"&&g.args)return this._encodeObjid(m,g.reverseArgs[0],g.args[1]);if(h==="objid")return this._encodeObjid(m,null,null);if(h==="gentime"||h==="utctime")return this._encodeTime(m,h);if(h==="null_")return this._encodeNull();if(h==="int"||h==="enum")return this._encodeInt(m,g.args&&g.reverseArgs[0]);if(h==="bool")return this._encodeBool(m);if(h==="objDesc")return this._encodeStr(m,h);throw new Error("Unsupported tag: "+h)},f.prototype._isNumstr=function(h){return/^[0-9 ]*$/.test(h)},f.prototype._isPrintstr=function(h){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(h)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,n,i){const a=t("inherits");function s(c){this._reporterState={obj:null,path:[],options:c||{},errors:[]}}function l(c,o){this.path=c,this.rethrow(o)}i.Reporter=s,s.prototype.isError=function(c){return c instanceof l},s.prototype.save=function(){const c=this._reporterState;return{obj:c.obj,pathLen:c.path.length}},s.prototype.restore=function(c){const o=this._reporterState;o.obj=c.obj,o.path=o.path.slice(0,c.pathLen)},s.prototype.enterKey=function(c){return this._reporterState.path.push(c)},s.prototype.exitKey=function(c){const o=this._reporterState;o.path=o.path.slice(0,c-1)},s.prototype.leaveKey=function(c,o,u){const f=this._reporterState;this.exitKey(c),f.obj!==null&&(f.obj[o]=u)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){const c=this._reporterState,o=c.obj;return c.obj={},o},s.prototype.leaveObject=function(c){const o=this._reporterState,u=o.obj;return o.obj=c,u},s.prototype.error=function(c){let o;const u=this._reporterState,f=c instanceof l;if(o=f?c:new l(u.path.map((function(d){return"["+JSON.stringify(d)+"]"})).join(""),c.message||c,c.stack),!u.options.partial)throw o;return f||u.errors.push(o),o},s.prototype.wrapResult=function(c){const o=this._reporterState;return o.options.partial?{result:this.isError(c)?null:c,errors:o.errors}:c},a(l,Error),l.prototype.rethrow=function(c){if(this.message=c+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,l),!this.stack)try{throw new Error(this.message)}catch(o){this.stack=o.stack}return this}},{inherits:440}],176:[function(t,n,i){function a(s){const l={};return Object.keys(s).forEach((function(c){(0|c)==c&&(c|=0);const o=s[c];l[o]=c})),l}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=a(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=a(i.tag)},{}],177:[function(t,n,i){const a=i;a._reverse=function(s){const l={};return Object.keys(s).forEach((function(c){(0|c)==c&&(c|=0);const o=s[c];l[o]=c})),l},a.der=t("./der")},{"./der":176}],178:[function(t,n,i){const a=t("inherits"),s=t("bn.js"),l=t("../base/buffer").DecoderBuffer,c=t("../base/node"),o=t("../constants/der");function u(m){this.enc="der",this.name=m.name,this.entity=m,this.tree=new f,this.tree._init(m.body)}function f(m){c.call(this,"der",m)}function d(m,g){let p=m.readUInt8(g);if(m.isError(p))return p;const y=o.tagClass[p>>6],v=(32&p)==0;if((31&p)==31){let w=p;for(p=0;(128&w)==128;){if(w=m.readUInt8(g),m.isError(w))return w;p<<=7,p|=127&w}}else p&=31;return{cls:y,primitive:v,tag:p,tagStr:o.tag[p]}}function h(m,g,p){let y=m.readUInt8(p);if(m.isError(y))return y;if(!g&&y===128)return null;if((128&y)==0)return y;const v=127&y;if(v>4)return m.error("length octect is too long");y=0;for(let w=0;w<v;w++){y<<=8;const C=m.readUInt8(p);if(m.isError(C))return C;y|=C}return y}n.exports=u,u.prototype.decode=function(m,g){return l.isDecoderBuffer(m)||(m=new l(m,g)),this.tree._decode(m,g)},a(f,c),f.prototype._peekTag=function(m,g,p){if(m.isEmpty())return!1;const y=m.save(),v=d(m,'Failed to peek tag: "'+g+'"');return m.isError(v)?v:(m.restore(y),v.tag===g||v.tagStr===g||v.tagStr+"of"===g||p)},f.prototype._decodeTag=function(m,g,p){const y=d(m,'Failed to decode tag of "'+g+'"');if(m.isError(y))return y;let v=h(m,y.primitive,'Failed to get length of "'+g+'"');if(m.isError(v))return v;if(!p&&y.tag!==g&&y.tagStr!==g&&y.tagStr+"of"!==g)return m.error('Failed to match tag: "'+g+'"');if(y.primitive||v!==null)return m.skip(v,'Failed to match body of: "'+g+'"');const w=m.save(),C=this._skipUntilEnd(m,'Failed to skip indefinite length body: "'+this.tag+'"');return m.isError(C)?C:(v=m.offset-w.offset,m.restore(w),m.skip(v,'Failed to match body of: "'+g+'"'))},f.prototype._skipUntilEnd=function(m,g){for(;;){const p=d(m,g);if(m.isError(p))return p;const y=h(m,p.primitive,g);if(m.isError(y))return y;let v;if(v=p.primitive||y!==null?m.skip(y):this._skipUntilEnd(m,g),m.isError(v))return v;if(p.tagStr==="end")break}},f.prototype._decodeList=function(m,g,p,y){const v=[];for(;!m.isEmpty();){const w=this._peekTag(m,"end");if(m.isError(w))return w;const C=p.decode(m,"der",y);if(m.isError(C)&&w)break;v.push(C)}return v},f.prototype._decodeStr=function(m,g){if(g==="bitstr"){const p=m.readUInt8();return m.isError(p)?p:{unused:p,data:m.raw()}}if(g==="bmpstr"){const p=m.raw();if(p.length%2==1)return m.error("Decoding of string type: bmpstr length mismatch");let y="";for(let v=0;v<p.length/2;v++)y+=String.fromCharCode(p.readUInt16BE(2*v));return y}if(g==="numstr"){const p=m.raw().toString("ascii");return this._isNumstr(p)?p:m.error("Decoding of string type: numstr unsupported characters")}if(g==="octstr"||g==="objDesc")return m.raw();if(g==="printstr"){const p=m.raw().toString("ascii");return this._isPrintstr(p)?p:m.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(g)?m.raw().toString():m.error("Decoding of string type: "+g+" unsupported")},f.prototype._decodeObjid=function(m,g,p){let y;const v=[];let w=0,C=0;for(;!m.isEmpty();)C=m.readUInt8(),w<<=7,w|=127&C,(128&C)==0&&(v.push(w),w=0);128&C&&v.push(w);const P=v[0]/40|0,F=v[0]%40;if(y=p?v:[P,F].concat(v.slice(1)),g){let L=g[y.join(" ")];L===void 0&&(L=g[y.join(".")]),L!==void 0&&(y=L)}return y},f.prototype._decodeTime=function(m,g){const p=m.raw().toString();let y,v,w,C,P,F;if(g==="gentime")y=0|p.slice(0,4),v=0|p.slice(4,6),w=0|p.slice(6,8),C=0|p.slice(8,10),P=0|p.slice(10,12),F=0|p.slice(12,14);else{if(g!=="utctime")return m.error("Decoding "+g+" time is not supported yet");y=0|p.slice(0,2),v=0|p.slice(2,4),w=0|p.slice(4,6),C=0|p.slice(6,8),P=0|p.slice(8,10),F=0|p.slice(10,12),y=y<70?2e3+y:1900+y}return Date.UTC(y,v-1,w,C,P,F,0)},f.prototype._decodeNull=function(){return null},f.prototype._decodeBool=function(m){const g=m.readUInt8();return m.isError(g)?g:g!==0},f.prototype._decodeInt=function(m,g){const p=m.raw();let y=new s(p);return g&&(y=g[y.toString(10)]||y),y},f.prototype._use=function(m,g){return typeof m=="function"&&(m=m(g)),m._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,n,i){const a=i;a.der=t("./der"),a.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,n,i){const a=t("inherits"),s=t("safer-buffer").Buffer,l=t("./der");function c(o){l.call(this,o),this.enc="pem"}a(c,l),n.exports=c,c.prototype.decode=function(o,u){const f=o.toString().split(/[\r\n]+/g),d=u.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/;let m=-1,g=-1;for(let v=0;v<f.length;v++){const w=f[v].match(h);if(w!==null&&w[2]===d){if(m!==-1){if(w[1]!=="END")break;g=v;break}if(w[1]!=="BEGIN")break;m=v}}if(m===-1||g===-1)throw new Error("PEM section not found for: "+d);const p=f.slice(m+1,g).join("");p.replace(/[^a-z0-9+/=]+/gi,"");const y=s.from(p,"base64");return l.prototype.decode.call(this,y,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,n,i){const a=t("inherits"),s=t("safer-buffer").Buffer,l=t("../base/node"),c=t("../constants/der");function o(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new u,this.tree._init(d.body)}function u(d){l.call(this,"der",d)}function f(d){return d<10?"0"+d:d}n.exports=o,o.prototype.encode=function(d,h){return this.tree._encode(d,h).join()},a(u,l),u.prototype._encodeComposite=function(d,h,m,g){const p=(function(w,C,P,F){let L;if(w==="seqof"?w="seq":w==="setof"&&(w="set"),c.tagByName.hasOwnProperty(w))L=c.tagByName[w];else{if(typeof w!="number"||(0|w)!==w)return F.error("Unknown tag: "+w);L=w}return L>=31?F.error("Multi-octet tag encoding unsupported"):(C||(L|=32),L|=c.tagClassByName[P||"universal"]<<6,L)})(d,h,m,this.reporter);if(g.length<128){const w=s.alloc(2);return w[0]=p,w[1]=g.length,this._createEncoderBuffer([w,g])}let y=1;for(let w=g.length;w>=256;w>>=8)y++;const v=s.alloc(2+y);v[0]=p,v[1]=128|y;for(let w=1+y,C=g.length;C>0;w--,C>>=8)v[w]=255&C;return this._createEncoderBuffer([v,g])},u.prototype._encodeStr=function(d,h){if(h==="bitstr")return this._createEncoderBuffer([0|d.unused,d.data]);if(h==="bmpstr"){const m=s.alloc(2*d.length);for(let g=0;g<d.length;g++)m.writeUInt16BE(d.charCodeAt(g),2*g);return this._createEncoderBuffer(m)}return h==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):h==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(h)||h==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+h+" unsupported")},u.prototype._encodeObjid=function(d,h,m){if(typeof d=="string"){if(!h)return this.reporter.error("string objid given, but no values map found");if(!h.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=h[d].split(/[\s.]+/g);for(let v=0;v<d.length;v++)d[v]|=0}else if(Array.isArray(d)){d=d.slice();for(let v=0;v<d.length;v++)d[v]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!m){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,40*d[0]+d[1])}let g=0;for(let v=0;v<d.length;v++){let w=d[v];for(g++;w>=128;w>>=7)g++}const p=s.alloc(g);let y=p.length-1;for(let v=d.length-1;v>=0;v--){let w=d[v];for(p[y--]=127&w;(w>>=7)>0;)p[y--]=128|127&w}return this._createEncoderBuffer(p)},u.prototype._encodeTime=function(d,h){let m;const g=new Date(d);return h==="gentime"?m=[f(g.getUTCFullYear()),f(g.getUTCMonth()+1),f(g.getUTCDate()),f(g.getUTCHours()),f(g.getUTCMinutes()),f(g.getUTCSeconds()),"Z"].join(""):h==="utctime"?m=[f(g.getUTCFullYear()%100),f(g.getUTCMonth()+1),f(g.getUTCDate()),f(g.getUTCHours()),f(g.getUTCMinutes()),f(g.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+h+" time is not supported yet"),this._encodeStr(m,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(d,h){if(typeof d=="string"){if(!h)return this.reporter.error("String int or enum given, but no values map");if(!h.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=h[d]}if(typeof d!="number"&&!s.isBuffer(d)){const p=d.toArray();!d.sign&&128&p[0]&&p.unshift(0),d=s.from(p)}if(s.isBuffer(d)){let p=d.length;d.length===0&&p++;const y=s.alloc(p);return d.copy(y),d.length===0&&(y[0]=0),this._createEncoderBuffer(y)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);let m=1;for(let p=d;p>=256;p>>=8)m++;const g=new Array(m);for(let p=g.length-1;p>=0;p--)g[p]=255&d,d>>=8;return 128&g[0]&&g.unshift(0),this._createEncoderBuffer(s.from(g))},u.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},u.prototype._use=function(d,h){return typeof d=="function"&&(d=d(h)),d._getEncoder("der").tree},u.prototype._skipDefault=function(d,h,m){const g=this._baseState;let p;if(g.default===null)return!1;const y=d.join();if(g.defaultBuffer===void 0&&(g.defaultBuffer=this._encodeValue(g.default,h,m).join()),y.length!==g.defaultBuffer.length)return!1;for(p=0;p<y.length;p++)if(y[p]!==g.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,n,i){const a=i;a.der=t("./der"),a.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,n,i){const a=t("inherits"),s=t("./der");function l(c){s.call(this,c),this.enc="pem"}a(l,s),n.exports=l,l.prototype.encode=function(c,o){const u=s.prototype.encode.call(this,c).toString("base64"),f=["-----BEGIN "+o.label+"-----"];for(let d=0;d<u.length;d+=64)f.push(u.slice(d,d+64));return f.push("-----END "+o.label+"-----"),f.join(`
`)}},{"./der":181,inherits:440}],184:[function(t,n,i){(function(a,s){function l(T,R){if(!T)throw new Error(R||"Assertion failed")}function c(T,R){T.super_=R;var N=function(){};N.prototype=R.prototype,T.prototype=new N,T.prototype.constructor=T}function o(T,R,N){if(o.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&(R!=="le"&&R!=="be"||(N=R,R=10),this._init(T||0,R||10,N||"be"))}var u;typeof a=="object"?a.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function f(T,R){var N=T.charCodeAt(R);return N>=65&&N<=70?N-55:N>=97&&N<=102?N-87:N-48&15}function d(T,R,N){var _=f(T,N);return N-1>=R&&(_|=f(T,N-1)<<4),_}function h(T,R,N,_){for(var E=0,S=Math.min(T.length,N),k=R;k<S;k++){var M=T.charCodeAt(k)-48;E*=_,E+=M>=49?M-49+10:M>=17?M-17+10:M}return E}o.isBN=function(T){return T instanceof o||T!==null&&typeof T=="object"&&T.constructor.wordSize===o.wordSize&&Array.isArray(T.words)},o.max=function(T,R){return T.cmp(R)>0?T:R},o.min=function(T,R){return T.cmp(R)<0?T:R},o.prototype._init=function(T,R,N){if(typeof T=="number")return this._initNumber(T,R,N);if(typeof T=="object")return this._initArray(T,R,N);R==="hex"&&(R=16),l(R===(0|R)&&R>=2&&R<=36);var _=0;(T=T.toString().replace(/\s+/g,""))[0]==="-"&&(_++,this.negative=1),_<T.length&&(R===16?this._parseHex(T,_,N):(this._parseBase(T,R,_),N==="le"&&this._initArray(this.toArray(),R,N)))},o.prototype._initNumber=function(T,R,N){T<0&&(this.negative=1,T=-T),T<67108864?(this.words=[67108863&T],this.length=1):T<4503599627370496?(this.words=[67108863&T,T/67108864&67108863],this.length=2):(l(T<9007199254740992),this.words=[67108863&T,T/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),R,N)},o.prototype._initArray=function(T,R,N){if(l(typeof T.length=="number"),T.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(T.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var E,S,k=0;if(N==="be")for(_=T.length-1,E=0;_>=0;_-=3)S=T[_]|T[_-1]<<8|T[_-2]<<16,this.words[E]|=S<<k&67108863,this.words[E+1]=S>>>26-k&67108863,(k+=24)>=26&&(k-=26,E++);else if(N==="le")for(_=0,E=0;_<T.length;_+=3)S=T[_]|T[_+1]<<8|T[_+2]<<16,this.words[E]|=S<<k&67108863,this.words[E+1]=S>>>26-k&67108863,(k+=24)>=26&&(k-=26,E++);return this.strip()},o.prototype._parseHex=function(T,R,N){this.length=Math.ceil((T.length-R)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var E,S=0,k=0;if(N==="be")for(_=T.length-1;_>=R;_-=2)E=d(T,R,_)<<S,this.words[k]|=67108863&E,S>=18?(S-=18,k+=1,this.words[k]|=E>>>26):S+=8;else for(_=(T.length-R)%2==0?R+1:R;_<T.length;_+=2)E=d(T,R,_)<<S,this.words[k]|=67108863&E,S>=18?(S-=18,k+=1,this.words[k]|=E>>>26):S+=8;this.strip()},o.prototype._parseBase=function(T,R,N){this.words=[0],this.length=1;for(var _=0,E=1;E<=67108863;E*=R)_++;_--,E=E/R|0;for(var S=T.length-N,k=S%_,M=Math.min(S,S-k)+N,V=0,O=N;O<M;O+=_)V=h(T,O,O+_,R),this.imuln(E),this.words[0]+V<67108864?this.words[0]+=V:this._iaddn(V);if(k!==0){var X=1;for(V=h(T,O,T.length,R),O=0;O<k;O++)X*=R;this.imuln(X),this.words[0]+V<67108864?this.words[0]+=V:this._iaddn(V)}this.strip()},o.prototype.copy=function(T){T.words=new Array(this.length);for(var R=0;R<this.length;R++)T.words[R]=this.words[R];T.length=this.length,T.negative=this.negative,T.red=this.red},o.prototype.clone=function(){var T=new o(null);return this.copy(T),T},o.prototype._expand=function(T){for(;this.length<T;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(T,R,N){N.negative=R.negative^T.negative;var _=T.length+R.length|0;N.length=_,_=_-1|0;var E=0|T.words[0],S=0|R.words[0],k=E*S,M=67108863&k,V=k/67108864|0;N.words[0]=M;for(var O=1;O<_;O++){for(var X=V>>>26,Q=67108863&V,re=Math.min(O,R.length-1),G=Math.max(0,O-T.length+1);G<=re;G++){var J=O-G|0;X+=(k=(E=0|T.words[J])*(S=0|R.words[G])+Q)/67108864|0,Q=67108863&k}N.words[O]=0|Q,V=0|X}return V!==0?N.words[O]=0|V:N.length--,N.strip()}o.prototype.toString=function(T,R){var N;if(R=0|R||1,(T=T||10)===16||T==="hex"){N="";for(var _=0,E=0,S=0;S<this.length;S++){var k=this.words[S],M=(16777215&(k<<_|E)).toString(16);N=(E=k>>>24-_&16777215)!==0||S!==this.length-1?m[6-M.length]+M+N:M+N,(_+=2)>=26&&(_-=26,S--)}for(E!==0&&(N=E.toString(16)+N);N.length%R!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(T===(0|T)&&T>=2&&T<=36){var V=g[T],O=p[T];N="";var X=this.clone();for(X.negative=0;!X.isZero();){var Q=X.modn(O).toString(T);N=(X=X.idivn(O)).isZero()?Q+N:m[V-Q.length]+Q+N}for(this.isZero()&&(N="0"+N);N.length%R!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}l(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var T=this.words[0];return this.length===2?T+=67108864*this.words[1]:this.length===3&&this.words[2]===1?T+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-T:T},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(T,R){return l(u!==void 0),this.toArrayLike(u,T,R)},o.prototype.toArray=function(T,R){return this.toArrayLike(Array,T,R)},o.prototype.toArrayLike=function(T,R,N){var _=this.byteLength(),E=N||Math.max(1,_);l(_<=E,"byte array longer than desired length"),l(E>0,"Requested array length <= 0"),this.strip();var S,k,M=R==="le",V=new T(E),O=this.clone();if(M){for(k=0;!O.isZero();k++)S=O.andln(255),O.iushrn(8),V[k]=S;for(;k<E;k++)V[k]=0}else{for(k=0;k<E-_;k++)V[k]=0;for(k=0;!O.isZero();k++)S=O.andln(255),O.iushrn(8),V[E-k-1]=S}return V},Math.clz32?o.prototype._countBits=function(T){return 32-Math.clz32(T)}:o.prototype._countBits=function(T){var R=T,N=0;return R>=4096&&(N+=13,R>>>=13),R>=64&&(N+=7,R>>>=7),R>=8&&(N+=4,R>>>=4),R>=2&&(N+=2,R>>>=2),N+R},o.prototype._zeroBits=function(T){if(T===0)return 26;var R=T,N=0;return(8191&R)==0&&(N+=13,R>>>=13),(127&R)==0&&(N+=7,R>>>=7),(15&R)==0&&(N+=4,R>>>=4),(3&R)==0&&(N+=2,R>>>=2),(1&R)==0&&N++,N},o.prototype.bitLength=function(){var T=this.words[this.length-1],R=this._countBits(T);return 26*(this.length-1)+R},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var T=0,R=0;R<this.length;R++){var N=this._zeroBits(this.words[R]);if(T+=N,N!==26)break}return T},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(T){return this.negative!==0?this.abs().inotn(T).iaddn(1):this.clone()},o.prototype.fromTwos=function(T){return this.testn(T-1)?this.notn(T).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(T){for(;this.length<T.length;)this.words[this.length++]=0;for(var R=0;R<T.length;R++)this.words[R]=this.words[R]|T.words[R];return this.strip()},o.prototype.ior=function(T){return l((this.negative|T.negative)==0),this.iuor(T)},o.prototype.or=function(T){return this.length>T.length?this.clone().ior(T):T.clone().ior(this)},o.prototype.uor=function(T){return this.length>T.length?this.clone().iuor(T):T.clone().iuor(this)},o.prototype.iuand=function(T){var R;R=this.length>T.length?T:this;for(var N=0;N<R.length;N++)this.words[N]=this.words[N]&T.words[N];return this.length=R.length,this.strip()},o.prototype.iand=function(T){return l((this.negative|T.negative)==0),this.iuand(T)},o.prototype.and=function(T){return this.length>T.length?this.clone().iand(T):T.clone().iand(this)},o.prototype.uand=function(T){return this.length>T.length?this.clone().iuand(T):T.clone().iuand(this)},o.prototype.iuxor=function(T){var R,N;this.length>T.length?(R=this,N=T):(R=T,N=this);for(var _=0;_<N.length;_++)this.words[_]=R.words[_]^N.words[_];if(this!==R)for(;_<R.length;_++)this.words[_]=R.words[_];return this.length=R.length,this.strip()},o.prototype.ixor=function(T){return l((this.negative|T.negative)==0),this.iuxor(T)},o.prototype.xor=function(T){return this.length>T.length?this.clone().ixor(T):T.clone().ixor(this)},o.prototype.uxor=function(T){return this.length>T.length?this.clone().iuxor(T):T.clone().iuxor(this)},o.prototype.inotn=function(T){l(typeof T=="number"&&T>=0);var R=0|Math.ceil(T/26),N=T%26;this._expand(R),N>0&&R--;for(var _=0;_<R;_++)this.words[_]=67108863&~this.words[_];return N>0&&(this.words[_]=~this.words[_]&67108863>>26-N),this.strip()},o.prototype.notn=function(T){return this.clone().inotn(T)},o.prototype.setn=function(T,R){l(typeof T=="number"&&T>=0);var N=T/26|0,_=T%26;return this._expand(N+1),this.words[N]=R?this.words[N]|1<<_:this.words[N]&~(1<<_),this.strip()},o.prototype.iadd=function(T){var R,N,_;if(this.negative!==0&&T.negative===0)return this.negative=0,R=this.isub(T),this.negative^=1,this._normSign();if(this.negative===0&&T.negative!==0)return T.negative=0,R=this.isub(T),T.negative=1,R._normSign();this.length>T.length?(N=this,_=T):(N=T,_=this);for(var E=0,S=0;S<_.length;S++)R=(0|N.words[S])+(0|_.words[S])+E,this.words[S]=67108863&R,E=R>>>26;for(;E!==0&&S<N.length;S++)R=(0|N.words[S])+E,this.words[S]=67108863&R,E=R>>>26;if(this.length=N.length,E!==0)this.words[this.length]=E,this.length++;else if(N!==this)for(;S<N.length;S++)this.words[S]=N.words[S];return this},o.prototype.add=function(T){var R;return T.negative!==0&&this.negative===0?(T.negative=0,R=this.sub(T),T.negative^=1,R):T.negative===0&&this.negative!==0?(this.negative=0,R=T.sub(this),this.negative=1,R):this.length>T.length?this.clone().iadd(T):T.clone().iadd(this)},o.prototype.isub=function(T){if(T.negative!==0){T.negative=0;var R=this.iadd(T);return T.negative=1,R._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(T),this.negative=1,this._normSign();var N,_,E=this.cmp(T);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;E>0?(N=this,_=T):(N=T,_=this);for(var S=0,k=0;k<_.length;k++)S=(R=(0|N.words[k])-(0|_.words[k])+S)>>26,this.words[k]=67108863&R;for(;S!==0&&k<N.length;k++)S=(R=(0|N.words[k])+S)>>26,this.words[k]=67108863&R;if(S===0&&k<N.length&&N!==this)for(;k<N.length;k++)this.words[k]=N.words[k];return this.length=Math.max(this.length,k),N!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(T){return this.clone().isub(T)};var v=function(T,R,N){var _,E,S,k=T.words,M=R.words,V=N.words,O=0,X=0|k[0],Q=8191&X,re=X>>>13,G=0|k[1],J=8191&G,q=G>>>13,U=0|k[2],Z=8191&U,ie=U>>>13,le=0|k[3],de=8191&le,fe=le>>>13,ue=0|k[4],Ae=8191&ue,he=ue>>>13,xe=0|k[5],me=8191&xe,Ce=xe>>>13,ke=0|k[6],Oe=8191&ke,De=ke>>>13,He=0|k[7],Qe=8191&He,tt=He>>>13,st=0|k[8],it=8191&st,pt=st>>>13,bt=0|k[9],mt=8191&bt,Mt=bt>>>13,wt=0|M[0],et=8191&wt,dt=wt>>>13,It=0|M[1],ht=8191&It,zt=It>>>13,Vt=0|M[2],Bt=8191&Vt,sr=Vt>>>13,Ht=0|M[3],Nt=8191&Ht,Yt=Ht>>>13,Ur=0|M[4],Wt=8191&Ur,Ir=Ur>>>13,Or=0|M[5],At=8191&Or,fr=Or>>>13,Gr=0|M[6],Qt=8191&Gr,Re=Gr>>>13,$e=0|M[7],Je=8191&$e,xt=$e>>>13,ar=0|M[8],Ot=8191&ar,er=ar>>>13,Jt=0|M[9],qt=8191&Jt,or=Jt>>>13;N.negative=T.negative^R.negative,N.length=19;var Gt=(O+(_=Math.imul(Q,et))|0)+((8191&(E=(E=Math.imul(Q,dt))+Math.imul(re,et)|0))<<13)|0;O=((S=Math.imul(re,dt))+(E>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,_=Math.imul(J,et),E=(E=Math.imul(J,dt))+Math.imul(q,et)|0,S=Math.imul(q,dt);var kr=(O+(_=_+Math.imul(Q,ht)|0)|0)+((8191&(E=(E=E+Math.imul(Q,zt)|0)+Math.imul(re,ht)|0))<<13)|0;O=((S=S+Math.imul(re,zt)|0)+(E>>>13)|0)+(kr>>>26)|0,kr&=67108863,_=Math.imul(Z,et),E=(E=Math.imul(Z,dt))+Math.imul(ie,et)|0,S=Math.imul(ie,dt),_=_+Math.imul(J,ht)|0,E=(E=E+Math.imul(J,zt)|0)+Math.imul(q,ht)|0,S=S+Math.imul(q,zt)|0;var sn=(O+(_=_+Math.imul(Q,Bt)|0)|0)+((8191&(E=(E=E+Math.imul(Q,sr)|0)+Math.imul(re,Bt)|0))<<13)|0;O=((S=S+Math.imul(re,sr)|0)+(E>>>13)|0)+(sn>>>26)|0,sn&=67108863,_=Math.imul(de,et),E=(E=Math.imul(de,dt))+Math.imul(fe,et)|0,S=Math.imul(fe,dt),_=_+Math.imul(Z,ht)|0,E=(E=E+Math.imul(Z,zt)|0)+Math.imul(ie,ht)|0,S=S+Math.imul(ie,zt)|0,_=_+Math.imul(J,Bt)|0,E=(E=E+Math.imul(J,sr)|0)+Math.imul(q,Bt)|0,S=S+Math.imul(q,sr)|0;var tn=(O+(_=_+Math.imul(Q,Nt)|0)|0)+((8191&(E=(E=E+Math.imul(Q,Yt)|0)+Math.imul(re,Nt)|0))<<13)|0;O=((S=S+Math.imul(re,Yt)|0)+(E>>>13)|0)+(tn>>>26)|0,tn&=67108863,_=Math.imul(Ae,et),E=(E=Math.imul(Ae,dt))+Math.imul(he,et)|0,S=Math.imul(he,dt),_=_+Math.imul(de,ht)|0,E=(E=E+Math.imul(de,zt)|0)+Math.imul(fe,ht)|0,S=S+Math.imul(fe,zt)|0,_=_+Math.imul(Z,Bt)|0,E=(E=E+Math.imul(Z,sr)|0)+Math.imul(ie,Bt)|0,S=S+Math.imul(ie,sr)|0,_=_+Math.imul(J,Nt)|0,E=(E=E+Math.imul(J,Yt)|0)+Math.imul(q,Nt)|0,S=S+Math.imul(q,Yt)|0;var xn=(O+(_=_+Math.imul(Q,Wt)|0)|0)+((8191&(E=(E=E+Math.imul(Q,Ir)|0)+Math.imul(re,Wt)|0))<<13)|0;O=((S=S+Math.imul(re,Ir)|0)+(E>>>13)|0)+(xn>>>26)|0,xn&=67108863,_=Math.imul(me,et),E=(E=Math.imul(me,dt))+Math.imul(Ce,et)|0,S=Math.imul(Ce,dt),_=_+Math.imul(Ae,ht)|0,E=(E=E+Math.imul(Ae,zt)|0)+Math.imul(he,ht)|0,S=S+Math.imul(he,zt)|0,_=_+Math.imul(de,Bt)|0,E=(E=E+Math.imul(de,sr)|0)+Math.imul(fe,Bt)|0,S=S+Math.imul(fe,sr)|0,_=_+Math.imul(Z,Nt)|0,E=(E=E+Math.imul(Z,Yt)|0)+Math.imul(ie,Nt)|0,S=S+Math.imul(ie,Yt)|0,_=_+Math.imul(J,Wt)|0,E=(E=E+Math.imul(J,Ir)|0)+Math.imul(q,Wt)|0,S=S+Math.imul(q,Ir)|0;var Tn=(O+(_=_+Math.imul(Q,At)|0)|0)+((8191&(E=(E=E+Math.imul(Q,fr)|0)+Math.imul(re,At)|0))<<13)|0;O=((S=S+Math.imul(re,fr)|0)+(E>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,_=Math.imul(Oe,et),E=(E=Math.imul(Oe,dt))+Math.imul(De,et)|0,S=Math.imul(De,dt),_=_+Math.imul(me,ht)|0,E=(E=E+Math.imul(me,zt)|0)+Math.imul(Ce,ht)|0,S=S+Math.imul(Ce,zt)|0,_=_+Math.imul(Ae,Bt)|0,E=(E=E+Math.imul(Ae,sr)|0)+Math.imul(he,Bt)|0,S=S+Math.imul(he,sr)|0,_=_+Math.imul(de,Nt)|0,E=(E=E+Math.imul(de,Yt)|0)+Math.imul(fe,Nt)|0,S=S+Math.imul(fe,Yt)|0,_=_+Math.imul(Z,Wt)|0,E=(E=E+Math.imul(Z,Ir)|0)+Math.imul(ie,Wt)|0,S=S+Math.imul(ie,Ir)|0,_=_+Math.imul(J,At)|0,E=(E=E+Math.imul(J,fr)|0)+Math.imul(q,At)|0,S=S+Math.imul(q,fr)|0;var oi=(O+(_=_+Math.imul(Q,Qt)|0)|0)+((8191&(E=(E=E+Math.imul(Q,Re)|0)+Math.imul(re,Qt)|0))<<13)|0;O=((S=S+Math.imul(re,Re)|0)+(E>>>13)|0)+(oi>>>26)|0,oi&=67108863,_=Math.imul(Qe,et),E=(E=Math.imul(Qe,dt))+Math.imul(tt,et)|0,S=Math.imul(tt,dt),_=_+Math.imul(Oe,ht)|0,E=(E=E+Math.imul(Oe,zt)|0)+Math.imul(De,ht)|0,S=S+Math.imul(De,zt)|0,_=_+Math.imul(me,Bt)|0,E=(E=E+Math.imul(me,sr)|0)+Math.imul(Ce,Bt)|0,S=S+Math.imul(Ce,sr)|0,_=_+Math.imul(Ae,Nt)|0,E=(E=E+Math.imul(Ae,Yt)|0)+Math.imul(he,Nt)|0,S=S+Math.imul(he,Yt)|0,_=_+Math.imul(de,Wt)|0,E=(E=E+Math.imul(de,Ir)|0)+Math.imul(fe,Wt)|0,S=S+Math.imul(fe,Ir)|0,_=_+Math.imul(Z,At)|0,E=(E=E+Math.imul(Z,fr)|0)+Math.imul(ie,At)|0,S=S+Math.imul(ie,fr)|0,_=_+Math.imul(J,Qt)|0,E=(E=E+Math.imul(J,Re)|0)+Math.imul(q,Qt)|0,S=S+Math.imul(q,Re)|0;var je=(O+(_=_+Math.imul(Q,Je)|0)|0)+((8191&(E=(E=E+Math.imul(Q,xt)|0)+Math.imul(re,Je)|0))<<13)|0;O=((S=S+Math.imul(re,xt)|0)+(E>>>13)|0)+(je>>>26)|0,je&=67108863,_=Math.imul(it,et),E=(E=Math.imul(it,dt))+Math.imul(pt,et)|0,S=Math.imul(pt,dt),_=_+Math.imul(Qe,ht)|0,E=(E=E+Math.imul(Qe,zt)|0)+Math.imul(tt,ht)|0,S=S+Math.imul(tt,zt)|0,_=_+Math.imul(Oe,Bt)|0,E=(E=E+Math.imul(Oe,sr)|0)+Math.imul(De,Bt)|0,S=S+Math.imul(De,sr)|0,_=_+Math.imul(me,Nt)|0,E=(E=E+Math.imul(me,Yt)|0)+Math.imul(Ce,Nt)|0,S=S+Math.imul(Ce,Yt)|0,_=_+Math.imul(Ae,Wt)|0,E=(E=E+Math.imul(Ae,Ir)|0)+Math.imul(he,Wt)|0,S=S+Math.imul(he,Ir)|0,_=_+Math.imul(de,At)|0,E=(E=E+Math.imul(de,fr)|0)+Math.imul(fe,At)|0,S=S+Math.imul(fe,fr)|0,_=_+Math.imul(Z,Qt)|0,E=(E=E+Math.imul(Z,Re)|0)+Math.imul(ie,Qt)|0,S=S+Math.imul(ie,Re)|0,_=_+Math.imul(J,Je)|0,E=(E=E+Math.imul(J,xt)|0)+Math.imul(q,Je)|0,S=S+Math.imul(q,xt)|0;var Ue=(O+(_=_+Math.imul(Q,Ot)|0)|0)+((8191&(E=(E=E+Math.imul(Q,er)|0)+Math.imul(re,Ot)|0))<<13)|0;O=((S=S+Math.imul(re,er)|0)+(E>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,_=Math.imul(mt,et),E=(E=Math.imul(mt,dt))+Math.imul(Mt,et)|0,S=Math.imul(Mt,dt),_=_+Math.imul(it,ht)|0,E=(E=E+Math.imul(it,zt)|0)+Math.imul(pt,ht)|0,S=S+Math.imul(pt,zt)|0,_=_+Math.imul(Qe,Bt)|0,E=(E=E+Math.imul(Qe,sr)|0)+Math.imul(tt,Bt)|0,S=S+Math.imul(tt,sr)|0,_=_+Math.imul(Oe,Nt)|0,E=(E=E+Math.imul(Oe,Yt)|0)+Math.imul(De,Nt)|0,S=S+Math.imul(De,Yt)|0,_=_+Math.imul(me,Wt)|0,E=(E=E+Math.imul(me,Ir)|0)+Math.imul(Ce,Wt)|0,S=S+Math.imul(Ce,Ir)|0,_=_+Math.imul(Ae,At)|0,E=(E=E+Math.imul(Ae,fr)|0)+Math.imul(he,At)|0,S=S+Math.imul(he,fr)|0,_=_+Math.imul(de,Qt)|0,E=(E=E+Math.imul(de,Re)|0)+Math.imul(fe,Qt)|0,S=S+Math.imul(fe,Re)|0,_=_+Math.imul(Z,Je)|0,E=(E=E+Math.imul(Z,xt)|0)+Math.imul(ie,Je)|0,S=S+Math.imul(ie,xt)|0,_=_+Math.imul(J,Ot)|0,E=(E=E+Math.imul(J,er)|0)+Math.imul(q,Ot)|0,S=S+Math.imul(q,er)|0;var ft=(O+(_=_+Math.imul(Q,qt)|0)|0)+((8191&(E=(E=E+Math.imul(Q,or)|0)+Math.imul(re,qt)|0))<<13)|0;O=((S=S+Math.imul(re,or)|0)+(E>>>13)|0)+(ft>>>26)|0,ft&=67108863,_=Math.imul(mt,ht),E=(E=Math.imul(mt,zt))+Math.imul(Mt,ht)|0,S=Math.imul(Mt,zt),_=_+Math.imul(it,Bt)|0,E=(E=E+Math.imul(it,sr)|0)+Math.imul(pt,Bt)|0,S=S+Math.imul(pt,sr)|0,_=_+Math.imul(Qe,Nt)|0,E=(E=E+Math.imul(Qe,Yt)|0)+Math.imul(tt,Nt)|0,S=S+Math.imul(tt,Yt)|0,_=_+Math.imul(Oe,Wt)|0,E=(E=E+Math.imul(Oe,Ir)|0)+Math.imul(De,Wt)|0,S=S+Math.imul(De,Ir)|0,_=_+Math.imul(me,At)|0,E=(E=E+Math.imul(me,fr)|0)+Math.imul(Ce,At)|0,S=S+Math.imul(Ce,fr)|0,_=_+Math.imul(Ae,Qt)|0,E=(E=E+Math.imul(Ae,Re)|0)+Math.imul(he,Qt)|0,S=S+Math.imul(he,Re)|0,_=_+Math.imul(de,Je)|0,E=(E=E+Math.imul(de,xt)|0)+Math.imul(fe,Je)|0,S=S+Math.imul(fe,xt)|0,_=_+Math.imul(Z,Ot)|0,E=(E=E+Math.imul(Z,er)|0)+Math.imul(ie,Ot)|0,S=S+Math.imul(ie,er)|0;var _t=(O+(_=_+Math.imul(J,qt)|0)|0)+((8191&(E=(E=E+Math.imul(J,or)|0)+Math.imul(q,qt)|0))<<13)|0;O=((S=S+Math.imul(q,or)|0)+(E>>>13)|0)+(_t>>>26)|0,_t&=67108863,_=Math.imul(mt,Bt),E=(E=Math.imul(mt,sr))+Math.imul(Mt,Bt)|0,S=Math.imul(Mt,sr),_=_+Math.imul(it,Nt)|0,E=(E=E+Math.imul(it,Yt)|0)+Math.imul(pt,Nt)|0,S=S+Math.imul(pt,Yt)|0,_=_+Math.imul(Qe,Wt)|0,E=(E=E+Math.imul(Qe,Ir)|0)+Math.imul(tt,Wt)|0,S=S+Math.imul(tt,Ir)|0,_=_+Math.imul(Oe,At)|0,E=(E=E+Math.imul(Oe,fr)|0)+Math.imul(De,At)|0,S=S+Math.imul(De,fr)|0,_=_+Math.imul(me,Qt)|0,E=(E=E+Math.imul(me,Re)|0)+Math.imul(Ce,Qt)|0,S=S+Math.imul(Ce,Re)|0,_=_+Math.imul(Ae,Je)|0,E=(E=E+Math.imul(Ae,xt)|0)+Math.imul(he,Je)|0,S=S+Math.imul(he,xt)|0,_=_+Math.imul(de,Ot)|0,E=(E=E+Math.imul(de,er)|0)+Math.imul(fe,Ot)|0,S=S+Math.imul(fe,er)|0;var $t=(O+(_=_+Math.imul(Z,qt)|0)|0)+((8191&(E=(E=E+Math.imul(Z,or)|0)+Math.imul(ie,qt)|0))<<13)|0;O=((S=S+Math.imul(ie,or)|0)+(E>>>13)|0)+($t>>>26)|0,$t&=67108863,_=Math.imul(mt,Nt),E=(E=Math.imul(mt,Yt))+Math.imul(Mt,Nt)|0,S=Math.imul(Mt,Yt),_=_+Math.imul(it,Wt)|0,E=(E=E+Math.imul(it,Ir)|0)+Math.imul(pt,Wt)|0,S=S+Math.imul(pt,Ir)|0,_=_+Math.imul(Qe,At)|0,E=(E=E+Math.imul(Qe,fr)|0)+Math.imul(tt,At)|0,S=S+Math.imul(tt,fr)|0,_=_+Math.imul(Oe,Qt)|0,E=(E=E+Math.imul(Oe,Re)|0)+Math.imul(De,Qt)|0,S=S+Math.imul(De,Re)|0,_=_+Math.imul(me,Je)|0,E=(E=E+Math.imul(me,xt)|0)+Math.imul(Ce,Je)|0,S=S+Math.imul(Ce,xt)|0,_=_+Math.imul(Ae,Ot)|0,E=(E=E+Math.imul(Ae,er)|0)+Math.imul(he,Ot)|0,S=S+Math.imul(he,er)|0;var Ct=(O+(_=_+Math.imul(de,qt)|0)|0)+((8191&(E=(E=E+Math.imul(de,or)|0)+Math.imul(fe,qt)|0))<<13)|0;O=((S=S+Math.imul(fe,or)|0)+(E>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,_=Math.imul(mt,Wt),E=(E=Math.imul(mt,Ir))+Math.imul(Mt,Wt)|0,S=Math.imul(Mt,Ir),_=_+Math.imul(it,At)|0,E=(E=E+Math.imul(it,fr)|0)+Math.imul(pt,At)|0,S=S+Math.imul(pt,fr)|0,_=_+Math.imul(Qe,Qt)|0,E=(E=E+Math.imul(Qe,Re)|0)+Math.imul(tt,Qt)|0,S=S+Math.imul(tt,Re)|0,_=_+Math.imul(Oe,Je)|0,E=(E=E+Math.imul(Oe,xt)|0)+Math.imul(De,Je)|0,S=S+Math.imul(De,xt)|0,_=_+Math.imul(me,Ot)|0,E=(E=E+Math.imul(me,er)|0)+Math.imul(Ce,Ot)|0,S=S+Math.imul(Ce,er)|0;var Rt=(O+(_=_+Math.imul(Ae,qt)|0)|0)+((8191&(E=(E=E+Math.imul(Ae,or)|0)+Math.imul(he,qt)|0))<<13)|0;O=((S=S+Math.imul(he,or)|0)+(E>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,_=Math.imul(mt,At),E=(E=Math.imul(mt,fr))+Math.imul(Mt,At)|0,S=Math.imul(Mt,fr),_=_+Math.imul(it,Qt)|0,E=(E=E+Math.imul(it,Re)|0)+Math.imul(pt,Qt)|0,S=S+Math.imul(pt,Re)|0,_=_+Math.imul(Qe,Je)|0,E=(E=E+Math.imul(Qe,xt)|0)+Math.imul(tt,Je)|0,S=S+Math.imul(tt,xt)|0,_=_+Math.imul(Oe,Ot)|0,E=(E=E+Math.imul(Oe,er)|0)+Math.imul(De,Ot)|0,S=S+Math.imul(De,er)|0;var Vr=(O+(_=_+Math.imul(me,qt)|0)|0)+((8191&(E=(E=E+Math.imul(me,or)|0)+Math.imul(Ce,qt)|0))<<13)|0;O=((S=S+Math.imul(Ce,or)|0)+(E>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,_=Math.imul(mt,Qt),E=(E=Math.imul(mt,Re))+Math.imul(Mt,Qt)|0,S=Math.imul(Mt,Re),_=_+Math.imul(it,Je)|0,E=(E=E+Math.imul(it,xt)|0)+Math.imul(pt,Je)|0,S=S+Math.imul(pt,xt)|0,_=_+Math.imul(Qe,Ot)|0,E=(E=E+Math.imul(Qe,er)|0)+Math.imul(tt,Ot)|0,S=S+Math.imul(tt,er)|0;var _r=(O+(_=_+Math.imul(Oe,qt)|0)|0)+((8191&(E=(E=E+Math.imul(Oe,or)|0)+Math.imul(De,qt)|0))<<13)|0;O=((S=S+Math.imul(De,or)|0)+(E>>>13)|0)+(_r>>>26)|0,_r&=67108863,_=Math.imul(mt,Je),E=(E=Math.imul(mt,xt))+Math.imul(Mt,Je)|0,S=Math.imul(Mt,xt),_=_+Math.imul(it,Ot)|0,E=(E=E+Math.imul(it,er)|0)+Math.imul(pt,Ot)|0,S=S+Math.imul(pt,er)|0;var br=(O+(_=_+Math.imul(Qe,qt)|0)|0)+((8191&(E=(E=E+Math.imul(Qe,or)|0)+Math.imul(tt,qt)|0))<<13)|0;O=((S=S+Math.imul(tt,or)|0)+(E>>>13)|0)+(br>>>26)|0,br&=67108863,_=Math.imul(mt,Ot),E=(E=Math.imul(mt,er))+Math.imul(Mt,Ot)|0,S=Math.imul(Mt,er);var pr=(O+(_=_+Math.imul(it,qt)|0)|0)+((8191&(E=(E=E+Math.imul(it,or)|0)+Math.imul(pt,qt)|0))<<13)|0;O=((S=S+Math.imul(pt,or)|0)+(E>>>13)|0)+(pr>>>26)|0,pr&=67108863;var Tr=(O+(_=Math.imul(mt,qt))|0)+((8191&(E=(E=Math.imul(mt,or))+Math.imul(Mt,qt)|0))<<13)|0;return O=((S=Math.imul(Mt,or))+(E>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,V[0]=Gt,V[1]=kr,V[2]=sn,V[3]=tn,V[4]=xn,V[5]=Tn,V[6]=oi,V[7]=je,V[8]=Ue,V[9]=ft,V[10]=_t,V[11]=$t,V[12]=Ct,V[13]=Rt,V[14]=Vr,V[15]=_r,V[16]=br,V[17]=pr,V[18]=Tr,O!==0&&(V[19]=O,N.length++),N};function w(T,R,N){return new C().mulp(T,R,N)}function C(T,R){this.x=T,this.y=R}Math.imul||(v=y),o.prototype.mulTo=function(T,R){var N=this.length+T.length;return this.length===10&&T.length===10?v(this,T,R):N<63?y(this,T,R):N<1024?(function(_,E,S){S.negative=E.negative^_.negative,S.length=_.length+E.length;for(var k=0,M=0,V=0;V<S.length-1;V++){var O=M;M=0;for(var X=67108863&k,Q=Math.min(V,E.length-1),re=Math.max(0,V-_.length+1);re<=Q;re++){var G=V-re,J=(0|_.words[G])*(0|E.words[re]),q=67108863&J;X=67108863&(q=q+X|0),M+=(O=(O=O+(J/67108864|0)|0)+(q>>>26)|0)>>>26,O&=67108863}S.words[V]=X,k=O,O=M}return k!==0?S.words[V]=k:S.length--,S.strip()})(this,T,R):w(this,T,R)},C.prototype.makeRBT=function(T){for(var R=new Array(T),N=o.prototype._countBits(T)-1,_=0;_<T;_++)R[_]=this.revBin(_,N,T);return R},C.prototype.revBin=function(T,R,N){if(T===0||T===N-1)return T;for(var _=0,E=0;E<R;E++)_|=(1&T)<<R-E-1,T>>=1;return _},C.prototype.permute=function(T,R,N,_,E,S){for(var k=0;k<S;k++)_[k]=R[T[k]],E[k]=N[T[k]]},C.prototype.transform=function(T,R,N,_,E,S){this.permute(S,T,R,N,_,E);for(var k=1;k<E;k<<=1)for(var M=k<<1,V=Math.cos(2*Math.PI/M),O=Math.sin(2*Math.PI/M),X=0;X<E;X+=M)for(var Q=V,re=O,G=0;G<k;G++){var J=N[X+G],q=_[X+G],U=N[X+G+k],Z=_[X+G+k],ie=Q*U-re*Z;Z=Q*Z+re*U,U=ie,N[X+G]=J+U,_[X+G]=q+Z,N[X+G+k]=J-U,_[X+G+k]=q-Z,G!==M&&(ie=V*Q-O*re,re=V*re+O*Q,Q=ie)}},C.prototype.guessLen13b=function(T,R){var N=1|Math.max(R,T),_=1&N,E=0;for(N=N/2|0;N;N>>>=1)E++;return 1<<E+1+_},C.prototype.conjugate=function(T,R,N){if(!(N<=1))for(var _=0;_<N/2;_++){var E=T[_];T[_]=T[N-_-1],T[N-_-1]=E,E=R[_],R[_]=-R[N-_-1],R[N-_-1]=-E}},C.prototype.normalize13b=function(T,R){for(var N=0,_=0;_<R/2;_++){var E=8192*Math.round(T[2*_+1]/R)+Math.round(T[2*_]/R)+N;T[_]=67108863&E,N=E<67108864?0:E/67108864|0}return T},C.prototype.convert13b=function(T,R,N,_){for(var E=0,S=0;S<R;S++)E+=0|T[S],N[2*S]=8191&E,E>>>=13,N[2*S+1]=8191&E,E>>>=13;for(S=2*R;S<_;++S)N[S]=0;l(E===0),l((-8192&E)==0)},C.prototype.stub=function(T){for(var R=new Array(T),N=0;N<T;N++)R[N]=0;return R},C.prototype.mulp=function(T,R,N){var _=2*this.guessLen13b(T.length,R.length),E=this.makeRBT(_),S=this.stub(_),k=new Array(_),M=new Array(_),V=new Array(_),O=new Array(_),X=new Array(_),Q=new Array(_),re=N.words;re.length=_,this.convert13b(T.words,T.length,k,_),this.convert13b(R.words,R.length,O,_),this.transform(k,S,M,V,_,E),this.transform(O,S,X,Q,_,E);for(var G=0;G<_;G++){var J=M[G]*X[G]-V[G]*Q[G];V[G]=M[G]*Q[G]+V[G]*X[G],M[G]=J}return this.conjugate(M,V,_),this.transform(M,V,re,S,_,E),this.conjugate(re,S,_),this.normalize13b(re,_),N.negative=T.negative^R.negative,N.length=T.length+R.length,N.strip()},o.prototype.mul=function(T){var R=new o(null);return R.words=new Array(this.length+T.length),this.mulTo(T,R)},o.prototype.mulf=function(T){var R=new o(null);return R.words=new Array(this.length+T.length),w(this,T,R)},o.prototype.imul=function(T){return this.clone().mulTo(T,this)},o.prototype.imuln=function(T){l(typeof T=="number"),l(T<67108864);for(var R=0,N=0;N<this.length;N++){var _=(0|this.words[N])*T,E=(67108863&_)+(67108863&R);R>>=26,R+=_/67108864|0,R+=E>>>26,this.words[N]=67108863&E}return R!==0&&(this.words[N]=R,this.length++),this},o.prototype.muln=function(T){return this.clone().imuln(T)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(T){var R=(function(S){for(var k=new Array(S.bitLength()),M=0;M<k.length;M++){var V=M/26|0,O=M%26;k[M]=(S.words[V]&1<<O)>>>O}return k})(T);if(R.length===0)return new o(1);for(var N=this,_=0;_<R.length&&R[_]===0;_++,N=N.sqr());if(++_<R.length)for(var E=N.sqr();_<R.length;_++,E=E.sqr())R[_]!==0&&(N=N.mul(E));return N},o.prototype.iushln=function(T){l(typeof T=="number"&&T>=0);var R,N=T%26,_=(T-N)/26,E=67108863>>>26-N<<26-N;if(N!==0){var S=0;for(R=0;R<this.length;R++){var k=this.words[R]&E,M=(0|this.words[R])-k<<N;this.words[R]=M|S,S=k>>>26-N}S&&(this.words[R]=S,this.length++)}if(_!==0){for(R=this.length-1;R>=0;R--)this.words[R+_]=this.words[R];for(R=0;R<_;R++)this.words[R]=0;this.length+=_}return this.strip()},o.prototype.ishln=function(T){return l(this.negative===0),this.iushln(T)},o.prototype.iushrn=function(T,R,N){var _;l(typeof T=="number"&&T>=0),_=R?(R-R%26)/26:0;var E=T%26,S=Math.min((T-E)/26,this.length),k=67108863^67108863>>>E<<E,M=N;if(_-=S,_=Math.max(0,_),M){for(var V=0;V<S;V++)M.words[V]=this.words[V];M.length=S}if(S!==0)if(this.length>S)for(this.length-=S,V=0;V<this.length;V++)this.words[V]=this.words[V+S];else this.words[0]=0,this.length=1;var O=0;for(V=this.length-1;V>=0&&(O!==0||V>=_);V--){var X=0|this.words[V];this.words[V]=O<<26-E|X>>>E,O=X&k}return M&&O!==0&&(M.words[M.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(T,R,N){return l(this.negative===0),this.iushrn(T,R,N)},o.prototype.shln=function(T){return this.clone().ishln(T)},o.prototype.ushln=function(T){return this.clone().iushln(T)},o.prototype.shrn=function(T){return this.clone().ishrn(T)},o.prototype.ushrn=function(T){return this.clone().iushrn(T)},o.prototype.testn=function(T){l(typeof T=="number"&&T>=0);var R=T%26,N=(T-R)/26,_=1<<R;return!(this.length<=N)&&!!(this.words[N]&_)},o.prototype.imaskn=function(T){l(typeof T=="number"&&T>=0);var R=T%26,N=(T-R)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(R!==0&&N++,this.length=Math.min(N,this.length),R!==0){var _=67108863^67108863>>>R<<R;this.words[this.length-1]&=_}return this.strip()},o.prototype.maskn=function(T){return this.clone().imaskn(T)},o.prototype.iaddn=function(T){return l(typeof T=="number"),l(T<67108864),T<0?this.isubn(-T):this.negative!==0?this.length===1&&(0|this.words[0])<T?(this.words[0]=T-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(T),this.negative=1,this):this._iaddn(T)},o.prototype._iaddn=function(T){this.words[0]+=T;for(var R=0;R<this.length&&this.words[R]>=67108864;R++)this.words[R]-=67108864,R===this.length-1?this.words[R+1]=1:this.words[R+1]++;return this.length=Math.max(this.length,R+1),this},o.prototype.isubn=function(T){if(l(typeof T=="number"),l(T<67108864),T<0)return this.iaddn(-T);if(this.negative!==0)return this.negative=0,this.iaddn(T),this.negative=1,this;if(this.words[0]-=T,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var R=0;R<this.length&&this.words[R]<0;R++)this.words[R]+=67108864,this.words[R+1]-=1;return this.strip()},o.prototype.addn=function(T){return this.clone().iaddn(T)},o.prototype.subn=function(T){return this.clone().isubn(T)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(T,R,N){var _,E,S=T.length+N;this._expand(S);var k=0;for(_=0;_<T.length;_++){E=(0|this.words[_+N])+k;var M=(0|T.words[_])*R;k=((E-=67108863&M)>>26)-(M/67108864|0),this.words[_+N]=67108863&E}for(;_<this.length-N;_++)k=(E=(0|this.words[_+N])+k)>>26,this.words[_+N]=67108863&E;if(k===0)return this.strip();for(l(k===-1),k=0,_=0;_<this.length;_++)k=(E=-(0|this.words[_])+k)>>26,this.words[_]=67108863&E;return this.negative=1,this.strip()},o.prototype._wordDiv=function(T,R){var N=(this.length,T.length),_=this.clone(),E=T,S=0|E.words[E.length-1];(N=26-this._countBits(S))!==0&&(E=E.ushln(N),_.iushln(N),S=0|E.words[E.length-1]);var k,M=_.length-E.length;if(R!=="mod"){(k=new o(null)).length=M+1,k.words=new Array(k.length);for(var V=0;V<k.length;V++)k.words[V]=0}var O=_.clone()._ishlnsubmul(E,1,M);O.negative===0&&(_=O,k&&(k.words[M]=1));for(var X=M-1;X>=0;X--){var Q=67108864*(0|_.words[E.length+X])+(0|_.words[E.length+X-1]);for(Q=Math.min(Q/S|0,67108863),_._ishlnsubmul(E,Q,X);_.negative!==0;)Q--,_.negative=0,_._ishlnsubmul(E,1,X),_.isZero()||(_.negative^=1);k&&(k.words[X]=Q)}return k&&k.strip(),_.strip(),R!=="div"&&N!==0&&_.iushrn(N),{div:k||null,mod:_}},o.prototype.divmod=function(T,R,N){return l(!T.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&T.negative===0?(S=this.neg().divmod(T,R),R!=="mod"&&(_=S.div.neg()),R!=="div"&&(E=S.mod.neg(),N&&E.negative!==0&&E.iadd(T)),{div:_,mod:E}):this.negative===0&&T.negative!==0?(S=this.divmod(T.neg(),R),R!=="mod"&&(_=S.div.neg()),{div:_,mod:S.mod}):(this.negative&T.negative)!=0?(S=this.neg().divmod(T.neg(),R),R!=="div"&&(E=S.mod.neg(),N&&E.negative!==0&&E.isub(T)),{div:S.div,mod:E}):T.length>this.length||this.cmp(T)<0?{div:new o(0),mod:this}:T.length===1?R==="div"?{div:this.divn(T.words[0]),mod:null}:R==="mod"?{div:null,mod:new o(this.modn(T.words[0]))}:{div:this.divn(T.words[0]),mod:new o(this.modn(T.words[0]))}:this._wordDiv(T,R);var _,E,S},o.prototype.div=function(T){return this.divmod(T,"div",!1).div},o.prototype.mod=function(T){return this.divmod(T,"mod",!1).mod},o.prototype.umod=function(T){return this.divmod(T,"mod",!0).mod},o.prototype.divRound=function(T){var R=this.divmod(T);if(R.mod.isZero())return R.div;var N=R.div.negative!==0?R.mod.isub(T):R.mod,_=T.ushrn(1),E=T.andln(1),S=N.cmp(_);return S<0||E===1&&S===0?R.div:R.div.negative!==0?R.div.isubn(1):R.div.iaddn(1)},o.prototype.modn=function(T){l(T<=67108863);for(var R=(1<<26)%T,N=0,_=this.length-1;_>=0;_--)N=(R*N+(0|this.words[_]))%T;return N},o.prototype.idivn=function(T){l(T<=67108863);for(var R=0,N=this.length-1;N>=0;N--){var _=(0|this.words[N])+67108864*R;this.words[N]=_/T|0,R=_%T}return this.strip()},o.prototype.divn=function(T){return this.clone().idivn(T)},o.prototype.egcd=function(T){l(T.negative===0),l(!T.isZero());var R=this,N=T.clone();R=R.negative!==0?R.umod(T):R.clone();for(var _=new o(1),E=new o(0),S=new o(0),k=new o(1),M=0;R.isEven()&&N.isEven();)R.iushrn(1),N.iushrn(1),++M;for(var V=N.clone(),O=R.clone();!R.isZero();){for(var X=0,Q=1;(R.words[0]&Q)==0&&X<26;++X,Q<<=1);if(X>0)for(R.iushrn(X);X-- >0;)(_.isOdd()||E.isOdd())&&(_.iadd(V),E.isub(O)),_.iushrn(1),E.iushrn(1);for(var re=0,G=1;(N.words[0]&G)==0&&re<26;++re,G<<=1);if(re>0)for(N.iushrn(re);re-- >0;)(S.isOdd()||k.isOdd())&&(S.iadd(V),k.isub(O)),S.iushrn(1),k.iushrn(1);R.cmp(N)>=0?(R.isub(N),_.isub(S),E.isub(k)):(N.isub(R),S.isub(_),k.isub(E))}return{a:S,b:k,gcd:N.iushln(M)}},o.prototype._invmp=function(T){l(T.negative===0),l(!T.isZero());var R=this,N=T.clone();R=R.negative!==0?R.umod(T):R.clone();for(var _,E=new o(1),S=new o(0),k=N.clone();R.cmpn(1)>0&&N.cmpn(1)>0;){for(var M=0,V=1;(R.words[0]&V)==0&&M<26;++M,V<<=1);if(M>0)for(R.iushrn(M);M-- >0;)E.isOdd()&&E.iadd(k),E.iushrn(1);for(var O=0,X=1;(N.words[0]&X)==0&&O<26;++O,X<<=1);if(O>0)for(N.iushrn(O);O-- >0;)S.isOdd()&&S.iadd(k),S.iushrn(1);R.cmp(N)>=0?(R.isub(N),E.isub(S)):(N.isub(R),S.isub(E))}return(_=R.cmpn(1)===0?E:S).cmpn(0)<0&&_.iadd(T),_},o.prototype.gcd=function(T){if(this.isZero())return T.abs();if(T.isZero())return this.abs();var R=this.clone(),N=T.clone();R.negative=0,N.negative=0;for(var _=0;R.isEven()&&N.isEven();_++)R.iushrn(1),N.iushrn(1);for(;;){for(;R.isEven();)R.iushrn(1);for(;N.isEven();)N.iushrn(1);var E=R.cmp(N);if(E<0){var S=R;R=N,N=S}else if(E===0||N.cmpn(1)===0)break;R.isub(N)}return N.iushln(_)},o.prototype.invm=function(T){return this.egcd(T).a.umod(T)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(T){return this.words[0]&T},o.prototype.bincn=function(T){l(typeof T=="number");var R=T%26,N=(T-R)/26,_=1<<R;if(this.length<=N)return this._expand(N+1),this.words[N]|=_,this;for(var E=_,S=N;E!==0&&S<this.length;S++){var k=0|this.words[S];E=(k+=E)>>>26,k&=67108863,this.words[S]=k}return E!==0&&(this.words[S]=E,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(T){var R,N=T<0;if(this.negative!==0&&!N)return-1;if(this.negative===0&&N)return 1;if(this.strip(),this.length>1)R=1;else{N&&(T=-T),l(T<=67108863,"Number is too big");var _=0|this.words[0];R=_===T?0:_<T?-1:1}return this.negative!==0?0|-R:R},o.prototype.cmp=function(T){if(this.negative!==0&&T.negative===0)return-1;if(this.negative===0&&T.negative!==0)return 1;var R=this.ucmp(T);return this.negative!==0?0|-R:R},o.prototype.ucmp=function(T){if(this.length>T.length)return 1;if(this.length<T.length)return-1;for(var R=0,N=this.length-1;N>=0;N--){var _=0|this.words[N],E=0|T.words[N];if(_!==E){_<E?R=-1:_>E&&(R=1);break}}return R},o.prototype.gtn=function(T){return this.cmpn(T)===1},o.prototype.gt=function(T){return this.cmp(T)===1},o.prototype.gten=function(T){return this.cmpn(T)>=0},o.prototype.gte=function(T){return this.cmp(T)>=0},o.prototype.ltn=function(T){return this.cmpn(T)===-1},o.prototype.lt=function(T){return this.cmp(T)===-1},o.prototype.lten=function(T){return this.cmpn(T)<=0},o.prototype.lte=function(T){return this.cmp(T)<=0},o.prototype.eqn=function(T){return this.cmpn(T)===0},o.prototype.eq=function(T){return this.cmp(T)===0},o.red=function(T){return new $(T)},o.prototype.toRed=function(T){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),T.convertTo(this)._forceRed(T)},o.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(T){return this.red=T,this},o.prototype.forceRed=function(T){return l(!this.red,"Already a number in reduction context"),this._forceRed(T)},o.prototype.redAdd=function(T){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,T)},o.prototype.redIAdd=function(T){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,T)},o.prototype.redSub=function(T){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,T)},o.prototype.redISub=function(T){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,T)},o.prototype.redShl=function(T){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,T)},o.prototype.redMul=function(T){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.mul(this,T)},o.prototype.redIMul=function(T){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.imul(this,T)},o.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(T){return l(this.red&&!T.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,T)};var P={k256:null,p224:null,p192:null,p25519:null};function F(T,R){this.name=T,this.p=new o(R,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function L(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function j(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function I(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function z(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function $(T){if(typeof T=="string"){var R=o._prime(T);this.m=R.p,this.prime=R}else l(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}function B(T){$.call(this,T),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}F.prototype._tmp=function(){var T=new o(null);return T.words=new Array(Math.ceil(this.n/13)),T},F.prototype.ireduce=function(T){var R,N=T;do this.split(N,this.tmp),R=(N=(N=this.imulK(N)).iadd(this.tmp)).bitLength();while(R>this.n);var _=R<this.n?-1:N.ucmp(this.p);return _===0?(N.words[0]=0,N.length=1):_>0?N.isub(this.p):N.strip!==void 0?N.strip():N._strip(),N},F.prototype.split=function(T,R){T.iushrn(this.n,0,R)},F.prototype.imulK=function(T){return T.imul(this.k)},c(L,F),L.prototype.split=function(T,R){for(var N=Math.min(T.length,9),_=0;_<N;_++)R.words[_]=T.words[_];if(R.length=N,T.length<=9)return T.words[0]=0,void(T.length=1);var E=T.words[9];for(R.words[R.length++]=4194303&E,_=10;_<T.length;_++){var S=0|T.words[_];T.words[_-10]=(4194303&S)<<4|E>>>22,E=S}E>>>=22,T.words[_-10]=E,E===0&&T.length>10?T.length-=10:T.length-=9},L.prototype.imulK=function(T){T.words[T.length]=0,T.words[T.length+1]=0,T.length+=2;for(var R=0,N=0;N<T.length;N++){var _=0|T.words[N];R+=977*_,T.words[N]=67108863&R,R=64*_+(R/67108864|0)}return T.words[T.length-1]===0&&(T.length--,T.words[T.length-1]===0&&T.length--),T},c(j,F),c(I,F),c(z,F),z.prototype.imulK=function(T){for(var R=0,N=0;N<T.length;N++){var _=19*(0|T.words[N])+R,E=67108863&_;_>>>=26,T.words[N]=E,R=_}return R!==0&&(T.words[T.length++]=R),T},o._prime=function(T){if(P[T])return P[T];var R;if(T==="k256")R=new L;else if(T==="p224")R=new j;else if(T==="p192")R=new I;else{if(T!=="p25519")throw new Error("Unknown prime "+T);R=new z}return P[T]=R,R},$.prototype._verify1=function(T){l(T.negative===0,"red works only with positives"),l(T.red,"red works only with red numbers")},$.prototype._verify2=function(T,R){l((T.negative|R.negative)==0,"red works only with positives"),l(T.red&&T.red===R.red,"red works only with red numbers")},$.prototype.imod=function(T){return this.prime?this.prime.ireduce(T)._forceRed(this):T.umod(this.m)._forceRed(this)},$.prototype.neg=function(T){return T.isZero()?T.clone():this.m.sub(T)._forceRed(this)},$.prototype.add=function(T,R){this._verify2(T,R);var N=T.add(R);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},$.prototype.iadd=function(T,R){this._verify2(T,R);var N=T.iadd(R);return N.cmp(this.m)>=0&&N.isub(this.m),N},$.prototype.sub=function(T,R){this._verify2(T,R);var N=T.sub(R);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},$.prototype.isub=function(T,R){this._verify2(T,R);var N=T.isub(R);return N.cmpn(0)<0&&N.iadd(this.m),N},$.prototype.shl=function(T,R){return this._verify1(T),this.imod(T.ushln(R))},$.prototype.imul=function(T,R){return this._verify2(T,R),this.imod(T.imul(R))},$.prototype.mul=function(T,R){return this._verify2(T,R),this.imod(T.mul(R))},$.prototype.isqr=function(T){return this.imul(T,T.clone())},$.prototype.sqr=function(T){return this.mul(T,T)},$.prototype.sqrt=function(T){if(T.isZero())return T.clone();var R=this.m.andln(3);if(l(R%2==1),R===3){var N=this.m.add(new o(1)).iushrn(2);return this.pow(T,N)}for(var _=this.m.subn(1),E=0;!_.isZero()&&_.andln(1)===0;)E++,_.iushrn(1);l(!_.isZero());var S=new o(1).toRed(this),k=S.redNeg(),M=this.m.subn(1).iushrn(1),V=this.m.bitLength();for(V=new o(2*V*V).toRed(this);this.pow(V,M).cmp(k)!==0;)V.redIAdd(k);for(var O=this.pow(V,_),X=this.pow(T,_.addn(1).iushrn(1)),Q=this.pow(T,_),re=E;Q.cmp(S)!==0;){for(var G=Q,J=0;G.cmp(S)!==0;J++)G=G.redSqr();l(J<re);var q=this.pow(O,new o(1).iushln(re-J-1));X=X.redMul(q),O=q.redSqr(),Q=Q.redMul(O),re=J}return X},$.prototype.invm=function(T){var R=T._invmp(this.m);return R.negative!==0?(R.negative=0,this.imod(R).redNeg()):this.imod(R)},$.prototype.pow=function(T,R){if(R.isZero())return new o(1).toRed(this);if(R.cmpn(1)===0)return T.clone();var N=new Array(16);N[0]=new o(1).toRed(this),N[1]=T;for(var _=2;_<N.length;_++)N[_]=this.mul(N[_-1],T);var E=N[0],S=0,k=0,M=R.bitLength()%26;for(M===0&&(M=26),_=R.length-1;_>=0;_--){for(var V=R.words[_],O=M-1;O>=0;O--){var X=V>>O&1;E!==N[0]&&(E=this.sqr(E)),X!==0||S!==0?(S<<=1,S|=X,(++k===4||_===0&&O===0)&&(E=this.mul(E,N[S]),k=0,S=0)):k=0}M=26}return E},$.prototype.convertTo=function(T){var R=T.umod(this.m);return R===T?R.clone():R},$.prototype.convertFrom=function(T){var R=T.clone();return R.red=null,R},o.mont=function(T){return new B(T)},c(B,$),B.prototype.convertTo=function(T){return this.imod(T.ushln(this.shift))},B.prototype.convertFrom=function(T){var R=this.imod(T.mul(this.rinv));return R.red=null,R},B.prototype.imul=function(T,R){if(T.isZero()||R.isZero())return T.words[0]=0,T.length=1,T;var N=T.imul(R),_=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=N.isub(_).iushrn(this.shift),S=E;return E.cmp(this.m)>=0?S=E.isub(this.m):E.cmpn(0)<0&&(S=E.iadd(this.m)),S._forceRed(this)},B.prototype.mul=function(T,R){if(T.isZero()||R.isZero())return new o(0)._forceRed(this);var N=T.mul(R),_=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=N.isub(_).iushrn(this.shift),S=E;return E.cmp(this.m)>=0?S=E.isub(this.m):E.cmpn(0)<0&&(S=E.iadd(this.m)),S._forceRed(this)},B.prototype.invm=function(T){return this.imod(T._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(t,n,i){i.byteLength=function(h){var m=f(h),g=m[0],p=m[1];return 3*(g+p)/4-p},i.toByteArray=function(h){var m,g,p=f(h),y=p[0],v=p[1],w=new l((function(F,L,j){return 3*(L+j)/4-j})(0,y,v)),C=0,P=v>0?y-4:y;for(g=0;g<P;g+=4)m=s[h.charCodeAt(g)]<<18|s[h.charCodeAt(g+1)]<<12|s[h.charCodeAt(g+2)]<<6|s[h.charCodeAt(g+3)],w[C++]=m>>16&255,w[C++]=m>>8&255,w[C++]=255&m;return v===2&&(m=s[h.charCodeAt(g)]<<2|s[h.charCodeAt(g+1)]>>4,w[C++]=255&m),v===1&&(m=s[h.charCodeAt(g)]<<10|s[h.charCodeAt(g+1)]<<4|s[h.charCodeAt(g+2)]>>2,w[C++]=m>>8&255,w[C++]=255&m),w},i.fromByteArray=function(h){for(var m,g=h.length,p=g%3,y=[],v=0,w=g-p;v<w;v+=16383)y.push(d(h,v,v+16383>w?w:v+16383));return p===1?(m=h[g-1],y.push(a[m>>2]+a[m<<4&63]+"==")):p===2&&(m=(h[g-2]<<8)+h[g-1],y.push(a[m>>10]+a[m>>4&63]+a[m<<2&63]+"=")),y.join("")};for(var a=[],s=[],l=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=c.length;o<u;++o)a[o]=c[o],s[c.charCodeAt(o)]=o;function f(h){var m=h.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=h.indexOf("=");return g===-1&&(g=m),[g,g===m?0:4-g%4]}function d(h,m,g){for(var p,y,v=[],w=m;w<g;w+=3)p=(h[w]<<16&16711680)+(h[w+1]<<8&65280)+(255&h[w+2]),v.push(a[(y=p)>>18&63]+a[y>>12&63]+a[y>>6&63]+a[63&y]);return v.join("")}s[45]=62,s[95]=63},{}],186:[function(t,n,i){(function(a,s){function l(N,_){if(!N)throw new Error(_||"Assertion failed")}function c(N,_){N.super_=_;var E=function(){};E.prototype=_.prototype,N.prototype=new E,N.prototype.constructor=N}function o(N,_,E){if(o.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&(_!=="le"&&_!=="be"||(E=_,_=10),this._init(N||0,_||10,E||"be"))}var u;typeof a=="object"?a.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function f(N,_){var E=N.charCodeAt(_);return E>=48&&E<=57?E-48:E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:void l(!1,"Invalid character in "+N)}function d(N,_,E){var S=f(N,E);return E-1>=_&&(S|=f(N,E-1)<<4),S}function h(N,_,E,S){for(var k=0,M=0,V=Math.min(N.length,E),O=_;O<V;O++){var X=N.charCodeAt(O)-48;k*=S,M=X>=49?X-49+10:X>=17?X-17+10:X,l(X>=0&&M<S,"Invalid character"),k+=M}return k}function m(N,_){N.words=_.words,N.length=_.length,N.negative=_.negative,N.red=_.red}if(o.isBN=function(N){return N instanceof o||N!==null&&typeof N=="object"&&N.constructor.wordSize===o.wordSize&&Array.isArray(N.words)},o.max=function(N,_){return N.cmp(_)>0?N:_},o.min=function(N,_){return N.cmp(_)<0?N:_},o.prototype._init=function(N,_,E){if(typeof N=="number")return this._initNumber(N,_,E);if(typeof N=="object")return this._initArray(N,_,E);_==="hex"&&(_=16),l(_===(0|_)&&_>=2&&_<=36);var S=0;(N=N.toString().replace(/\s+/g,""))[0]==="-"&&(S++,this.negative=1),S<N.length&&(_===16?this._parseHex(N,S,E):(this._parseBase(N,_,S),E==="le"&&this._initArray(this.toArray(),_,E)))},o.prototype._initNumber=function(N,_,E){N<0&&(this.negative=1,N=-N),N<67108864?(this.words=[67108863&N],this.length=1):N<4503599627370496?(this.words=[67108863&N,N/67108864&67108863],this.length=2):(l(N<9007199254740992),this.words=[67108863&N,N/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),_,E)},o.prototype._initArray=function(N,_,E){if(l(typeof N.length=="number"),N.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(N.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var k,M,V=0;if(E==="be")for(S=N.length-1,k=0;S>=0;S-=3)M=N[S]|N[S-1]<<8|N[S-2]<<16,this.words[k]|=M<<V&67108863,this.words[k+1]=M>>>26-V&67108863,(V+=24)>=26&&(V-=26,k++);else if(E==="le")for(S=0,k=0;S<N.length;S+=3)M=N[S]|N[S+1]<<8|N[S+2]<<16,this.words[k]|=M<<V&67108863,this.words[k+1]=M>>>26-V&67108863,(V+=24)>=26&&(V-=26,k++);return this._strip()},o.prototype._parseHex=function(N,_,E){this.length=Math.ceil((N.length-_)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var k,M=0,V=0;if(E==="be")for(S=N.length-1;S>=_;S-=2)k=d(N,_,S)<<M,this.words[V]|=67108863&k,M>=18?(M-=18,V+=1,this.words[V]|=k>>>26):M+=8;else for(S=(N.length-_)%2==0?_+1:_;S<N.length;S+=2)k=d(N,_,S)<<M,this.words[V]|=67108863&k,M>=18?(M-=18,V+=1,this.words[V]|=k>>>26):M+=8;this._strip()},o.prototype._parseBase=function(N,_,E){this.words=[0],this.length=1;for(var S=0,k=1;k<=67108863;k*=_)S++;S--,k=k/_|0;for(var M=N.length-E,V=M%S,O=Math.min(M,M-V)+E,X=0,Q=E;Q<O;Q+=S)X=h(N,Q,Q+S,_),this.imuln(k),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X);if(V!==0){var re=1;for(X=h(N,Q,N.length,_),Q=0;Q<V;Q++)re*=_;this.imuln(re),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X)}this._strip()},o.prototype.copy=function(N){N.words=new Array(this.length);for(var _=0;_<this.length;_++)N.words[_]=this.words[_];N.length=this.length,N.negative=this.negative,N.red=this.red},o.prototype._move=function(N){m(N,this)},o.prototype.clone=function(){var N=new o(null);return this.copy(N),N},o.prototype._expand=function(N){for(;this.length<N;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{o.prototype.inspect=g}else o.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(N,_){var E;if(_=0|_||1,(N=N||10)===16||N==="hex"){E="";for(var S=0,k=0,M=0;M<this.length;M++){var V=this.words[M],O=(16777215&(V<<S|k)).toString(16);k=V>>>24-S&16777215,(S+=2)>=26&&(S-=26,M--),E=k!==0||M!==this.length-1?p[6-O.length]+O+E:O+E}for(k!==0&&(E=k.toString(16)+E);E.length%_!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(N===(0|N)&&N>=2&&N<=36){var X=y[N],Q=v[N];E="";var re=this.clone();for(re.negative=0;!re.isZero();){var G=re.modrn(Q).toString(N);E=(re=re.idivn(Q)).isZero()?G+E:p[X-G.length]+G+E}for(this.isZero()&&(E="0"+E);E.length%_!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}l(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var N=this.words[0];return this.length===2?N+=67108864*this.words[1]:this.length===3&&this.words[2]===1?N+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-N:N},o.prototype.toJSON=function(){return this.toString(16,2)},u&&(o.prototype.toBuffer=function(N,_){return this.toArrayLike(u,N,_)}),o.prototype.toArray=function(N,_){return this.toArrayLike(Array,N,_)};function w(N,_,E){E.negative=_.negative^N.negative;var S=N.length+_.length|0;E.length=S,S=S-1|0;var k=0|N.words[0],M=0|_.words[0],V=k*M,O=67108863&V,X=V/67108864|0;E.words[0]=O;for(var Q=1;Q<S;Q++){for(var re=X>>>26,G=67108863&X,J=Math.min(Q,_.length-1),q=Math.max(0,Q-N.length+1);q<=J;q++){var U=Q-q|0;re+=(V=(k=0|N.words[U])*(M=0|_.words[q])+G)/67108864|0,G=67108863&V}E.words[Q]=0|G,X=0|re}return X!==0?E.words[Q]=0|X:E.length--,E._strip()}o.prototype.toArrayLike=function(N,_,E){this._strip();var S=this.byteLength(),k=E||Math.max(1,S);l(S<=k,"byte array longer than desired length"),l(k>0,"Requested array length <= 0");var M=(function(V,O){return V.allocUnsafe?V.allocUnsafe(O):new V(O)})(N,k);return this["_toArrayLike"+(_==="le"?"LE":"BE")](M,S),M},o.prototype._toArrayLikeLE=function(N,_){for(var E=0,S=0,k=0,M=0;k<this.length;k++){var V=this.words[k]<<M|S;N[E++]=255&V,E<N.length&&(N[E++]=V>>8&255),E<N.length&&(N[E++]=V>>16&255),M===6?(E<N.length&&(N[E++]=V>>24&255),S=0,M=0):(S=V>>>24,M+=2)}if(E<N.length)for(N[E++]=S;E<N.length;)N[E++]=0},o.prototype._toArrayLikeBE=function(N,_){for(var E=N.length-1,S=0,k=0,M=0;k<this.length;k++){var V=this.words[k]<<M|S;N[E--]=255&V,E>=0&&(N[E--]=V>>8&255),E>=0&&(N[E--]=V>>16&255),M===6?(E>=0&&(N[E--]=V>>24&255),S=0,M=0):(S=V>>>24,M+=2)}if(E>=0)for(N[E--]=S;E>=0;)N[E--]=0},Math.clz32?o.prototype._countBits=function(N){return 32-Math.clz32(N)}:o.prototype._countBits=function(N){var _=N,E=0;return _>=4096&&(E+=13,_>>>=13),_>=64&&(E+=7,_>>>=7),_>=8&&(E+=4,_>>>=4),_>=2&&(E+=2,_>>>=2),E+_},o.prototype._zeroBits=function(N){if(N===0)return 26;var _=N,E=0;return(8191&_)==0&&(E+=13,_>>>=13),(127&_)==0&&(E+=7,_>>>=7),(15&_)==0&&(E+=4,_>>>=4),(3&_)==0&&(E+=2,_>>>=2),(1&_)==0&&E++,E},o.prototype.bitLength=function(){var N=this.words[this.length-1],_=this._countBits(N);return 26*(this.length-1)+_},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var N=0,_=0;_<this.length;_++){var E=this._zeroBits(this.words[_]);if(N+=E,E!==26)break}return N},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(N){return this.negative!==0?this.abs().inotn(N).iaddn(1):this.clone()},o.prototype.fromTwos=function(N){return this.testn(N-1)?this.notn(N).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(N){for(;this.length<N.length;)this.words[this.length++]=0;for(var _=0;_<N.length;_++)this.words[_]=this.words[_]|N.words[_];return this._strip()},o.prototype.ior=function(N){return l((this.negative|N.negative)==0),this.iuor(N)},o.prototype.or=function(N){return this.length>N.length?this.clone().ior(N):N.clone().ior(this)},o.prototype.uor=function(N){return this.length>N.length?this.clone().iuor(N):N.clone().iuor(this)},o.prototype.iuand=function(N){var _;_=this.length>N.length?N:this;for(var E=0;E<_.length;E++)this.words[E]=this.words[E]&N.words[E];return this.length=_.length,this._strip()},o.prototype.iand=function(N){return l((this.negative|N.negative)==0),this.iuand(N)},o.prototype.and=function(N){return this.length>N.length?this.clone().iand(N):N.clone().iand(this)},o.prototype.uand=function(N){return this.length>N.length?this.clone().iuand(N):N.clone().iuand(this)},o.prototype.iuxor=function(N){var _,E;this.length>N.length?(_=this,E=N):(_=N,E=this);for(var S=0;S<E.length;S++)this.words[S]=_.words[S]^E.words[S];if(this!==_)for(;S<_.length;S++)this.words[S]=_.words[S];return this.length=_.length,this._strip()},o.prototype.ixor=function(N){return l((this.negative|N.negative)==0),this.iuxor(N)},o.prototype.xor=function(N){return this.length>N.length?this.clone().ixor(N):N.clone().ixor(this)},o.prototype.uxor=function(N){return this.length>N.length?this.clone().iuxor(N):N.clone().iuxor(this)},o.prototype.inotn=function(N){l(typeof N=="number"&&N>=0);var _=0|Math.ceil(N/26),E=N%26;this._expand(_),E>0&&_--;for(var S=0;S<_;S++)this.words[S]=67108863&~this.words[S];return E>0&&(this.words[S]=~this.words[S]&67108863>>26-E),this._strip()},o.prototype.notn=function(N){return this.clone().inotn(N)},o.prototype.setn=function(N,_){l(typeof N=="number"&&N>=0);var E=N/26|0,S=N%26;return this._expand(E+1),this.words[E]=_?this.words[E]|1<<S:this.words[E]&~(1<<S),this._strip()},o.prototype.iadd=function(N){var _,E,S;if(this.negative!==0&&N.negative===0)return this.negative=0,_=this.isub(N),this.negative^=1,this._normSign();if(this.negative===0&&N.negative!==0)return N.negative=0,_=this.isub(N),N.negative=1,_._normSign();this.length>N.length?(E=this,S=N):(E=N,S=this);for(var k=0,M=0;M<S.length;M++)_=(0|E.words[M])+(0|S.words[M])+k,this.words[M]=67108863&_,k=_>>>26;for(;k!==0&&M<E.length;M++)_=(0|E.words[M])+k,this.words[M]=67108863&_,k=_>>>26;if(this.length=E.length,k!==0)this.words[this.length]=k,this.length++;else if(E!==this)for(;M<E.length;M++)this.words[M]=E.words[M];return this},o.prototype.add=function(N){var _;return N.negative!==0&&this.negative===0?(N.negative=0,_=this.sub(N),N.negative^=1,_):N.negative===0&&this.negative!==0?(this.negative=0,_=N.sub(this),this.negative=1,_):this.length>N.length?this.clone().iadd(N):N.clone().iadd(this)},o.prototype.isub=function(N){if(N.negative!==0){N.negative=0;var _=this.iadd(N);return N.negative=1,_._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(N),this.negative=1,this._normSign();var E,S,k=this.cmp(N);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;k>0?(E=this,S=N):(E=N,S=this);for(var M=0,V=0;V<S.length;V++)M=(_=(0|E.words[V])-(0|S.words[V])+M)>>26,this.words[V]=67108863&_;for(;M!==0&&V<E.length;V++)M=(_=(0|E.words[V])+M)>>26,this.words[V]=67108863&_;if(M===0&&V<E.length&&E!==this)for(;V<E.length;V++)this.words[V]=E.words[V];return this.length=Math.max(this.length,V),E!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(N){return this.clone().isub(N)};var C=function(N,_,E){var S,k,M,V=N.words,O=_.words,X=E.words,Q=0,re=0|V[0],G=8191&re,J=re>>>13,q=0|V[1],U=8191&q,Z=q>>>13,ie=0|V[2],le=8191&ie,de=ie>>>13,fe=0|V[3],ue=8191&fe,Ae=fe>>>13,he=0|V[4],xe=8191&he,me=he>>>13,Ce=0|V[5],ke=8191&Ce,Oe=Ce>>>13,De=0|V[6],He=8191&De,Qe=De>>>13,tt=0|V[7],st=8191&tt,it=tt>>>13,pt=0|V[8],bt=8191&pt,mt=pt>>>13,Mt=0|V[9],wt=8191&Mt,et=Mt>>>13,dt=0|O[0],It=8191&dt,ht=dt>>>13,zt=0|O[1],Vt=8191&zt,Bt=zt>>>13,sr=0|O[2],Ht=8191&sr,Nt=sr>>>13,Yt=0|O[3],Ur=8191&Yt,Wt=Yt>>>13,Ir=0|O[4],Or=8191&Ir,At=Ir>>>13,fr=0|O[5],Gr=8191&fr,Qt=fr>>>13,Re=0|O[6],$e=8191&Re,Je=Re>>>13,xt=0|O[7],ar=8191&xt,Ot=xt>>>13,er=0|O[8],Jt=8191&er,qt=er>>>13,or=0|O[9],Gt=8191&or,kr=or>>>13;E.negative=N.negative^_.negative,E.length=19;var sn=(Q+(S=Math.imul(G,It))|0)+((8191&(k=(k=Math.imul(G,ht))+Math.imul(J,It)|0))<<13)|0;Q=((M=Math.imul(J,ht))+(k>>>13)|0)+(sn>>>26)|0,sn&=67108863,S=Math.imul(U,It),k=(k=Math.imul(U,ht))+Math.imul(Z,It)|0,M=Math.imul(Z,ht);var tn=(Q+(S=S+Math.imul(G,Vt)|0)|0)+((8191&(k=(k=k+Math.imul(G,Bt)|0)+Math.imul(J,Vt)|0))<<13)|0;Q=((M=M+Math.imul(J,Bt)|0)+(k>>>13)|0)+(tn>>>26)|0,tn&=67108863,S=Math.imul(le,It),k=(k=Math.imul(le,ht))+Math.imul(de,It)|0,M=Math.imul(de,ht),S=S+Math.imul(U,Vt)|0,k=(k=k+Math.imul(U,Bt)|0)+Math.imul(Z,Vt)|0,M=M+Math.imul(Z,Bt)|0;var xn=(Q+(S=S+Math.imul(G,Ht)|0)|0)+((8191&(k=(k=k+Math.imul(G,Nt)|0)+Math.imul(J,Ht)|0))<<13)|0;Q=((M=M+Math.imul(J,Nt)|0)+(k>>>13)|0)+(xn>>>26)|0,xn&=67108863,S=Math.imul(ue,It),k=(k=Math.imul(ue,ht))+Math.imul(Ae,It)|0,M=Math.imul(Ae,ht),S=S+Math.imul(le,Vt)|0,k=(k=k+Math.imul(le,Bt)|0)+Math.imul(de,Vt)|0,M=M+Math.imul(de,Bt)|0,S=S+Math.imul(U,Ht)|0,k=(k=k+Math.imul(U,Nt)|0)+Math.imul(Z,Ht)|0,M=M+Math.imul(Z,Nt)|0;var Tn=(Q+(S=S+Math.imul(G,Ur)|0)|0)+((8191&(k=(k=k+Math.imul(G,Wt)|0)+Math.imul(J,Ur)|0))<<13)|0;Q=((M=M+Math.imul(J,Wt)|0)+(k>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,S=Math.imul(xe,It),k=(k=Math.imul(xe,ht))+Math.imul(me,It)|0,M=Math.imul(me,ht),S=S+Math.imul(ue,Vt)|0,k=(k=k+Math.imul(ue,Bt)|0)+Math.imul(Ae,Vt)|0,M=M+Math.imul(Ae,Bt)|0,S=S+Math.imul(le,Ht)|0,k=(k=k+Math.imul(le,Nt)|0)+Math.imul(de,Ht)|0,M=M+Math.imul(de,Nt)|0,S=S+Math.imul(U,Ur)|0,k=(k=k+Math.imul(U,Wt)|0)+Math.imul(Z,Ur)|0,M=M+Math.imul(Z,Wt)|0;var oi=(Q+(S=S+Math.imul(G,Or)|0)|0)+((8191&(k=(k=k+Math.imul(G,At)|0)+Math.imul(J,Or)|0))<<13)|0;Q=((M=M+Math.imul(J,At)|0)+(k>>>13)|0)+(oi>>>26)|0,oi&=67108863,S=Math.imul(ke,It),k=(k=Math.imul(ke,ht))+Math.imul(Oe,It)|0,M=Math.imul(Oe,ht),S=S+Math.imul(xe,Vt)|0,k=(k=k+Math.imul(xe,Bt)|0)+Math.imul(me,Vt)|0,M=M+Math.imul(me,Bt)|0,S=S+Math.imul(ue,Ht)|0,k=(k=k+Math.imul(ue,Nt)|0)+Math.imul(Ae,Ht)|0,M=M+Math.imul(Ae,Nt)|0,S=S+Math.imul(le,Ur)|0,k=(k=k+Math.imul(le,Wt)|0)+Math.imul(de,Ur)|0,M=M+Math.imul(de,Wt)|0,S=S+Math.imul(U,Or)|0,k=(k=k+Math.imul(U,At)|0)+Math.imul(Z,Or)|0,M=M+Math.imul(Z,At)|0;var je=(Q+(S=S+Math.imul(G,Gr)|0)|0)+((8191&(k=(k=k+Math.imul(G,Qt)|0)+Math.imul(J,Gr)|0))<<13)|0;Q=((M=M+Math.imul(J,Qt)|0)+(k>>>13)|0)+(je>>>26)|0,je&=67108863,S=Math.imul(He,It),k=(k=Math.imul(He,ht))+Math.imul(Qe,It)|0,M=Math.imul(Qe,ht),S=S+Math.imul(ke,Vt)|0,k=(k=k+Math.imul(ke,Bt)|0)+Math.imul(Oe,Vt)|0,M=M+Math.imul(Oe,Bt)|0,S=S+Math.imul(xe,Ht)|0,k=(k=k+Math.imul(xe,Nt)|0)+Math.imul(me,Ht)|0,M=M+Math.imul(me,Nt)|0,S=S+Math.imul(ue,Ur)|0,k=(k=k+Math.imul(ue,Wt)|0)+Math.imul(Ae,Ur)|0,M=M+Math.imul(Ae,Wt)|0,S=S+Math.imul(le,Or)|0,k=(k=k+Math.imul(le,At)|0)+Math.imul(de,Or)|0,M=M+Math.imul(de,At)|0,S=S+Math.imul(U,Gr)|0,k=(k=k+Math.imul(U,Qt)|0)+Math.imul(Z,Gr)|0,M=M+Math.imul(Z,Qt)|0;var Ue=(Q+(S=S+Math.imul(G,$e)|0)|0)+((8191&(k=(k=k+Math.imul(G,Je)|0)+Math.imul(J,$e)|0))<<13)|0;Q=((M=M+Math.imul(J,Je)|0)+(k>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,S=Math.imul(st,It),k=(k=Math.imul(st,ht))+Math.imul(it,It)|0,M=Math.imul(it,ht),S=S+Math.imul(He,Vt)|0,k=(k=k+Math.imul(He,Bt)|0)+Math.imul(Qe,Vt)|0,M=M+Math.imul(Qe,Bt)|0,S=S+Math.imul(ke,Ht)|0,k=(k=k+Math.imul(ke,Nt)|0)+Math.imul(Oe,Ht)|0,M=M+Math.imul(Oe,Nt)|0,S=S+Math.imul(xe,Ur)|0,k=(k=k+Math.imul(xe,Wt)|0)+Math.imul(me,Ur)|0,M=M+Math.imul(me,Wt)|0,S=S+Math.imul(ue,Or)|0,k=(k=k+Math.imul(ue,At)|0)+Math.imul(Ae,Or)|0,M=M+Math.imul(Ae,At)|0,S=S+Math.imul(le,Gr)|0,k=(k=k+Math.imul(le,Qt)|0)+Math.imul(de,Gr)|0,M=M+Math.imul(de,Qt)|0,S=S+Math.imul(U,$e)|0,k=(k=k+Math.imul(U,Je)|0)+Math.imul(Z,$e)|0,M=M+Math.imul(Z,Je)|0;var ft=(Q+(S=S+Math.imul(G,ar)|0)|0)+((8191&(k=(k=k+Math.imul(G,Ot)|0)+Math.imul(J,ar)|0))<<13)|0;Q=((M=M+Math.imul(J,Ot)|0)+(k>>>13)|0)+(ft>>>26)|0,ft&=67108863,S=Math.imul(bt,It),k=(k=Math.imul(bt,ht))+Math.imul(mt,It)|0,M=Math.imul(mt,ht),S=S+Math.imul(st,Vt)|0,k=(k=k+Math.imul(st,Bt)|0)+Math.imul(it,Vt)|0,M=M+Math.imul(it,Bt)|0,S=S+Math.imul(He,Ht)|0,k=(k=k+Math.imul(He,Nt)|0)+Math.imul(Qe,Ht)|0,M=M+Math.imul(Qe,Nt)|0,S=S+Math.imul(ke,Ur)|0,k=(k=k+Math.imul(ke,Wt)|0)+Math.imul(Oe,Ur)|0,M=M+Math.imul(Oe,Wt)|0,S=S+Math.imul(xe,Or)|0,k=(k=k+Math.imul(xe,At)|0)+Math.imul(me,Or)|0,M=M+Math.imul(me,At)|0,S=S+Math.imul(ue,Gr)|0,k=(k=k+Math.imul(ue,Qt)|0)+Math.imul(Ae,Gr)|0,M=M+Math.imul(Ae,Qt)|0,S=S+Math.imul(le,$e)|0,k=(k=k+Math.imul(le,Je)|0)+Math.imul(de,$e)|0,M=M+Math.imul(de,Je)|0,S=S+Math.imul(U,ar)|0,k=(k=k+Math.imul(U,Ot)|0)+Math.imul(Z,ar)|0,M=M+Math.imul(Z,Ot)|0;var _t=(Q+(S=S+Math.imul(G,Jt)|0)|0)+((8191&(k=(k=k+Math.imul(G,qt)|0)+Math.imul(J,Jt)|0))<<13)|0;Q=((M=M+Math.imul(J,qt)|0)+(k>>>13)|0)+(_t>>>26)|0,_t&=67108863,S=Math.imul(wt,It),k=(k=Math.imul(wt,ht))+Math.imul(et,It)|0,M=Math.imul(et,ht),S=S+Math.imul(bt,Vt)|0,k=(k=k+Math.imul(bt,Bt)|0)+Math.imul(mt,Vt)|0,M=M+Math.imul(mt,Bt)|0,S=S+Math.imul(st,Ht)|0,k=(k=k+Math.imul(st,Nt)|0)+Math.imul(it,Ht)|0,M=M+Math.imul(it,Nt)|0,S=S+Math.imul(He,Ur)|0,k=(k=k+Math.imul(He,Wt)|0)+Math.imul(Qe,Ur)|0,M=M+Math.imul(Qe,Wt)|0,S=S+Math.imul(ke,Or)|0,k=(k=k+Math.imul(ke,At)|0)+Math.imul(Oe,Or)|0,M=M+Math.imul(Oe,At)|0,S=S+Math.imul(xe,Gr)|0,k=(k=k+Math.imul(xe,Qt)|0)+Math.imul(me,Gr)|0,M=M+Math.imul(me,Qt)|0,S=S+Math.imul(ue,$e)|0,k=(k=k+Math.imul(ue,Je)|0)+Math.imul(Ae,$e)|0,M=M+Math.imul(Ae,Je)|0,S=S+Math.imul(le,ar)|0,k=(k=k+Math.imul(le,Ot)|0)+Math.imul(de,ar)|0,M=M+Math.imul(de,Ot)|0,S=S+Math.imul(U,Jt)|0,k=(k=k+Math.imul(U,qt)|0)+Math.imul(Z,Jt)|0,M=M+Math.imul(Z,qt)|0;var $t=(Q+(S=S+Math.imul(G,Gt)|0)|0)+((8191&(k=(k=k+Math.imul(G,kr)|0)+Math.imul(J,Gt)|0))<<13)|0;Q=((M=M+Math.imul(J,kr)|0)+(k>>>13)|0)+($t>>>26)|0,$t&=67108863,S=Math.imul(wt,Vt),k=(k=Math.imul(wt,Bt))+Math.imul(et,Vt)|0,M=Math.imul(et,Bt),S=S+Math.imul(bt,Ht)|0,k=(k=k+Math.imul(bt,Nt)|0)+Math.imul(mt,Ht)|0,M=M+Math.imul(mt,Nt)|0,S=S+Math.imul(st,Ur)|0,k=(k=k+Math.imul(st,Wt)|0)+Math.imul(it,Ur)|0,M=M+Math.imul(it,Wt)|0,S=S+Math.imul(He,Or)|0,k=(k=k+Math.imul(He,At)|0)+Math.imul(Qe,Or)|0,M=M+Math.imul(Qe,At)|0,S=S+Math.imul(ke,Gr)|0,k=(k=k+Math.imul(ke,Qt)|0)+Math.imul(Oe,Gr)|0,M=M+Math.imul(Oe,Qt)|0,S=S+Math.imul(xe,$e)|0,k=(k=k+Math.imul(xe,Je)|0)+Math.imul(me,$e)|0,M=M+Math.imul(me,Je)|0,S=S+Math.imul(ue,ar)|0,k=(k=k+Math.imul(ue,Ot)|0)+Math.imul(Ae,ar)|0,M=M+Math.imul(Ae,Ot)|0,S=S+Math.imul(le,Jt)|0,k=(k=k+Math.imul(le,qt)|0)+Math.imul(de,Jt)|0,M=M+Math.imul(de,qt)|0;var Ct=(Q+(S=S+Math.imul(U,Gt)|0)|0)+((8191&(k=(k=k+Math.imul(U,kr)|0)+Math.imul(Z,Gt)|0))<<13)|0;Q=((M=M+Math.imul(Z,kr)|0)+(k>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,S=Math.imul(wt,Ht),k=(k=Math.imul(wt,Nt))+Math.imul(et,Ht)|0,M=Math.imul(et,Nt),S=S+Math.imul(bt,Ur)|0,k=(k=k+Math.imul(bt,Wt)|0)+Math.imul(mt,Ur)|0,M=M+Math.imul(mt,Wt)|0,S=S+Math.imul(st,Or)|0,k=(k=k+Math.imul(st,At)|0)+Math.imul(it,Or)|0,M=M+Math.imul(it,At)|0,S=S+Math.imul(He,Gr)|0,k=(k=k+Math.imul(He,Qt)|0)+Math.imul(Qe,Gr)|0,M=M+Math.imul(Qe,Qt)|0,S=S+Math.imul(ke,$e)|0,k=(k=k+Math.imul(ke,Je)|0)+Math.imul(Oe,$e)|0,M=M+Math.imul(Oe,Je)|0,S=S+Math.imul(xe,ar)|0,k=(k=k+Math.imul(xe,Ot)|0)+Math.imul(me,ar)|0,M=M+Math.imul(me,Ot)|0,S=S+Math.imul(ue,Jt)|0,k=(k=k+Math.imul(ue,qt)|0)+Math.imul(Ae,Jt)|0,M=M+Math.imul(Ae,qt)|0;var Rt=(Q+(S=S+Math.imul(le,Gt)|0)|0)+((8191&(k=(k=k+Math.imul(le,kr)|0)+Math.imul(de,Gt)|0))<<13)|0;Q=((M=M+Math.imul(de,kr)|0)+(k>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,S=Math.imul(wt,Ur),k=(k=Math.imul(wt,Wt))+Math.imul(et,Ur)|0,M=Math.imul(et,Wt),S=S+Math.imul(bt,Or)|0,k=(k=k+Math.imul(bt,At)|0)+Math.imul(mt,Or)|0,M=M+Math.imul(mt,At)|0,S=S+Math.imul(st,Gr)|0,k=(k=k+Math.imul(st,Qt)|0)+Math.imul(it,Gr)|0,M=M+Math.imul(it,Qt)|0,S=S+Math.imul(He,$e)|0,k=(k=k+Math.imul(He,Je)|0)+Math.imul(Qe,$e)|0,M=M+Math.imul(Qe,Je)|0,S=S+Math.imul(ke,ar)|0,k=(k=k+Math.imul(ke,Ot)|0)+Math.imul(Oe,ar)|0,M=M+Math.imul(Oe,Ot)|0,S=S+Math.imul(xe,Jt)|0,k=(k=k+Math.imul(xe,qt)|0)+Math.imul(me,Jt)|0,M=M+Math.imul(me,qt)|0;var Vr=(Q+(S=S+Math.imul(ue,Gt)|0)|0)+((8191&(k=(k=k+Math.imul(ue,kr)|0)+Math.imul(Ae,Gt)|0))<<13)|0;Q=((M=M+Math.imul(Ae,kr)|0)+(k>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,S=Math.imul(wt,Or),k=(k=Math.imul(wt,At))+Math.imul(et,Or)|0,M=Math.imul(et,At),S=S+Math.imul(bt,Gr)|0,k=(k=k+Math.imul(bt,Qt)|0)+Math.imul(mt,Gr)|0,M=M+Math.imul(mt,Qt)|0,S=S+Math.imul(st,$e)|0,k=(k=k+Math.imul(st,Je)|0)+Math.imul(it,$e)|0,M=M+Math.imul(it,Je)|0,S=S+Math.imul(He,ar)|0,k=(k=k+Math.imul(He,Ot)|0)+Math.imul(Qe,ar)|0,M=M+Math.imul(Qe,Ot)|0,S=S+Math.imul(ke,Jt)|0,k=(k=k+Math.imul(ke,qt)|0)+Math.imul(Oe,Jt)|0,M=M+Math.imul(Oe,qt)|0;var _r=(Q+(S=S+Math.imul(xe,Gt)|0)|0)+((8191&(k=(k=k+Math.imul(xe,kr)|0)+Math.imul(me,Gt)|0))<<13)|0;Q=((M=M+Math.imul(me,kr)|0)+(k>>>13)|0)+(_r>>>26)|0,_r&=67108863,S=Math.imul(wt,Gr),k=(k=Math.imul(wt,Qt))+Math.imul(et,Gr)|0,M=Math.imul(et,Qt),S=S+Math.imul(bt,$e)|0,k=(k=k+Math.imul(bt,Je)|0)+Math.imul(mt,$e)|0,M=M+Math.imul(mt,Je)|0,S=S+Math.imul(st,ar)|0,k=(k=k+Math.imul(st,Ot)|0)+Math.imul(it,ar)|0,M=M+Math.imul(it,Ot)|0,S=S+Math.imul(He,Jt)|0,k=(k=k+Math.imul(He,qt)|0)+Math.imul(Qe,Jt)|0,M=M+Math.imul(Qe,qt)|0;var br=(Q+(S=S+Math.imul(ke,Gt)|0)|0)+((8191&(k=(k=k+Math.imul(ke,kr)|0)+Math.imul(Oe,Gt)|0))<<13)|0;Q=((M=M+Math.imul(Oe,kr)|0)+(k>>>13)|0)+(br>>>26)|0,br&=67108863,S=Math.imul(wt,$e),k=(k=Math.imul(wt,Je))+Math.imul(et,$e)|0,M=Math.imul(et,Je),S=S+Math.imul(bt,ar)|0,k=(k=k+Math.imul(bt,Ot)|0)+Math.imul(mt,ar)|0,M=M+Math.imul(mt,Ot)|0,S=S+Math.imul(st,Jt)|0,k=(k=k+Math.imul(st,qt)|0)+Math.imul(it,Jt)|0,M=M+Math.imul(it,qt)|0;var pr=(Q+(S=S+Math.imul(He,Gt)|0)|0)+((8191&(k=(k=k+Math.imul(He,kr)|0)+Math.imul(Qe,Gt)|0))<<13)|0;Q=((M=M+Math.imul(Qe,kr)|0)+(k>>>13)|0)+(pr>>>26)|0,pr&=67108863,S=Math.imul(wt,ar),k=(k=Math.imul(wt,Ot))+Math.imul(et,ar)|0,M=Math.imul(et,Ot),S=S+Math.imul(bt,Jt)|0,k=(k=k+Math.imul(bt,qt)|0)+Math.imul(mt,Jt)|0,M=M+Math.imul(mt,qt)|0;var Tr=(Q+(S=S+Math.imul(st,Gt)|0)|0)+((8191&(k=(k=k+Math.imul(st,kr)|0)+Math.imul(it,Gt)|0))<<13)|0;Q=((M=M+Math.imul(it,kr)|0)+(k>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,S=Math.imul(wt,Jt),k=(k=Math.imul(wt,qt))+Math.imul(et,Jt)|0,M=Math.imul(et,qt);var an=(Q+(S=S+Math.imul(bt,Gt)|0)|0)+((8191&(k=(k=k+Math.imul(bt,kr)|0)+Math.imul(mt,Gt)|0))<<13)|0;Q=((M=M+Math.imul(mt,kr)|0)+(k>>>13)|0)+(an>>>26)|0,an&=67108863;var Sr=(Q+(S=Math.imul(wt,Gt))|0)+((8191&(k=(k=Math.imul(wt,kr))+Math.imul(et,Gt)|0))<<13)|0;return Q=((M=Math.imul(et,kr))+(k>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,X[0]=sn,X[1]=tn,X[2]=xn,X[3]=Tn,X[4]=oi,X[5]=je,X[6]=Ue,X[7]=ft,X[8]=_t,X[9]=$t,X[10]=Ct,X[11]=Rt,X[12]=Vr,X[13]=_r,X[14]=br,X[15]=pr,X[16]=Tr,X[17]=an,X[18]=Sr,Q!==0&&(X[19]=Q,E.length++),E};function P(N,_,E){E.negative=_.negative^N.negative,E.length=N.length+_.length;for(var S=0,k=0,M=0;M<E.length-1;M++){var V=k;k=0;for(var O=67108863&S,X=Math.min(M,_.length-1),Q=Math.max(0,M-N.length+1);Q<=X;Q++){var re=M-Q,G=(0|N.words[re])*(0|_.words[Q]),J=67108863&G;O=67108863&(J=J+O|0),k+=(V=(V=V+(G/67108864|0)|0)+(J>>>26)|0)>>>26,V&=67108863}E.words[M]=O,S=V,V=k}return S!==0?E.words[M]=S:E.length--,E._strip()}function F(N,_,E){return P(N,_,E)}Math.imul||(C=w),o.prototype.mulTo=function(N,_){var E=this.length+N.length;return this.length===10&&N.length===10?C(this,N,_):E<63?w(this,N,_):E<1024?P(this,N,_):F(this,N,_)},o.prototype.mul=function(N){var _=new o(null);return _.words=new Array(this.length+N.length),this.mulTo(N,_)},o.prototype.mulf=function(N){var _=new o(null);return _.words=new Array(this.length+N.length),F(this,N,_)},o.prototype.imul=function(N){return this.clone().mulTo(N,this)},o.prototype.imuln=function(N){var _=N<0;_&&(N=-N),l(typeof N=="number"),l(N<67108864);for(var E=0,S=0;S<this.length;S++){var k=(0|this.words[S])*N,M=(67108863&k)+(67108863&E);E>>=26,E+=k/67108864|0,E+=M>>>26,this.words[S]=67108863&M}return E!==0&&(this.words[S]=E,this.length++),_?this.ineg():this},o.prototype.muln=function(N){return this.clone().imuln(N)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(N){var _=(function(M){for(var V=new Array(M.bitLength()),O=0;O<V.length;O++){var X=O/26|0,Q=O%26;V[O]=M.words[X]>>>Q&1}return V})(N);if(_.length===0)return new o(1);for(var E=this,S=0;S<_.length&&_[S]===0;S++,E=E.sqr());if(++S<_.length)for(var k=E.sqr();S<_.length;S++,k=k.sqr())_[S]!==0&&(E=E.mul(k));return E},o.prototype.iushln=function(N){l(typeof N=="number"&&N>=0);var _,E=N%26,S=(N-E)/26,k=67108863>>>26-E<<26-E;if(E!==0){var M=0;for(_=0;_<this.length;_++){var V=this.words[_]&k,O=(0|this.words[_])-V<<E;this.words[_]=O|M,M=V>>>26-E}M&&(this.words[_]=M,this.length++)}if(S!==0){for(_=this.length-1;_>=0;_--)this.words[_+S]=this.words[_];for(_=0;_<S;_++)this.words[_]=0;this.length+=S}return this._strip()},o.prototype.ishln=function(N){return l(this.negative===0),this.iushln(N)},o.prototype.iushrn=function(N,_,E){var S;l(typeof N=="number"&&N>=0),S=_?(_-_%26)/26:0;var k=N%26,M=Math.min((N-k)/26,this.length),V=67108863^67108863>>>k<<k,O=E;if(S-=M,S=Math.max(0,S),O){for(var X=0;X<M;X++)O.words[X]=this.words[X];O.length=M}if(M!==0)if(this.length>M)for(this.length-=M,X=0;X<this.length;X++)this.words[X]=this.words[X+M];else this.words[0]=0,this.length=1;var Q=0;for(X=this.length-1;X>=0&&(Q!==0||X>=S);X--){var re=0|this.words[X];this.words[X]=Q<<26-k|re>>>k,Q=re&V}return O&&Q!==0&&(O.words[O.length++]=Q),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(N,_,E){return l(this.negative===0),this.iushrn(N,_,E)},o.prototype.shln=function(N){return this.clone().ishln(N)},o.prototype.ushln=function(N){return this.clone().iushln(N)},o.prototype.shrn=function(N){return this.clone().ishrn(N)},o.prototype.ushrn=function(N){return this.clone().iushrn(N)},o.prototype.testn=function(N){l(typeof N=="number"&&N>=0);var _=N%26,E=(N-_)/26,S=1<<_;return!(this.length<=E)&&!!(this.words[E]&S)},o.prototype.imaskn=function(N){l(typeof N=="number"&&N>=0);var _=N%26,E=(N-_)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(_!==0&&E++,this.length=Math.min(E,this.length),_!==0){var S=67108863^67108863>>>_<<_;this.words[this.length-1]&=S}return this._strip()},o.prototype.maskn=function(N){return this.clone().imaskn(N)},o.prototype.iaddn=function(N){return l(typeof N=="number"),l(N<67108864),N<0?this.isubn(-N):this.negative!==0?this.length===1&&(0|this.words[0])<=N?(this.words[0]=N-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(N),this.negative=1,this):this._iaddn(N)},o.prototype._iaddn=function(N){this.words[0]+=N;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},o.prototype.isubn=function(N){if(l(typeof N=="number"),l(N<67108864),N<0)return this.iaddn(-N);if(this.negative!==0)return this.negative=0,this.iaddn(N),this.negative=1,this;if(this.words[0]-=N,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},o.prototype.addn=function(N){return this.clone().iaddn(N)},o.prototype.subn=function(N){return this.clone().isubn(N)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(N,_,E){var S,k,M=N.length+E;this._expand(M);var V=0;for(S=0;S<N.length;S++){k=(0|this.words[S+E])+V;var O=(0|N.words[S])*_;V=((k-=67108863&O)>>26)-(O/67108864|0),this.words[S+E]=67108863&k}for(;S<this.length-E;S++)V=(k=(0|this.words[S+E])+V)>>26,this.words[S+E]=67108863&k;if(V===0)return this._strip();for(l(V===-1),V=0,S=0;S<this.length;S++)V=(k=-(0|this.words[S])+V)>>26,this.words[S]=67108863&k;return this.negative=1,this._strip()},o.prototype._wordDiv=function(N,_){var E=(this.length,N.length),S=this.clone(),k=N,M=0|k.words[k.length-1];(E=26-this._countBits(M))!==0&&(k=k.ushln(E),S.iushln(E),M=0|k.words[k.length-1]);var V,O=S.length-k.length;if(_!=="mod"){(V=new o(null)).length=O+1,V.words=new Array(V.length);for(var X=0;X<V.length;X++)V.words[X]=0}var Q=S.clone()._ishlnsubmul(k,1,O);Q.negative===0&&(S=Q,V&&(V.words[O]=1));for(var re=O-1;re>=0;re--){var G=67108864*(0|S.words[k.length+re])+(0|S.words[k.length+re-1]);for(G=Math.min(G/M|0,67108863),S._ishlnsubmul(k,G,re);S.negative!==0;)G--,S.negative=0,S._ishlnsubmul(k,1,re),S.isZero()||(S.negative^=1);V&&(V.words[re]=G)}return V&&V._strip(),S._strip(),_!=="div"&&E!==0&&S.iushrn(E),{div:V||null,mod:S}},o.prototype.divmod=function(N,_,E){return l(!N.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&N.negative===0?(M=this.neg().divmod(N,_),_!=="mod"&&(S=M.div.neg()),_!=="div"&&(k=M.mod.neg(),E&&k.negative!==0&&k.iadd(N)),{div:S,mod:k}):this.negative===0&&N.negative!==0?(M=this.divmod(N.neg(),_),_!=="mod"&&(S=M.div.neg()),{div:S,mod:M.mod}):(this.negative&N.negative)!=0?(M=this.neg().divmod(N.neg(),_),_!=="div"&&(k=M.mod.neg(),E&&k.negative!==0&&k.isub(N)),{div:M.div,mod:k}):N.length>this.length||this.cmp(N)<0?{div:new o(0),mod:this}:N.length===1?_==="div"?{div:this.divn(N.words[0]),mod:null}:_==="mod"?{div:null,mod:new o(this.modrn(N.words[0]))}:{div:this.divn(N.words[0]),mod:new o(this.modrn(N.words[0]))}:this._wordDiv(N,_);var S,k,M},o.prototype.div=function(N){return this.divmod(N,"div",!1).div},o.prototype.mod=function(N){return this.divmod(N,"mod",!1).mod},o.prototype.umod=function(N){return this.divmod(N,"mod",!0).mod},o.prototype.divRound=function(N){var _=this.divmod(N);if(_.mod.isZero())return _.div;var E=_.div.negative!==0?_.mod.isub(N):_.mod,S=N.ushrn(1),k=N.andln(1),M=E.cmp(S);return M<0||k===1&&M===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},o.prototype.modrn=function(N){var _=N<0;_&&(N=-N),l(N<=67108863);for(var E=(1<<26)%N,S=0,k=this.length-1;k>=0;k--)S=(E*S+(0|this.words[k]))%N;return _?-S:S},o.prototype.modn=function(N){return this.modrn(N)},o.prototype.idivn=function(N){var _=N<0;_&&(N=-N),l(N<=67108863);for(var E=0,S=this.length-1;S>=0;S--){var k=(0|this.words[S])+67108864*E;this.words[S]=k/N|0,E=k%N}return this._strip(),_?this.ineg():this},o.prototype.divn=function(N){return this.clone().idivn(N)},o.prototype.egcd=function(N){l(N.negative===0),l(!N.isZero());var _=this,E=N.clone();_=_.negative!==0?_.umod(N):_.clone();for(var S=new o(1),k=new o(0),M=new o(0),V=new o(1),O=0;_.isEven()&&E.isEven();)_.iushrn(1),E.iushrn(1),++O;for(var X=E.clone(),Q=_.clone();!_.isZero();){for(var re=0,G=1;(_.words[0]&G)==0&&re<26;++re,G<<=1);if(re>0)for(_.iushrn(re);re-- >0;)(S.isOdd()||k.isOdd())&&(S.iadd(X),k.isub(Q)),S.iushrn(1),k.iushrn(1);for(var J=0,q=1;(E.words[0]&q)==0&&J<26;++J,q<<=1);if(J>0)for(E.iushrn(J);J-- >0;)(M.isOdd()||V.isOdd())&&(M.iadd(X),V.isub(Q)),M.iushrn(1),V.iushrn(1);_.cmp(E)>=0?(_.isub(E),S.isub(M),k.isub(V)):(E.isub(_),M.isub(S),V.isub(k))}return{a:M,b:V,gcd:E.iushln(O)}},o.prototype._invmp=function(N){l(N.negative===0),l(!N.isZero());var _=this,E=N.clone();_=_.negative!==0?_.umod(N):_.clone();for(var S,k=new o(1),M=new o(0),V=E.clone();_.cmpn(1)>0&&E.cmpn(1)>0;){for(var O=0,X=1;(_.words[0]&X)==0&&O<26;++O,X<<=1);if(O>0)for(_.iushrn(O);O-- >0;)k.isOdd()&&k.iadd(V),k.iushrn(1);for(var Q=0,re=1;(E.words[0]&re)==0&&Q<26;++Q,re<<=1);if(Q>0)for(E.iushrn(Q);Q-- >0;)M.isOdd()&&M.iadd(V),M.iushrn(1);_.cmp(E)>=0?(_.isub(E),k.isub(M)):(E.isub(_),M.isub(k))}return(S=_.cmpn(1)===0?k:M).cmpn(0)<0&&S.iadd(N),S},o.prototype.gcd=function(N){if(this.isZero())return N.abs();if(N.isZero())return this.abs();var _=this.clone(),E=N.clone();_.negative=0,E.negative=0;for(var S=0;_.isEven()&&E.isEven();S++)_.iushrn(1),E.iushrn(1);for(;;){for(;_.isEven();)_.iushrn(1);for(;E.isEven();)E.iushrn(1);var k=_.cmp(E);if(k<0){var M=_;_=E,E=M}else if(k===0||E.cmpn(1)===0)break;_.isub(E)}return E.iushln(S)},o.prototype.invm=function(N){return this.egcd(N).a.umod(N)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(N){return this.words[0]&N},o.prototype.bincn=function(N){l(typeof N=="number");var _=N%26,E=(N-_)/26,S=1<<_;if(this.length<=E)return this._expand(E+1),this.words[E]|=S,this;for(var k=S,M=E;k!==0&&M<this.length;M++){var V=0|this.words[M];k=(V+=k)>>>26,V&=67108863,this.words[M]=V}return k!==0&&(this.words[M]=k,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(N){var _,E=N<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;if(this._strip(),this.length>1)_=1;else{E&&(N=-N),l(N<=67108863,"Number is too big");var S=0|this.words[0];_=S===N?0:S<N?-1:1}return this.negative!==0?0|-_:_},o.prototype.cmp=function(N){if(this.negative!==0&&N.negative===0)return-1;if(this.negative===0&&N.negative!==0)return 1;var _=this.ucmp(N);return this.negative!==0?0|-_:_},o.prototype.ucmp=function(N){if(this.length>N.length)return 1;if(this.length<N.length)return-1;for(var _=0,E=this.length-1;E>=0;E--){var S=0|this.words[E],k=0|N.words[E];if(S!==k){S<k?_=-1:S>k&&(_=1);break}}return _},o.prototype.gtn=function(N){return this.cmpn(N)===1},o.prototype.gt=function(N){return this.cmp(N)===1},o.prototype.gten=function(N){return this.cmpn(N)>=0},o.prototype.gte=function(N){return this.cmp(N)>=0},o.prototype.ltn=function(N){return this.cmpn(N)===-1},o.prototype.lt=function(N){return this.cmp(N)===-1},o.prototype.lten=function(N){return this.cmpn(N)<=0},o.prototype.lte=function(N){return this.cmp(N)<=0},o.prototype.eqn=function(N){return this.cmpn(N)===0},o.prototype.eq=function(N){return this.cmp(N)===0},o.red=function(N){return new T(N)},o.prototype.toRed=function(N){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),N.convertTo(this)._forceRed(N)},o.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(N){return this.red=N,this},o.prototype.forceRed=function(N){return l(!this.red,"Already a number in reduction context"),this._forceRed(N)},o.prototype.redAdd=function(N){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,N)},o.prototype.redIAdd=function(N){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,N)},o.prototype.redSub=function(N){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,N)},o.prototype.redISub=function(N){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,N)},o.prototype.redShl=function(N){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,N)},o.prototype.redMul=function(N){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.mul(this,N)},o.prototype.redIMul=function(N){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.imul(this,N)},o.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(N){return l(this.red&&!N.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,N)};var L={k256:null,p224:null,p192:null,p25519:null};function j(N,_){this.name=N,this.p=new o(_,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function z(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function $(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function B(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(N){if(typeof N=="string"){var _=o._prime(N);this.m=_.p,this.prime=_}else l(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}function R(N){T.call(this,N),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}j.prototype._tmp=function(){var N=new o(null);return N.words=new Array(Math.ceil(this.n/13)),N},j.prototype.ireduce=function(N){var _,E=N;do this.split(E,this.tmp),_=(E=(E=this.imulK(E)).iadd(this.tmp)).bitLength();while(_>this.n);var S=_<this.n?-1:E.ucmp(this.p);return S===0?(E.words[0]=0,E.length=1):S>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},j.prototype.split=function(N,_){N.iushrn(this.n,0,_)},j.prototype.imulK=function(N){return N.imul(this.k)},c(I,j),I.prototype.split=function(N,_){for(var E=Math.min(N.length,9),S=0;S<E;S++)_.words[S]=N.words[S];if(_.length=E,N.length<=9)return N.words[0]=0,void(N.length=1);var k=N.words[9];for(_.words[_.length++]=4194303&k,S=10;S<N.length;S++){var M=0|N.words[S];N.words[S-10]=(4194303&M)<<4|k>>>22,k=M}k>>>=22,N.words[S-10]=k,k===0&&N.length>10?N.length-=10:N.length-=9},I.prototype.imulK=function(N){N.words[N.length]=0,N.words[N.length+1]=0,N.length+=2;for(var _=0,E=0;E<N.length;E++){var S=0|N.words[E];_+=977*S,N.words[E]=67108863&_,_=64*S+(_/67108864|0)}return N.words[N.length-1]===0&&(N.length--,N.words[N.length-1]===0&&N.length--),N},c(z,j),c($,j),c(B,j),B.prototype.imulK=function(N){for(var _=0,E=0;E<N.length;E++){var S=19*(0|N.words[E])+_,k=67108863&S;S>>>=26,N.words[E]=k,_=S}return _!==0&&(N.words[N.length++]=_),N},o._prime=function(N){if(L[N])return L[N];var _;if(N==="k256")_=new I;else if(N==="p224")_=new z;else if(N==="p192")_=new $;else{if(N!=="p25519")throw new Error("Unknown prime "+N);_=new B}return L[N]=_,_},T.prototype._verify1=function(N){l(N.negative===0,"red works only with positives"),l(N.red,"red works only with red numbers")},T.prototype._verify2=function(N,_){l((N.negative|_.negative)==0,"red works only with positives"),l(N.red&&N.red===_.red,"red works only with red numbers")},T.prototype.imod=function(N){return this.prime?this.prime.ireduce(N)._forceRed(this):(m(N,N.umod(this.m)._forceRed(this)),N)},T.prototype.neg=function(N){return N.isZero()?N.clone():this.m.sub(N)._forceRed(this)},T.prototype.add=function(N,_){this._verify2(N,_);var E=N.add(_);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},T.prototype.iadd=function(N,_){this._verify2(N,_);var E=N.iadd(_);return E.cmp(this.m)>=0&&E.isub(this.m),E},T.prototype.sub=function(N,_){this._verify2(N,_);var E=N.sub(_);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},T.prototype.isub=function(N,_){this._verify2(N,_);var E=N.isub(_);return E.cmpn(0)<0&&E.iadd(this.m),E},T.prototype.shl=function(N,_){return this._verify1(N),this.imod(N.ushln(_))},T.prototype.imul=function(N,_){return this._verify2(N,_),this.imod(N.imul(_))},T.prototype.mul=function(N,_){return this._verify2(N,_),this.imod(N.mul(_))},T.prototype.isqr=function(N){return this.imul(N,N.clone())},T.prototype.sqr=function(N){return this.mul(N,N)},T.prototype.sqrt=function(N){if(N.isZero())return N.clone();var _=this.m.andln(3);if(l(_%2==1),_===3){var E=this.m.add(new o(1)).iushrn(2);return this.pow(N,E)}for(var S=this.m.subn(1),k=0;!S.isZero()&&S.andln(1)===0;)k++,S.iushrn(1);l(!S.isZero());var M=new o(1).toRed(this),V=M.redNeg(),O=this.m.subn(1).iushrn(1),X=this.m.bitLength();for(X=new o(2*X*X).toRed(this);this.pow(X,O).cmp(V)!==0;)X.redIAdd(V);for(var Q=this.pow(X,S),re=this.pow(N,S.addn(1).iushrn(1)),G=this.pow(N,S),J=k;G.cmp(M)!==0;){for(var q=G,U=0;q.cmp(M)!==0;U++)q=q.redSqr();l(U<J);var Z=this.pow(Q,new o(1).iushln(J-U-1));re=re.redMul(Z),Q=Z.redSqr(),G=G.redMul(Q),J=U}return re},T.prototype.invm=function(N){var _=N._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},T.prototype.pow=function(N,_){if(_.isZero())return new o(1).toRed(this);if(_.cmpn(1)===0)return N.clone();var E=new Array(16);E[0]=new o(1).toRed(this),E[1]=N;for(var S=2;S<E.length;S++)E[S]=this.mul(E[S-1],N);var k=E[0],M=0,V=0,O=_.bitLength()%26;for(O===0&&(O=26),S=_.length-1;S>=0;S--){for(var X=_.words[S],Q=O-1;Q>=0;Q--){var re=X>>Q&1;k!==E[0]&&(k=this.sqr(k)),re!==0||M!==0?(M<<=1,M|=re,(++V===4||S===0&&Q===0)&&(k=this.mul(k,E[M]),V=0,M=0)):V=0}O=26}return k},T.prototype.convertTo=function(N){var _=N.umod(this.m);return _===N?_.clone():_},T.prototype.convertFrom=function(N){var _=N.clone();return _.red=null,_},o.mont=function(N){return new R(N)},c(R,T),R.prototype.convertTo=function(N){return this.imod(N.ushln(this.shift))},R.prototype.convertFrom=function(N){var _=this.imod(N.mul(this.rinv));return _.red=null,_},R.prototype.imul=function(N,_){if(N.isZero()||_.isZero())return N.words[0]=0,N.length=1,N;var E=N.imul(_),S=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=E.isub(S).iushrn(this.shift),M=k;return k.cmp(this.m)>=0?M=k.isub(this.m):k.cmpn(0)<0&&(M=k.iadd(this.m)),M._forceRed(this)},R.prototype.mul=function(N,_){if(N.isZero()||_.isZero())return new o(0)._forceRed(this);var E=N.mul(_),S=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=E.isub(S).iushrn(this.shift),M=k;return k.cmp(this.m)>=0?M=k.isub(this.m):k.cmpn(0)<0&&(M=k.iadd(this.m)),M._forceRed(this)},R.prototype.invm=function(N){return this.imod(N._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(t,n,i){var a;function s(c){this.rand=c}if(n.exports=function(c){return a||(a=new s(null)),a.generate(c)},n.exports.Rand=s,s.prototype.generate=function(c){return this._rand(c)},s.prototype._rand=function(c){if(this.rand.getBytes)return this.rand.getBytes(c);for(var o=new Uint8Array(c),u=0;u<o.length;u++)o[u]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(c){var o=new Uint8Array(c);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(c){var o=new Uint8Array(c);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var l=t("crypto");if(typeof l.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(c){return l.randomBytes(c)}}catch{}},{crypto:188}],188:[function(t,n,i){},{}],189:[function(t,n,i){var a=t("safe-buffer").Buffer;function s(d){a.isBuffer(d)||(d=a.from(d));for(var h=d.length/4|0,m=new Array(h),g=0;g<h;g++)m[g]=d.readUInt32BE(4*g);return m}function l(d){for(;0<d.length;d++)d[0]=0}function c(d,h,m,g,p){for(var y,v,w,C,P=m[0],F=m[1],L=m[2],j=m[3],I=d[0]^h[0],z=d[1]^h[1],$=d[2]^h[2],B=d[3]^h[3],T=4,R=1;R<p;R++)y=P[I>>>24]^F[z>>>16&255]^L[$>>>8&255]^j[255&B]^h[T++],v=P[z>>>24]^F[$>>>16&255]^L[B>>>8&255]^j[255&I]^h[T++],w=P[$>>>24]^F[B>>>16&255]^L[I>>>8&255]^j[255&z]^h[T++],C=P[B>>>24]^F[I>>>16&255]^L[z>>>8&255]^j[255&$]^h[T++],I=y,z=v,$=w,B=C;return y=(g[I>>>24]<<24|g[z>>>16&255]<<16|g[$>>>8&255]<<8|g[255&B])^h[T++],v=(g[z>>>24]<<24|g[$>>>16&255]<<16|g[B>>>8&255]<<8|g[255&I])^h[T++],w=(g[$>>>24]<<24|g[B>>>16&255]<<16|g[I>>>8&255]<<8|g[255&z])^h[T++],C=(g[B>>>24]<<24|g[I>>>16&255]<<16|g[z>>>8&255]<<8|g[255&$])^h[T++],[y>>>=0,v>>>=0,w>>>=0,C>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],u=(function(){for(var d=new Array(256),h=0;h<256;h++)d[h]=h<128?h<<1:h<<1^283;for(var m=[],g=[],p=[[],[],[],[]],y=[[],[],[],[]],v=0,w=0,C=0;C<256;++C){var P=w^w<<1^w<<2^w<<3^w<<4;P=P>>>8^255&P^99,m[v]=P,g[P]=v;var F=d[v],L=d[F],j=d[L],I=257*d[P]^16843008*P;p[0][v]=I<<24|I>>>8,p[1][v]=I<<16|I>>>16,p[2][v]=I<<8|I>>>24,p[3][v]=I,I=16843009*j^65537*L^257*F^16843008*v,y[0][P]=I<<24|I>>>8,y[1][P]=I<<16|I>>>16,y[2][P]=I<<8|I>>>24,y[3][P]=I,v===0?v=w=1:(v=F^d[d[d[j^F]]],w^=d[d[w]])}return{SBOX:m,INV_SBOX:g,SUB_MIX:p,INV_SUB_MIX:y}})();function f(d){this._key=s(d),this._reset()}f.blockSize=16,f.keySize=32,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var d=this._key,h=d.length,m=h+6,g=4*(m+1),p=[],y=0;y<h;y++)p[y]=d[y];for(y=h;y<g;y++){var v=p[y-1];y%h==0?(v=v<<8|v>>>24,v=u.SBOX[v>>>24]<<24|u.SBOX[v>>>16&255]<<16|u.SBOX[v>>>8&255]<<8|u.SBOX[255&v],v^=o[y/h|0]<<24):h>6&&y%h==4&&(v=u.SBOX[v>>>24]<<24|u.SBOX[v>>>16&255]<<16|u.SBOX[v>>>8&255]<<8|u.SBOX[255&v]),p[y]=p[y-h]^v}for(var w=[],C=0;C<g;C++){var P=g-C,F=p[P-(C%4?0:4)];w[C]=C<4||P<=4?F:u.INV_SUB_MIX[0][u.SBOX[F>>>24]]^u.INV_SUB_MIX[1][u.SBOX[F>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[F>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&F]]}this._nRounds=m,this._keySchedule=p,this._invKeySchedule=w},f.prototype.encryptBlockRaw=function(d){return c(d=s(d),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},f.prototype.encryptBlock=function(d){var h=this.encryptBlockRaw(d),m=a.allocUnsafe(16);return m.writeUInt32BE(h[0],0),m.writeUInt32BE(h[1],4),m.writeUInt32BE(h[2],8),m.writeUInt32BE(h[3],12),m},f.prototype.decryptBlock=function(d){var h=(d=s(d))[1];d[1]=d[3],d[3]=h;var m=c(d,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),g=a.allocUnsafe(16);return g.writeUInt32BE(m[0],0),g.writeUInt32BE(m[3],4),g.writeUInt32BE(m[2],8),g.writeUInt32BE(m[1],12),g},f.prototype.scrub=function(){l(this._keySchedule),l(this._invKeySchedule),l(this._key)},n.exports.AES=f},{"safe-buffer":494}],190:[function(t,n,i){var a=t("./aes"),s=t("safe-buffer").Buffer,l=t("cipher-base"),c=t("inherits"),o=t("./ghash"),u=t("buffer-xor"),f=t("./incr32");function d(h,m,g,p){l.call(this);var y=s.alloc(4,0);this._cipher=new a.AES(m);var v=this._cipher.encryptBlock(y);this._ghash=new o(v),g=(function(w,C,P){if(C.length===12)return w._finID=s.concat([C,s.from([0,0,0,1])]),s.concat([C,s.from([0,0,0,2])]);var F=new o(P),L=C.length,j=L%16;F.update(C),j&&(j=16-j,F.update(s.alloc(j,0))),F.update(s.alloc(8,0));var I=8*L,z=s.alloc(8);z.writeUIntBE(I,0,8),F.update(z),w._finID=F.state;var $=s.from(w._finID);return f($),$})(this,g,v),this._prev=s.from(g),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}c(d,l),d.prototype._update=function(h){if(!this._called&&this._alen){var m=16-this._alen%16;m<16&&(m=s.alloc(m,0),this._ghash.update(m))}this._called=!0;var g=this._mode.encrypt(this,h);return this._decrypt?this._ghash.update(h):this._ghash.update(g),this._len+=h.length,g},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var h=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(m,g){var p=0;m.length!==g.length&&p++;for(var y=Math.min(m.length,g.length),v=0;v<y;++v)p+=m[v]^g[v];return p})(h,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=h,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(h){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=h},d.prototype.setAAD=function(h){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(h),this._alen+=h.length},n.exports=d},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,n,i){var a=t("./encrypter"),s=t("./decrypter"),l=t("./modes/list.json");i.createCipher=i.Cipher=a.createCipher,i.createCipheriv=i.Cipheriv=a.createCipheriv,i.createDecipher=i.Decipher=s.createDecipher,i.createDecipheriv=i.Decipheriv=s.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(l)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,n,i){var a=t("./authCipher"),s=t("safe-buffer").Buffer,l=t("./modes"),c=t("./streamCipher"),o=t("cipher-base"),u=t("./aes"),f=t("evp_bytestokey");function d(g,p,y){o.call(this),this._cache=new h,this._last=void 0,this._cipher=new u.AES(p),this._prev=s.from(y),this._mode=g,this._autopadding=!0}function h(){this.cache=s.allocUnsafe(0)}function m(g,p,y){var v=l[g.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=s.from(y)),v.mode!=="GCM"&&y.length!==v.iv)throw new TypeError("invalid iv length "+y.length);if(typeof p=="string"&&(p=s.from(p)),p.length!==v.key/8)throw new TypeError("invalid key length "+p.length);return v.type==="stream"?new c(v.module,p,y,!0):v.type==="auth"?new a(v.module,p,y,!0):new d(v.module,p,y)}t("inherits")(d,o),d.prototype._update=function(g){var p,y;this._cache.add(g);for(var v=[];p=this._cache.get(this._autopadding);)y=this._mode.decrypt(this,p),v.push(y);return s.concat(v)},d.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return(function(p){var y=p[15];if(y<1||y>16)throw new Error("unable to decrypt data");for(var v=-1;++v<y;)if(p[v+(16-y)]!==y)throw new Error("unable to decrypt data");if(y!==16)return p.slice(0,16-y)})(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},h.prototype.add=function(g){this.cache=s.concat([this.cache,g])},h.prototype.get=function(g){var p;if(g){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(g,p){var y=l[g.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var v=f(p,!1,y.key,y.iv);return m(g,v.key,v.iv)},i.createDecipheriv=m},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,n,i){var a=t("./modes"),s=t("./authCipher"),l=t("safe-buffer").Buffer,c=t("./streamCipher"),o=t("cipher-base"),u=t("./aes"),f=t("evp_bytestokey");function d(p,y,v){o.call(this),this._cache=new m,this._cipher=new u.AES(y),this._prev=l.from(v),this._mode=p,this._autopadding=!0}t("inherits")(d,o),d.prototype._update=function(p){var y,v;this._cache.add(p);for(var w=[];y=this._cache.get();)v=this._mode.encrypt(this,y),w.push(v);return l.concat(w)};var h=l.alloc(16,16);function m(){this.cache=l.allocUnsafe(0)}function g(p,y,v){var w=a[p.toLowerCase()];if(!w)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=l.from(y)),y.length!==w.key/8)throw new TypeError("invalid key length "+y.length);if(typeof v=="string"&&(v=l.from(v)),w.mode!=="GCM"&&v.length!==w.iv)throw new TypeError("invalid iv length "+v.length);return w.type==="stream"?new c(w.module,y,v):w.type==="auth"?new s(w.module,y,v):new d(w.module,y,v)}d.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},m.prototype.add=function(p){this.cache=l.concat([this.cache,p])},m.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},m.prototype.flush=function(){for(var p=16-this.cache.length,y=l.allocUnsafe(p),v=-1;++v<p;)y.writeUInt8(p,v);return l.concat([this.cache,y])},i.createCipheriv=g,i.createCipher=function(p,y){var v=a[p.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var w=f(y,!1,v.key,v.iv);return g(p,w.key,w.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,n,i){var a=t("safe-buffer").Buffer,s=a.alloc(16,0);function l(o){var u=a.allocUnsafe(16);return u.writeUInt32BE(o[0]>>>0,0),u.writeUInt32BE(o[1]>>>0,4),u.writeUInt32BE(o[2]>>>0,8),u.writeUInt32BE(o[3]>>>0,12),u}function c(o){this.h=o,this.state=a.alloc(16,0),this.cache=a.allocUnsafe(0)}c.prototype.ghash=function(o){for(var u=-1;++u<o.length;)this.state[u]^=o[u];this._multiply()},c.prototype._multiply=function(){for(var o,u,f,d=[(o=this.h).readUInt32BE(0),o.readUInt32BE(4),o.readUInt32BE(8),o.readUInt32BE(12)],h=[0,0,0,0],m=-1;++m<128;){for((this.state[~~(m/8)]&1<<7-m%8)!=0&&(h[0]^=d[0],h[1]^=d[1],h[2]^=d[2],h[3]^=d[3]),f=(1&d[3])!=0,u=3;u>0;u--)d[u]=d[u]>>>1|(1&d[u-1])<<31;d[0]=d[0]>>>1,f&&(d[0]=d[0]^225<<24)}this.state=l(h)},c.prototype.update=function(o){var u;for(this.cache=a.concat([this.cache,o]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},c.prototype.final=function(o,u){return this.cache.length&&this.ghash(a.concat([this.cache,s],16)),this.ghash(l([0,o,0,u])),this.state},n.exports=c},{"safe-buffer":494}],195:[function(t,n,i){n.exports=function(a){for(var s,l=a.length;l--;){if((s=a.readUInt8(l))!==255){s++,a.writeUInt8(s,l);break}a.writeUInt8(0,l)}}},{}],196:[function(t,n,i){var a=t("buffer-xor");i.encrypt=function(s,l){var c=a(l,s._prev);return s._prev=s._cipher.encryptBlock(c),s._prev},i.decrypt=function(s,l){var c=s._prev;s._prev=l;var o=s._cipher.decryptBlock(l);return a(o,c)}},{"buffer-xor":219}],197:[function(t,n,i){var a=t("safe-buffer").Buffer,s=t("buffer-xor");function l(c,o,u){var f=o.length,d=s(o,c._cache);return c._cache=c._cache.slice(f),c._prev=a.concat([c._prev,u?o:d]),d}i.encrypt=function(c,o,u){for(var f,d=a.allocUnsafe(0);o.length;){if(c._cache.length===0&&(c._cache=c._cipher.encryptBlock(c._prev),c._prev=a.allocUnsafe(0)),!(c._cache.length<=o.length)){d=a.concat([d,l(c,o,u)]);break}f=c._cache.length,d=a.concat([d,l(c,o.slice(0,f),u)]),o=o.slice(f)}return d}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,n,i){var a=t("safe-buffer").Buffer;function s(c,o,u){for(var f,d,h=-1,m=0;++h<8;)f=o&1<<7-h?128:0,m+=(128&(d=c._cipher.encryptBlock(c._prev)[0]^f))>>h%8,c._prev=l(c._prev,u?f:d);return m}function l(c,o){var u=c.length,f=-1,d=a.allocUnsafe(c.length);for(c=a.concat([c,a.from([o])]);++f<u;)d[f]=c[f]<<1|c[f+1]>>7;return d}i.encrypt=function(c,o,u){for(var f=o.length,d=a.allocUnsafe(f),h=-1;++h<f;)d[h]=s(c,o[h],u);return d}},{"safe-buffer":494}],199:[function(t,n,i){var a=t("safe-buffer").Buffer;function s(l,c,o){var u=l._cipher.encryptBlock(l._prev)[0]^c;return l._prev=a.concat([l._prev.slice(1),a.from([o?c:u])]),u}i.encrypt=function(l,c,o){for(var u=c.length,f=a.allocUnsafe(u),d=-1;++d<u;)f[d]=s(l,c[d],o);return f}},{"safe-buffer":494}],200:[function(t,n,i){var a=t("buffer-xor"),s=t("safe-buffer").Buffer,l=t("../incr32");function c(o){var u=o._cipher.encryptBlockRaw(o._prev);return l(o._prev),u}i.encrypt=function(o,u){var f=Math.ceil(u.length/16),d=o._cache.length;o._cache=s.concat([o._cache,s.allocUnsafe(16*f)]);for(var h=0;h<f;h++){var m=c(o),g=d+16*h;o._cache.writeUInt32BE(m[0],g+0),o._cache.writeUInt32BE(m[1],g+4),o._cache.writeUInt32BE(m[2],g+8),o._cache.writeUInt32BE(m[3],g+12)}var p=o._cache.slice(0,u.length);return o._cache=o._cache.slice(u.length),a(u,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,n,i){i.encrypt=function(a,s){return a._cipher.encryptBlock(s)},i.decrypt=function(a,s){return a._cipher.decryptBlock(s)}},{}],202:[function(t,n,i){var a={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},s=t("./list.json");for(var l in s)s[l].module=a[s[l].mode];n.exports=s},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,n,i){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,n,i){(function(a){(function(){var s=t("buffer-xor");function l(c){return c._prev=c._cipher.encryptBlock(c._prev),c._prev}i.encrypt=function(c,o){for(;c._cache.length<o.length;)c._cache=a.concat([c._cache,l(c)]);var u=c._cache.slice(0,o.length);return c._cache=c._cache.slice(o.length),s(o,u)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,n,i){var a=t("./aes"),s=t("safe-buffer").Buffer,l=t("cipher-base");function c(o,u,f,d){l.call(this),this._cipher=new a.AES(u),this._prev=s.from(f),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=d,this._mode=o}t("inherits")(c,l),c.prototype._update=function(o){return this._mode.encrypt(this,o,this._decrypt)},c.prototype._final=function(){this._cipher.scrub()},n.exports=c},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,n,i){var a=t("browserify-des"),s=t("browserify-aes/browser"),l=t("browserify-aes/modes"),c=t("browserify-des/modes"),o=t("evp_bytestokey");function u(d,h,m){if(d=d.toLowerCase(),l[d])return s.createCipheriv(d,h,m);if(c[d])return new a({key:h,iv:m,mode:d});throw new TypeError("invalid suite type")}function f(d,h,m){if(d=d.toLowerCase(),l[d])return s.createDecipheriv(d,h,m);if(c[d])return new a({key:h,iv:m,mode:d,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(d,h){var m,g;if(d=d.toLowerCase(),l[d])m=l[d].key,g=l[d].iv;else{if(!c[d])throw new TypeError("invalid suite type");m=8*c[d].key,g=c[d].iv}var p=o(h,!1,m,g);return u(d,p.key,p.iv)},i.createCipheriv=i.Cipheriv=u,i.createDecipher=i.Decipher=function(d,h){var m,g;if(d=d.toLowerCase(),l[d])m=l[d].key,g=l[d].iv;else{if(!c[d])throw new TypeError("invalid suite type");m=8*c[d].key,g=c[d].iv}var p=o(h,!1,m,g);return f(d,p.key,p.iv)},i.createDecipheriv=i.Decipheriv=f,i.listCiphers=i.getCiphers=function(){return Object.keys(c).concat(s.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,n,i){var a=t("cipher-base"),s=t("des.js"),l=t("inherits"),c=t("safe-buffer").Buffer,o={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};function u(f){a.call(this);var d,h=f.mode.toLowerCase(),m=o[h];d=f.decrypt?"decrypt":"encrypt";var g=f.key;c.isBuffer(g)||(g=c.from(g)),h!=="des-ede"&&h!=="des-ede-cbc"||(g=c.concat([g,g.slice(0,8)]));var p=f.iv;c.isBuffer(p)||(p=c.from(p)),this._des=m.create({key:g,iv:p,type:d})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],n.exports=u,l(u,a),u.prototype._update=function(f){return c.from(this._des.update(f))},u.prototype._final=function(){return c.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,n,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],209:[function(t,n,i){(function(a){(function(){var s=t("bn.js"),l=t("randombytes");function c(u){var f,d=u.modulus.byteLength();do f=new s(l(d));while(f.cmp(u.modulus)>=0||!f.umod(u.prime1)||!f.umod(u.prime2));return f}function o(u,f){var d=(function(L){var j=c(L);return{blinder:j.toRed(s.mont(L.modulus)).redPow(new s(L.publicExponent)).fromRed(),unblinder:j.invm(L.modulus)}})(f),h=f.modulus.byteLength(),m=new s(u).mul(d.blinder).umod(f.modulus),g=m.toRed(s.mont(f.prime1)),p=m.toRed(s.mont(f.prime2)),y=f.coefficient,v=f.prime1,w=f.prime2,C=g.redPow(f.exponent1).fromRed(),P=p.redPow(f.exponent2).fromRed(),F=C.isub(P).imul(y).umod(v).imul(w);return P.iadd(F).imul(d.unblinder).umod(f.modulus).toArrayLike(a,"be",h)}o.getr=c,n.exports=o}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,n,i){n.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,n,i){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,n,i){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,n,i){var a=t("safe-buffer").Buffer,s=t("create-hash"),l=t("readable-stream"),c=t("inherits"),o=t("./sign"),u=t("./verify"),f=t("./algorithms.json");function d(p){l.Writable.call(this);var y=f[p];if(!y)throw new Error("Unknown message digest");this._hashType=y.hash,this._hash=s(y.hash),this._tag=y.id,this._signType=y.sign}function h(p){l.Writable.call(this);var y=f[p];if(!y)throw new Error("Unknown message digest");this._hash=s(y.hash),this._tag=y.id,this._signType=y.sign}function m(p){return new d(p)}function g(p){return new h(p)}Object.keys(f).forEach((function(p){f[p].id=a.from(f[p].id,"hex"),f[p.toLowerCase()]=f[p]})),c(d,l.Writable),d.prototype._write=function(p,y,v){this._hash.update(p),v()},d.prototype.update=function(p,y){return typeof p=="string"&&(p=a.from(p,y)),this._hash.update(p),this},d.prototype.sign=function(p,y){this.end();var v=this._hash.digest(),w=o(v,p,this._hashType,this._signType,this._tag);return y?w.toString(y):w},c(h,l.Writable),h.prototype._write=function(p,y,v){this._hash.update(p),v()},h.prototype.update=function(p,y){return typeof p=="string"&&(p=a.from(p,y)),this._hash.update(p),this},h.prototype.verify=function(p,y,v){typeof y=="string"&&(y=a.from(y,v)),this.end();var w=this._hash.digest();return u(y,w,p,this._signType,this._tag)},n.exports={Sign:m,Verify:g,createSign:m,createVerify:g}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,n,i){var a=t("safe-buffer").Buffer,s=t("create-hmac"),l=t("browserify-rsa"),c=t("elliptic").ec,o=t("bn.js"),u=t("parse-asn1"),f=t("./curves.json");function d(p,y,v,w){if((p=a.from(p.toArray())).length<y.byteLength()){var C=a.alloc(y.byteLength()-p.length);p=a.concat([C,p])}var P=v.length,F=(function(I,z){I=(I=h(I,z)).mod(z);var $=a.from(I.toArray());if($.length<z.byteLength()){var B=a.alloc(z.byteLength()-$.length);$=a.concat([B,$])}return $})(v,y),L=a.alloc(P);L.fill(1);var j=a.alloc(P);return j=s(w,j).update(L).update(a.from([0])).update(p).update(F).digest(),L=s(w,j).update(L).digest(),{k:j=s(w,j).update(L).update(a.from([1])).update(p).update(F).digest(),v:L=s(w,j).update(L).digest()}}function h(p,y){var v=new o(p),w=(p.length<<3)-y.bitLength();return w>0&&v.ishrn(w),v}function m(p,y,v){var w,C;do{for(w=a.alloc(0);8*w.length<p.bitLength();)y.v=s(v,y.k).update(y.v).digest(),w=a.concat([w,y.v]);C=h(w,p),y.k=s(v,y.k).update(y.v).update(a.from([0])).digest(),y.v=s(v,y.k).update(y.v).digest()}while(C.cmp(p)!==-1);return C}function g(p,y,v,w){return p.toRed(o.mont(v)).redPow(y).fromRed().mod(w)}n.exports=function(p,y,v,w,C){var P=u(y);if(P.curve){if(w!=="ecdsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(I,z){var $=f[z.curve.join(".")];if(!$)throw new Error("unknown curve "+z.curve.join("."));var B=new c($).keyFromPrivate(z.privateKey).sign(I);return a.from(B.toDER())})(p,P)}if(P.type==="dsa"){if(w!=="dsa")throw new Error("wrong private key type");return(function(I,z,$){for(var B,T=z.params.priv_key,R=z.params.p,N=z.params.q,_=z.params.g,E=new o(0),S=h(I,N).mod(N),k=!1,M=d(T,N,I,$);k===!1;)B=m(N,M,$),E=g(_,B,R,N),(k=B.invm(N).imul(S.add(T.mul(E))).mod(N)).cmpn(0)===0&&(k=!1,E=new o(0));return(function(V,O){V=V.toArray(),O=O.toArray(),128&V[0]&&(V=[0].concat(V)),128&O[0]&&(O=[0].concat(O));var X=[48,V.length+O.length+4,2,V.length];return X=X.concat(V,[2,O.length],O),a.from(X)})(E,k)})(p,P,v)}if(w!=="rsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");p=a.concat([C,p]);for(var F=P.modulus.byteLength(),L=[0,1];p.length+L.length+1<F;)L.push(255);L.push(0);for(var j=-1;++j<p.length;)L.push(p[j]);return l(L,P)},n.exports.getKey=d,n.exports.makeKey=m},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,n,i){var a=t("safe-buffer").Buffer,s=t("bn.js"),l=t("elliptic").ec,c=t("parse-asn1"),o=t("./curves.json");function u(f,d){if(f.cmpn(0)<=0)throw new Error("invalid sig");if(f.cmp(d)>=d)throw new Error("invalid sig")}n.exports=function(f,d,h,m,g){var p=c(h);if(p.type==="ec"){if(m!=="ecdsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");return(function(L,j,I){var z=o[I.data.algorithm.curve.join(".")];if(!z)throw new Error("unknown curve "+I.data.algorithm.curve.join("."));var $=new l(z),B=I.data.subjectPrivateKey.data;return $.verify(j,L,B)})(f,d,p)}if(p.type==="dsa"){if(m!=="dsa")throw new Error("wrong public key type");return(function(L,j,I){var z=I.data.p,$=I.data.q,B=I.data.g,T=I.data.pub_key,R=c.signature.decode(L,"der"),N=R.s,_=R.r;u(N,$),u(_,$);var E=s.mont(z),S=N.invm($);return B.toRed(E).redPow(new s(j).mul(S).mod($)).fromRed().mul(T.toRed(E).redPow(_.mul(S).mod($)).fromRed()).mod(z).mod($).cmp(_)===0})(f,d,p)}if(m!=="rsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");d=a.concat([g,d]);for(var y=p.modulus.byteLength(),v=[1],w=0;d.length+v.length+2<y;)v.push(255),w++;v.push(0);for(var C=-1;++C<d.length;)v.push(d[C]);v=a.from(v);var P=s.mont(p.modulus);f=(f=new s(f).toRed(P)).redPow(new s(p.publicExponent)),f=a.from(f.fromRed().toArray());var F=w<8?1:0;for(y=Math.min(f.length,v.length),f.length!==v.length&&(F=1),C=-1;++C<y;)F|=f[C]^v[C];return F===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,n,i){},{}],217:[function(t,n,i){var a=t("buffer"),s=a.Buffer;function l(o,u){for(var f in o)u[f]=o[f]}function c(o,u,f){return s(o,u,f)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?n.exports=a:(l(a,i),i.Buffer=c),l(s,c),c.from=function(o,u,f){if(typeof o=="number")throw new TypeError("Argument must not be a number");return s(o,u,f)},c.alloc=function(o,u,f){if(typeof o!="number")throw new TypeError("Argument must be a number");var d=s(o);return u!==void 0?typeof f=="string"?d.fill(u,f):d.fill(u):d.fill(0),d},c.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return s(o)},c.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(o)}},{buffer:220}],218:[function(t,n,i){var a=t("safe-buffer").Buffer,s=a.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(p){var y;switch(this.encoding=(function(v){var w=(function(C){if(!C)return"utf8";for(var P;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(P)return;C=(""+C).toLowerCase(),P=!0}})(v);if(typeof w!="string"&&(a.isEncoding===s||!s(v)))throw new Error("Unknown encoding: "+v);return w||v})(p),this.encoding){case"utf16le":this.text=u,this.end=f,y=4;break;case"utf8":this.fillLast=o,y=4;break;case"base64":this.text=d,this.end=h,y=3;break;default:return this.write=m,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(y)}function c(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function o(p){var y=this.lastTotal-this.lastNeed,v=(function(w,C,P){if((192&C[0])!=128)return w.lastNeed=0,"�";if(w.lastNeed>1&&C.length>1){if((192&C[1])!=128)return w.lastNeed=1,"�";if(w.lastNeed>2&&C.length>2&&(192&C[2])!=128)return w.lastNeed=2,"�"}})(this,p);return v!==void 0?v:this.lastNeed<=p.length?(p.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,y,0,p.length),void(this.lastNeed-=p.length))}function u(p,y){if((p.length-y)%2==0){var v=p.toString("utf16le",y);if(v){var w=v.charCodeAt(v.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",y,p.length-1)}function f(p){var y=p&&p.length?this.write(p):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,v)}return y}function d(p,y){var v=(p.length-y)%3;return v===0?p.toString("base64",y):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",y,p.length-v))}function h(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function m(p){return p.toString(this.encoding)}function g(p){return p&&p.length?this.write(p):""}i.StringDecoder=l,l.prototype.write=function(p){if(p.length===0)return"";var y,v;if(this.lastNeed){if((y=this.fillLast(p))===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<p.length?y?y+this.text(p,v):this.text(p,v):y||""},l.prototype.end=function(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+"�":y},l.prototype.text=function(p,y){var v=(function(C,P,F){var L=P.length-1;if(L<F)return 0;var j=c(P[L]);return j>=0?(j>0&&(C.lastNeed=j-1),j):--L<F||j===-2?0:(j=c(P[L]))>=0?(j>0&&(C.lastNeed=j-2),j):--L<F||j===-2?0:(j=c(P[L]))>=0?(j>0&&(j===2?j=0:C.lastNeed=j-3),j):0})(this,p,y);if(!this.lastNeed)return p.toString("utf8",y);this.lastTotal=v;var w=p.length-(v-this.lastNeed);return p.copy(this.lastChar,0,w),p.toString("utf8",y,w)},l.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(t,n,i){(function(a){(function(){n.exports=function(s,l){for(var c=Math.min(s.length,l.length),o=new a(c),u=0;u<c;++u)o[u]=s[u]^l[u];return o}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,n,i){(function(a){(function(){var s=t("base64-js"),l=t("ieee754");i.Buffer=o,i.SlowBuffer=function(q){return+q!=q&&(q=0),o.alloc(+q)},i.INSPECT_MAX_BYTES=50;function c(q){if(q>2147483647)throw new RangeError('The value "'+q+'" is invalid for option "size"');var U=new Uint8Array(q);return U.__proto__=o.prototype,U}function o(q,U,Z){if(typeof q=="number"){if(typeof U=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(q)}return u(q,U,Z)}function u(q,U,Z){if(typeof q=="string")return(function(de,fe){if(typeof fe=="string"&&fe!==""||(fe="utf8"),!o.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);var ue=0|g(de,fe),Ae=c(ue),he=Ae.write(de,fe);return he!==ue&&(Ae=Ae.slice(0,he)),Ae})(q,U);if(ArrayBuffer.isView(q))return h(q);if(q==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(G(q,ArrayBuffer)||q&&G(q.buffer,ArrayBuffer))return(function(de,fe,ue){if(fe<0||de.byteLength<fe)throw new RangeError('"offset" is outside of buffer bounds');if(de.byteLength<fe+(ue||0))throw new RangeError('"length" is outside of buffer bounds');var Ae;return Ae=fe===void 0&&ue===void 0?new Uint8Array(de):ue===void 0?new Uint8Array(de,fe):new Uint8Array(de,fe,ue),Ae.__proto__=o.prototype,Ae})(q,U,Z);if(typeof q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ie=q.valueOf&&q.valueOf();if(ie!=null&&ie!==q)return o.from(ie,U,Z);var le=(function(de){if(o.isBuffer(de)){var fe=0|m(de.length),ue=c(fe);return ue.length===0||de.copy(ue,0,0,fe),ue}if(de.length!==void 0)return typeof de.length!="number"||J(de.length)?c(0):h(de);if(de.type==="Buffer"&&Array.isArray(de.data))return h(de.data)})(q);if(le)return le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof q[Symbol.toPrimitive]=="function")return o.from(q[Symbol.toPrimitive]("string"),U,Z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}function f(q){if(typeof q!="number")throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function d(q){return f(q),c(q<0?0:0|m(q))}function h(q){for(var U=q.length<0?0:0|m(q.length),Z=c(U),ie=0;ie<U;ie+=1)Z[ie]=255&q[ie];return Z}function m(q){if(q>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|q}function g(q,U){if(o.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||G(q,ArrayBuffer))return q.byteLength;if(typeof q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);var Z=q.length,ie=arguments.length>2&&arguments[2]===!0;if(!ie&&Z===0)return 0;for(var le=!1;;)switch(U){case"ascii":case"latin1":case"binary":return Z;case"utf8":case"utf-8":return X(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Z;case"hex":return Z>>>1;case"base64":return Q(q).length;default:if(le)return ie?-1:X(q).length;U=(""+U).toLowerCase(),le=!0}}function p(q,U,Z){var ie=!1;if((U===void 0||U<0)&&(U=0),U>this.length||((Z===void 0||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0)<=(U>>>=0))return"";for(q||(q="utf8");;)switch(q){case"hex":return R(this,U,Z);case"utf8":case"utf-8":return $(this,U,Z);case"ascii":return B(this,U,Z);case"latin1":case"binary":return T(this,U,Z);case"base64":return z(this,U,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,U,Z);default:if(ie)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),ie=!0}}function y(q,U,Z){var ie=q[U];q[U]=q[Z],q[Z]=ie}function v(q,U,Z,ie,le){if(q.length===0)return-1;if(typeof Z=="string"?(ie=Z,Z=0):Z>2147483647?Z=2147483647:Z<-2147483648&&(Z=-2147483648),J(Z=+Z)&&(Z=le?0:q.length-1),Z<0&&(Z=q.length+Z),Z>=q.length){if(le)return-1;Z=q.length-1}else if(Z<0){if(!le)return-1;Z=0}if(typeof U=="string"&&(U=o.from(U,ie)),o.isBuffer(U))return U.length===0?-1:w(q,U,Z,ie,le);if(typeof U=="number")return U&=255,typeof Uint8Array.prototype.indexOf=="function"?le?Uint8Array.prototype.indexOf.call(q,U,Z):Uint8Array.prototype.lastIndexOf.call(q,U,Z):w(q,[U],Z,ie,le);throw new TypeError("val must be string, number or Buffer")}function w(q,U,Z,ie,le){var de,fe=1,ue=q.length,Ae=U.length;if(ie!==void 0&&((ie=String(ie).toLowerCase())==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if(q.length<2||U.length<2)return-1;fe=2,ue/=2,Ae/=2,Z/=2}function he(ke,Oe){return fe===1?ke[Oe]:ke.readUInt16BE(Oe*fe)}if(le){var xe=-1;for(de=Z;de<ue;de++)if(he(q,de)===he(U,xe===-1?0:de-xe)){if(xe===-1&&(xe=de),de-xe+1===Ae)return xe*fe}else xe!==-1&&(de-=de-xe),xe=-1}else for(Z+Ae>ue&&(Z=ue-Ae),de=Z;de>=0;de--){for(var me=!0,Ce=0;Ce<Ae;Ce++)if(he(q,de+Ce)!==he(U,Ce)){me=!1;break}if(me)return de}return-1}function C(q,U,Z,ie){Z=Number(Z)||0;var le=q.length-Z;ie?(ie=Number(ie))>le&&(ie=le):ie=le;var de=U.length;ie>de/2&&(ie=de/2);for(var fe=0;fe<ie;++fe){var ue=parseInt(U.substr(2*fe,2),16);if(J(ue))return fe;q[Z+fe]=ue}return fe}function P(q,U,Z,ie){return re(X(U,q.length-Z),q,Z,ie)}function F(q,U,Z,ie){return re((function(le){for(var de=[],fe=0;fe<le.length;++fe)de.push(255&le.charCodeAt(fe));return de})(U),q,Z,ie)}function L(q,U,Z,ie){return F(q,U,Z,ie)}function j(q,U,Z,ie){return re(Q(U),q,Z,ie)}function I(q,U,Z,ie){return re((function(le,de){for(var fe,ue,Ae,he=[],xe=0;xe<le.length&&!((de-=2)<0);++xe)fe=le.charCodeAt(xe),ue=fe>>8,Ae=fe%256,he.push(Ae),he.push(ue);return he})(U,q.length-Z),q,Z,ie)}function z(q,U,Z){return U===0&&Z===q.length?s.fromByteArray(q):s.fromByteArray(q.slice(U,Z))}function $(q,U,Z){Z=Math.min(q.length,Z);for(var ie=[],le=U;le<Z;){var de,fe,ue,Ae,he=q[le],xe=null,me=he>239?4:he>223?3:he>191?2:1;if(le+me<=Z)switch(me){case 1:he<128&&(xe=he);break;case 2:(192&(de=q[le+1]))==128&&(Ae=(31&he)<<6|63&de)>127&&(xe=Ae);break;case 3:de=q[le+1],fe=q[le+2],(192&de)==128&&(192&fe)==128&&(Ae=(15&he)<<12|(63&de)<<6|63&fe)>2047&&(Ae<55296||Ae>57343)&&(xe=Ae);break;case 4:de=q[le+1],fe=q[le+2],ue=q[le+3],(192&de)==128&&(192&fe)==128&&(192&ue)==128&&(Ae=(15&he)<<18|(63&de)<<12|(63&fe)<<6|63&ue)>65535&&Ae<1114112&&(xe=Ae)}xe===null?(xe=65533,me=1):xe>65535&&(xe-=65536,ie.push(xe>>>10&1023|55296),xe=56320|1023&xe),ie.push(xe),le+=me}return(function(Ce){var ke=Ce.length;if(ke<=4096)return String.fromCharCode.apply(String,Ce);for(var Oe="",De=0;De<ke;)Oe+=String.fromCharCode.apply(String,Ce.slice(De,De+=4096));return Oe})(ie)}i.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=(function(){try{var q=new Uint8Array(1);return q.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},q.foo()===42}catch{return!1}})(),o.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(q,U,Z){return u(q,U,Z)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(q,U,Z){return(function(ie,le,de){return f(ie),ie<=0?c(ie):le!==void 0?typeof de=="string"?c(ie).fill(le,de):c(ie).fill(le):c(ie)})(q,U,Z)},o.allocUnsafe=function(q){return d(q)},o.allocUnsafeSlow=function(q){return d(q)},o.isBuffer=function(q){return q!=null&&q._isBuffer===!0&&q!==o.prototype},o.compare=function(q,U){if(G(q,Uint8Array)&&(q=o.from(q,q.offset,q.byteLength)),G(U,Uint8Array)&&(U=o.from(U,U.offset,U.byteLength)),!o.isBuffer(q)||!o.isBuffer(U))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(q===U)return 0;for(var Z=q.length,ie=U.length,le=0,de=Math.min(Z,ie);le<de;++le)if(q[le]!==U[le]){Z=q[le],ie=U[le];break}return Z<ie?-1:ie<Z?1:0},o.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(q,U){if(!Array.isArray(q))throw new TypeError('"list" argument must be an Array of Buffers');if(q.length===0)return o.alloc(0);var Z;if(U===void 0)for(U=0,Z=0;Z<q.length;++Z)U+=q[Z].length;var ie=o.allocUnsafe(U),le=0;for(Z=0;Z<q.length;++Z){var de=q[Z];if(G(de,Uint8Array)&&(de=o.from(de)),!o.isBuffer(de))throw new TypeError('"list" argument must be an Array of Buffers');de.copy(ie,le),le+=de.length}return ie},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var q=this.length;if(q%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var U=0;U<q;U+=2)y(this,U,U+1);return this},o.prototype.swap32=function(){var q=this.length;if(q%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var U=0;U<q;U+=4)y(this,U,U+3),y(this,U+1,U+2);return this},o.prototype.swap64=function(){var q=this.length;if(q%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var U=0;U<q;U+=8)y(this,U,U+7),y(this,U+1,U+6),y(this,U+2,U+5),y(this,U+3,U+4);return this},o.prototype.toString=function(){var q=this.length;return q===0?"":arguments.length===0?$(this,0,q):p.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(q){if(!o.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q||o.compare(this,q)===0},o.prototype.inspect=function(){var q="",U=i.INSPECT_MAX_BYTES;return q=this.toString("hex",0,U).replace(/(.{2})/g,"$1 ").trim(),this.length>U&&(q+=" ... "),"<Buffer "+q+">"},o.prototype.compare=function(q,U,Z,ie,le){if(G(q,Uint8Array)&&(q=o.from(q,q.offset,q.byteLength)),!o.isBuffer(q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof q);if(U===void 0&&(U=0),Z===void 0&&(Z=q?q.length:0),ie===void 0&&(ie=0),le===void 0&&(le=this.length),U<0||Z>q.length||ie<0||le>this.length)throw new RangeError("out of range index");if(ie>=le&&U>=Z)return 0;if(ie>=le)return-1;if(U>=Z)return 1;if(this===q)return 0;for(var de=(le>>>=0)-(ie>>>=0),fe=(Z>>>=0)-(U>>>=0),ue=Math.min(de,fe),Ae=this.slice(ie,le),he=q.slice(U,Z),xe=0;xe<ue;++xe)if(Ae[xe]!==he[xe]){de=Ae[xe],fe=he[xe];break}return de<fe?-1:fe<de?1:0},o.prototype.includes=function(q,U,Z){return this.indexOf(q,U,Z)!==-1},o.prototype.indexOf=function(q,U,Z){return v(this,q,U,Z,!0)},o.prototype.lastIndexOf=function(q,U,Z){return v(this,q,U,Z,!1)},o.prototype.write=function(q,U,Z,ie){if(U===void 0)ie="utf8",Z=this.length,U=0;else if(Z===void 0&&typeof U=="string")ie=U,Z=this.length,U=0;else{if(!isFinite(U))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");U>>>=0,isFinite(Z)?(Z>>>=0,ie===void 0&&(ie="utf8")):(ie=Z,Z=void 0)}var le=this.length-U;if((Z===void 0||Z>le)&&(Z=le),q.length>0&&(Z<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");for(var de=!1;;)switch(ie){case"hex":return C(this,q,U,Z);case"utf8":case"utf-8":return P(this,q,U,Z);case"ascii":return F(this,q,U,Z);case"latin1":case"binary":return L(this,q,U,Z);case"base64":return j(this,q,U,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,q,U,Z);default:if(de)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),de=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(q,U,Z){var ie="";Z=Math.min(q.length,Z);for(var le=U;le<Z;++le)ie+=String.fromCharCode(127&q[le]);return ie}function T(q,U,Z){var ie="";Z=Math.min(q.length,Z);for(var le=U;le<Z;++le)ie+=String.fromCharCode(q[le]);return ie}function R(q,U,Z){var ie=q.length;(!U||U<0)&&(U=0),(!Z||Z<0||Z>ie)&&(Z=ie);for(var le="",de=U;de<Z;++de)le+=O(q[de]);return le}function N(q,U,Z){for(var ie=q.slice(U,Z),le="",de=0;de<ie.length;de+=2)le+=String.fromCharCode(ie[de]+256*ie[de+1]);return le}function _(q,U,Z){if(q%1!=0||q<0)throw new RangeError("offset is not uint");if(q+U>Z)throw new RangeError("Trying to access beyond buffer length")}function E(q,U,Z,ie,le,de){if(!o.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(U>le||U<de)throw new RangeError('"value" argument is out of bounds');if(Z+ie>q.length)throw new RangeError("Index out of range")}function S(q,U,Z,ie,le,de){if(Z+ie>q.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("Index out of range")}function k(q,U,Z,ie,le){return U=+U,Z>>>=0,le||S(q,0,Z,4),l.write(q,U,Z,ie,23,4),Z+4}function M(q,U,Z,ie,le){return U=+U,Z>>>=0,le||S(q,0,Z,8),l.write(q,U,Z,ie,52,8),Z+8}o.prototype.slice=function(q,U){var Z=this.length;(q=~~q)<0?(q+=Z)<0&&(q=0):q>Z&&(q=Z),(U=U===void 0?Z:~~U)<0?(U+=Z)<0&&(U=0):U>Z&&(U=Z),U<q&&(U=q);var ie=this.subarray(q,U);return ie.__proto__=o.prototype,ie},o.prototype.readUIntLE=function(q,U,Z){q>>>=0,U>>>=0,Z||_(q,U,this.length);for(var ie=this[q],le=1,de=0;++de<U&&(le*=256);)ie+=this[q+de]*le;return ie},o.prototype.readUIntBE=function(q,U,Z){q>>>=0,U>>>=0,Z||_(q,U,this.length);for(var ie=this[q+--U],le=1;U>0&&(le*=256);)ie+=this[q+--U]*le;return ie},o.prototype.readUInt8=function(q,U){return q>>>=0,U||_(q,1,this.length),this[q]},o.prototype.readUInt16LE=function(q,U){return q>>>=0,U||_(q,2,this.length),this[q]|this[q+1]<<8},o.prototype.readUInt16BE=function(q,U){return q>>>=0,U||_(q,2,this.length),this[q]<<8|this[q+1]},o.prototype.readUInt32LE=function(q,U){return q>>>=0,U||_(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+16777216*this[q+3]},o.prototype.readUInt32BE=function(q,U){return q>>>=0,U||_(q,4,this.length),16777216*this[q]+(this[q+1]<<16|this[q+2]<<8|this[q+3])},o.prototype.readIntLE=function(q,U,Z){q>>>=0,U>>>=0,Z||_(q,U,this.length);for(var ie=this[q],le=1,de=0;++de<U&&(le*=256);)ie+=this[q+de]*le;return ie>=(le*=128)&&(ie-=Math.pow(2,8*U)),ie},o.prototype.readIntBE=function(q,U,Z){q>>>=0,U>>>=0,Z||_(q,U,this.length);for(var ie=U,le=1,de=this[q+--ie];ie>0&&(le*=256);)de+=this[q+--ie]*le;return de>=(le*=128)&&(de-=Math.pow(2,8*U)),de},o.prototype.readInt8=function(q,U){return q>>>=0,U||_(q,1,this.length),128&this[q]?-1*(255-this[q]+1):this[q]},o.prototype.readInt16LE=function(q,U){q>>>=0,U||_(q,2,this.length);var Z=this[q]|this[q+1]<<8;return 32768&Z?4294901760|Z:Z},o.prototype.readInt16BE=function(q,U){q>>>=0,U||_(q,2,this.length);var Z=this[q+1]|this[q]<<8;return 32768&Z?4294901760|Z:Z},o.prototype.readInt32LE=function(q,U){return q>>>=0,U||_(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},o.prototype.readInt32BE=function(q,U){return q>>>=0,U||_(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},o.prototype.readFloatLE=function(q,U){return q>>>=0,U||_(q,4,this.length),l.read(this,q,!0,23,4)},o.prototype.readFloatBE=function(q,U){return q>>>=0,U||_(q,4,this.length),l.read(this,q,!1,23,4)},o.prototype.readDoubleLE=function(q,U){return q>>>=0,U||_(q,8,this.length),l.read(this,q,!0,52,8)},o.prototype.readDoubleBE=function(q,U){return q>>>=0,U||_(q,8,this.length),l.read(this,q,!1,52,8)},o.prototype.writeUIntLE=function(q,U,Z,ie){q=+q,U>>>=0,Z>>>=0,ie||E(this,q,U,Z,Math.pow(2,8*Z)-1,0);var le=1,de=0;for(this[U]=255&q;++de<Z&&(le*=256);)this[U+de]=q/le&255;return U+Z},o.prototype.writeUIntBE=function(q,U,Z,ie){q=+q,U>>>=0,Z>>>=0,ie||E(this,q,U,Z,Math.pow(2,8*Z)-1,0);var le=Z-1,de=1;for(this[U+le]=255&q;--le>=0&&(de*=256);)this[U+le]=q/de&255;return U+Z},o.prototype.writeUInt8=function(q,U,Z){return q=+q,U>>>=0,Z||E(this,q,U,1,255,0),this[U]=255&q,U+1},o.prototype.writeUInt16LE=function(q,U,Z){return q=+q,U>>>=0,Z||E(this,q,U,2,65535,0),this[U]=255&q,this[U+1]=q>>>8,U+2},o.prototype.writeUInt16BE=function(q,U,Z){return q=+q,U>>>=0,Z||E(this,q,U,2,65535,0),this[U]=q>>>8,this[U+1]=255&q,U+2},o.prototype.writeUInt32LE=function(q,U,Z){return q=+q,U>>>=0,Z||E(this,q,U,4,4294967295,0),this[U+3]=q>>>24,this[U+2]=q>>>16,this[U+1]=q>>>8,this[U]=255&q,U+4},o.prototype.writeUInt32BE=function(q,U,Z){return q=+q,U>>>=0,Z||E(this,q,U,4,4294967295,0),this[U]=q>>>24,this[U+1]=q>>>16,this[U+2]=q>>>8,this[U+3]=255&q,U+4},o.prototype.writeIntLE=function(q,U,Z,ie){if(q=+q,U>>>=0,!ie){var le=Math.pow(2,8*Z-1);E(this,q,U,Z,le-1,-le)}var de=0,fe=1,ue=0;for(this[U]=255&q;++de<Z&&(fe*=256);)q<0&&ue===0&&this[U+de-1]!==0&&(ue=1),this[U+de]=(q/fe>>0)-ue&255;return U+Z},o.prototype.writeIntBE=function(q,U,Z,ie){if(q=+q,U>>>=0,!ie){var le=Math.pow(2,8*Z-1);E(this,q,U,Z,le-1,-le)}var de=Z-1,fe=1,ue=0;for(this[U+de]=255&q;--de>=0&&(fe*=256);)q<0&&ue===0&&this[U+de+1]!==0&&(ue=1),this[U+de]=(q/fe>>0)-ue&255;return U+Z},o.prototype.writeInt8=function(q,U,Z){return q=+q,U>>>=0,Z||E(this,q,U,1,127,-128),q<0&&(q=255+q+1),this[U]=255&q,U+1},o.prototype.writeInt16LE=function(q,U,Z){return q=+q,U>>>=0,Z||E(this,q,U,2,32767,-32768),this[U]=255&q,this[U+1]=q>>>8,U+2},o.prototype.writeInt16BE=function(q,U,Z){return q=+q,U>>>=0,Z||E(this,q,U,2,32767,-32768),this[U]=q>>>8,this[U+1]=255&q,U+2},o.prototype.writeInt32LE=function(q,U,Z){return q=+q,U>>>=0,Z||E(this,q,U,4,2147483647,-2147483648),this[U]=255&q,this[U+1]=q>>>8,this[U+2]=q>>>16,this[U+3]=q>>>24,U+4},o.prototype.writeInt32BE=function(q,U,Z){return q=+q,U>>>=0,Z||E(this,q,U,4,2147483647,-2147483648),q<0&&(q=4294967295+q+1),this[U]=q>>>24,this[U+1]=q>>>16,this[U+2]=q>>>8,this[U+3]=255&q,U+4},o.prototype.writeFloatLE=function(q,U,Z){return k(this,q,U,!0,Z)},o.prototype.writeFloatBE=function(q,U,Z){return k(this,q,U,!1,Z)},o.prototype.writeDoubleLE=function(q,U,Z){return M(this,q,U,!0,Z)},o.prototype.writeDoubleBE=function(q,U,Z){return M(this,q,U,!1,Z)},o.prototype.copy=function(q,U,Z,ie){if(!o.isBuffer(q))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),ie||ie===0||(ie=this.length),U>=q.length&&(U=q.length),U||(U=0),ie>0&&ie<Z&&(ie=Z),ie===Z||q.length===0||this.length===0)return 0;if(U<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),q.length-U<ie-Z&&(ie=q.length-U+Z);var le=ie-Z;if(this===q&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(U,Z,ie);else if(this===q&&Z<U&&U<ie)for(var de=le-1;de>=0;--de)q[de+U]=this[de+Z];else Uint8Array.prototype.set.call(q,this.subarray(Z,ie),U);return le},o.prototype.fill=function(q,U,Z,ie){if(typeof q=="string"){if(typeof U=="string"?(ie=U,U=0,Z=this.length):typeof Z=="string"&&(ie=Z,Z=this.length),ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!o.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(q.length===1){var le=q.charCodeAt(0);(ie==="utf8"&&le<128||ie==="latin1")&&(q=le)}}else typeof q=="number"&&(q&=255);if(U<0||this.length<U||this.length<Z)throw new RangeError("Out of range index");if(Z<=U)return this;var de;if(U>>>=0,Z=Z===void 0?this.length:Z>>>0,q||(q=0),typeof q=="number")for(de=U;de<Z;++de)this[de]=q;else{var fe=o.isBuffer(q)?q:o.from(q,ie),ue=fe.length;if(ue===0)throw new TypeError('The value "'+q+'" is invalid for argument "value"');for(de=0;de<Z-U;++de)this[de+U]=fe[de%ue]}return this};var V=/[^+/0-9A-Za-z-_]/g;function O(q){return q<16?"0"+q.toString(16):q.toString(16)}function X(q,U){var Z;U=U||1/0;for(var ie=q.length,le=null,de=[],fe=0;fe<ie;++fe){if((Z=q.charCodeAt(fe))>55295&&Z<57344){if(!le){if(Z>56319){(U-=3)>-1&&de.push(239,191,189);continue}if(fe+1===ie){(U-=3)>-1&&de.push(239,191,189);continue}le=Z;continue}if(Z<56320){(U-=3)>-1&&de.push(239,191,189),le=Z;continue}Z=65536+(le-55296<<10|Z-56320)}else le&&(U-=3)>-1&&de.push(239,191,189);if(le=null,Z<128){if((U-=1)<0)break;de.push(Z)}else if(Z<2048){if((U-=2)<0)break;de.push(Z>>6|192,63&Z|128)}else if(Z<65536){if((U-=3)<0)break;de.push(Z>>12|224,Z>>6&63|128,63&Z|128)}else{if(!(Z<1114112))throw new Error("Invalid code point");if((U-=4)<0)break;de.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,63&Z|128)}}return de}function Q(q){return s.toByteArray((function(U){if((U=(U=U.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U})(q))}function re(q,U,Z,ie){for(var le=0;le<ie&&!(le+Z>=U.length||le>=q.length);++le)U[le+Z]=q[le];return le}function G(q,U){return q instanceof U||q!=null&&q.constructor!=null&&q.constructor.name!=null&&q.constructor.name===U.name}function J(q){return q!=q}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,n,i){var a=t("safe-buffer").Buffer,s=t("stream").Transform,l=t("string_decoder").StringDecoder;function c(o){s.call(this),this.hashMode=typeof o=="string",this.hashMode?this[o]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(c,s),c.prototype.update=function(o,u,f){typeof o=="string"&&(o=a.from(o,u));var d=this._update(o);return this.hashMode?this:(f&&(d=this._toString(d,f)),d)},c.prototype.setAutoPadding=function(){},c.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},c.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},c.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},c.prototype._transform=function(o,u,f){var d;try{this.hashMode?this._update(o):this.push(this._update(o))}catch(h){d=h}finally{f(d)}},c.prototype._flush=function(o){var u;try{this.push(this.__final())}catch(f){u=f}o(u)},c.prototype._finalOrDigest=function(o){var u=this.__final()||a.alloc(0);return o&&(u=this._toString(u,o,!0)),u},c.prototype._toString=function(o,u,f){if(this._decoder||(this._decoder=new l(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var d=this._decoder.write(o);return f&&(d+=this._decoder.end()),d},n.exports=c},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,n,i){var a=t("../internals/is-callable"),s=t("../internals/try-to-string"),l=TypeError;n.exports=function(c){if(a(c))return c;throw new l(s(c)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,n,i){var a=t("../internals/is-constructor"),s=t("../internals/try-to-string"),l=TypeError;n.exports=function(c){if(a(c))return c;throw new l(s(c)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,n,i){var a=t("../internals/is-callable"),s=String,l=TypeError;n.exports=function(c){if(typeof c=="object"||a(c))return c;throw new l("Can't set "+s(c)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,n,i){var a=t("../internals/well-known-symbol"),s=t("../internals/object-create"),l=t("../internals/object-define-property").f,c=a("unscopables"),o=Array.prototype;o[c]===void 0&&l(o,c,{configurable:!0,value:s(null)}),n.exports=function(u){o[c][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,n,i){var a=t("../internals/object-is-prototype-of"),s=TypeError;n.exports=function(l,c){if(a(c,l))return l;throw new s("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,n,i){var a=t("../internals/is-object"),s=String,l=TypeError;n.exports=function(c){if(a(c))return c;throw new l(s(c)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,n,i){var a=t("../internals/to-indexed-object"),s=t("../internals/to-absolute-index"),l=t("../internals/length-of-array-like"),c=function(o){return function(u,f,d){var h,m=a(u),g=l(m),p=s(d,g);if(o&&f!=f){for(;g>p;)if((h=m[p++])!=h)return!0}else for(;g>p;p++)if((o||p in m)&&m[p]===f)return o||p||0;return!o&&-1}};n.exports={includes:c(!0),indexOf:c(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,n,i){var a=t("../internals/function-bind-context"),s=t("../internals/function-uncurry-this"),l=t("../internals/indexed-object"),c=t("../internals/to-object"),o=t("../internals/length-of-array-like"),u=t("../internals/array-species-create"),f=s([].push),d=function(h){var m=h===1,g=h===2,p=h===3,y=h===4,v=h===6,w=h===7,C=h===5||v;return function(P,F,L,j){for(var I,z,$=c(P),B=l($),T=a(F,L),R=o(B),N=0,_=j||u,E=m?_(P,R):g||w?_(P,0):void 0;R>N;N++)if((C||N in B)&&(z=T(I=B[N],N,$),h))if(m)E[N]=z;else if(z)switch(h){case 3:return!0;case 5:return I;case 6:return N;case 2:f(E,I)}else switch(h){case 4:return!1;case 7:f(E,I)}return v?-1:p||y?y:E}};n.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,n,i){var a=t("../internals/to-absolute-index"),s=t("../internals/length-of-array-like"),l=t("../internals/create-property"),c=Array,o=Math.max;n.exports=function(u,f,d){for(var h=s(u),m=a(f,h),g=a(d===void 0?h:d,h),p=c(o(g-m,0)),y=0;m<g;m++,y++)l(p,y,u[m]);return p.length=y,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,n,i){var a=t("../internals/function-uncurry-this");n.exports=a([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,n,i){var a=t("../internals/is-array"),s=t("../internals/is-constructor"),l=t("../internals/is-object"),c=t("../internals/well-known-symbol")("species"),o=Array;n.exports=function(u){var f;return a(u)&&(f=u.constructor,(s(f)&&(f===o||a(f.prototype))||l(f)&&(f=f[c])===null)&&(f=void 0)),f===void 0?o:f}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,n,i){var a=t("../internals/array-species-constructor");n.exports=function(s,l){return new(a(s))(l===0?0:l)}},{"../internals/array-species-constructor":232}],234:[function(t,n,i){var a=t("../internals/well-known-symbol")("iterator"),s=!1;try{var l=0,c={next:function(){return{done:!!l++}},return:function(){s=!0}};c[a]=function(){return this},Array.from(c,(function(){throw 2}))}catch{}n.exports=function(o,u){try{if(!u&&!s)return!1}catch{return!1}var f=!1;try{var d={};d[a]=function(){return{next:function(){return{done:f=!0}}}},o(d)}catch{}return f}},{"../internals/well-known-symbol":357}],235:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=a({}.toString),l=a("".slice);n.exports=function(c){return l(s(c),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,n,i){var a=t("../internals/to-string-tag-support"),s=t("../internals/is-callable"),l=t("../internals/classof-raw"),c=t("../internals/well-known-symbol")("toStringTag"),o=Object,u=l((function(){return arguments})())==="Arguments";n.exports=a?l:function(f){var d,h,m;return f===void 0?"Undefined":f===null?"Null":typeof(h=(function(g,p){try{return g[p]}catch{}})(d=o(f),c))=="string"?h:u?l(d):(m=l(d))==="Object"&&s(d.callee)?"Arguments":m}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,n,i){var a=t("../internals/has-own-property"),s=t("../internals/own-keys"),l=t("../internals/object-get-own-property-descriptor"),c=t("../internals/object-define-property");n.exports=function(o,u,f){for(var d=s(u),h=c.f,m=l.f,g=0;g<d.length;g++){var p=d[g];a(o,p)||f&&a(f,p)||h(o,p,m(u,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,n,i){var a=t("../internals/well-known-symbol")("match");n.exports=function(s){var l=/./;try{"/./"[s](l)}catch{try{return l[a]=!1,"/./"[s](l)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,n,i){var a=t("../internals/fails");n.exports=!a((function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype}))},{"../internals/fails":260}],240:[function(t,n,i){n.exports=function(a,s){return{value:a,done:s}}},{}],241:[function(t,n,i){var a=t("../internals/descriptors"),s=t("../internals/object-define-property"),l=t("../internals/create-property-descriptor");n.exports=a?function(c,o,u){return s.f(c,o,l(1,u))}:function(c,o,u){return c[o]=u,c}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,n,i){n.exports=function(a,s){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:s}}},{}],243:[function(t,n,i){var a=t("../internals/to-property-key"),s=t("../internals/object-define-property"),l=t("../internals/create-property-descriptor");n.exports=function(c,o,u){var f=a(o);f in c?s.f(c,f,l(0,u)):c[f]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,n,i){var a=t("../internals/make-built-in"),s=t("../internals/object-define-property");n.exports=function(l,c,o){return o.get&&a(o.get,c,{getter:!0}),o.set&&a(o.set,c,{setter:!0}),s.f(l,c,o)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,n,i){var a=t("../internals/is-callable"),s=t("../internals/object-define-property"),l=t("../internals/make-built-in"),c=t("../internals/define-global-property");n.exports=function(o,u,f,d){d||(d={});var h=d.enumerable,m=d.name!==void 0?d.name:u;if(a(f)&&l(f,m,d),d.global)h?o[u]=f:c(u,f);else{try{d.unsafe?o[u]&&(h=!0):delete o[u]}catch{}h?o[u]=f:s.f(o,u,{value:f,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return o}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,n,i){var a=t("../internals/global"),s=Object.defineProperty;n.exports=function(l,c){try{s(a,l,{value:c,configurable:!0,writable:!0})}catch{a[l]=c}return c}},{"../internals/global":274}],247:[function(t,n,i){var a=t("../internals/fails");n.exports=!a((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(t,n,i){var a=typeof document=="object"&&document.all,s=a===void 0&&a!==void 0;n.exports={all:a,IS_HTMLDDA:s}},{}],249:[function(t,n,i){var a=t("../internals/global"),s=t("../internals/is-object"),l=a.document,c=s(l)&&s(l.createElement);n.exports=function(o){return c?l.createElement(o):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,n,i){var a=t("../internals/engine-is-deno"),s=t("../internals/engine-is-node");n.exports=!a&&!s&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,n,i){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(t,n,i){var a=t("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(a)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(t,n,i){var a=t("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},{"../internals/engine-user-agent":256}],254:[function(t,n,i){var a=t("../internals/global"),s=t("../internals/classof-raw");n.exports=s(a.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,n,i){var a=t("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(a)},{"../internals/engine-user-agent":256}],256:[function(t,n,i){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(t,n,i){var a,s,l=t("../internals/global"),c=t("../internals/engine-user-agent"),o=l.process,u=l.Deno,f=o&&o.versions||u&&u.version,d=f&&f.v8;d&&(s=(a=d.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!s&&c&&(!(a=c.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=c.match(/Chrome\/(\d+)/))&&(s=+a[1]),n.exports=s},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,n,i){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,n,i){var a=t("../internals/global"),s=t("../internals/object-get-own-property-descriptor").f,l=t("../internals/create-non-enumerable-property"),c=t("../internals/define-built-in"),o=t("../internals/define-global-property"),u=t("../internals/copy-constructor-properties"),f=t("../internals/is-forced");n.exports=function(d,h){var m,g,p,y,v,w=d.target,C=d.global,P=d.stat;if(m=C?a:P?a[w]||o(w,{}):(a[w]||{}).prototype)for(g in h){if(y=h[g],p=d.dontCallGetSet?(v=s(m,g))&&v.value:m[g],!f(C?g:w+(P?".":"#")+g,d.forced)&&p!==void 0){if(typeof y==typeof p)continue;u(y,p)}(d.sham||p&&p.sham)&&l(y,"sham",!0),c(m,g,y,d)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,n,i){n.exports=function(a){try{return!!a()}catch{return!0}}},{}],261:[function(t,n,i){var a=t("../internals/function-bind-native"),s=Function.prototype,l=s.apply,c=s.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(a?c.bind(l):function(){return c.apply(l,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,n,i){var a=t("../internals/function-uncurry-this-clause"),s=t("../internals/a-callable"),l=t("../internals/function-bind-native"),c=a(a.bind);n.exports=function(o,u){return s(o),u===void 0?o:l?c(o,u):function(){return o.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,n,i){var a=t("../internals/fails");n.exports=!a((function(){var s=(function(){}).bind();return typeof s!="function"||s.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(t,n,i){var a=t("../internals/function-bind-native"),s=Function.prototype.call;n.exports=a?s.bind(s):function(){return s.apply(s,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,n,i){var a=t("../internals/descriptors"),s=t("../internals/has-own-property"),l=Function.prototype,c=a&&Object.getOwnPropertyDescriptor,o=s(l,"name"),u=o&&(function(){}).name==="something",f=o&&(!a||a&&c(l,"name").configurable);n.exports={EXISTS:o,PROPER:u,CONFIGURABLE:f}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=t("../internals/a-callable");n.exports=function(l,c,o){try{return a(s(Object.getOwnPropertyDescriptor(l,c)[o]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,n,i){var a=t("../internals/classof-raw"),s=t("../internals/function-uncurry-this");n.exports=function(l){if(a(l)==="Function")return s(l)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,n,i){var a=t("../internals/function-bind-native"),s=Function.prototype,l=s.call,c=a&&s.bind.bind(l,l);n.exports=a?c:function(o){return function(){return l.apply(o,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,n,i){var a=t("../internals/global"),s=t("../internals/is-callable"),l=function(c){return s(c)?c:void 0};n.exports=function(c,o){return arguments.length<2?l(a[c]):a[c]&&a[c][o]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,n,i){var a=t("../internals/classof"),s=t("../internals/get-method"),l=t("../internals/is-null-or-undefined"),c=t("../internals/iterators"),o=t("../internals/well-known-symbol")("iterator");n.exports=function(u){if(!l(u))return s(u,o)||s(u,"@@iterator")||c[a(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,n,i){var a=t("../internals/function-call"),s=t("../internals/a-callable"),l=t("../internals/an-object"),c=t("../internals/try-to-string"),o=t("../internals/get-iterator-method"),u=TypeError;n.exports=function(f,d){var h=arguments.length<2?o(f):d;if(s(h))return l(a(h,f));throw new u(c(f)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=t("../internals/is-array"),l=t("../internals/is-callable"),c=t("../internals/classof-raw"),o=t("../internals/to-string"),u=a([].push);n.exports=function(f){if(l(f))return f;if(s(f)){for(var d=f.length,h=[],m=0;m<d;m++){var g=f[m];typeof g=="string"?u(h,g):typeof g!="number"&&c(g)!=="Number"&&c(g)!=="String"||u(h,o(g))}var p=h.length,y=!0;return function(v,w){if(y)return y=!1,w;if(s(this))return w;for(var C=0;C<p;C++)if(h[C]===v)return w}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,n,i){var a=t("../internals/a-callable"),s=t("../internals/is-null-or-undefined");n.exports=function(l,c){var o=l[c];return s(o)?void 0:a(o)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,n,i){(function(a){(function(){var s=function(l){return l&&l.Math===Math&&l};n.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof a=="object"&&a)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=t("../internals/to-object"),l=a({}.hasOwnProperty);n.exports=Object.hasOwn||function(c,o){return l(s(c),o)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,n,i){n.exports={}},{}],277:[function(t,n,i){n.exports=function(a,s){try{arguments.length===1?console.error(a):console.error(a,s)}catch{}}},{}],278:[function(t,n,i){var a=t("../internals/get-built-in");n.exports=a("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,n,i){var a=t("../internals/descriptors"),s=t("../internals/fails"),l=t("../internals/document-create-element");n.exports=!a&&!s((function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=t("../internals/fails"),l=t("../internals/classof-raw"),c=Object,o=a("".split);n.exports=s((function(){return!c("z").propertyIsEnumerable(0)}))?function(u){return l(u)==="String"?o(u,""):c(u)}:c},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=t("../internals/is-callable"),l=t("../internals/shared-store"),c=a(Function.toString);s(l.inspectSource)||(l.inspectSource=function(o){return c(o)}),n.exports=l.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,n,i){var a,s,l,c=t("../internals/weak-map-basic-detection"),o=t("../internals/global"),u=t("../internals/is-object"),f=t("../internals/create-non-enumerable-property"),d=t("../internals/has-own-property"),h=t("../internals/shared-store"),m=t("../internals/shared-key"),g=t("../internals/hidden-keys"),p=o.TypeError,y=o.WeakMap;if(c||h.state){var v=h.state||(h.state=new y);v.get=v.get,v.has=v.has,v.set=v.set,a=function(C,P){if(v.has(C))throw new p("Object already initialized");return P.facade=C,v.set(C,P),P},s=function(C){return v.get(C)||{}},l=function(C){return v.has(C)}}else{var w=m("state");g[w]=!0,a=function(C,P){if(d(C,w))throw new p("Object already initialized");return P.facade=C,f(C,w,P),P},s=function(C){return d(C,w)?C[w]:{}},l=function(C){return d(C,w)}}n.exports={set:a,get:s,has:l,enforce:function(C){return l(C)?s(C):a(C,{})},getterFor:function(C){return function(P){var F;if(!u(P)||(F=s(P)).type!==C)throw new p("Incompatible receiver, "+C+" required");return F}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,n,i){var a=t("../internals/well-known-symbol"),s=t("../internals/iterators"),l=a("iterator"),c=Array.prototype;n.exports=function(o){return o!==void 0&&(s.Array===o||c[l]===o)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,n,i){var a=t("../internals/classof-raw");n.exports=Array.isArray||function(s){return a(s)==="Array"}},{"../internals/classof-raw":235}],285:[function(t,n,i){var a=t("../internals/document-all"),s=a.all;n.exports=a.IS_HTMLDDA?function(l){return typeof l=="function"||l===s}:function(l){return typeof l=="function"}},{"../internals/document-all":248}],286:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=t("../internals/fails"),l=t("../internals/is-callable"),c=t("../internals/classof"),o=t("../internals/get-built-in"),u=t("../internals/inspect-source"),f=function(){},d=[],h=o("Reflect","construct"),m=/^\s*(?:class|function)\b/,g=a(m.exec),p=!m.test(f),y=function(w){if(!l(w))return!1;try{return h(f,d,w),!0}catch{return!1}},v=function(w){if(!l(w))return!1;switch(c(w)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!g(m,u(w))}catch{return!0}};v.sham=!0,n.exports=!h||s((function(){var w;return y(y.call)||!y(Object)||!y((function(){w=!0}))||w}))?v:y},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,n,i){var a=t("../internals/fails"),s=t("../internals/is-callable"),l=/#|\.prototype\./,c=function(h,m){var g=u[o(h)];return g===d||g!==f&&(s(m)?a(m):!!m)},o=c.normalize=function(h){return String(h).replace(l,".").toLowerCase()},u=c.data={},f=c.NATIVE="N",d=c.POLYFILL="P";n.exports=c},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,n,i){n.exports=function(a){return a==null}},{}],289:[function(t,n,i){var a=t("../internals/is-callable"),s=t("../internals/document-all"),l=s.all;n.exports=s.IS_HTMLDDA?function(c){return typeof c=="object"?c!==null:a(c)||c===l}:function(c){return typeof c=="object"?c!==null:a(c)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,n,i){n.exports=!1},{}],291:[function(t,n,i){var a=t("../internals/is-object"),s=t("../internals/classof-raw"),l=t("../internals/well-known-symbol")("match");n.exports=function(c){var o;return a(c)&&((o=c[l])!==void 0?!!o:s(c)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,n,i){var a=t("../internals/get-built-in"),s=t("../internals/is-callable"),l=t("../internals/object-is-prototype-of"),c=t("../internals/use-symbol-as-uid"),o=Object;n.exports=c?function(u){return typeof u=="symbol"}:function(u){var f=a("Symbol");return s(f)&&l(f.prototype,o(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,n,i){var a=t("../internals/function-bind-context"),s=t("../internals/function-call"),l=t("../internals/an-object"),c=t("../internals/try-to-string"),o=t("../internals/is-array-iterator-method"),u=t("../internals/length-of-array-like"),f=t("../internals/object-is-prototype-of"),d=t("../internals/get-iterator"),h=t("../internals/get-iterator-method"),m=t("../internals/iterator-close"),g=TypeError,p=function(v,w){this.stopped=v,this.result=w},y=p.prototype;n.exports=function(v,w,C){var P,F,L,j,I,z,$,B=C&&C.that,T=!(!C||!C.AS_ENTRIES),R=!(!C||!C.IS_RECORD),N=!(!C||!C.IS_ITERATOR),_=!(!C||!C.INTERRUPTED),E=a(w,B),S=function(M){return P&&m(P,"normal",M),new p(!0,M)},k=function(M){return T?(l(M),_?E(M[0],M[1],S):E(M[0],M[1])):_?E(M,S):E(M)};if(R)P=v.iterator;else if(N)P=v;else{if(!(F=h(v)))throw new g(c(v)+" is not iterable");if(o(F)){for(L=0,j=u(v);j>L;L++)if((I=k(v[L]))&&f(y,I))return I;return new p(!1)}P=d(v,F)}for(z=R?v.next:P.next;!($=s(z,P)).done;){try{I=k($.value)}catch(M){m(P,"throw",M)}if(typeof I=="object"&&I&&f(y,I))return I}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,n,i){var a=t("../internals/function-call"),s=t("../internals/an-object"),l=t("../internals/get-method");n.exports=function(c,o,u){var f,d;s(c);try{if(!(f=l(c,"return"))){if(o==="throw")throw u;return u}f=a(f,c)}catch(h){d=!0,f=h}if(o==="throw")throw u;if(d)throw f;return s(f),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,n,i){var a=t("../internals/iterators-core").IteratorPrototype,s=t("../internals/object-create"),l=t("../internals/create-property-descriptor"),c=t("../internals/set-to-string-tag"),o=t("../internals/iterators"),u=function(){return this};n.exports=function(f,d,h,m){var g=d+" Iterator";return f.prototype=s(a,{next:l(+!m,h)}),c(f,g,!1,!0),o[g]=u,f}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/function-call"),l=t("../internals/is-pure"),c=t("../internals/function-name"),o=t("../internals/is-callable"),u=t("../internals/iterator-create-constructor"),f=t("../internals/object-get-prototype-of"),d=t("../internals/object-set-prototype-of"),h=t("../internals/set-to-string-tag"),m=t("../internals/create-non-enumerable-property"),g=t("../internals/define-built-in"),p=t("../internals/well-known-symbol"),y=t("../internals/iterators"),v=t("../internals/iterators-core"),w=c.PROPER,C=c.CONFIGURABLE,P=v.IteratorPrototype,F=v.BUGGY_SAFARI_ITERATORS,L=p("iterator"),j=function(){return this};n.exports=function(I,z,$,B,T,R,N){u($,z,B);var _,E,S,k=function(G){if(G===T&&Q)return Q;if(!F&&G&&G in O)return O[G];switch(G){case"keys":case"values":case"entries":return function(){return new $(this,G)}}return function(){return new $(this)}},M=z+" Iterator",V=!1,O=I.prototype,X=O[L]||O["@@iterator"]||T&&O[T],Q=!F&&X||k(T),re=z==="Array"&&O.entries||X;if(re&&(_=f(re.call(new I)))!==Object.prototype&&_.next&&(l||f(_)===P||(d?d(_,P):o(_[L])||g(_,L,j)),h(_,M,!0,!0),l&&(y[M]=j)),w&&T==="values"&&X&&X.name!=="values"&&(!l&&C?m(O,"name","values"):(V=!0,Q=function(){return s(X,this)})),T)if(E={values:k("values"),keys:R?Q:k("keys"),entries:k("entries")},N)for(S in E)(F||V||!(S in O))&&g(O,S,E[S]);else a({target:z,proto:!0,forced:F||V},E);return l&&!N||O[L]===Q||g(O,L,Q,{name:T}),y[z]=Q,E}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,n,i){var a,s,l,c=t("../internals/fails"),o=t("../internals/is-callable"),u=t("../internals/is-object"),f=t("../internals/object-create"),d=t("../internals/object-get-prototype-of"),h=t("../internals/define-built-in"),m=t("../internals/well-known-symbol"),g=t("../internals/is-pure"),p=m("iterator"),y=!1;[].keys&&("next"in(l=[].keys())?(s=d(d(l)))!==Object.prototype&&(a=s):y=!0),!u(a)||c((function(){var v={};return a[p].call(v)!==v}))?a={}:g&&(a=f(a)),o(a[p])||h(a,p,(function(){return this})),n.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:y}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,n,i){arguments[4][276][0].apply(i,arguments)},{dup:276}],299:[function(t,n,i){var a=t("../internals/to-length");n.exports=function(s){return a(s.length)}},{"../internals/to-length":343}],300:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=t("../internals/fails"),l=t("../internals/is-callable"),c=t("../internals/has-own-property"),o=t("../internals/descriptors"),u=t("../internals/function-name").CONFIGURABLE,f=t("../internals/inspect-source"),d=t("../internals/internal-state"),h=d.enforce,m=d.get,g=String,p=Object.defineProperty,y=a("".slice),v=a("".replace),w=a([].join),C=o&&!s((function(){return p((function(){}),"length",{value:8}).length!==8})),P=String(String).split("String"),F=n.exports=function(L,j,I){y(g(j),0,7)==="Symbol("&&(j="["+v(g(j),/^Symbol\(([^)]*)\)/,"$1")+"]"),I&&I.getter&&(j="get "+j),I&&I.setter&&(j="set "+j),(!c(L,"name")||u&&L.name!==j)&&(o?p(L,"name",{value:j,configurable:!0}):L.name=j),C&&I&&c(I,"arity")&&L.length!==I.arity&&p(L,"length",{value:I.arity});try{I&&c(I,"constructor")&&I.constructor?o&&p(L,"prototype",{writable:!1}):L.prototype&&(L.prototype=void 0)}catch{}var z=h(L);return c(z,"source")||(z.source=w(P,typeof j=="string"?j:"")),L};Function.prototype.toString=F((function(){return l(this)&&m(this).source||f(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,n,i){var a=Math.ceil,s=Math.floor;n.exports=Math.trunc||function(l){var c=+l;return(c>0?s:a)(c)}},{}],302:[function(t,n,i){var a,s,l,c,o,u=t("../internals/global"),f=t("../internals/function-bind-context"),d=t("../internals/object-get-own-property-descriptor").f,h=t("../internals/task").set,m=t("../internals/queue"),g=t("../internals/engine-is-ios"),p=t("../internals/engine-is-ios-pebble"),y=t("../internals/engine-is-webos-webkit"),v=t("../internals/engine-is-node"),w=u.MutationObserver||u.WebKitMutationObserver,C=u.document,P=u.process,F=u.Promise,L=d(u,"queueMicrotask"),j=L&&L.value;if(!j){var I=new m,z=function(){var $,B;for(v&&($=P.domain)&&$.exit();B=I.get();)try{B()}catch(T){throw I.head&&a(),T}$&&$.enter()};g||v||y||!w||!C?!p&&F&&F.resolve?((c=F.resolve(void 0)).constructor=F,o=f(c.then,c),a=function(){o(z)}):v?a=function(){P.nextTick(z)}:(h=f(h,u),a=function(){h(z)}):(s=!0,l=C.createTextNode(""),new w(z).observe(l,{characterData:!0}),a=function(){l.data=s=!s}),j=function($){I.head||a(),I.add($)}}n.exports=j},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,n,i){var a=t("../internals/a-callable"),s=TypeError,l=function(c){var o,u;this.promise=new c((function(f,d){if(o!==void 0||u!==void 0)throw new s("Bad Promise constructor");o=f,u=d})),this.resolve=a(o),this.reject=a(u)};n.exports.f=function(c){return new l(c)}},{"../internals/a-callable":222}],304:[function(t,n,i){var a=t("../internals/is-regexp"),s=TypeError;n.exports=function(l){if(a(l))throw new s("The method doesn't accept regular expressions");return l}},{"../internals/is-regexp":291}],305:[function(t,n,i){var a=t("../internals/descriptors"),s=t("../internals/function-uncurry-this"),l=t("../internals/function-call"),c=t("../internals/fails"),o=t("../internals/object-keys"),u=t("../internals/object-get-own-property-symbols"),f=t("../internals/object-property-is-enumerable"),d=t("../internals/to-object"),h=t("../internals/indexed-object"),m=Object.assign,g=Object.defineProperty,p=s([].concat);n.exports=!m||c((function(){if(a&&m({b:1},m(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var y={},v={},w=Symbol("assign detection");return y[w]=7,"abcdefghijklmnopqrst".split("").forEach((function(C){v[C]=C})),m({},y)[w]!==7||o(m({},v)).join("")!=="abcdefghijklmnopqrst"}))?function(y,v){for(var w=d(y),C=arguments.length,P=1,F=u.f,L=f.f;C>P;)for(var j,I=h(arguments[P++]),z=F?p(o(I),F(I)):o(I),$=z.length,B=0;$>B;)j=z[B++],a&&!l(L,I,j)||(w[j]=I[j]);return w}:m},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,n,i){var a,s=t("../internals/an-object"),l=t("../internals/object-define-properties"),c=t("../internals/enum-bug-keys"),o=t("../internals/hidden-keys"),u=t("../internals/html"),f=t("../internals/document-create-element"),d=t("../internals/shared-key"),h=d("IE_PROTO"),m=function(){},g=function(v){return"<script>"+v+"<\/script>"},p=function(v){v.write(g("")),v.close();var w=v.parentWindow.Object;return v=null,w},y=function(){try{a=new ActiveXObject("htmlfile")}catch{}var v,w;y=typeof document<"u"?document.domain&&a?p(a):((w=f("iframe")).style.display="none",u.appendChild(w),w.src="javascript:",(v=w.contentWindow.document).open(),v.write(g("document.F=Object")),v.close(),v.F):p(a);for(var C=c.length;C--;)delete y.prototype[c[C]];return y()};o[h]=!0,n.exports=Object.create||function(v,w){var C;return v!==null?(m.prototype=s(v),C=new m,m.prototype=null,C[h]=v):C=y(),w===void 0?C:l.f(C,w)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,n,i){var a=t("../internals/descriptors"),s=t("../internals/v8-prototype-define-bug"),l=t("../internals/object-define-property"),c=t("../internals/an-object"),o=t("../internals/to-indexed-object"),u=t("../internals/object-keys");i.f=a&&!s?Object.defineProperties:function(f,d){c(f);for(var h,m=o(d),g=u(d),p=g.length,y=0;p>y;)l.f(f,h=g[y++],m[h]);return f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,n,i){var a=t("../internals/descriptors"),s=t("../internals/ie8-dom-define"),l=t("../internals/v8-prototype-define-bug"),c=t("../internals/an-object"),o=t("../internals/to-property-key"),u=TypeError,f=Object.defineProperty,d=Object.getOwnPropertyDescriptor;i.f=a?l?function(h,m,g){if(c(h),m=o(m),c(g),typeof h=="function"&&m==="prototype"&&"value"in g&&"writable"in g&&!g.writable){var p=d(h,m);p&&p.writable&&(h[m]=g.value,g={configurable:"configurable"in g?g.configurable:p.configurable,enumerable:"enumerable"in g?g.enumerable:p.enumerable,writable:!1})}return f(h,m,g)}:f:function(h,m,g){if(c(h),m=o(m),c(g),s)try{return f(h,m,g)}catch{}if("get"in g||"set"in g)throw new u("Accessors not supported");return"value"in g&&(h[m]=g.value),h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,n,i){var a=t("../internals/descriptors"),s=t("../internals/function-call"),l=t("../internals/object-property-is-enumerable"),c=t("../internals/create-property-descriptor"),o=t("../internals/to-indexed-object"),u=t("../internals/to-property-key"),f=t("../internals/has-own-property"),d=t("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;i.f=a?h:function(m,g){if(m=o(m),g=u(g),d)try{return h(m,g)}catch{}if(f(m,g))return c(!s(l.f,m,g),m[g])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,n,i){var a=t("../internals/classof-raw"),s=t("../internals/to-indexed-object"),l=t("../internals/object-get-own-property-names").f,c=t("../internals/array-slice-simple"),o=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return o&&a(u)==="Window"?(function(f){try{return l(f)}catch{return c(o)}})(u):l(s(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,n,i){var a=t("../internals/object-keys-internal"),s=t("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(l){return a(l,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,n,i){i.f=Object.getOwnPropertySymbols},{}],313:[function(t,n,i){var a=t("../internals/has-own-property"),s=t("../internals/is-callable"),l=t("../internals/to-object"),c=t("../internals/shared-key"),o=t("../internals/correct-prototype-getter"),u=c("IE_PROTO"),f=Object,d=f.prototype;n.exports=o?f.getPrototypeOf:function(h){var m=l(h);if(a(m,u))return m[u];var g=m.constructor;return s(g)&&m instanceof g?g.prototype:m instanceof f?d:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,n,i){var a=t("../internals/function-uncurry-this");n.exports=a({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=t("../internals/has-own-property"),l=t("../internals/to-indexed-object"),c=t("../internals/array-includes").indexOf,o=t("../internals/hidden-keys"),u=a([].push);n.exports=function(f,d){var h,m=l(f),g=0,p=[];for(h in m)!s(o,h)&&s(m,h)&&u(p,h);for(;d.length>g;)s(m,h=d[g++])&&(~c(p,h)||u(p,h));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,n,i){var a=t("../internals/object-keys-internal"),s=t("../internals/enum-bug-keys");n.exports=Object.keys||function(l){return a(l,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,n,i){var a={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,l=s&&!a.call({1:2},1);i.f=l?function(c){var o=s(this,c);return!!o&&o.enumerable}:a},{}],318:[function(t,n,i){var a=t("../internals/function-uncurry-this-accessor"),s=t("../internals/an-object"),l=t("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var c,o=!1,u={};try{(c=a(Object.prototype,"__proto__","set"))(u,[]),o=u instanceof Array}catch{}return function(f,d){return s(f),l(d),o?c(f,d):f.__proto__=d,f}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,n,i){var a=t("../internals/descriptors"),s=t("../internals/fails"),l=t("../internals/function-uncurry-this"),c=t("../internals/object-get-prototype-of"),o=t("../internals/object-keys"),u=t("../internals/to-indexed-object"),f=l(t("../internals/object-property-is-enumerable").f),d=l([].push),h=a&&s((function(){var g=Object.create(null);return g[2]=2,!f(g,2)})),m=function(g){return function(p){for(var y,v=u(p),w=o(v),C=h&&c(v)===null,P=w.length,F=0,L=[];P>F;)y=w[F++],a&&!(C?y in v:f(v,y))||d(L,g?[y,v[y]]:v[y]);return L}};n.exports={entries:m(!0),values:m(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,n,i){var a=t("../internals/function-call"),s=t("../internals/is-callable"),l=t("../internals/is-object"),c=TypeError;n.exports=function(o,u){var f,d;if(u==="string"&&s(f=o.toString)&&!l(d=a(f,o))||s(f=o.valueOf)&&!l(d=a(f,o))||u!=="string"&&s(f=o.toString)&&!l(d=a(f,o)))return d;throw new c("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,n,i){var a=t("../internals/get-built-in"),s=t("../internals/function-uncurry-this"),l=t("../internals/object-get-own-property-names"),c=t("../internals/object-get-own-property-symbols"),o=t("../internals/an-object"),u=s([].concat);n.exports=a("Reflect","ownKeys")||function(f){var d=l.f(o(f)),h=c.f;return h?u(d,h(f)):d}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,n,i){var a=t("../internals/global");n.exports=a},{"../internals/global":274}],323:[function(t,n,i){n.exports=function(a){try{return{error:!1,value:a()}}catch(s){return{error:!0,value:s}}}},{}],324:[function(t,n,i){var a=t("../internals/global"),s=t("../internals/promise-native-constructor"),l=t("../internals/is-callable"),c=t("../internals/is-forced"),o=t("../internals/inspect-source"),u=t("../internals/well-known-symbol"),f=t("../internals/engine-is-browser"),d=t("../internals/engine-is-deno"),h=t("../internals/is-pure"),m=t("../internals/engine-v8-version"),g=s&&s.prototype,p=u("species"),y=!1,v=l(a.PromiseRejectionEvent),w=c("Promise",(function(){var C=o(s),P=C!==String(s);if(!P&&m===66||h&&(!g.catch||!g.finally))return!0;if(!m||m<51||!/native code/.test(C)){var F=new s((function(j){j(1)})),L=function(j){j((function(){}),(function(){}))};if((F.constructor={})[p]=L,!(y=F.then((function(){}))instanceof L))return!0}return!P&&(f||d)&&!v}));n.exports={CONSTRUCTOR:w,REJECTION_EVENT:v,SUBCLASSING:y}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,n,i){var a=t("../internals/global");n.exports=a.Promise},{"../internals/global":274}],326:[function(t,n,i){var a=t("../internals/an-object"),s=t("../internals/is-object"),l=t("../internals/new-promise-capability");n.exports=function(c,o){if(a(c),s(o)&&o.constructor===c)return o;var u=l.f(c);return(0,u.resolve)(o),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,n,i){var a=t("../internals/promise-native-constructor"),s=t("../internals/check-correctness-of-iteration"),l=t("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=l||!s((function(c){a.all(c).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,n,i){var a=function(){this.head=null,this.tail=null};a.prototype={add:function(s){var l={item:s,next:null},c=this.tail;c?c.next=l:this.head=l,this.tail=l},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}},n.exports=a},{}],329:[function(t,n,i){var a=t("../internals/is-null-or-undefined"),s=TypeError;n.exports=function(l){if(a(l))throw new s("Can't call method on "+l);return l}},{"../internals/is-null-or-undefined":288}],330:[function(t,n,i){var a=t("../internals/get-built-in"),s=t("../internals/define-built-in-accessor"),l=t("../internals/well-known-symbol"),c=t("../internals/descriptors"),o=l("species");n.exports=function(u){var f=a(u);c&&f&&!f[o]&&s(f,o,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,n,i){var a=t("../internals/object-define-property").f,s=t("../internals/has-own-property"),l=t("../internals/well-known-symbol")("toStringTag");n.exports=function(c,o,u){c&&!u&&(c=c.prototype),c&&!s(c,l)&&a(c,l,{configurable:!0,value:o})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,n,i){var a=t("../internals/shared"),s=t("../internals/uid"),l=a("keys");n.exports=function(c){return l[c]||(l[c]=s(c))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,n,i){var a=t("../internals/global"),s=t("../internals/define-global-property"),l=a["__core-js_shared__"]||s("__core-js_shared__",{});n.exports=l},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,n,i){var a=t("../internals/is-pure"),s=t("../internals/shared-store");(n.exports=function(l,c){return s[l]||(s[l]=c!==void 0?c:{})})("versions",[]).push({version:"3.33.0",mode:a?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,n,i){var a=t("../internals/an-object"),s=t("../internals/a-constructor"),l=t("../internals/is-null-or-undefined"),c=t("../internals/well-known-symbol")("species");n.exports=function(o,u){var f,d=a(o).constructor;return d===void 0||l(f=a(d)[c])?u:s(f)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,n,i){var a=t("../internals/engine-v8-version"),s=t("../internals/fails"),l=t("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!s((function(){var c=Symbol("symbol detection");return!l(c)||!(Object(c)instanceof Symbol)||!Symbol.sham&&a&&a<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,n,i){var a=t("../internals/function-call"),s=t("../internals/get-built-in"),l=t("../internals/well-known-symbol"),c=t("../internals/define-built-in");n.exports=function(){var o=s("Symbol"),u=o&&o.prototype,f=u&&u.valueOf,d=l("toPrimitive");u&&!u[d]&&c(u,d,(function(h){return a(f,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,n,i){var a=t("../internals/symbol-constructor-detection");n.exports=a&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,n,i){var a,s,l,c,o=t("../internals/global"),u=t("../internals/function-apply"),f=t("../internals/function-bind-context"),d=t("../internals/is-callable"),h=t("../internals/has-own-property"),m=t("../internals/fails"),g=t("../internals/html"),p=t("../internals/array-slice"),y=t("../internals/document-create-element"),v=t("../internals/validate-arguments-length"),w=t("../internals/engine-is-ios"),C=t("../internals/engine-is-node"),P=o.setImmediate,F=o.clearImmediate,L=o.process,j=o.Dispatch,I=o.Function,z=o.MessageChannel,$=o.String,B=0,T={};m((function(){a=o.location}));var R=function(S){if(h(T,S)){var k=T[S];delete T[S],k()}},N=function(S){return function(){R(S)}},_=function(S){R(S.data)},E=function(S){o.postMessage($(S),a.protocol+"//"+a.host)};P&&F||(P=function(S){v(arguments.length,1);var k=d(S)?S:I(S),M=p(arguments,1);return T[++B]=function(){u(k,void 0,M)},s(B),B},F=function(S){delete T[S]},C?s=function(S){L.nextTick(N(S))}:j&&j.now?s=function(S){j.now(N(S))}:z&&!w?(c=(l=new z).port2,l.port1.onmessage=_,s=f(c.postMessage,c)):o.addEventListener&&d(o.postMessage)&&!o.importScripts&&a&&a.protocol!=="file:"&&!m(E)?(s=E,o.addEventListener("message",_,!1)):s="onreadystatechange"in y("script")?function(S){g.appendChild(y("script")).onreadystatechange=function(){g.removeChild(this),R(S)}}:function(S){setTimeout(N(S),0)}),n.exports={set:P,clear:F}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,n,i){var a=t("../internals/to-integer-or-infinity"),s=Math.max,l=Math.min;n.exports=function(c,o){var u=a(c);return u<0?s(u+o,0):l(u,o)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,n,i){var a=t("../internals/indexed-object"),s=t("../internals/require-object-coercible");n.exports=function(l){return a(s(l))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,n,i){var a=t("../internals/math-trunc");n.exports=function(s){var l=+s;return l!=l||l===0?0:a(l)}},{"../internals/math-trunc":301}],343:[function(t,n,i){var a=t("../internals/to-integer-or-infinity"),s=Math.min;n.exports=function(l){return l>0?s(a(l),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,n,i){var a=t("../internals/require-object-coercible"),s=Object;n.exports=function(l){return s(a(l))}},{"../internals/require-object-coercible":329}],345:[function(t,n,i){var a=t("../internals/function-call"),s=t("../internals/is-object"),l=t("../internals/is-symbol"),c=t("../internals/get-method"),o=t("../internals/ordinary-to-primitive"),u=t("../internals/well-known-symbol"),f=TypeError,d=u("toPrimitive");n.exports=function(h,m){if(!s(h)||l(h))return h;var g,p=c(h,d);if(p){if(m===void 0&&(m="default"),g=a(p,h,m),!s(g)||l(g))return g;throw new f("Can't convert object to primitive value")}return m===void 0&&(m="number"),o(h,m)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,n,i){var a=t("../internals/to-primitive"),s=t("../internals/is-symbol");n.exports=function(l){var c=a(l,"string");return s(c)?c:c+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,n,i){var a={};a[t("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(a)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(t,n,i){var a=t("../internals/classof"),s=String;n.exports=function(l){if(a(l)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return s(l)}},{"../internals/classof":236}],349:[function(t,n,i){var a=String;n.exports=function(s){try{return a(s)}catch{return"Object"}}},{}],350:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=0,l=Math.random(),c=a(1 .toString);n.exports=function(o){return"Symbol("+(o===void 0?"":o)+")_"+c(++s+l,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,n,i){var a=t("../internals/symbol-constructor-detection");n.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(t,n,i){var a=t("../internals/descriptors"),s=t("../internals/fails");n.exports=a&&s((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,n,i){var a=TypeError;n.exports=function(s,l){if(s<l)throw new a("Not enough arguments");return s}},{}],354:[function(t,n,i){var a=t("../internals/global"),s=t("../internals/is-callable"),l=a.WeakMap;n.exports=s(l)&&/native code/.test(String(l))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,n,i){var a=t("../internals/path"),s=t("../internals/has-own-property"),l=t("../internals/well-known-symbol-wrapped"),c=t("../internals/object-define-property").f;n.exports=function(o){var u=a.Symbol||(a.Symbol={});s(u,o)||c(u,o,{value:l.f(o)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,n,i){var a=t("../internals/well-known-symbol");i.f=a},{"../internals/well-known-symbol":357}],357:[function(t,n,i){var a=t("../internals/global"),s=t("../internals/shared"),l=t("../internals/has-own-property"),c=t("../internals/uid"),o=t("../internals/symbol-constructor-detection"),u=t("../internals/use-symbol-as-uid"),f=a.Symbol,d=s("wks"),h=u?f.for||f:f&&f.withoutSetter||c;n.exports=function(m){return l(d,m)||(d[m]=o&&l(f,m)?f[m]:h("Symbol."+m)),d[m]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/array-iteration").findIndex,l=t("../internals/add-to-unscopables"),c=!0;"findIndex"in[]&&Array(1).findIndex((function(){c=!1})),a({target:"Array",proto:!0,forced:c},{findIndex:function(o){return s(this,o,arguments.length>1?arguments[1]:void 0)}}),l("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/array-iteration").find,l=t("../internals/add-to-unscopables"),c=!0;"find"in[]&&Array(1).find((function(){c=!1})),a({target:"Array",proto:!0,forced:c},{find:function(o){return s(this,o,arguments.length>1?arguments[1]:void 0)}}),l("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/array-includes").includes,l=t("../internals/fails"),c=t("../internals/add-to-unscopables");a({target:"Array",proto:!0,forced:l((function(){return!Array(1).includes()}))},{includes:function(o){return s(this,o,arguments.length>1?arguments[1]:void 0)}}),c("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,n,i){var a=t("../internals/to-indexed-object"),s=t("../internals/add-to-unscopables"),l=t("../internals/iterators"),c=t("../internals/internal-state"),o=t("../internals/object-define-property").f,u=t("../internals/iterator-define"),f=t("../internals/create-iter-result-object"),d=t("../internals/is-pure"),h=t("../internals/descriptors"),m=c.set,g=c.getterFor("Array Iterator");n.exports=u(Array,"Array",(function(y,v){m(this,{type:"Array Iterator",target:a(y),index:0,kind:v})}),(function(){var y=g(this),v=y.target,w=y.kind,C=y.index++;if(!v||C>=v.length)return y.target=void 0,f(void 0,!0);switch(w){case"keys":return f(C,!1);case"values":return f(v[C],!1)}return f([C,v[C]],!1)}),"values");var p=l.Arguments=l.Array;if(s("keys"),s("values"),s("entries"),!d&&h&&p.name!=="values")try{o(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/get-built-in"),l=t("../internals/function-apply"),c=t("../internals/function-call"),o=t("../internals/function-uncurry-this"),u=t("../internals/fails"),f=t("../internals/is-callable"),d=t("../internals/is-symbol"),h=t("../internals/array-slice"),m=t("../internals/get-json-replacer-function"),g=t("../internals/symbol-constructor-detection"),p=String,y=s("JSON","stringify"),v=o(/./.exec),w=o("".charAt),C=o("".charCodeAt),P=o("".replace),F=o(1 .toString),L=/[\uD800-\uDFFF]/g,j=/^[\uD800-\uDBFF]$/,I=/^[\uDC00-\uDFFF]$/,z=!g||u((function(){var R=s("Symbol")("stringify detection");return y([R])!=="[null]"||y({a:R})!=="{}"||y(Object(R))!=="{}"})),$=u((function(){return y("\uDF06\uD834")!=='"\\udf06\\ud834"'||y("\uDEAD")!=='"\\udead"'})),B=function(R,N){var _=h(arguments),E=m(N);if(f(E)||R!==void 0&&!d(R))return _[1]=function(S,k){if(f(E)&&(k=c(E,this,p(S),k)),!d(k))return k},l(y,null,_)},T=function(R,N,_){var E=w(_,N-1),S=w(_,N+1);return v(j,R)&&!v(I,S)||v(I,R)&&!v(j,E)?"\\u"+F(C(R,0),16):R};y&&a({target:"JSON",stat:!0,arity:3,forced:z||$},{stringify:function(R,N,_){var E=h(arguments),S=l(z?B:y,null,E);return $&&typeof S=="string"?P(S,L,T):S}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,n,i){t("../internals/export")({target:"Number",stat:!0},{isNaN:function(a){return a!=a}})},{"../internals/export":259}],364:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/object-assign");a({target:"Object",stat:!0,arity:2,forced:Object.assign!==s},{assign:s})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/symbol-constructor-detection"),l=t("../internals/fails"),c=t("../internals/object-get-own-property-symbols"),o=t("../internals/to-object");a({target:"Object",stat:!0,forced:!s||l((function(){c.f(1)}))},{getOwnPropertySymbols:function(u){var f=c.f;return f?f(o(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/to-object"),l=t("../internals/object-keys");a({target:"Object",stat:!0,forced:t("../internals/fails")((function(){l(1)}))},{keys:function(c){return l(s(c))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/object-to-array").values;a({target:"Object",stat:!0},{values:function(l){return s(l)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/function-call"),l=t("../internals/a-callable"),c=t("../internals/new-promise-capability"),o=t("../internals/perform"),u=t("../internals/iterate");a({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(f){var d=this,h=c.f(d),m=h.resolve,g=h.reject,p=o((function(){var y=l(d.resolve),v=[],w=0,C=1;u(f,(function(P){var F=w++,L=!1;C++,s(y,d,P).then((function(j){L||(L=!0,v[F]=j,--C||m(v))}),g)})),--C||m(v)}));return p.error&&g(p.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/is-pure"),l=t("../internals/promise-constructor-detection").CONSTRUCTOR,c=t("../internals/promise-native-constructor"),o=t("../internals/get-built-in"),u=t("../internals/is-callable"),f=t("../internals/define-built-in"),d=c&&c.prototype;if(a({target:"Promise",proto:!0,forced:l,real:!0},{catch:function(m){return this.then(void 0,m)}}),!s&&u(c)){var h=o("Promise").prototype.catch;d.catch!==h&&f(d,"catch",h,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,n,i){var a,s,l,c=t("../internals/export"),o=t("../internals/is-pure"),u=t("../internals/engine-is-node"),f=t("../internals/global"),d=t("../internals/function-call"),h=t("../internals/define-built-in"),m=t("../internals/object-set-prototype-of"),g=t("../internals/set-to-string-tag"),p=t("../internals/set-species"),y=t("../internals/a-callable"),v=t("../internals/is-callable"),w=t("../internals/is-object"),C=t("../internals/an-instance"),P=t("../internals/species-constructor"),F=t("../internals/task").set,L=t("../internals/microtask"),j=t("../internals/host-report-errors"),I=t("../internals/perform"),z=t("../internals/queue"),$=t("../internals/internal-state"),B=t("../internals/promise-native-constructor"),T=t("../internals/promise-constructor-detection"),R=t("../internals/new-promise-capability"),N=T.CONSTRUCTOR,_=T.REJECTION_EVENT,E=T.SUBCLASSING,S=$.getterFor("Promise"),k=$.set,M=B&&B.prototype,V=B,O=M,X=f.TypeError,Q=f.document,re=f.process,G=R.f,J=G,q=!!(Q&&Q.createEvent&&f.dispatchEvent),U=function(me){var Ce;return!(!w(me)||!v(Ce=me.then))&&Ce},Z=function(me,Ce){var ke,Oe,De,He=Ce.value,Qe=Ce.state===1,tt=Qe?me.ok:me.fail,st=me.resolve,it=me.reject,pt=me.domain;try{tt?(Qe||(Ce.rejection===2&&ue(Ce),Ce.rejection=1),tt===!0?ke=He:(pt&&pt.enter(),ke=tt(He),pt&&(pt.exit(),De=!0)),ke===me.promise?it(new X("Promise-chain cycle")):(Oe=U(ke))?d(Oe,ke,st,it):st(ke)):it(He)}catch(bt){pt&&!De&&pt.exit(),it(bt)}},ie=function(me,Ce){me.notified||(me.notified=!0,L((function(){for(var ke,Oe=me.reactions;ke=Oe.get();)Z(ke,me);me.notified=!1,Ce&&!me.rejection&&de(me)})))},le=function(me,Ce,ke){var Oe,De;q?((Oe=Q.createEvent("Event")).promise=Ce,Oe.reason=ke,Oe.initEvent(me,!1,!0),f.dispatchEvent(Oe)):Oe={promise:Ce,reason:ke},!_&&(De=f["on"+me])?De(Oe):me==="unhandledrejection"&&j("Unhandled promise rejection",ke)},de=function(me){d(F,f,(function(){var Ce,ke=me.facade,Oe=me.value;if(fe(me)&&(Ce=I((function(){u?re.emit("unhandledRejection",Oe,ke):le("unhandledrejection",ke,Oe)})),me.rejection=u||fe(me)?2:1,Ce.error))throw Ce.value}))},fe=function(me){return me.rejection!==1&&!me.parent},ue=function(me){d(F,f,(function(){var Ce=me.facade;u?re.emit("rejectionHandled",Ce):le("rejectionhandled",Ce,me.value)}))},Ae=function(me,Ce,ke){return function(Oe){me(Ce,Oe,ke)}},he=function(me,Ce,ke){me.done||(me.done=!0,ke&&(me=ke),me.value=Ce,me.state=2,ie(me,!0))},xe=function(me,Ce,ke){if(!me.done){me.done=!0,ke&&(me=ke);try{if(me.facade===Ce)throw new X("Promise can't be resolved itself");var Oe=U(Ce);Oe?L((function(){var De={done:!1};try{d(Oe,Ce,Ae(xe,De,me),Ae(he,De,me))}catch(He){he(De,He,me)}})):(me.value=Ce,me.state=1,ie(me,!1))}catch(De){he({done:!1},De,me)}}};if(N&&(O=(V=function(me){C(this,O),y(me),d(a,this);var Ce=S(this);try{me(Ae(xe,Ce),Ae(he,Ce))}catch(ke){he(Ce,ke)}}).prototype,(a=function(me){k(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new z,rejection:!1,state:0,value:void 0})}).prototype=h(O,"then",(function(me,Ce){var ke=S(this),Oe=G(P(this,V));return ke.parent=!0,Oe.ok=!v(me)||me,Oe.fail=v(Ce)&&Ce,Oe.domain=u?re.domain:void 0,ke.state===0?ke.reactions.add(Oe):L((function(){Z(Oe,ke)})),Oe.promise})),s=function(){var me=new a,Ce=S(me);this.promise=me,this.resolve=Ae(xe,Ce),this.reject=Ae(he,Ce)},R.f=G=function(me){return me===V||me===void 0?new s(me):J(me)},!o&&v(B)&&M!==Object.prototype)){l=M.then,E||h(M,"then",(function(me,Ce){var ke=this;return new V((function(Oe,De){d(l,ke,Oe,De)})).then(me,Ce)}),{unsafe:!0});try{delete M.constructor}catch{}m&&m(M,O)}c({global:!0,constructor:!0,wrap:!0,forced:N},{Promise:V}),g(V,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/is-pure"),l=t("../internals/promise-native-constructor"),c=t("../internals/fails"),o=t("../internals/get-built-in"),u=t("../internals/is-callable"),f=t("../internals/species-constructor"),d=t("../internals/promise-resolve"),h=t("../internals/define-built-in"),m=l&&l.prototype;if(a({target:"Promise",proto:!0,real:!0,forced:!!l&&c((function(){m.finally.call({then:function(){}},(function(){}))}))},{finally:function(p){var y=f(this,o("Promise")),v=u(p);return this.then(v?function(w){return d(y,p()).then((function(){return w}))}:p,v?function(w){return d(y,p()).then((function(){throw w}))}:p)}}),!s&&u(l)){var g=o("Promise").prototype.finally;m.finally!==g&&h(m,"finally",g,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,n,i){t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/function-call"),l=t("../internals/a-callable"),c=t("../internals/new-promise-capability"),o=t("../internals/perform"),u=t("../internals/iterate");a({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(f){var d=this,h=c.f(d),m=h.reject,g=o((function(){var p=l(d.resolve);u(f,(function(y){s(p,d,y).then(h.resolve,m)}))}));return g.error&&m(g.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/function-call"),l=t("../internals/new-promise-capability");a({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(c){var o=l.f(this);return s(o.reject,void 0,c),o.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/get-built-in"),l=t("../internals/is-pure"),c=t("../internals/promise-native-constructor"),o=t("../internals/promise-constructor-detection").CONSTRUCTOR,u=t("../internals/promise-resolve"),f=s("Promise"),d=l&&!o;a({target:"Promise",stat:!0,forced:l||o},{resolve:function(h){return u(d&&this===f?c:this,h)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/function-uncurry-this"),l=t("../internals/to-absolute-index"),c=RangeError,o=String.fromCharCode,u=String.fromCodePoint,f=s([].join);a({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(d){for(var h,m=[],g=arguments.length,p=0;g>p;){if(h=+arguments[p++],l(h,1114111)!==h)throw new c(h+" is not a valid code point");m[p]=h<65536?o(h):o(55296+((h-=65536)>>10),h%1024+56320)}return f(m,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/function-uncurry-this"),l=t("../internals/not-a-regexp"),c=t("../internals/require-object-coercible"),o=t("../internals/to-string"),u=t("../internals/correct-is-regexp-logic"),f=s("".indexOf);a({target:"String",proto:!0,forced:!u("includes")},{includes:function(d){return!!~f(o(c(this)),o(l(d)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,n,i){t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/global"),l=t("../internals/function-call"),c=t("../internals/function-uncurry-this"),o=t("../internals/is-pure"),u=t("../internals/descriptors"),f=t("../internals/symbol-constructor-detection"),d=t("../internals/fails"),h=t("../internals/has-own-property"),m=t("../internals/object-is-prototype-of"),g=t("../internals/an-object"),p=t("../internals/to-indexed-object"),y=t("../internals/to-property-key"),v=t("../internals/to-string"),w=t("../internals/create-property-descriptor"),C=t("../internals/object-create"),P=t("../internals/object-keys"),F=t("../internals/object-get-own-property-names"),L=t("../internals/object-get-own-property-names-external"),j=t("../internals/object-get-own-property-symbols"),I=t("../internals/object-get-own-property-descriptor"),z=t("../internals/object-define-property"),$=t("../internals/object-define-properties"),B=t("../internals/object-property-is-enumerable"),T=t("../internals/define-built-in"),R=t("../internals/define-built-in-accessor"),N=t("../internals/shared"),_=t("../internals/shared-key"),E=t("../internals/hidden-keys"),S=t("../internals/uid"),k=t("../internals/well-known-symbol"),M=t("../internals/well-known-symbol-wrapped"),V=t("../internals/well-known-symbol-define"),O=t("../internals/symbol-define-to-primitive"),X=t("../internals/set-to-string-tag"),Q=t("../internals/internal-state"),re=t("../internals/array-iteration").forEach,G=_("hidden"),J=Q.set,q=Q.getterFor("Symbol"),U=Object.prototype,Z=s.Symbol,ie=Z&&Z.prototype,le=s.RangeError,de=s.TypeError,fe=s.QObject,ue=I.f,Ae=z.f,he=L.f,xe=B.f,me=c([].push),Ce=N("symbols"),ke=N("op-symbols"),Oe=N("wks"),De=!fe||!fe.prototype||!fe.prototype.findChild,He=function(wt,et,dt){var It=ue(U,et);It&&delete U[et],Ae(wt,et,dt),It&&wt!==U&&Ae(U,et,It)},Qe=u&&d((function(){return C(Ae({},"a",{get:function(){return Ae(this,"a",{value:7}).a}})).a!==7}))?He:Ae,tt=function(wt,et){var dt=Ce[wt]=C(ie);return J(dt,{type:"Symbol",tag:wt,description:et}),u||(dt.description=et),dt},st=function(wt,et,dt){wt===U&&st(ke,et,dt),g(wt);var It=y(et);return g(dt),h(Ce,It)?(dt.enumerable?(h(wt,G)&&wt[G][It]&&(wt[G][It]=!1),dt=C(dt,{enumerable:w(0,!1)})):(h(wt,G)||Ae(wt,G,w(1,{})),wt[G][It]=!0),Qe(wt,It,dt)):Ae(wt,It,dt)},it=function(wt,et){g(wt);var dt=p(et),It=P(dt).concat(Mt(dt));return re(It,(function(ht){u&&!l(pt,dt,ht)||st(wt,ht,dt[ht])})),wt},pt=function(wt){var et=y(wt),dt=l(xe,this,et);return!(this===U&&h(Ce,et)&&!h(ke,et))&&(!(dt||!h(this,et)||!h(Ce,et)||h(this,G)&&this[G][et])||dt)},bt=function(wt,et){var dt=p(wt),It=y(et);if(dt!==U||!h(Ce,It)||h(ke,It)){var ht=ue(dt,It);return!ht||!h(Ce,It)||h(dt,G)&&dt[G][It]||(ht.enumerable=!0),ht}},mt=function(wt){var et=he(p(wt)),dt=[];return re(et,(function(It){h(Ce,It)||h(E,It)||me(dt,It)})),dt},Mt=function(wt){var et=wt===U,dt=he(et?ke:p(wt)),It=[];return re(dt,(function(ht){!h(Ce,ht)||et&&!h(U,ht)||me(It,Ce[ht])})),It};f||(T(ie=(Z=function(){if(m(ie,this))throw new de("Symbol is not a constructor");var wt=arguments.length&&arguments[0]!==void 0?v(arguments[0]):void 0,et=S(wt),dt=function(It){this===U&&l(dt,ke,It),h(this,G)&&h(this[G],et)&&(this[G][et]=!1);var ht=w(1,It);try{Qe(this,et,ht)}catch(zt){if(!(zt instanceof le))throw zt;He(this,et,ht)}};return u&&De&&Qe(U,et,{configurable:!0,set:dt}),tt(et,wt)}).prototype,"toString",(function(){return q(this).tag})),T(Z,"withoutSetter",(function(wt){return tt(S(wt),wt)})),B.f=pt,z.f=st,$.f=it,I.f=bt,F.f=L.f=mt,j.f=Mt,M.f=function(wt){return tt(k(wt),wt)},u&&(R(ie,"description",{configurable:!0,get:function(){return q(this).description}}),o||T(U,"propertyIsEnumerable",pt,{unsafe:!0}))),a({global:!0,constructor:!0,wrap:!0,forced:!f,sham:!f},{Symbol:Z}),re(P(Oe),(function(wt){V(wt)})),a({target:"Symbol",stat:!0,forced:!f},{useSetter:function(){De=!0},useSimple:function(){De=!1}}),a({target:"Object",stat:!0,forced:!f,sham:!u},{create:function(wt,et){return et===void 0?C(wt):it(C(wt),et)},defineProperty:st,defineProperties:it,getOwnPropertyDescriptor:bt}),a({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:mt}),O(),X(Z,"Symbol"),E[G]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/get-built-in"),l=t("../internals/has-own-property"),c=t("../internals/to-string"),o=t("../internals/shared"),u=t("../internals/symbol-registry-detection"),f=o("string-to-symbol-registry"),d=o("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!u},{for:function(h){var m=c(h);if(l(f,m))return f[m];var g=s("Symbol")(m);return f[m]=g,d[g]=m,g}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,n,i){t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/has-own-property"),l=t("../internals/is-symbol"),c=t("../internals/try-to-string"),o=t("../internals/shared"),u=t("../internals/symbol-registry-detection"),f=o("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!u},{keyFor:function(d){if(!l(d))throw new TypeError(c(d)+" is not a symbol");if(s(f,d))return f[d]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,n,i){function a(s){return Object.prototype.toString.call(s)}i.isArray=function(s){return Array.isArray?Array.isArray(s):a(s)==="[object Array]"},i.isBoolean=function(s){return typeof s=="boolean"},i.isNull=function(s){return s===null},i.isNullOrUndefined=function(s){return s==null},i.isNumber=function(s){return typeof s=="number"},i.isString=function(s){return typeof s=="string"},i.isSymbol=function(s){return typeof s=="symbol"},i.isUndefined=function(s){return s===void 0},i.isRegExp=function(s){return a(s)==="[object RegExp]"},i.isObject=function(s){return typeof s=="object"&&s!==null},i.isDate=function(s){return a(s)==="[object Date]"},i.isError=function(s){return a(s)==="[object Error]"||s instanceof Error},i.isFunction=function(s){return typeof s=="function"},i.isPrimitive=function(s){return s===null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||typeof s=="symbol"||s===void 0},i.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,n,i){(function(a){(function(){var s=t("elliptic"),l=t("bn.js");n.exports=function(f){return new o(f)};var c={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(f){this.curveType=c[f],this.curveType||(this.curveType={name:f}),this.curve=new s.ec(this.curveType.name),this.keys=void 0}function u(f,d,h){Array.isArray(f)||(f=f.toArray());var m=new a(f);if(h&&m.length<h){var g=new a(h-m.length);g.fill(0),m=a.concat([g,m])}return d?m.toString(d):m}c.p224=c.secp224r1,c.p256=c.secp256r1=c.prime256v1,c.p192=c.secp192r1=c.prime192v1,c.p384=c.secp384r1,c.p521=c.secp521r1,o.prototype.generateKeys=function(f,d){return this.keys=this.curve.genKeyPair(),this.getPublicKey(f,d)},o.prototype.computeSecret=function(f,d,h){return d=d||"utf8",a.isBuffer(f)||(f=new a(f,d)),u(this.curve.keyFromPublic(f).getPublic().mul(this.keys.getPrivate()).getX(),h,this.curveType.byteLength)},o.prototype.getPublicKey=function(f,d){var h=this.keys.getPublic(d==="compressed",!0);return d==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),u(h,f)},o.prototype.getPrivateKey=function(f){return u(this.keys.getPrivate(),f)},o.prototype.setPublicKey=function(f,d){return d=d||"utf8",a.isBuffer(f)||(f=new a(f,d)),this.keys._importPublic(f),this},o.prototype.setPrivateKey=function(f,d){d=d||"utf8",a.isBuffer(f)||(f=new a(f,d));var h=new l(f);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],386:[function(t,n,i){var a=t("inherits"),s=t("md5.js"),l=t("ripemd160"),c=t("sha.js"),o=t("cipher-base");function u(f){o.call(this,"digest"),this._hash=f}a(u,o),u.prototype._update=function(f){this._hash.update(f)},u.prototype._final=function(){return this._hash.digest()},n.exports=function(f){return(f=f.toLowerCase())==="md5"?new s:f==="rmd160"||f==="ripemd160"?new l:new u(c(f))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,n,i){var a=t("md5.js");n.exports=function(s){return new a().update(s).digest()}},{"md5.js":450}],388:[function(t,n,i){var a=t("inherits"),s=t("./legacy"),l=t("cipher-base"),c=t("safe-buffer").Buffer,o=t("create-hash/md5"),u=t("ripemd160"),f=t("sha.js"),d=c.alloc(128);function h(m,g){l.call(this,"digest"),typeof g=="string"&&(g=c.from(g));var p=m==="sha512"||m==="sha384"?128:64;this._alg=m,this._key=g,g.length>p?g=(m==="rmd160"?new u:f(m)).update(g).digest():g.length<p&&(g=c.concat([g,d],p));for(var y=this._ipad=c.allocUnsafe(p),v=this._opad=c.allocUnsafe(p),w=0;w<p;w++)y[w]=54^g[w],v[w]=92^g[w];this._hash=m==="rmd160"?new u:f(m),this._hash.update(y)}a(h,l),h.prototype._update=function(m){this._hash.update(m)},h.prototype._final=function(){var m=this._hash.digest();return(this._alg==="rmd160"?new u:f(this._alg)).update(this._opad).update(m).digest()},n.exports=function(m,g){return(m=m.toLowerCase())==="rmd160"||m==="ripemd160"?new h("rmd160",g):m==="md5"?new s(o,g):new h(m,g)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,n,i){var a=t("inherits"),s=t("safe-buffer").Buffer,l=t("cipher-base"),c=s.alloc(128);function o(u,f){l.call(this,"digest"),typeof f=="string"&&(f=s.from(f)),this._alg=u,this._key=f,f.length>64?f=u(f):f.length<64&&(f=s.concat([f,c],64));for(var d=this._ipad=s.allocUnsafe(64),h=this._opad=s.allocUnsafe(64),m=0;m<64;m++)d[m]=54^f[m],h[m]=92^f[m];this._hash=[d]}a(o,l),o.prototype._update=function(u){this._hash.push(u)},o.prototype._final=function(){var u=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,u]))},n.exports=o},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,n,i){i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=t("randombytes"),i.createHash=i.Hash=t("create-hash"),i.createHmac=i.Hmac=t("create-hmac");var a=t("browserify-sign/algos"),s=Object.keys(a),l=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);i.getHashes=function(){return l};var c=t("pbkdf2");i.pbkdf2=c.pbkdf2,i.pbkdf2Sync=c.pbkdf2Sync;var o=t("browserify-cipher");i.Cipher=o.Cipher,i.createCipher=o.createCipher,i.Cipheriv=o.Cipheriv,i.createCipheriv=o.createCipheriv,i.Decipher=o.Decipher,i.createDecipher=o.createDecipher,i.Decipheriv=o.Decipheriv,i.createDecipheriv=o.createDecipheriv,i.getCiphers=o.getCiphers,i.listCiphers=o.listCiphers;var u=t("diffie-hellman");i.DiffieHellmanGroup=u.DiffieHellmanGroup,i.createDiffieHellmanGroup=u.createDiffieHellmanGroup,i.getDiffieHellman=u.getDiffieHellman,i.createDiffieHellman=u.createDiffieHellman,i.DiffieHellman=u.DiffieHellman;var f=t("browserify-sign");i.createSign=f.createSign,i.Sign=f.Sign,i.createVerify=f.createVerify,i.Verify=f.Verify,i.createECDH=t("create-ecdh");var d=t("public-encrypt");i.publicEncrypt=d.publicEncrypt,i.privateEncrypt=d.privateEncrypt,i.publicDecrypt=d.publicDecrypt,i.privateDecrypt=d.privateDecrypt;var h=t("randomfill");i.randomFill=h.randomFill,i.randomFillSync=h.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,n,i){(function(a,s){typeof i=="object"&&n!==void 0?n.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs=s()})(void 0,(function(){var a=6e4,s=36e5,l="millisecond",c="second",o="minute",u="hour",f="day",d="week",h="month",m="quarter",g="year",p="date",y="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var E=["th","st","nd","rd"],S=_%100;return"["+_+(E[(S-20)%10]||E[S]||E[0])+"]"}},P=function(_,E,S){var k=String(_);return!k||k.length>=E?_:""+Array(E+1-k.length).join(S)+_},F={s:P,z:function(_){var E=-_.utcOffset(),S=Math.abs(E),k=Math.floor(S/60),M=S%60;return(E<=0?"+":"-")+P(k,2,"0")+":"+P(M,2,"0")},m:function _(E,S){if(E.date()<S.date())return-_(S,E);var k=12*(S.year()-E.year())+(S.month()-E.month()),M=E.clone().add(k,h),V=S-M<0,O=E.clone().add(k+(V?-1:1),h);return+(-(k+(S-M)/(V?M-O:O-M))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:h,y:g,w:d,d:f,D:p,h:u,m:o,s:c,ms:l,Q:m}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},L="en",j={};j[L]=C;var I="$isDayjsObject",z=function(_){return _ instanceof R||!(!_||!_[I])},$=function _(E,S,k){var M;if(!E)return L;if(typeof E=="string"){var V=E.toLowerCase();j[V]&&(M=V),S&&(j[V]=S,M=V);var O=E.split("-");if(!M&&O.length>1)return _(O[0])}else{var X=E.name;j[X]=E,M=X}return!k&&M&&(L=M),M||!k&&L},B=function(_,E){if(z(_))return _.clone();var S=typeof E=="object"?E:{};return S.date=_,S.args=arguments,new R(S)},T=F;T.l=$,T.i=z,T.w=function(_,E){return B(_,{locale:E.$L,utc:E.$u,x:E.$x,$offset:E.$offset})};var R=(function(){function _(S){this.$L=$(S.locale,null,!0),this.parse(S),this.$x=this.$x||S.x||{},this[I]=!0}var E=_.prototype;return E.parse=function(S){this.$d=(function(k){var M=k.date,V=k.utc;if(M===null)return new Date(NaN);if(T.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var O=M.match(v);if(O){var X=O[2]-1||0,Q=(O[7]||"0").substring(0,3);return V?new Date(Date.UTC(O[1],X,O[3]||1,O[4]||0,O[5]||0,O[6]||0,Q)):new Date(O[1],X,O[3]||1,O[4]||0,O[5]||0,O[6]||0,Q)}}return new Date(M)})(S),this.init()},E.init=function(){var S=this.$d;this.$y=S.getFullYear(),this.$M=S.getMonth(),this.$D=S.getDate(),this.$W=S.getDay(),this.$H=S.getHours(),this.$m=S.getMinutes(),this.$s=S.getSeconds(),this.$ms=S.getMilliseconds()},E.$utils=function(){return T},E.isValid=function(){return this.$d.toString()!==y},E.isSame=function(S,k){var M=B(S);return this.startOf(k)<=M&&M<=this.endOf(k)},E.isAfter=function(S,k){return B(S)<this.startOf(k)},E.isBefore=function(S,k){return this.endOf(k)<B(S)},E.$g=function(S,k,M){return T.u(S)?this[k]:this.set(M,S)},E.unix=function(){return Math.floor(this.valueOf()/1e3)},E.valueOf=function(){return this.$d.getTime()},E.startOf=function(S,k){var M=this,V=!!T.u(k)||k,O=T.p(S),X=function(ie,le){var de=T.w(M.$u?Date.UTC(M.$y,le,ie):new Date(M.$y,le,ie),M);return V?de:de.endOf(f)},Q=function(ie,le){return T.w(M.toDate()[ie].apply(M.toDate("s"),(V?[0,0,0,0]:[23,59,59,999]).slice(le)),M)},re=this.$W,G=this.$M,J=this.$D,q="set"+(this.$u?"UTC":"");switch(O){case g:return V?X(1,0):X(31,11);case h:return V?X(1,G):X(0,G+1);case d:var U=this.$locale().weekStart||0,Z=(re<U?re+7:re)-U;return X(V?J-Z:J+(6-Z),G);case f:case p:return Q(q+"Hours",0);case u:return Q(q+"Minutes",1);case o:return Q(q+"Seconds",2);case c:return Q(q+"Milliseconds",3);default:return this.clone()}},E.endOf=function(S){return this.startOf(S,!1)},E.$set=function(S,k){var M,V=T.p(S),O="set"+(this.$u?"UTC":""),X=(M={},M[f]=O+"Date",M[p]=O+"Date",M[h]=O+"Month",M[g]=O+"FullYear",M[u]=O+"Hours",M[o]=O+"Minutes",M[c]=O+"Seconds",M[l]=O+"Milliseconds",M)[V],Q=V===f?this.$D+(k-this.$W):k;if(V===h||V===g){var re=this.clone().set(p,1);re.$d[X](Q),re.init(),this.$d=re.set(p,Math.min(this.$D,re.daysInMonth())).$d}else X&&this.$d[X](Q);return this.init(),this},E.set=function(S,k){return this.clone().$set(S,k)},E.get=function(S){return this[T.p(S)]()},E.add=function(S,k){var M,V=this;S=Number(S);var O=T.p(k),X=function(G){var J=B(V);return T.w(J.date(J.date()+Math.round(G*S)),V)};if(O===h)return this.set(h,this.$M+S);if(O===g)return this.set(g,this.$y+S);if(O===f)return X(1);if(O===d)return X(7);var Q=(M={},M[o]=a,M[u]=s,M[c]=1e3,M)[O]||1,re=this.$d.getTime()+S*Q;return T.w(re,this)},E.subtract=function(S,k){return this.add(-1*S,k)},E.format=function(S){var k=this,M=this.$locale();if(!this.isValid())return M.invalidDate||y;var V=S||"YYYY-MM-DDTHH:mm:ssZ",O=T.z(this),X=this.$H,Q=this.$m,re=this.$M,G=M.weekdays,J=M.months,q=M.meridiem,U=function(le,de,fe,ue){return le&&(le[de]||le(k,V))||fe[de].slice(0,ue)},Z=function(le){return T.s(X%12||12,le,"0")},ie=q||function(le,de,fe){var ue=le<12?"AM":"PM";return fe?ue.toLowerCase():ue};return V.replace(w,(function(le,de){return de||(function(fe){switch(fe){case"YY":return String(k.$y).slice(-2);case"YYYY":return T.s(k.$y,4,"0");case"M":return re+1;case"MM":return T.s(re+1,2,"0");case"MMM":return U(M.monthsShort,re,J,3);case"MMMM":return U(J,re);case"D":return k.$D;case"DD":return T.s(k.$D,2,"0");case"d":return String(k.$W);case"dd":return U(M.weekdaysMin,k.$W,G,2);case"ddd":return U(M.weekdaysShort,k.$W,G,3);case"dddd":return G[k.$W];case"H":return String(X);case"HH":return T.s(X,2,"0");case"h":return Z(1);case"hh":return Z(2);case"a":return ie(X,Q,!0);case"A":return ie(X,Q,!1);case"m":return String(Q);case"mm":return T.s(Q,2,"0");case"s":return String(k.$s);case"ss":return T.s(k.$s,2,"0");case"SSS":return T.s(k.$ms,3,"0");case"Z":return O}return null})(le)||O.replace(":","")}))},E.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},E.diff=function(S,k,M){var V,O=this,X=T.p(k),Q=B(S),re=(Q.utcOffset()-this.utcOffset())*a,G=this-Q,J=function(){return T.m(O,Q)};switch(X){case g:V=J()/12;break;case h:V=J();break;case m:V=J()/3;break;case d:V=(G-re)/6048e5;break;case f:V=(G-re)/864e5;break;case u:V=G/s;break;case o:V=G/a;break;case c:V=G/1e3;break;default:V=G}return M?V:T.a(V)},E.daysInMonth=function(){return this.endOf(h).$D},E.$locale=function(){return j[this.$L]},E.locale=function(S,k){if(!S)return this.$L;var M=this.clone(),V=$(S,k,!0);return V&&(M.$L=V),M},E.clone=function(){return T.w(this.$d,this)},E.toDate=function(){return new Date(this.valueOf())},E.toJSON=function(){return this.isValid()?this.toISOString():null},E.toISOString=function(){return this.$d.toISOString()},E.toString=function(){return this.$d.toUTCString()},_})(),N=R.prototype;return B.prototype=N,[["$ms",l],["$s",c],["$m",o],["$H",u],["$W",f],["$M",h],["$y",g],["$D",p]].forEach((function(_){N[_[1]]=function(E){return this.$g(E,_[0],_[1])}})),B.extend=function(_,E){return _.$i||(_(E,R,B),_.$i=!0),B},B.locale=$,B.isDayjs=z,B.unix=function(_){return B(1e3*_)},B.en=j[L],B.Ls=j,B.p={},B}))},{}],392:[function(t,n,i){(function(a,s){typeof i=="object"&&n!==void 0?n.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_customParseFormat=s()})(void 0,(function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,c=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,u={},f=function(v){return(v=+v)+(v>68?1900:2e3)},d=function(v){return function(w){this[v]=+w}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=(function(w){if(!w||w==="Z")return 0;var C=w.match(/([+-]|\d\d)/g),P=60*C[1]+(+C[2]||0);return P===0?0:C[0]==="+"?-P:P})(v)}],m=function(v){var w=u[v];return w&&(w.indexOf?w:w.s.concat(w.f))},g=function(v,w){var C,P=u.meridiem;if(P){for(var F=1;F<=24;F+=1)if(v.indexOf(P(F,0,w))>-1){C=F>12;break}}else C=v===(w?"pm":"PM");return C},p={A:[o,function(v){this.afternoon=g(v,!1)}],a:[o,function(v){this.afternoon=g(v,!0)}],S:[/\d/,function(v){this.milliseconds=100*+v}],SS:[l,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[c,d("seconds")],ss:[c,d("seconds")],m:[c,d("minutes")],mm:[c,d("minutes")],H:[c,d("hours")],h:[c,d("hours")],HH:[c,d("hours")],hh:[c,d("hours")],D:[c,d("day")],DD:[l,d("day")],Do:[o,function(v){var w=u.ordinal,C=v.match(/\d+/);if(this.day=C[0],w)for(var P=1;P<=31;P+=1)w(P).replace(/\[|\]/g,"")===v&&(this.day=P)}],M:[c,d("month")],MM:[l,d("month")],MMM:[o,function(v){var w=m("months"),C=(m("monthsShort")||w.map((function(P){return P.slice(0,3)}))).indexOf(v)+1;if(C<1)throw new Error;this.month=C%12||C}],MMMM:[o,function(v){var w=m("months").indexOf(v)+1;if(w<1)throw new Error;this.month=w%12||w}],Y:[/[+-]?\d+/,d("year")],YY:[l,function(v){this.year=f(v)}],YYYY:[/\d{4}/,d("year")],Z:h,ZZ:h};function y(v){var w,C;w=v,C=u&&u.formats;for(var P=(v=w.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(B,T,R){var N=R&&R.toUpperCase();return T||C[R]||a[R]||C[N].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(_,E,S){return E||S.slice(1)}))}))).match(s),F=P.length,L=0;L<F;L+=1){var j=P[L],I=p[j],z=I&&I[0],$=I&&I[1];P[L]=$?{regex:z,parser:$}:j.replace(/^\[|\]$/g,"")}return function(B){for(var T={},R=0,N=0;R<F;R+=1){var _=P[R];if(typeof _=="string")N+=_.length;else{var E=_.regex,S=_.parser,k=B.slice(N),M=E.exec(k)[0];S.call(T,M),B=B.replace(M,"")}}return(function(V){var O=V.afternoon;if(O!==void 0){var X=V.hours;O?X<12&&(V.hours+=12):X===12&&(V.hours=0),delete V.afternoon}})(T),T}}return function(v,w,C){C.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(f=v.parseTwoDigitYear);var P=w.prototype,F=P.parse;P.parse=function(L){var j=L.date,I=L.utc,z=L.args;this.$u=I;var $=z[1];if(typeof $=="string"){var B=z[2]===!0,T=z[3]===!0,R=B||T,N=z[2];T&&(N=z[2]),u=this.$locale(),!B&&N&&(u=C.Ls[N]),this.$d=(function(k,M,V){try{if(["x","X"].indexOf(M)>-1)return new Date((M==="X"?1e3:1)*k);var O=y(M)(k),X=O.year,Q=O.month,re=O.day,G=O.hours,J=O.minutes,q=O.seconds,U=O.milliseconds,Z=O.zone,ie=new Date,le=re||(X||Q?1:ie.getDate()),de=X||ie.getFullYear(),fe=0;X&&!Q||(fe=Q>0?Q-1:ie.getMonth());var ue=G||0,Ae=J||0,he=q||0,xe=U||0;return Z?new Date(Date.UTC(de,fe,le,ue,Ae,he,xe+60*Z.offset*1e3)):V?new Date(Date.UTC(de,fe,le,ue,Ae,he,xe)):new Date(de,fe,le,ue,Ae,he,xe)}catch{return new Date("")}})(j,$,I),this.init(),N&&N!==!0&&(this.$L=this.locale(N).$L),R&&j!=this.format($)&&(this.$d=new Date("")),u={}}else if($ instanceof Array)for(var _=$.length,E=1;E<=_;E+=1){z[1]=$[E-1];var S=C.apply(this,z);if(S.isValid()){this.$d=S.$d,this.$L=S.$L,this.init();break}E===_&&(this.$d=new Date(""))}else F.call(this,L)}}}))},{}],393:[function(t,n,i){(function(a,s){typeof i=="object"&&n!==void 0?n.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_utc=s()})(void 0,(function(){var a="minute",s=/[+-]\d\d(?::?\d\d)?/g,l=/([+-]|\d\d)/g;return function(c,o,u){var f=o.prototype;u.utc=function(v){var w={date:v,utc:!0,args:arguments};return new o(w)},f.utc=function(v){var w=u(this.toDate(),{locale:this.$L,utc:!0});return v?w.add(this.utcOffset(),a):w},f.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var d=f.parse;f.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),d.call(this,v)};var h=f.init;f.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else h.call(this)};var m=f.utcOffset;f.utcOffset=function(v,w){var C=this.$utils().u;if(C(v))return this.$u?0:C(this.$offset)?m.call(this):this.$offset;if(typeof v=="string"&&(v=(function(j){j===void 0&&(j="");var I=j.match(s);if(!I)return null;var z=(""+I[0]).match(l)||["-",0,0],$=z[0],B=60*+z[1]+ +z[2];return B===0?0:$==="+"?B:-B})(v))===null)return this;var P=Math.abs(v)<=16?60*v:v,F=this;if(w)return F.$offset=P,F.$u=v===0,F;if(v!==0){var L=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(F=this.local().add(P+L,a)).$offset=P,F.$x.$localOffset=L}else F=this.utc();return F};var g=f.format;f.format=function(v){var w=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,w)},f.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var p=f.toDate;f.toDate=function(v){return v==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var y=f.diff;f.diff=function(v,w,C){if(v&&this.$u===v.$u)return y.call(this,v,w,C);var P=this.local(),F=u(v).local();return y.call(P,F,w,C)}}}))},{}],394:[function(t,n,i){i.utils=t("./des/utils"),i.Cipher=t("./des/cipher"),i.DES=t("./des/des"),i.CBC=t("./des/cbc"),i.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,n,i){var a=t("minimalistic-assert"),s=t("inherits"),l={};function c(o){a.equal(o.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=o[u]}i.instantiate=function(o){function u(m){o.call(this,m),this._cbcInit()}s(u,o);for(var f=Object.keys(l),d=0;d<f.length;d++){var h=f[d];u.prototype[h]=l[h]}return u.create=function(m){return new u(m)},u},l._cbcInit=function(){var o=new c(this.options.iv);this._cbcState=o},l._update=function(o,u,f,d){var h=this._cbcState,m=this.constructor.super_.prototype,g=h.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)g[p]^=o[u+p];for(m._update.call(this,g,0,f,d),p=0;p<this.blockSize;p++)g[p]=f[d+p]}else{for(m._update.call(this,o,u,f,d),p=0;p<this.blockSize;p++)f[d+p]^=g[p];for(p=0;p<this.blockSize;p++)g[p]=o[u+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,n,i){var a=t("minimalistic-assert");function s(l){this.options=l,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=l.padding!==!1}n.exports=s,s.prototype._init=function(){},s.prototype.update=function(l){return l.length===0?[]:this.type==="decrypt"?this._updateDecrypt(l):this._updateEncrypt(l)},s.prototype._buffer=function(l,c){for(var o=Math.min(this.buffer.length-this.bufferOff,l.length-c),u=0;u<o;u++)this.buffer[this.bufferOff+u]=l[c+u];return this.bufferOff+=o,o},s.prototype._flushBuffer=function(l,c){return this._update(this.buffer,0,l,c),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(l){var c=0,o=0,u=(this.bufferOff+l.length)/this.blockSize|0,f=new Array(u*this.blockSize);this.bufferOff!==0&&(c+=this._buffer(l,c),this.bufferOff===this.buffer.length&&(o+=this._flushBuffer(f,o)));for(var d=l.length-(l.length-c)%this.blockSize;c<d;c+=this.blockSize)this._update(l,c,f,o),o+=this.blockSize;for(;c<l.length;c++,this.bufferOff++)this.buffer[this.bufferOff]=l[c];return f},s.prototype._updateDecrypt=function(l){for(var c=0,o=0,u=Math.ceil((this.bufferOff+l.length)/this.blockSize)-1,f=new Array(u*this.blockSize);u>0;u--)c+=this._buffer(l,c),o+=this._flushBuffer(f,o);return c+=this._buffer(l,c),f},s.prototype.final=function(l){var c,o;return l&&(c=this.update(l)),o=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),c?c.concat(o):o},s.prototype._pad=function(l,c){if(c===0)return!1;for(;c<l.length;)l[c++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var l=new Array(this.blockSize);return this._update(this.buffer,0,l,0),l},s.prototype._unpad=function(l){return l},s.prototype._finalDecrypt=function(){a.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var l=new Array(this.blockSize);return this._flushBuffer(l,0),this._unpad(l)}},{"minimalistic-assert":453}],397:[function(t,n,i){var a=t("minimalistic-assert"),s=t("inherits"),l=t("./utils"),c=t("./cipher");function o(){this.tmp=new Array(2),this.keys=null}function u(d){c.call(this,d);var h=new o;this._desState=h,this.deriveKeys(h,d.key)}s(u,c),n.exports=u,u.create=function(d){return new u(d)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(d,h){d.keys=new Array(32),a.equal(h.length,this.blockSize,"Invalid key length");var m=l.readUInt32BE(h,0),g=l.readUInt32BE(h,4);l.pc1(m,g,d.tmp,0),m=d.tmp[0],g=d.tmp[1];for(var p=0;p<d.keys.length;p+=2){var y=f[p>>>1];m=l.r28shl(m,y),g=l.r28shl(g,y),l.pc2(m,g,d.keys,p)}},u.prototype._update=function(d,h,m,g){var p=this._desState,y=l.readUInt32BE(d,h),v=l.readUInt32BE(d,h+4);l.ip(y,v,p.tmp,0),y=p.tmp[0],v=p.tmp[1],this.type==="encrypt"?this._encrypt(p,y,v,p.tmp,0):this._decrypt(p,y,v,p.tmp,0),y=p.tmp[0],v=p.tmp[1],l.writeUInt32BE(m,y,g),l.writeUInt32BE(m,v,g+4)},u.prototype._pad=function(d,h){if(this.padding===!1)return!1;for(var m=d.length-h,g=h;g<d.length;g++)d[g]=m;return!0},u.prototype._unpad=function(d){if(this.padding===!1)return d;for(var h=d[d.length-1],m=d.length-h;m<d.length;m++)a.equal(d[m],h);return d.slice(0,d.length-h)},u.prototype._encrypt=function(d,h,m,g,p){for(var y=h,v=m,w=0;w<d.keys.length;w+=2){var C=d.keys[w],P=d.keys[w+1];l.expand(v,d.tmp,0),C^=d.tmp[0],P^=d.tmp[1];var F=l.substitute(C,P),L=v;v=(y^l.permute(F))>>>0,y=L}l.rip(v,y,g,p)},u.prototype._decrypt=function(d,h,m,g,p){for(var y=m,v=h,w=d.keys.length-2;w>=0;w-=2){var C=d.keys[w],P=d.keys[w+1];l.expand(y,d.tmp,0),C^=d.tmp[0],P^=d.tmp[1];var F=l.substitute(C,P),L=y;y=(v^l.permute(F))>>>0,v=L}l.rip(y,v,g,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,n,i){var a=t("minimalistic-assert"),s=t("inherits"),l=t("./cipher"),c=t("./des");function o(f,d){a.equal(d.length,24,"Invalid key length");var h=d.slice(0,8),m=d.slice(8,16),g=d.slice(16,24);this.ciphers=f==="encrypt"?[c.create({type:"encrypt",key:h}),c.create({type:"decrypt",key:m}),c.create({type:"encrypt",key:g})]:[c.create({type:"decrypt",key:g}),c.create({type:"encrypt",key:m}),c.create({type:"decrypt",key:h})]}function u(f){l.call(this,f);var d=new o(this.type,this.options.key);this._edeState=d}s(u,l),n.exports=u,u.create=function(f){return new u(f)},u.prototype._update=function(f,d,h,m){var g=this._edeState;g.ciphers[0]._update(f,d,h,m),g.ciphers[1]._update(h,m,h,m),g.ciphers[2]._update(h,m,h,m)},u.prototype._pad=c.prototype._pad,u.prototype._unpad=c.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,n,i){i.readUInt32BE=function(c,o){return(c[0+o]<<24|c[1+o]<<16|c[2+o]<<8|c[3+o])>>>0},i.writeUInt32BE=function(c,o,u){c[0+u]=o>>>24,c[1+u]=o>>>16&255,c[2+u]=o>>>8&255,c[3+u]=255&o},i.ip=function(c,o,u,f){for(var d=0,h=0,m=6;m>=0;m-=2){for(var g=0;g<=24;g+=8)d<<=1,d|=o>>>g+m&1;for(g=0;g<=24;g+=8)d<<=1,d|=c>>>g+m&1}for(m=6;m>=0;m-=2){for(g=1;g<=25;g+=8)h<<=1,h|=o>>>g+m&1;for(g=1;g<=25;g+=8)h<<=1,h|=c>>>g+m&1}u[f+0]=d>>>0,u[f+1]=h>>>0},i.rip=function(c,o,u,f){for(var d=0,h=0,m=0;m<4;m++)for(var g=24;g>=0;g-=8)d<<=1,d|=o>>>g+m&1,d<<=1,d|=c>>>g+m&1;for(m=4;m<8;m++)for(g=24;g>=0;g-=8)h<<=1,h|=o>>>g+m&1,h<<=1,h|=c>>>g+m&1;u[f+0]=d>>>0,u[f+1]=h>>>0},i.pc1=function(c,o,u,f){for(var d=0,h=0,m=7;m>=5;m--){for(var g=0;g<=24;g+=8)d<<=1,d|=o>>g+m&1;for(g=0;g<=24;g+=8)d<<=1,d|=c>>g+m&1}for(g=0;g<=24;g+=8)d<<=1,d|=o>>g+m&1;for(m=1;m<=3;m++){for(g=0;g<=24;g+=8)h<<=1,h|=o>>g+m&1;for(g=0;g<=24;g+=8)h<<=1,h|=c>>g+m&1}for(g=0;g<=24;g+=8)h<<=1,h|=c>>g+m&1;u[f+0]=d>>>0,u[f+1]=h>>>0},i.r28shl=function(c,o){return c<<o&268435455|c>>>28-o};var a=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(c,o,u,f){for(var d=0,h=0,m=a.length>>>1,g=0;g<m;g++)d<<=1,d|=c>>>a[g]&1;for(g=m;g<a.length;g++)h<<=1,h|=o>>>a[g]&1;u[f+0]=d>>>0,u[f+1]=h>>>0},i.expand=function(c,o,u){var f=0,d=0;f=(1&c)<<5|c>>>27;for(var h=23;h>=15;h-=4)f<<=6,f|=c>>>h&63;for(h=11;h>=3;h-=4)d|=c>>>h&63,d<<=6;d|=(31&c)<<1|c>>>31,o[u+0]=f>>>0,o[u+1]=d>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(c,o){for(var u=0,f=0;f<4;f++)u<<=4,u|=s[64*f+(c>>>18-6*f&63)];for(f=0;f<4;f++)u<<=4,u|=s[256+64*f+(o>>>18-6*f&63)];return u>>>0};var l=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(c){for(var o=0,u=0;u<l.length;u++)o<<=1,o|=c>>>l[u]&1;return o>>>0},i.padSplit=function(c,o,u){for(var f=c.toString(2);f.length<o;)f="0"+f;for(var d=[],h=0;h<o;h+=u)d.push(f.slice(h,h+u));return d.join(" ")}},{}],400:[function(t,n,i){(function(a){(function(){var s=t("./lib/generatePrime"),l=t("./lib/primes.json"),c=t("./lib/dh"),o={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(u){var f=new a(l[u].prime,"hex"),d=new a(l[u].gen,"hex");return new c(f,d)},i.createDiffieHellman=i.DiffieHellman=function u(f,d,h,m){return a.isBuffer(d)||o[d]===void 0?u(f,"binary",d,h):(d=d||"binary",m=m||"binary",h=h||new a([2]),a.isBuffer(h)||(h=new a(h,m)),typeof f=="number"?new c(s(f,h),h,!0):(a.isBuffer(f)||(f=new a(f,d)),new c(f,h,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,n,i){(function(a){(function(){var s=t("bn.js"),l=new(t("miller-rabin")),c=new s(24),o=new s(11),u=new s(10),f=new s(3),d=new s(7),h=t("./generatePrime"),m=t("randombytes");function g(C,P){return P=P||"utf8",a.isBuffer(C)||(C=new a(C,P)),this._pub=new s(C),this}function p(C,P){return P=P||"utf8",a.isBuffer(C)||(C=new a(C,P)),this._priv=new s(C),this}n.exports=v;var y={};function v(C,P,F){this.setGenerator(P),this.__prime=new s(C),this._prime=s.mont(this.__prime),this._primeLen=C.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,F?(this.setPublicKey=g,this.setPrivateKey=p):this._primeCode=8}function w(C,P){var F=new a(C.toArray());return P?F.toString(P):F}Object.defineProperty(v.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(C,P){var F=P.toString("hex"),L=[F,C.toString(16)].join("_");if(L in y)return y[L];var j,I=0;if(C.isEven()||!h.simpleSieve||!h.fermatTest(C)||!l.test(C))return I+=1,I+=F==="02"||F==="05"?8:4,y[L]=I,I;switch(l.test(C.shrn(1))||(I+=2),F){case"02":C.mod(c).cmp(o)&&(I+=8);break;case"05":(j=C.mod(u)).cmp(f)&&j.cmp(d)&&(I+=8);break;default:I+=4}return y[L]=I,I})(this.__prime,this.__gen)),this._primeCode}}),v.prototype.generateKeys=function(){return this._priv||(this._priv=new s(m(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},v.prototype.computeSecret=function(C){var P=(C=(C=new s(C)).toRed(this._prime)).redPow(this._priv).fromRed(),F=new a(P.toArray()),L=this.getPrime();if(F.length<L.length){var j=new a(L.length-F.length);j.fill(0),F=a.concat([j,F])}return F},v.prototype.getPublicKey=function(C){return w(this._pub,C)},v.prototype.getPrivateKey=function(C){return w(this._priv,C)},v.prototype.getPrime=function(C){return w(this.__prime,C)},v.prototype.getGenerator=function(C){return w(this._gen,C)},v.prototype.setGenerator=function(C,P){return P=P||"utf8",a.isBuffer(C)||(C=new a(C,P)),this.__gen=C,this._gen=new s(C),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,n,i){var a=t("randombytes");n.exports=C,C.simpleSieve=v,C.fermatTest=w;var s=t("bn.js"),l=new s(24),c=new(t("miller-rabin")),o=new s(1),u=new s(2),f=new s(5),d=(new s(16),new s(8),new s(10)),h=new s(3),m=(new s(7),new s(11)),g=new s(4),p=(new s(12),null);function y(){if(p!==null)return p;var P=[];P[0]=2;for(var F=1,L=3;L<1048576;L+=2){for(var j=Math.ceil(Math.sqrt(L)),I=0;I<F&&P[I]<=j&&L%P[I]!=0;I++);F!==I&&P[I]<=j||(P[F++]=L)}return p=P,P}function v(P){for(var F=y(),L=0;L<F.length;L++)if(P.modn(F[L])===0)return P.cmpn(F[L])===0;return!0}function w(P){var F=s.mont(P);return u.toRed(F).redPow(P.subn(1)).fromRed().cmpn(1)===0}function C(P,F){if(P<16)return new s(F===2||F===5?[140,123]:[140,39]);var L,j;for(F=new s(F);;){for(L=new s(a(Math.ceil(P/8)));L.bitLength()>P;)L.ishrn(1);if(L.isEven()&&L.iadd(o),L.testn(1)||L.iadd(u),F.cmp(u)){if(!F.cmp(f))for(;L.mod(d).cmp(h);)L.iadd(g)}else for(;L.mod(l).cmp(m);)L.iadd(g);if(v(j=L.shrn(1))&&v(L)&&w(j)&&w(L)&&c.test(j)&&c.test(L))return L}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,n,i){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],405:[function(t,n,i){var a=i;a.version=t("../package.json").version,a.utils=t("./elliptic/utils"),a.rand=t("brorand"),a.curve=t("./elliptic/curve"),a.curves=t("./elliptic/curves"),a.ec=t("./elliptic/ec"),a.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,n,i){var a=t("bn.js"),s=t("../utils"),l=s.getNAF,c=s.getJSF,o=s.assert;function u(d,h){this.type=d,this.p=new a(h.p,16),this.red=h.prime?a.red(h.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=h.n&&new a(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var m=this.n&&this.p.div(this.n);!m||m.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(d,h){this.curve=d,this.type=h,this.precomputed=null}n.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(d,h){o(d.precomputed);var m=d._getDoubles(),g=l(h,1,this._bitLength),p=(1<<m.step+1)-(m.step%2==0?2:1);p/=3;var y,v,w=[];for(y=0;y<g.length;y+=m.step){v=0;for(var C=y+m.step-1;C>=y;C--)v=(v<<1)+g[C];w.push(v)}for(var P=this.jpoint(null,null,null),F=this.jpoint(null,null,null),L=p;L>0;L--){for(y=0;y<w.length;y++)(v=w[y])===L?F=F.mixedAdd(m.points[y]):v===-L&&(F=F.mixedAdd(m.points[y].neg()));P=P.add(F)}return P.toP()},u.prototype._wnafMul=function(d,h){var m=4,g=d._getNAFPoints(m);m=g.wnd;for(var p=g.points,y=l(h,m,this._bitLength),v=this.jpoint(null,null,null),w=y.length-1;w>=0;w--){for(var C=0;w>=0&&y[w]===0;w--)C++;if(w>=0&&C++,v=v.dblp(C),w<0)break;var P=y[w];o(P!==0),v=d.type==="affine"?P>0?v.mixedAdd(p[P-1>>1]):v.mixedAdd(p[-P-1>>1].neg()):P>0?v.add(p[P-1>>1]):v.add(p[-P-1>>1].neg())}return d.type==="affine"?v.toP():v},u.prototype._wnafMulAdd=function(d,h,m,g,p){var y,v,w,C=this._wnafT1,P=this._wnafT2,F=this._wnafT3,L=0;for(y=0;y<g;y++){var j=(w=h[y])._getNAFPoints(d);C[y]=j.wnd,P[y]=j.points}for(y=g-1;y>=1;y-=2){var I=y-1,z=y;if(C[I]===1&&C[z]===1){var $=[h[I],null,null,h[z]];h[I].y.cmp(h[z].y)===0?($[1]=h[I].add(h[z]),$[2]=h[I].toJ().mixedAdd(h[z].neg())):h[I].y.cmp(h[z].y.redNeg())===0?($[1]=h[I].toJ().mixedAdd(h[z]),$[2]=h[I].add(h[z].neg())):($[1]=h[I].toJ().mixedAdd(h[z]),$[2]=h[I].toJ().mixedAdd(h[z].neg()));var B=[-3,-1,-5,-7,0,7,5,1,3],T=c(m[I],m[z]);for(L=Math.max(T[0].length,L),F[I]=new Array(L),F[z]=new Array(L),v=0;v<L;v++){var R=0|T[0][v],N=0|T[1][v];F[I][v]=B[3*(R+1)+(N+1)],F[z][v]=0,P[I]=$}}else F[I]=l(m[I],C[I],this._bitLength),F[z]=l(m[z],C[z],this._bitLength),L=Math.max(F[I].length,L),L=Math.max(F[z].length,L)}var _=this.jpoint(null,null,null),E=this._wnafT4;for(y=L;y>=0;y--){for(var S=0;y>=0;){var k=!0;for(v=0;v<g;v++)E[v]=0|F[v][y],E[v]!==0&&(k=!1);if(!k)break;S++,y--}if(y>=0&&S++,_=_.dblp(S),y<0)break;for(v=0;v<g;v++){var M=E[v];M!==0&&(M>0?w=P[v][M-1>>1]:M<0&&(w=P[v][-M-1>>1].neg()),_=w.type==="affine"?_.mixedAdd(w):_.add(w))}}for(y=0;y<g;y++)P[y]=null;return p?_:_.toP()},u.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(d,h){d=s.toArray(d,h);var m=this.p.byteLength();if((d[0]===4||d[0]===6||d[0]===7)&&d.length-1==2*m)return d[0]===6?o(d[d.length-1]%2==0):d[0]===7&&o(d[d.length-1]%2==1),this.point(d.slice(1,1+m),d.slice(1+m,1+2*m));if((d[0]===2||d[0]===3)&&d.length-1===m)return this.pointFromX(d.slice(1,1+m),d[0]===3);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(d){return this.encode(d,!0)},f.prototype._encode=function(d){var h=this.curve.p.byteLength(),m=this.getX().toArray("be",h);return d?[this.getY().isEven()?2:3].concat(m):[4].concat(m,this.getY().toArray("be",h))},f.prototype.encode=function(d,h){return s.encode(this._encode(h),d)},f.prototype.precompute=function(d){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,d),h.beta=this._getBeta(),this.precomputed=h,this},f.prototype._hasDoubles=function(d){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return!!h&&h.points.length>=Math.ceil((d.bitLength()+1)/h.step)},f.prototype._getDoubles=function(d,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var m=[this],g=this,p=0;p<h;p+=d){for(var y=0;y<d;y++)g=g.dbl();m.push(g)}return{step:d,points:m}},f.prototype._getNAFPoints=function(d){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],m=(1<<d)-1,g=m===1?null:this.dbl(),p=1;p<m;p++)h[p]=h[p-1].add(g);return{wnd:d,points:h}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(d){for(var h=this,m=0;m<d;m++)h=h.dbl();return h}},{"../utils":419,"bn.js":420}],407:[function(t,n,i){var a=t("../utils"),s=t("bn.js"),l=t("inherits"),c=t("./base"),o=a.assert;function u(d){this.twisted=(0|d.a)!=1,this.mOneA=this.twisted&&(0|d.a)==-1,this.extended=this.mOneA,c.call(this,"edwards",d),this.a=new s(d.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(d.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(d.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|d.c)==1}function f(d,h,m,g,p){c.BasePoint.call(this,d,"projective"),h===null&&m===null&&g===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(h,16),this.y=new s(m,16),this.z=g?new s(g,16):this.curve.one,this.t=p&&new s(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}l(u,c),n.exports=u,u.prototype._mulA=function(d){return this.mOneA?d.redNeg():this.a.redMul(d)},u.prototype._mulC=function(d){return this.oneC?d:this.c.redMul(d)},u.prototype.jpoint=function(d,h,m,g){return this.point(d,h,m,g)},u.prototype.pointFromX=function(d,h){(d=new s(d,16)).red||(d=d.toRed(this.red));var m=d.redSqr(),g=this.c2.redSub(this.a.redMul(m)),p=this.one.redSub(this.c2.redMul(this.d).redMul(m)),y=g.redMul(p.redInvm()),v=y.redSqrt();if(v.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var w=v.fromRed().isOdd();return(h&&!w||!h&&w)&&(v=v.redNeg()),this.point(d,v)},u.prototype.pointFromY=function(d,h){(d=new s(d,16)).red||(d=d.toRed(this.red));var m=d.redSqr(),g=m.redSub(this.c2),p=m.redMul(this.d).redMul(this.c2).redSub(this.a),y=g.redMul(p.redInvm());if(y.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,d)}var v=y.redSqrt();if(v.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");return v.fromRed().isOdd()!==h&&(v=v.redNeg()),this.point(v,d)},u.prototype.validate=function(d){if(d.isInfinity())return!0;d.normalize();var h=d.x.redSqr(),m=d.y.redSqr(),g=h.redMul(this.a).redAdd(m),p=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(m)));return g.cmp(p)===0},l(f,c.BasePoint),u.prototype.pointFromJSON=function(d){return f.fromJSON(this,d)},u.prototype.point=function(d,h,m,g){return new f(this,d,h,m,g)},f.fromJSON=function(d,h){return new f(d,h[0],h[1],h[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},f.prototype._extDbl=function(){var d=this.x.redSqr(),h=this.y.redSqr(),m=this.z.redSqr();m=m.redIAdd(m);var g=this.curve._mulA(d),p=this.x.redAdd(this.y).redSqr().redISub(d).redISub(h),y=g.redAdd(h),v=y.redSub(m),w=g.redSub(h),C=p.redMul(v),P=y.redMul(w),F=p.redMul(w),L=v.redMul(y);return this.curve.point(C,P,L,F)},f.prototype._projDbl=function(){var d,h,m,g,p,y,v=this.x.redAdd(this.y).redSqr(),w=this.x.redSqr(),C=this.y.redSqr();if(this.curve.twisted){var P=(g=this.curve._mulA(w)).redAdd(C);this.zOne?(d=v.redSub(w).redSub(C).redMul(P.redSub(this.curve.two)),h=P.redMul(g.redSub(C)),m=P.redSqr().redSub(P).redSub(P)):(p=this.z.redSqr(),y=P.redSub(p).redISub(p),d=v.redSub(w).redISub(C).redMul(y),h=P.redMul(g.redSub(C)),m=P.redMul(y))}else g=w.redAdd(C),p=this.curve._mulC(this.z).redSqr(),y=g.redSub(p).redSub(p),d=this.curve._mulC(v.redISub(g)).redMul(y),h=this.curve._mulC(g).redMul(w.redISub(C)),m=g.redMul(y);return this.curve.point(d,h,m)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(d){var h=this.y.redSub(this.x).redMul(d.y.redSub(d.x)),m=this.y.redAdd(this.x).redMul(d.y.redAdd(d.x)),g=this.t.redMul(this.curve.dd).redMul(d.t),p=this.z.redMul(d.z.redAdd(d.z)),y=m.redSub(h),v=p.redSub(g),w=p.redAdd(g),C=m.redAdd(h),P=y.redMul(v),F=w.redMul(C),L=y.redMul(C),j=v.redMul(w);return this.curve.point(P,F,j,L)},f.prototype._projAdd=function(d){var h,m,g=this.z.redMul(d.z),p=g.redSqr(),y=this.x.redMul(d.x),v=this.y.redMul(d.y),w=this.curve.d.redMul(y).redMul(v),C=p.redSub(w),P=p.redAdd(w),F=this.x.redAdd(this.y).redMul(d.x.redAdd(d.y)).redISub(y).redISub(v),L=g.redMul(C).redMul(F);return this.curve.twisted?(h=g.redMul(P).redMul(v.redSub(this.curve._mulA(y))),m=C.redMul(P)):(h=g.redMul(P).redMul(v.redSub(y)),m=this.curve._mulC(C).redMul(P)),this.curve.point(L,h,m)},f.prototype.add=function(d){return this.isInfinity()?d:d.isInfinity()?this:this.curve.extended?this._extAdd(d):this._projAdd(d)},f.prototype.mul=function(d){return this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve._wnafMul(this,d)},f.prototype.mulAdd=function(d,h,m){return this.curve._wnafMulAdd(1,[this,h],[d,m],2,!1)},f.prototype.jmulAdd=function(d,h,m){return this.curve._wnafMulAdd(1,[this,h],[d,m],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var d=this.z.redInvm();return this.x=this.x.redMul(d),this.y=this.y.redMul(d),this.t&&(this.t=this.t.redMul(d)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(d){return this===d||this.getX().cmp(d.getX())===0&&this.getY().cmp(d.getY())===0},f.prototype.eqXToP=function(d){var h=d.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var m=d.clone(),g=this.curve.redN.redMul(this.z);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(g),this.x.cmp(h)===0)return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,n,i){var a=i;a.base=t("./base"),a.short=t("./short"),a.mont=t("./mont"),a.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,n,i){var a=t("bn.js"),s=t("inherits"),l=t("./base"),c=t("../utils");function o(f){l.call(this,"mont",f),this.a=new a(f.a,16).toRed(this.red),this.b=new a(f.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(f,d,h){l.BasePoint.call(this,f,"projective"),d===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(d,16),this.z=new a(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(o,l),n.exports=o,o.prototype.validate=function(f){var d=f.normalize().x,h=d.redSqr(),m=h.redMul(d).redAdd(h.redMul(this.a)).redAdd(d);return m.redSqrt().redSqr().cmp(m)===0},s(u,l.BasePoint),o.prototype.decodePoint=function(f,d){return this.point(c.toArray(f,d),1)},o.prototype.point=function(f,d){return new u(this,f,d)},o.prototype.pointFromJSON=function(f){return u.fromJSON(this,f)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(f,d){return new u(f,d[0],d[1]||f.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var f=this.x.redAdd(this.z).redSqr(),d=this.x.redSub(this.z).redSqr(),h=f.redSub(d),m=f.redMul(d),g=h.redMul(d.redAdd(this.curve.a24.redMul(h)));return this.curve.point(m,g)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(f,d){var h=this.x.redAdd(this.z),m=this.x.redSub(this.z),g=f.x.redAdd(f.z),p=f.x.redSub(f.z).redMul(h),y=g.redMul(m),v=d.z.redMul(p.redAdd(y).redSqr()),w=d.x.redMul(p.redISub(y).redSqr());return this.curve.point(v,w)},u.prototype.mul=function(f){for(var d=f.clone(),h=this,m=this.curve.point(null,null),g=[];d.cmpn(0)!==0;d.iushrn(1))g.push(d.andln(1));for(var p=g.length-1;p>=0;p--)g[p]===0?(h=h.diffAdd(m,this),m=m.dbl()):(m=h.diffAdd(m,this),h=h.dbl());return m},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,n,i){var a=t("../utils"),s=t("bn.js"),l=t("inherits"),c=t("./base"),o=a.assert;function u(h){c.call(this,"short",h),this.a=new s(h.a,16).toRed(this.red),this.b=new s(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(h,m,g,p){c.BasePoint.call(this,h,"affine"),m===null&&g===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(m,16),this.y=new s(g,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(h,m,g,p){c.BasePoint.call(this,h,"jacobian"),m===null&&g===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(m,16),this.y=new s(g,16),this.z=new s(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}l(u,c),n.exports=u,u.prototype._getEndomorphism=function(h){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var m,g;if(h.beta)m=new s(h.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);m=(m=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(h.lambda)g=new s(h.lambda,16);else{var y=this._getEndoRoots(this.n);this.g.mul(y[0]).x.cmp(this.g.x.redMul(m))===0?g=y[0]:(g=y[1],o(this.g.mul(g).x.cmp(this.g.x.redMul(m))===0))}return{beta:m,lambda:g,basis:h.basis?h.basis.map((function(v){return{a:new s(v.a,16),b:new s(v.b,16)}})):this._getEndoBasis(g)}}},u.prototype._getEndoRoots=function(h){var m=h===this.p?this.red:s.mont(h),g=new s(2).toRed(m).redInvm(),p=g.redNeg(),y=new s(3).toRed(m).redNeg().redSqrt().redMul(g);return[p.redAdd(y).fromRed(),p.redSub(y).fromRed()]},u.prototype._getEndoBasis=function(h){for(var m,g,p,y,v,w,C,P,F,L=this.n.ushrn(Math.floor(this.n.bitLength()/2)),j=h,I=this.n.clone(),z=new s(1),$=new s(0),B=new s(0),T=new s(1),R=0;j.cmpn(0)!==0;){var N=I.div(j);P=I.sub(N.mul(j)),F=B.sub(N.mul(z));var _=T.sub(N.mul($));if(!p&&P.cmp(L)<0)m=C.neg(),g=z,p=P.neg(),y=F;else if(p&&++R==2)break;C=P,I=j,j=P,B=z,z=F,T=$,$=_}v=P.neg(),w=F;var E=p.sqr().add(y.sqr());return v.sqr().add(w.sqr()).cmp(E)>=0&&(v=m,w=g),p.negative&&(p=p.neg(),y=y.neg()),v.negative&&(v=v.neg(),w=w.neg()),[{a:p,b:y},{a:v,b:w}]},u.prototype._endoSplit=function(h){var m=this.endo.basis,g=m[0],p=m[1],y=p.b.mul(h).divRound(this.n),v=g.b.neg().mul(h).divRound(this.n),w=y.mul(g.a),C=v.mul(p.a),P=y.mul(g.b),F=v.mul(p.b);return{k1:h.sub(w).sub(C),k2:P.add(F).neg()}},u.prototype.pointFromX=function(h,m){(h=new s(h,16)).red||(h=h.toRed(this.red));var g=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),p=g.redSqrt();if(p.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var y=p.fromRed().isOdd();return(m&&!y||!m&&y)&&(p=p.redNeg()),this.point(h,p)},u.prototype.validate=function(h){if(h.inf)return!0;var m=h.x,g=h.y,p=this.a.redMul(m),y=m.redSqr().redMul(m).redIAdd(p).redIAdd(this.b);return g.redSqr().redISub(y).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(h,m,g){for(var p=this._endoWnafT1,y=this._endoWnafT2,v=0;v<h.length;v++){var w=this._endoSplit(m[v]),C=h[v],P=C._getBeta();w.k1.negative&&(w.k1.ineg(),C=C.neg(!0)),w.k2.negative&&(w.k2.ineg(),P=P.neg(!0)),p[2*v]=C,p[2*v+1]=P,y[2*v]=w.k1,y[2*v+1]=w.k2}for(var F=this._wnafMulAdd(1,p,y,2*v,g),L=0;L<2*v;L++)p[L]=null,y[L]=null;return F},l(f,c.BasePoint),u.prototype.point=function(h,m,g){return new f(this,h,m,g)},u.prototype.pointFromJSON=function(h,m){return f.fromJSON(this,h,m)},f.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var m=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var g=this.curve,p=function(y){return g.point(y.x.redMul(g.endo.beta),y.y)};h.beta=m,m.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(p)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(p)}}}return m}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(h,m,g){typeof m=="string"&&(m=JSON.parse(m));var p=h.point(m[0],m[1],g);if(!m[2])return p;function y(w){return h.point(w[0],w[1],g)}var v=m[2];return p.precomputed={beta:null,doubles:v.doubles&&{step:v.doubles.step,points:[p].concat(v.doubles.points.map(y))},naf:v.naf&&{wnd:v.naf.wnd,points:[p].concat(v.naf.points.map(y))}},p},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var m=this.y.redSub(h.y);m.cmpn(0)!==0&&(m=m.redMul(this.x.redSub(h.x).redInvm()));var g=m.redSqr().redISub(this.x).redISub(h.x),p=m.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,p)},f.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var m=this.curve.a,g=this.x.redSqr(),p=h.redInvm(),y=g.redAdd(g).redIAdd(g).redIAdd(m).redMul(p),v=y.redSqr().redISub(this.x.redAdd(this.x)),w=y.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,w)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(h){return h=new s(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},f.prototype.mulAdd=function(h,m,g){var p=[this,m],y=[h,g];return this.curve.endo?this.curve._endoWnafMulAdd(p,y):this.curve._wnafMulAdd(1,p,y,2)},f.prototype.jmulAdd=function(h,m,g){var p=[this,m],y=[h,g];return this.curve.endo?this.curve._endoWnafMulAdd(p,y,!0):this.curve._wnafMulAdd(1,p,y,2,!0)},f.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},f.prototype.neg=function(h){if(this.inf)return this;var m=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var g=this.precomputed,p=function(y){return y.neg()};m.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(p)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(p)}}}return m},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},l(d,c.BasePoint),u.prototype.jpoint=function(h,m,g){return new d(this,h,m,g)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),m=h.redSqr(),g=this.x.redMul(m),p=this.y.redMul(m).redMul(h);return this.curve.point(g,p)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var m=h.z.redSqr(),g=this.z.redSqr(),p=this.x.redMul(m),y=h.x.redMul(g),v=this.y.redMul(m.redMul(h.z)),w=h.y.redMul(g.redMul(this.z)),C=p.redSub(y),P=v.redSub(w);if(C.cmpn(0)===0)return P.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var F=C.redSqr(),L=F.redMul(C),j=p.redMul(F),I=P.redSqr().redIAdd(L).redISub(j).redISub(j),z=P.redMul(j.redISub(I)).redISub(v.redMul(L)),$=this.z.redMul(h.z).redMul(C);return this.curve.jpoint(I,z,$)},d.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var m=this.z.redSqr(),g=this.x,p=h.x.redMul(m),y=this.y,v=h.y.redMul(m).redMul(this.z),w=g.redSub(p),C=y.redSub(v);if(w.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var P=w.redSqr(),F=P.redMul(w),L=g.redMul(P),j=C.redSqr().redIAdd(F).redISub(L).redISub(L),I=C.redMul(L.redISub(j)).redISub(y.redMul(F)),z=this.z.redMul(w);return this.curve.jpoint(j,I,z)},d.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var m;if(this.curve.zeroA||this.curve.threeA){var g=this;for(m=0;m<h;m++)g=g.dbl();return g}var p=this.curve.a,y=this.curve.tinv,v=this.x,w=this.y,C=this.z,P=C.redSqr().redSqr(),F=w.redAdd(w);for(m=0;m<h;m++){var L=v.redSqr(),j=F.redSqr(),I=j.redSqr(),z=L.redAdd(L).redIAdd(L).redIAdd(p.redMul(P)),$=v.redMul(j),B=z.redSqr().redISub($.redAdd($)),T=$.redISub(B),R=z.redMul(T);R=R.redIAdd(R).redISub(I);var N=F.redMul(C);m+1<h&&(P=P.redMul(I)),v=B,C=N,F=R}return this.curve.jpoint(v,F.redMul(y),C)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var h,m,g;if(this.zOne){var p=this.x.redSqr(),y=this.y.redSqr(),v=y.redSqr(),w=this.x.redAdd(y).redSqr().redISub(p).redISub(v);w=w.redIAdd(w);var C=p.redAdd(p).redIAdd(p),P=C.redSqr().redISub(w).redISub(w),F=v.redIAdd(v);F=(F=F.redIAdd(F)).redIAdd(F),h=P,m=C.redMul(w.redISub(P)).redISub(F),g=this.y.redAdd(this.y)}else{var L=this.x.redSqr(),j=this.y.redSqr(),I=j.redSqr(),z=this.x.redAdd(j).redSqr().redISub(L).redISub(I);z=z.redIAdd(z);var $=L.redAdd(L).redIAdd(L),B=$.redSqr(),T=I.redIAdd(I);T=(T=T.redIAdd(T)).redIAdd(T),h=B.redISub(z).redISub(z),m=$.redMul(z.redISub(h)).redISub(T),g=(g=this.y.redMul(this.z)).redIAdd(g)}return this.curve.jpoint(h,m,g)},d.prototype._threeDbl=function(){var h,m,g;if(this.zOne){var p=this.x.redSqr(),y=this.y.redSqr(),v=y.redSqr(),w=this.x.redAdd(y).redSqr().redISub(p).redISub(v);w=w.redIAdd(w);var C=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),P=C.redSqr().redISub(w).redISub(w);h=P;var F=v.redIAdd(v);F=(F=F.redIAdd(F)).redIAdd(F),m=C.redMul(w.redISub(P)).redISub(F),g=this.y.redAdd(this.y)}else{var L=this.z.redSqr(),j=this.y.redSqr(),I=this.x.redMul(j),z=this.x.redSub(L).redMul(this.x.redAdd(L));z=z.redAdd(z).redIAdd(z);var $=I.redIAdd(I),B=($=$.redIAdd($)).redAdd($);h=z.redSqr().redISub(B),g=this.y.redAdd(this.z).redSqr().redISub(j).redISub(L);var T=j.redSqr();T=(T=(T=T.redIAdd(T)).redIAdd(T)).redIAdd(T),m=z.redMul($.redISub(h)).redISub(T)}return this.curve.jpoint(h,m,g)},d.prototype._dbl=function(){var h=this.curve.a,m=this.x,g=this.y,p=this.z,y=p.redSqr().redSqr(),v=m.redSqr(),w=g.redSqr(),C=v.redAdd(v).redIAdd(v).redIAdd(h.redMul(y)),P=m.redAdd(m),F=(P=P.redIAdd(P)).redMul(w),L=C.redSqr().redISub(F.redAdd(F)),j=F.redISub(L),I=w.redSqr();I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I);var z=C.redMul(j).redISub(I),$=g.redAdd(g).redMul(p);return this.curve.jpoint(L,z,$)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),m=this.y.redSqr(),g=this.z.redSqr(),p=m.redSqr(),y=h.redAdd(h).redIAdd(h),v=y.redSqr(),w=this.x.redAdd(m).redSqr().redISub(h).redISub(p),C=(w=(w=(w=w.redIAdd(w)).redAdd(w).redIAdd(w)).redISub(v)).redSqr(),P=p.redIAdd(p);P=(P=(P=P.redIAdd(P)).redIAdd(P)).redIAdd(P);var F=y.redIAdd(w).redSqr().redISub(v).redISub(C).redISub(P),L=m.redMul(F);L=(L=L.redIAdd(L)).redIAdd(L);var j=this.x.redMul(C).redISub(L);j=(j=j.redIAdd(j)).redIAdd(j);var I=this.y.redMul(F.redMul(P.redISub(F)).redISub(w.redMul(C)));I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I);var z=this.z.redAdd(w).redSqr().redISub(g).redISub(C);return this.curve.jpoint(j,I,z)},d.prototype.mul=function(h,m){return h=new s(h,m),this.curve._wnafMul(this,h)},d.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var m=this.z.redSqr(),g=h.z.redSqr();if(this.x.redMul(g).redISub(h.x.redMul(m)).cmpn(0)!==0)return!1;var p=m.redMul(this.z),y=g.redMul(h.z);return this.y.redMul(y).redISub(h.y.redMul(p)).cmpn(0)===0},d.prototype.eqXToP=function(h){var m=this.z.redSqr(),g=h.toRed(this.curve.red).redMul(m);if(this.x.cmp(g)===0)return!0;for(var p=h.clone(),y=this.curve.redN.redMul(m);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(y),this.x.cmp(g)===0)return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,n,i){var a,s=i,l=t("hash.js"),c=t("./curve"),o=t("./utils").assert;function u(d){d.type==="short"?this.curve=new c.short(d):d.type==="edwards"?this.curve=new c.edwards(d):this.curve=new c.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(d,h){Object.defineProperty(s,d,{configurable:!0,enumerable:!0,get:function(){var m=new u(h);return Object.defineProperty(s,d,{configurable:!0,enumerable:!0,value:m}),m}})}s.PresetCurve=u,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:l.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:l.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:l.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:l.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:l.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:l.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:l.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{a=t("./precomputed/secp256k1")}catch{a=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:l.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,n,i){var a=t("bn.js"),s=t("hmac-drbg"),l=t("../utils"),c=t("../curves"),o=t("brorand"),u=l.assert,f=t("./key"),d=t("./signature");function h(m){if(!(this instanceof h))return new h(m);typeof m=="string"&&(u(Object.prototype.hasOwnProperty.call(c,m),"Unknown curve "+m),m=c[m]),m instanceof c.PresetCurve&&(m={curve:m}),this.curve=m.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=m.curve.g,this.g.precompute(m.curve.n.bitLength()+1),this.hash=m.hash||m.curve.hash}n.exports=h,h.prototype.keyPair=function(m){return new f(this,m)},h.prototype.keyFromPrivate=function(m,g){return f.fromPrivate(this,m,g)},h.prototype.keyFromPublic=function(m,g){return f.fromPublic(this,m,g)},h.prototype.genKeyPair=function(m){m||(m={});for(var g=new s({hash:this.hash,pers:m.pers,persEnc:m.persEnc||"utf8",entropy:m.entropy||o(this.hash.hmacStrength),entropyEnc:m.entropy&&m.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),y=this.n.sub(new a(2));;){var v=new a(g.generate(p));if(!(v.cmp(y)>0))return v.iaddn(1),this.keyFromPrivate(v)}},h.prototype._truncateToN=function(m,g){var p=8*m.byteLength()-this.n.bitLength();return p>0&&(m=m.ushrn(p)),!g&&m.cmp(this.n)>=0?m.sub(this.n):m},h.prototype.sign=function(m,g,p,y){typeof p=="object"&&(y=p,p=null),y||(y={}),g=this.keyFromPrivate(g,p),m=this._truncateToN(new a(m,16));for(var v=this.n.byteLength(),w=g.getPrivate().toArray("be",v),C=m.toArray("be",v),P=new s({hash:this.hash,entropy:w,nonce:C,pers:y.pers,persEnc:y.persEnc||"utf8"}),F=this.n.sub(new a(1)),L=0;;L++){var j=y.k?y.k(L):new a(P.generate(this.n.byteLength()));if(!((j=this._truncateToN(j,!0)).cmpn(1)<=0||j.cmp(F)>=0)){var I=this.g.mul(j);if(!I.isInfinity()){var z=I.getX(),$=z.umod(this.n);if($.cmpn(0)!==0){var B=j.invm(this.n).mul($.mul(g.getPrivate()).iadd(m));if((B=B.umod(this.n)).cmpn(0)!==0){var T=(I.getY().isOdd()?1:0)|(z.cmp($)!==0?2:0);return y.canonical&&B.cmp(this.nh)>0&&(B=this.n.sub(B),T^=1),new d({r:$,s:B,recoveryParam:T})}}}}}},h.prototype.verify=function(m,g,p,y){m=this._truncateToN(new a(m,16)),p=this.keyFromPublic(p,y);var v=(g=new d(g,"hex")).r,w=g.s;if(v.cmpn(1)<0||v.cmp(this.n)>=0||w.cmpn(1)<0||w.cmp(this.n)>=0)return!1;var C,P=w.invm(this.n),F=P.mul(m).umod(this.n),L=P.mul(v).umod(this.n);return this.curve._maxwellTrick?!(C=this.g.jmulAdd(F,p.getPublic(),L)).isInfinity()&&C.eqXToP(v):!(C=this.g.mulAdd(F,p.getPublic(),L)).isInfinity()&&C.getX().umod(this.n).cmp(v)===0},h.prototype.recoverPubKey=function(m,g,p,y){u((3&p)===p,"The recovery param is more than two bits"),g=new d(g,y);var v=this.n,w=new a(m),C=g.r,P=g.s,F=1&p,L=p>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&L)throw new Error("Unable to find sencond key candinate");C=L?this.curve.pointFromX(C.add(this.curve.n),F):this.curve.pointFromX(C,F);var j=g.r.invm(v),I=v.sub(w).mul(j).umod(v),z=P.mul(j).umod(v);return this.g.mulAdd(I,C,z)},h.prototype.getKeyRecoveryParam=function(m,g,p,y){if((g=new d(g,y)).recoveryParam!==null)return g.recoveryParam;for(var v=0;v<4;v++){var w;try{w=this.recoverPubKey(m,g,v)}catch{continue}if(w.eq(p))return v}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,n,i){var a=t("bn.js"),s=t("../utils").assert;function l(c,o){this.ec=c,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}n.exports=l,l.fromPublic=function(c,o,u){return o instanceof l?o:new l(c,{pub:o,pubEnc:u})},l.fromPrivate=function(c,o,u){return o instanceof l?o:new l(c,{priv:o,privEnc:u})},l.prototype.validate=function(){var c=this.getPublic();return c.isInfinity()?{result:!1,reason:"Invalid public key"}:c.validate()?c.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},l.prototype.getPublic=function(c,o){return typeof c=="string"&&(o=c,c=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,c):this.pub},l.prototype.getPrivate=function(c){return c==="hex"?this.priv.toString(16,2):this.priv},l.prototype._importPrivate=function(c,o){this.priv=new a(c,o||16),this.priv=this.priv.umod(this.ec.curve.n)},l.prototype._importPublic=function(c,o){if(c.x||c.y)return this.ec.curve.type==="mont"?s(c.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||s(c.x&&c.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(c.x,c.y));this.pub=this.ec.curve.decodePoint(c,o)},l.prototype.derive=function(c){return c.validate()||s(c.validate(),"public point not validated"),c.mul(this.priv).getX()},l.prototype.sign=function(c,o,u){return this.ec.sign(c,this,o,u)},l.prototype.verify=function(c,o){return this.ec.verify(c,o,this)},l.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,n,i){var a=t("bn.js"),s=t("../utils"),l=s.assert;function c(h,m){if(h instanceof c)return h;this._importDER(h,m)||(l(h.r&&h.s,"Signature without r or s"),this.r=new a(h.r,16),this.s=new a(h.s,16),h.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=h.recoveryParam)}function o(){this.place=0}function u(h,m){var g=h[m.place++];if(!(128&g))return g;var p=15&g;if(p===0||p>4)return!1;for(var y=0,v=0,w=m.place;v<p;v++,w++)y<<=8,y|=h[w],y>>>=0;return!(y<=127)&&(m.place=w,y)}function f(h){for(var m=0,g=h.length-1;!h[m]&&!(128&h[m+1])&&m<g;)m++;return m===0?h:h.slice(m)}function d(h,m){if(m<128)h.push(m);else{var g=1+(Math.log(m)/Math.LN2>>>3);for(h.push(128|g);--g;)h.push(m>>>(g<<3)&255);h.push(m)}}n.exports=c,c.prototype._importDER=function(h,m){h=s.toArray(h,m);var g=new o;if(h[g.place++]!==48)return!1;var p=u(h,g);if(p===!1||p+g.place!==h.length||h[g.place++]!==2)return!1;var y=u(h,g);if(y===!1)return!1;var v=h.slice(g.place,y+g.place);if(g.place+=y,h[g.place++]!==2)return!1;var w=u(h,g);if(w===!1||h.length!==w+g.place)return!1;var C=h.slice(g.place,w+g.place);if(v[0]===0){if(!(128&v[1]))return!1;v=v.slice(1)}if(C[0]===0){if(!(128&C[1]))return!1;C=C.slice(1)}return this.r=new a(v),this.s=new a(C),this.recoveryParam=null,!0},c.prototype.toDER=function(h){var m=this.r.toArray(),g=this.s.toArray();for(128&m[0]&&(m=[0].concat(m)),128&g[0]&&(g=[0].concat(g)),m=f(m),g=f(g);!(g[0]||128&g[1]);)g=g.slice(1);var p=[2];d(p,m.length),(p=p.concat(m)).push(2),d(p,g.length);var y=p.concat(g),v=[48];return d(v,y.length),v=v.concat(y),s.encode(v,h)}},{"../utils":419,"bn.js":420}],415:[function(t,n,i){var a=t("hash.js"),s=t("../curves"),l=t("../utils"),c=l.assert,o=l.parseBytes,u=t("./key"),f=t("./signature");function d(h){if(c(h==="ed25519","only tested with ed25519 so far"),!(this instanceof d))return new d(h);h=s[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Math.ceil(h.n.bitLength()/8),this.hash=a.sha512}n.exports=d,d.prototype.sign=function(h,m){h=o(h);var g=this.keyFromSecret(m),p=this.hashInt(g.messagePrefix(),h),y=this.g.mul(p),v=this.encodePoint(y),w=this.hashInt(v,g.pubBytes(),h).mul(g.priv()),C=p.add(w).umod(this.curve.n);return this.makeSignature({R:y,S:C,Rencoded:v})},d.prototype.verify=function(h,m,g){h=o(h),m=this.makeSignature(m);var p=this.keyFromPublic(g),y=this.hashInt(m.Rencoded(),p.pubBytes(),h),v=this.g.mul(m.S());return m.R().add(p.pub().mul(y)).eq(v)},d.prototype.hashInt=function(){for(var h=this.hash(),m=0;m<arguments.length;m++)h.update(arguments[m]);return l.intFromLE(h.digest()).umod(this.curve.n)},d.prototype.keyFromPublic=function(h){return u.fromPublic(this,h)},d.prototype.keyFromSecret=function(h){return u.fromSecret(this,h)},d.prototype.makeSignature=function(h){return h instanceof f?h:new f(this,h)},d.prototype.encodePoint=function(h){var m=h.getY().toArray("le",this.encodingLength);return m[this.encodingLength-1]|=h.getX().isOdd()?128:0,m},d.prototype.decodePoint=function(h){var m=(h=l.parseBytes(h)).length-1,g=h.slice(0,m).concat(-129&h[m]),p=(128&h[m])!=0,y=l.intFromLE(g);return this.curve.pointFromY(y,p)},d.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(h){return l.intFromLE(h)},d.prototype.isPoint=function(h){return h instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,n,i){var a=t("../utils"),s=a.assert,l=a.parseBytes,c=a.cachedProperty;function o(u,f){this.eddsa=u,this._secret=l(f.secret),u.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=l(f.pub)}o.fromPublic=function(u,f){return f instanceof o?f:new o(u,{pub:f})},o.fromSecret=function(u,f){return f instanceof o?f:new o(u,{secret:f})},o.prototype.secret=function(){return this._secret},c(o,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),c(o,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),c(o,"privBytes",(function(){var u=this.eddsa,f=this.hash(),d=u.encodingLength-1,h=f.slice(0,u.encodingLength);return h[0]&=248,h[d]&=127,h[d]|=64,h})),c(o,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),c(o,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),c(o,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),o.prototype.sign=function(u){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},o.prototype.verify=function(u,f){return this.eddsa.verify(u,f,this)},o.prototype.getSecret=function(u){return s(this._secret,"KeyPair is public only"),a.encode(this.secret(),u)},o.prototype.getPublic=function(u){return a.encode(this.pubBytes(),u)},n.exports=o},{"../utils":419}],417:[function(t,n,i){var a=t("bn.js"),s=t("../utils"),l=s.assert,c=s.cachedProperty,o=s.parseBytes;function u(f,d){this.eddsa=f,typeof d!="object"&&(d=o(d)),Array.isArray(d)&&(d={R:d.slice(0,f.encodingLength),S:d.slice(f.encodingLength)}),l(d.R&&d.S,"Signature without R or S"),f.isPoint(d.R)&&(this._R=d.R),d.S instanceof a&&(this._S=d.S),this._Rencoded=Array.isArray(d.R)?d.R:d.Rencoded,this._Sencoded=Array.isArray(d.S)?d.S:d.Sencoded}c(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),c(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),c(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),c(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},n.exports=u},{"../utils":419,"bn.js":420}],418:[function(t,n,i){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,n,i){var a=i,s=t("bn.js"),l=t("minimalistic-assert"),c=t("minimalistic-crypto-utils");a.assert=l,a.toArray=c.toArray,a.zero2=c.zero2,a.toHex=c.toHex,a.encode=c.encode,a.getNAF=function(o,u,f){var d=new Array(Math.max(o.bitLength(),f)+1);d.fill(0);for(var h=1<<u+1,m=o.clone(),g=0;g<d.length;g++){var p,y=m.andln(h-1);m.isOdd()?(p=y>(h>>1)-1?(h>>1)-y:y,m.isubn(p)):p=0,d[g]=p,m.iushrn(1)}return d},a.getJSF=function(o,u){var f=[[],[]];o=o.clone(),u=u.clone();for(var d,h=0,m=0;o.cmpn(-h)>0||u.cmpn(-m)>0;){var g,p,y=o.andln(3)+h&3,v=u.andln(3)+m&3;y===3&&(y=-1),v===3&&(v=-1),g=(1&y)==0?0:(d=o.andln(7)+h&7)!==3&&d!==5||v!==2?y:-y,f[0].push(g),p=(1&v)==0?0:(d=u.andln(7)+m&7)!==3&&d!==5||y!==2?v:-v,f[1].push(p),2*h===g+1&&(h=1-h),2*m===p+1&&(m=1-m),o.iushrn(1),u.iushrn(1)}return f},a.cachedProperty=function(o,u,f){var d="_"+u;o.prototype[u]=function(){return this[d]!==void 0?this[d]:this[d]=f.call(this)}},a.parseBytes=function(o){return typeof o=="string"?a.toArray(o,"hex"):o},a.intFromLE=function(o){return new s(o,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],421:[function(t,n,i){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,n,i){var a=Object.create||function(j){var I=function(){};return I.prototype=j,new I},s=Object.keys||function(j){var I=[];for(var z in j)Object.prototype.hasOwnProperty.call(j,z)&&I.push(z);return z},l=Function.prototype.bind||function(j){var I=this;return function(){return I.apply(j,arguments)}};function c(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=a(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0;var o,u=10;try{var f={};Object.defineProperty&&Object.defineProperty(f,"x",{value:0}),o=f.x===0}catch{o=!1}function d(j){return j._maxListeners===void 0?c.defaultMaxListeners:j._maxListeners}function h(j,I,z){if(I)j.call(z);else for(var $=j.length,B=L(j,$),T=0;T<$;++T)B[T].call(z)}function m(j,I,z,$){if(I)j.call(z,$);else for(var B=j.length,T=L(j,B),R=0;R<B;++R)T[R].call(z,$)}function g(j,I,z,$,B){if(I)j.call(z,$,B);else for(var T=j.length,R=L(j,T),N=0;N<T;++N)R[N].call(z,$,B)}function p(j,I,z,$,B,T){if(I)j.call(z,$,B,T);else for(var R=j.length,N=L(j,R),_=0;_<R;++_)N[_].call(z,$,B,T)}function y(j,I,z,$){if(I)j.apply(z,$);else for(var B=j.length,T=L(j,B),R=0;R<B;++R)T[R].apply(z,$)}function v(j,I,z,$){var B,T,R;if(typeof z!="function")throw new TypeError('"listener" argument must be a function');if((T=j._events)?(T.newListener&&(j.emit("newListener",I,z.listener?z.listener:z),T=j._events),R=T[I]):(T=j._events=a(null),j._eventsCount=0),R){if(typeof R=="function"?R=T[I]=$?[z,R]:[R,z]:$?R.unshift(z):R.push(z),!R.warned&&(B=d(j))&&B>0&&R.length>B){R.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+R.length+' "'+String(I)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');N.name="MaxListenersExceededWarning",N.emitter=j,N.type=I,N.count=R.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",N.name,N.message)}}else R=T[I]=z,++j._eventsCount;return j}function w(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var j=new Array(arguments.length),I=0;I<j.length;++I)j[I]=arguments[I];this.listener.apply(this.target,j)}}function C(j,I,z){var $={fired:!1,wrapFn:void 0,target:j,type:I,listener:z},B=l.call(w,$);return B.listener=z,$.wrapFn=B,B}function P(j,I,z){var $=j._events;if(!$)return[];var B=$[I];return B?typeof B=="function"?z?[B.listener||B]:[B]:z?(function(T){for(var R=new Array(T.length),N=0;N<R.length;++N)R[N]=T[N].listener||T[N];return R})(B):L(B,B.length):[]}function F(j){var I=this._events;if(I){var z=I[j];if(typeof z=="function")return 1;if(z)return z.length}return 0}function L(j,I){for(var z=new Array(I),$=0;$<I;++$)z[$]=j[$];return z}o?Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(j){if(typeof j!="number"||j<0||j!=j)throw new TypeError('"defaultMaxListeners" must be a positive number');u=j}}):c.defaultMaxListeners=u,c.prototype.setMaxListeners=function(j){if(typeof j!="number"||j<0||isNaN(j))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=j,this},c.prototype.getMaxListeners=function(){return d(this)},c.prototype.emit=function(j){var I,z,$,B,T,R,N=j==="error";if(R=this._events)N=N&&R.error==null;else if(!N)return!1;if(N){if(arguments.length>1&&(I=arguments[1]),I instanceof Error)throw I;var _=new Error('Unhandled "error" event. ('+I+")");throw _.context=I,_}if(!(z=R[j]))return!1;var E=typeof z=="function";switch($=arguments.length){case 1:h(z,E,this);break;case 2:m(z,E,this,arguments[1]);break;case 3:g(z,E,this,arguments[1],arguments[2]);break;case 4:p(z,E,this,arguments[1],arguments[2],arguments[3]);break;default:for(B=new Array($-1),T=1;T<$;T++)B[T-1]=arguments[T];y(z,E,this,B)}return!0},c.prototype.addListener=function(j,I){return v(this,j,I,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(j,I){return v(this,j,I,!0)},c.prototype.once=function(j,I){if(typeof I!="function")throw new TypeError('"listener" argument must be a function');return this.on(j,C(this,j,I)),this},c.prototype.prependOnceListener=function(j,I){if(typeof I!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(j,C(this,j,I)),this},c.prototype.removeListener=function(j,I){var z,$,B,T,R;if(typeof I!="function")throw new TypeError('"listener" argument must be a function');if(!($=this._events))return this;if(!(z=$[j]))return this;if(z===I||z.listener===I)--this._eventsCount==0?this._events=a(null):(delete $[j],$.removeListener&&this.emit("removeListener",j,z.listener||I));else if(typeof z!="function"){for(B=-1,T=z.length-1;T>=0;T--)if(z[T]===I||z[T].listener===I){R=z[T].listener,B=T;break}if(B<0)return this;B===0?z.shift():(function(N,_){for(var E=_,S=E+1,k=N.length;S<k;E+=1,S+=1)N[E]=N[S];N.pop()})(z,B),z.length===1&&($[j]=z[0]),$.removeListener&&this.emit("removeListener",j,R||I)}return this},c.prototype.removeAllListeners=function(j){var I,z,$;if(!(z=this._events))return this;if(!z.removeListener)return arguments.length===0?(this._events=a(null),this._eventsCount=0):z[j]&&(--this._eventsCount==0?this._events=a(null):delete z[j]),this;if(arguments.length===0){var B,T=s(z);for($=0;$<T.length;++$)(B=T[$])!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=a(null),this._eventsCount=0,this}if(typeof(I=z[j])=="function")this.removeListener(j,I);else if(I)for($=I.length-1;$>=0;$--)this.removeListener(j,I[$]);return this},c.prototype.listeners=function(j){return P(this,j,!0)},c.prototype.rawListeners=function(j){return P(this,j,!1)},c.listenerCount=function(j,I){return typeof j.listenerCount=="function"?j.listenerCount(I):F.call(j,I)},c.prototype.listenerCount=F,c.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,n,i){var a=t("safe-buffer").Buffer,s=t("md5.js");n.exports=function(l,c,o,u){if(a.isBuffer(l)||(l=a.from(l,"binary")),c&&(a.isBuffer(c)||(c=a.from(c,"binary")),c.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var f=o/8,d=a.alloc(f),h=a.alloc(u||0),m=a.alloc(0);f>0||u>0;){var g=new s;g.update(m),g.update(l),c&&g.update(c),m=g.digest();var p=0;if(f>0){var y=d.length-f;p=Math.min(f,m.length),m.copy(d,y,0,p),f-=p}if(p<m.length&&u>0){var v=h.length-u,w=Math.min(u,m.length-p);m.copy(h,v,p,p+w),u-=w}}return m.fill(0),{key:d,iv:h}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=i.ParserOptions=i.parseFile=i.parseStream=i.parseString=i.parse=i.FormatterOptions=i.CsvFormatterStream=i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=void 0;var a=t("@fast-csv/format");Object.defineProperty(i,"format",{enumerable:!0,get:function(){return a.format}}),Object.defineProperty(i,"write",{enumerable:!0,get:function(){return a.write}}),Object.defineProperty(i,"writeToStream",{enumerable:!0,get:function(){return a.writeToStream}}),Object.defineProperty(i,"writeToBuffer",{enumerable:!0,get:function(){return a.writeToBuffer}}),Object.defineProperty(i,"writeToString",{enumerable:!0,get:function(){return a.writeToString}}),Object.defineProperty(i,"writeToPath",{enumerable:!0,get:function(){return a.writeToPath}}),Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return a.CsvFormatterStream}}),Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return a.FormatterOptions}});var s=t("@fast-csv/parse");Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return s.parse}}),Object.defineProperty(i,"parseString",{enumerable:!0,get:function(){return s.parseString}}),Object.defineProperty(i,"parseStream",{enumerable:!0,get:function(){return s.parseStream}}),Object.defineProperty(i,"parseFile",{enumerable:!0,get:function(){return s.parseFile}}),Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return s.ParserOptions}}),Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return s.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,n,i){var a=t("safe-buffer").Buffer,s=t("readable-stream").Transform;function l(c){s.call(this),this._block=a.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(l,s),l.prototype._transform=function(c,o,u){var f=null;try{this.update(c,o)}catch(d){f=d}u(f)},l.prototype._flush=function(c){var o=null;try{this.push(this.digest())}catch(u){o=u}c(o)},l.prototype.update=function(c,o){if((function(g,p){if(!a.isBuffer(g)&&typeof g!="string")throw new TypeError(p+" must be a string or a buffer")})(c,"Data"),this._finalized)throw new Error("Digest already called");a.isBuffer(c)||(c=a.from(c,o));for(var u=this._block,f=0;this._blockOffset+c.length-f>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)u[d++]=c[f++];this._update(),this._blockOffset=0}for(;f<c.length;)u[this._blockOffset++]=c[f++];for(var h=0,m=8*c.length;m>0;++h)this._length[h]+=m,(m=this._length[h]/4294967296|0)>0&&(this._length[h]-=4294967296*m);return this},l.prototype._update=function(){throw new Error("_update is not implemented")},l.prototype.digest=function(c){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var o=this._digest();c!==void 0&&(o=o.toString(c)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return o},l.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=l},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,n,i){var a=i;a.utils=t("./hash/utils"),a.common=t("./hash/common"),a.sha=t("./hash/sha"),a.ripemd=t("./hash/ripemd"),a.hmac=t("./hash/hmac"),a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,n,i){var a=t("./utils"),s=t("minimalistic-assert");function l(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=l,l.prototype.update=function(c,o){if(c=a.toArray(c,o),this.pending?this.pending=this.pending.concat(c):this.pending=c,this.pendingTotal+=c.length,this.pending.length>=this._delta8){var u=(c=this.pending).length%this._delta8;this.pending=c.slice(c.length-u,c.length),this.pending.length===0&&(this.pending=null),c=a.join32(c,0,c.length-u,this.endian);for(var f=0;f<c.length;f+=this._delta32)this._update(c,f,f+this._delta32)}return this},l.prototype.digest=function(c){return this.update(this._pad()),s(this.pending===null),this._digest(c)},l.prototype._pad=function(){var c=this.pendingTotal,o=this._delta8,u=o-(c+this.padLength)%o,f=new Array(u+this.padLength);f[0]=128;for(var d=1;d<u;d++)f[d]=0;if(c<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)f[d++]=0;f[d++]=0,f[d++]=0,f[d++]=0,f[d++]=0,f[d++]=c>>>24&255,f[d++]=c>>>16&255,f[d++]=c>>>8&255,f[d++]=255&c}else for(f[d++]=255&c,f[d++]=c>>>8&255,f[d++]=c>>>16&255,f[d++]=c>>>24&255,f[d++]=0,f[d++]=0,f[d++]=0,f[d++]=0,h=8;h<this.padLength;h++)f[d++]=0;return f}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,n,i){var a=t("./utils"),s=t("minimalistic-assert");function l(c,o,u){if(!(this instanceof l))return new l(c,o,u);this.Hash=c,this.blockSize=c.blockSize/8,this.outSize=c.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(o,u))}n.exports=l,l.prototype._init=function(c){c.length>this.blockSize&&(c=new this.Hash().update(c).digest()),s(c.length<=this.blockSize);for(var o=c.length;o<this.blockSize;o++)c.push(0);for(o=0;o<c.length;o++)c[o]^=54;for(this.inner=new this.Hash().update(c),o=0;o<c.length;o++)c[o]^=106;this.outer=new this.Hash().update(c)},l.prototype.update=function(c,o){return this.inner.update(c,o),this},l.prototype.digest=function(c){return this.outer.update(this.inner.digest()),this.outer.digest(c)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,n,i){var a=t("./utils"),s=t("./common"),l=a.rotl32,c=a.sum32,o=a.sum32_3,u=a.sum32_4,f=s.BlockHash;function d(){if(!(this instanceof d))return new d;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(C,P,F,L){return C<=15?P^F^L:C<=31?P&F|~P&L:C<=47?(P|~F)^L:C<=63?P&L|F&~L:P^(F|~L)}function m(C){return C<=15?0:C<=31?1518500249:C<=47?1859775393:C<=63?2400959708:2840853838}function g(C){return C<=15?1352829926:C<=31?1548603684:C<=47?1836072691:C<=63?2053994217:0}a.inherits(d,f),i.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(C,P){for(var F=this.h[0],L=this.h[1],j=this.h[2],I=this.h[3],z=this.h[4],$=F,B=L,T=j,R=I,N=z,_=0;_<80;_++){var E=c(l(u(F,h(_,L,j,I),C[p[_]+P],m(_)),v[_]),z);F=z,z=I,I=l(j,10),j=L,L=E,E=c(l(u($,h(79-_,B,T,R),C[y[_]+P],g(_)),w[_]),N),$=N,N=R,R=l(T,10),T=B,B=E}E=o(this.h[1],j,R),this.h[1]=o(this.h[2],I,N),this.h[2]=o(this.h[3],z,$),this.h[3]=o(this.h[4],F,B),this.h[4]=o(this.h[0],L,T),this.h[0]=E},d.prototype._digest=function(C){return C==="hex"?a.toHex32(this.h,"little"):a.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,n,i){i.sha1=t("./sha/1"),i.sha224=t("./sha/224"),i.sha256=t("./sha/256"),i.sha384=t("./sha/384"),i.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,n,i){var a=t("../utils"),s=t("../common"),l=t("./common"),c=a.rotl32,o=a.sum32,u=a.sum32_5,f=l.ft_1,d=s.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function m(){if(!(this instanceof m))return new m;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a.inherits(m,d),n.exports=m,m.blockSize=512,m.outSize=160,m.hmacStrength=80,m.padLength=64,m.prototype._update=function(g,p){for(var y=this.W,v=0;v<16;v++)y[v]=g[p+v];for(;v<y.length;v++)y[v]=c(y[v-3]^y[v-8]^y[v-14]^y[v-16],1);var w=this.h[0],C=this.h[1],P=this.h[2],F=this.h[3],L=this.h[4];for(v=0;v<y.length;v++){var j=~~(v/20),I=u(c(w,5),f(j,C,P,F),L,y[v],h[j]);L=F,F=P,P=c(C,30),C=w,w=I}this.h[0]=o(this.h[0],w),this.h[1]=o(this.h[1],C),this.h[2]=o(this.h[2],P),this.h[3]=o(this.h[3],F),this.h[4]=o(this.h[4],L)},m.prototype._digest=function(g){return g==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,n,i){var a=t("../utils"),s=t("./256");function l(){if(!(this instanceof l))return new l;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a.inherits(l,s),n.exports=l,l.blockSize=512,l.outSize=224,l.hmacStrength=192,l.padLength=64,l.prototype._digest=function(c){return c==="hex"?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,n,i){var a=t("../utils"),s=t("../common"),l=t("./common"),c=t("minimalistic-assert"),o=a.sum32,u=a.sum32_4,f=a.sum32_5,d=l.ch32,h=l.maj32,m=l.s0_256,g=l.s1_256,p=l.g0_256,y=l.g1_256,v=s.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function C(){if(!(this instanceof C))return new C;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,this.W=new Array(64)}a.inherits(C,v),n.exports=C,C.blockSize=512,C.outSize=256,C.hmacStrength=192,C.padLength=64,C.prototype._update=function(P,F){for(var L=this.W,j=0;j<16;j++)L[j]=P[F+j];for(;j<L.length;j++)L[j]=u(y(L[j-2]),L[j-7],p(L[j-15]),L[j-16]);var I=this.h[0],z=this.h[1],$=this.h[2],B=this.h[3],T=this.h[4],R=this.h[5],N=this.h[6],_=this.h[7];for(c(this.k.length===L.length),j=0;j<L.length;j++){var E=f(_,g(T),d(T,R,N),this.k[j],L[j]),S=o(m(I),h(I,z,$));_=N,N=R,R=T,T=o(B,E),B=$,$=z,z=I,I=o(E,S)}this.h[0]=o(this.h[0],I),this.h[1]=o(this.h[1],z),this.h[2]=o(this.h[2],$),this.h[3]=o(this.h[3],B),this.h[4]=o(this.h[4],T),this.h[5]=o(this.h[5],R),this.h[6]=o(this.h[6],N),this.h[7]=o(this.h[7],_)},C.prototype._digest=function(P){return P==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,n,i){var a=t("../utils"),s=t("./512");function l(){if(!(this instanceof l))return new l;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a.inherits(l,s),n.exports=l,l.blockSize=1024,l.outSize=384,l.hmacStrength=192,l.padLength=128,l.prototype._digest=function(c){return c==="hex"?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,n,i){var a=t("../utils"),s=t("../common"),l=t("minimalistic-assert"),c=a.rotr64_hi,o=a.rotr64_lo,u=a.shr64_hi,f=a.shr64_lo,d=a.sum64,h=a.sum64_hi,m=a.sum64_lo,g=a.sum64_4_hi,p=a.sum64_4_lo,y=a.sum64_5_hi,v=a.sum64_5_lo,w=s.BlockHash,C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function P(){if(!(this instanceof P))return new P;w.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=C,this.W=new Array(160)}function F(S,k,M,V,O){var X=S&M^~S&O;return X<0&&(X+=4294967296),X}function L(S,k,M,V,O,X){var Q=k&V^~k&X;return Q<0&&(Q+=4294967296),Q}function j(S,k,M,V,O){var X=S&M^S&O^M&O;return X<0&&(X+=4294967296),X}function I(S,k,M,V,O,X){var Q=k&V^k&X^V&X;return Q<0&&(Q+=4294967296),Q}function z(S,k){var M=c(S,k,28)^c(k,S,2)^c(k,S,7);return M<0&&(M+=4294967296),M}function $(S,k){var M=o(S,k,28)^o(k,S,2)^o(k,S,7);return M<0&&(M+=4294967296),M}function B(S,k){var M=c(S,k,14)^c(S,k,18)^c(k,S,9);return M<0&&(M+=4294967296),M}function T(S,k){var M=o(S,k,14)^o(S,k,18)^o(k,S,9);return M<0&&(M+=4294967296),M}function R(S,k){var M=c(S,k,1)^c(S,k,8)^u(S,k,7);return M<0&&(M+=4294967296),M}function N(S,k){var M=o(S,k,1)^o(S,k,8)^f(S,k,7);return M<0&&(M+=4294967296),M}function _(S,k){var M=c(S,k,19)^c(k,S,29)^u(S,k,6);return M<0&&(M+=4294967296),M}function E(S,k){var M=o(S,k,19)^o(k,S,29)^f(S,k,6);return M<0&&(M+=4294967296),M}a.inherits(P,w),n.exports=P,P.blockSize=1024,P.outSize=512,P.hmacStrength=192,P.padLength=128,P.prototype._prepareBlock=function(S,k){for(var M=this.W,V=0;V<32;V++)M[V]=S[k+V];for(;V<M.length;V+=2){var O=_(M[V-4],M[V-3]),X=E(M[V-4],M[V-3]),Q=M[V-14],re=M[V-13],G=R(M[V-30],M[V-29]),J=N(M[V-30],M[V-29]),q=M[V-32],U=M[V-31];M[V]=g(O,X,Q,re,G,J,q,U),M[V+1]=p(O,X,Q,re,G,J,q,U)}},P.prototype._update=function(S,k){this._prepareBlock(S,k);var M=this.W,V=this.h[0],O=this.h[1],X=this.h[2],Q=this.h[3],re=this.h[4],G=this.h[5],J=this.h[6],q=this.h[7],U=this.h[8],Z=this.h[9],ie=this.h[10],le=this.h[11],de=this.h[12],fe=this.h[13],ue=this.h[14],Ae=this.h[15];l(this.k.length===M.length);for(var he=0;he<M.length;he+=2){var xe=ue,me=Ae,Ce=B(U,Z),ke=T(U,Z),Oe=F(U,Z,ie,le,de),De=L(U,Z,ie,le,de,fe),He=this.k[he],Qe=this.k[he+1],tt=M[he],st=M[he+1],it=y(xe,me,Ce,ke,Oe,De,He,Qe,tt,st),pt=v(xe,me,Ce,ke,Oe,De,He,Qe,tt,st);xe=z(V,O),me=$(V,O),Ce=j(V,O,X,Q,re),ke=I(V,O,X,Q,re,G);var bt=h(xe,me,Ce,ke),mt=m(xe,me,Ce,ke);ue=de,Ae=fe,de=ie,fe=le,ie=U,le=Z,U=h(J,q,it,pt),Z=m(q,q,it,pt),J=re,q=G,re=X,G=Q,X=V,Q=O,V=h(it,pt,bt,mt),O=m(it,pt,bt,mt)}d(this.h,0,V,O),d(this.h,2,X,Q),d(this.h,4,re,G),d(this.h,6,J,q),d(this.h,8,U,Z),d(this.h,10,ie,le),d(this.h,12,de,fe),d(this.h,14,ue,Ae)},P.prototype._digest=function(S){return S==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,n,i){var a=t("../utils").rotr32;function s(o,u,f){return o&u^~o&f}function l(o,u,f){return o&u^o&f^u&f}function c(o,u,f){return o^u^f}i.ft_1=function(o,u,f,d){return o===0?s(u,f,d):o===1||o===3?c(u,f,d):o===2?l(u,f,d):void 0},i.ch32=s,i.maj32=l,i.p32=c,i.s0_256=function(o){return a(o,2)^a(o,13)^a(o,22)},i.s1_256=function(o){return a(o,6)^a(o,11)^a(o,25)},i.g0_256=function(o){return a(o,7)^a(o,18)^o>>>3},i.g1_256=function(o){return a(o,17)^a(o,19)^o>>>10}},{"../utils":437}],437:[function(t,n,i){var a=t("minimalistic-assert"),s=t("inherits");function l(f,d){return(64512&f.charCodeAt(d))==55296&&!(d<0||d+1>=f.length)&&(64512&f.charCodeAt(d+1))==56320}function c(f){return(f>>>24|f>>>8&65280|f<<8&16711680|(255&f)<<24)>>>0}function o(f){return f.length===1?"0"+f:f}function u(f){return f.length===7?"0"+f:f.length===6?"00"+f:f.length===5?"000"+f:f.length===4?"0000"+f:f.length===3?"00000"+f:f.length===2?"000000"+f:f.length===1?"0000000"+f:f}i.inherits=s,i.toArray=function(f,d){if(Array.isArray(f))return f.slice();if(!f)return[];var h=[];if(typeof f=="string")if(d){if(d==="hex")for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),g=0;g<f.length;g+=2)h.push(parseInt(f[g]+f[g+1],16))}else for(var m=0,g=0;g<f.length;g++){var p=f.charCodeAt(g);p<128?h[m++]=p:p<2048?(h[m++]=p>>6|192,h[m++]=63&p|128):l(f,g)?(p=65536+((1023&p)<<10)+(1023&f.charCodeAt(++g)),h[m++]=p>>18|240,h[m++]=p>>12&63|128,h[m++]=p>>6&63|128,h[m++]=63&p|128):(h[m++]=p>>12|224,h[m++]=p>>6&63|128,h[m++]=63&p|128)}else for(g=0;g<f.length;g++)h[g]=0|f[g];return h},i.toHex=function(f){for(var d="",h=0;h<f.length;h++)d+=o(f[h].toString(16));return d},i.htonl=c,i.toHex32=function(f,d){for(var h="",m=0;m<f.length;m++){var g=f[m];d==="little"&&(g=c(g)),h+=u(g.toString(16))}return h},i.zero2=o,i.zero8=u,i.join32=function(f,d,h,m){var g=h-d;a(g%4==0);for(var p=new Array(g/4),y=0,v=d;y<p.length;y++,v+=4){var w;w=m==="big"?f[v]<<24|f[v+1]<<16|f[v+2]<<8|f[v+3]:f[v+3]<<24|f[v+2]<<16|f[v+1]<<8|f[v],p[y]=w>>>0}return p},i.split32=function(f,d){for(var h=new Array(4*f.length),m=0,g=0;m<f.length;m++,g+=4){var p=f[m];d==="big"?(h[g]=p>>>24,h[g+1]=p>>>16&255,h[g+2]=p>>>8&255,h[g+3]=255&p):(h[g+3]=p>>>24,h[g+2]=p>>>16&255,h[g+1]=p>>>8&255,h[g]=255&p)}return h},i.rotr32=function(f,d){return f>>>d|f<<32-d},i.rotl32=function(f,d){return f<<d|f>>>32-d},i.sum32=function(f,d){return f+d>>>0},i.sum32_3=function(f,d,h){return f+d+h>>>0},i.sum32_4=function(f,d,h,m){return f+d+h+m>>>0},i.sum32_5=function(f,d,h,m,g){return f+d+h+m+g>>>0},i.sum64=function(f,d,h,m){var g=f[d],p=m+f[d+1]>>>0,y=(p<m?1:0)+h+g;f[d]=y>>>0,f[d+1]=p},i.sum64_hi=function(f,d,h,m){return(d+m>>>0<d?1:0)+f+h>>>0},i.sum64_lo=function(f,d,h,m){return d+m>>>0},i.sum64_4_hi=function(f,d,h,m,g,p,y,v){var w=0,C=d;return w+=(C=C+m>>>0)<d?1:0,w+=(C=C+p>>>0)<p?1:0,f+h+g+y+(w+=(C=C+v>>>0)<v?1:0)>>>0},i.sum64_4_lo=function(f,d,h,m,g,p,y,v){return d+m+p+v>>>0},i.sum64_5_hi=function(f,d,h,m,g,p,y,v,w,C){var P=0,F=d;return P+=(F=F+m>>>0)<d?1:0,P+=(F=F+p>>>0)<p?1:0,P+=(F=F+v>>>0)<v?1:0,f+h+g+y+w+(P+=(F=F+C>>>0)<C?1:0)>>>0},i.sum64_5_lo=function(f,d,h,m,g,p,y,v,w,C){return d+m+p+v+C>>>0},i.rotr64_hi=function(f,d,h){return(d<<32-h|f>>>h)>>>0},i.rotr64_lo=function(f,d,h){return(f<<32-h|d>>>h)>>>0},i.shr64_hi=function(f,d,h){return f>>>h},i.shr64_lo=function(f,d,h){return(f<<32-h|d>>>h)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,n,i){var a=t("hash.js"),s=t("minimalistic-crypto-utils"),l=t("minimalistic-assert");function c(o){if(!(this instanceof c))return new c(o);this.hash=o.hash,this.predResist=!!o.predResist,this.outLen=this.hash.outSize,this.minEntropy=o.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=s.toArray(o.entropy,o.entropyEnc||"hex"),f=s.toArray(o.nonce,o.nonceEnc||"hex"),d=s.toArray(o.pers,o.persEnc||"hex");l(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,f,d)}n.exports=c,c.prototype._init=function(o,u,f){var d=o.concat(u).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(d),this._reseed=1,this.reseedInterval=281474976710656},c.prototype._hmac=function(){return new a.hmac(this.hash,this.K)},c.prototype._update=function(o){var u=this._hmac().update(this.V).update([0]);o&&(u=u.update(o)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},c.prototype.reseed=function(o,u,f,d){typeof u!="string"&&(d=f,f=u,u=null),o=s.toArray(o,u),f=s.toArray(f,d),l(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(f||[])),this._reseed=1},c.prototype.generate=function(o,u,f,d){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(d=f,f=u,u=null),f&&(f=s.toArray(f,d||"hex"),this._update(f));for(var h=[];h.length<o;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var m=h.slice(0,o);return this._update(f),this._reseed++,s.encode(m,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,n,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(a,s,l,c,o){var u,f,d=8*o-c-1,h=(1<<d)-1,m=h>>1,g=-7,p=l?o-1:0,y=l?-1:1,v=a[s+p];for(p+=y,u=v&(1<<-g)-1,v>>=-g,g+=d;g>0;u=256*u+a[s+p],p+=y,g-=8);for(f=u&(1<<-g)-1,u>>=-g,g+=c;g>0;f=256*f+a[s+p],p+=y,g-=8);if(u===0)u=1-m;else{if(u===h)return f?NaN:1/0*(v?-1:1);f+=Math.pow(2,c),u-=m}return(v?-1:1)*f*Math.pow(2,u-c)},i.write=function(a,s,l,c,o,u){var f,d,h,m=8*u-o-1,g=(1<<m)-1,p=g>>1,y=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=c?0:u-1,w=c?1:-1,C=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(d=isNaN(s)?1:0,f=g):(f=Math.floor(Math.log(s)/Math.LN2),s*(h=Math.pow(2,-f))<1&&(f--,h*=2),(s+=f+p>=1?y/h:y*Math.pow(2,1-p))*h>=2&&(f++,h/=2),f+p>=g?(d=0,f=g):f+p>=1?(d=(s*h-1)*Math.pow(2,o),f+=p):(d=s*Math.pow(2,p-1)*Math.pow(2,o),f=0));o>=8;a[l+v]=255&d,v+=w,d/=256,o-=8);for(f=f<<o|d,m+=o;m>0;a[l+v]=255&f,v+=w,f/=256,m-=8);a[l+v-w]|=128*C}},{}],440:[function(t,n,i){typeof Object.create=="function"?n.exports=function(a,s){s&&(a.super_=s,a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(a,s){if(s){a.super_=s;var l=function(){};l.prototype=s.prototype,a.prototype=new l,a.prototype.constructor=a}}},{}],441:[function(t,n,i){(function(a,s,l,c,o,u,f,d){(function(){/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(h){typeof i=="object"&&n!==void 0?n.exports=h():(typeof window<"u"?window:s!==void 0?s:typeof self<"u"?self:this).JSZip=h()})((function(){return(function h(m,g,p){function y(C,P){if(!g[C]){if(!m[C]){var F=typeof t=="function"&&t;if(!P&&F)return F(C,!0);if(v)return v(C,!0);var L=new Error("Cannot find module '"+C+"'");throw L.code="MODULE_NOT_FOUND",L}var j=g[C]={exports:{}};m[C][0].call(j.exports,(function(I){return y(m[C][1][I]||I)}),j,j.exports,h,m,g,p)}return g[C].exports}for(var v=typeof t=="function"&&t,w=0;w<p.length;w++)y(p[w]);return y})({1:[function(h,m,g){var p=h("./utils"),y=h("./support"),v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";g.encode=function(w){for(var C,P,F,L,j,I,z,$=[],B=0,T=w.length,R=T,N=p.getTypeOf(w)!=="string";B<w.length;)R=T-B,F=N?(C=w[B++],P=B<T?w[B++]:0,B<T?w[B++]:0):(C=w.charCodeAt(B++),P=B<T?w.charCodeAt(B++):0,B<T?w.charCodeAt(B++):0),L=C>>2,j=(3&C)<<4|P>>4,I=1<R?(15&P)<<2|F>>6:64,z=2<R?63&F:64,$.push(v.charAt(L)+v.charAt(j)+v.charAt(I)+v.charAt(z));return $.join("")},g.decode=function(w){var C,P,F,L,j,I,z=0,$=0,B="data:";if(w.substr(0,B.length)===B)throw new Error("Invalid base64 input, it looks like a data url.");var T,R=3*(w=w.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(w.charAt(w.length-1)===v.charAt(64)&&R--,w.charAt(w.length-2)===v.charAt(64)&&R--,R%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=y.uint8array?new Uint8Array(0|R):new Array(0|R);z<w.length;)C=v.indexOf(w.charAt(z++))<<2|(L=v.indexOf(w.charAt(z++)))>>4,P=(15&L)<<4|(j=v.indexOf(w.charAt(z++)))>>2,F=(3&j)<<6|(I=v.indexOf(w.charAt(z++))),T[$++]=C,j!==64&&(T[$++]=P),I!==64&&(T[$++]=F);return T}},{"./support":30,"./utils":32}],2:[function(h,m,g){var p=h("./external"),y=h("./stream/DataWorker"),v=h("./stream/Crc32Probe"),w=h("./stream/DataLengthProbe");function C(P,F,L,j,I){this.compressedSize=P,this.uncompressedSize=F,this.crc32=L,this.compression=j,this.compressedContent=I}C.prototype={getContentWorker:function(){var P=new y(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new w("data_length")),F=this;return P.on("end",(function(){if(this.streamInfo.data_length!==F.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),P},getCompressedWorker:function(){return new y(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},C.createWorkerFrom=function(P,F,L){return P.pipe(new v).pipe(new w("uncompressedSize")).pipe(F.compressWorker(L)).pipe(new w("compressedSize")).withStreamInfo("compression",F)},m.exports=C},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(h,m,g){var p=h("./stream/GenericWorker");g.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},g.DEFLATE=h("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(h,m,g){var p=h("./utils"),y=(function(){for(var v,w=[],C=0;C<256;C++){v=C;for(var P=0;P<8;P++)v=1&v?3988292384^v>>>1:v>>>1;w[C]=v}return w})();m.exports=function(v,w){return v!==void 0&&v.length?p.getTypeOf(v)!=="string"?(function(C,P,F,L){var j=y,I=0+F;C^=-1;for(var z=0;z<I;z++)C=C>>>8^j[255&(C^P[z])];return-1^C})(0|w,v,v.length):(function(C,P,F,L){var j=y,I=0+F;C^=-1;for(var z=0;z<I;z++)C=C>>>8^j[255&(C^P.charCodeAt(z))];return-1^C})(0|w,v,v.length):0}},{"./utils":32}],5:[function(h,m,g){g.base64=!1,g.binary=!1,g.dir=!1,g.createFolders=!0,g.date=null,g.compression=null,g.compressionOptions=null,g.comment=null,g.unixPermissions=null,g.dosPermissions=null},{}],6:[function(h,m,g){var p;p=typeof Promise<"u"?Promise:h("lie"),m.exports={Promise:p}},{lie:37}],7:[function(h,m,g){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",y=h("pako"),v=h("./utils"),w=h("./stream/GenericWorker"),C=p?"uint8array":"array";function P(F,L){w.call(this,"FlateWorker/"+F),this._pako=null,this._pakoAction=F,this._pakoOptions=L,this.meta={}}g.magic="\b\0",v.inherits(P,w),P.prototype.processChunk=function(F){this.meta=F.meta,this._pako===null&&this._createPako(),this._pako.push(v.transformTo(C,F.data),!1)},P.prototype.flush=function(){w.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},P.prototype.cleanUp=function(){w.prototype.cleanUp.call(this),this._pako=null},P.prototype._createPako=function(){this._pako=new y[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var F=this;this._pako.onData=function(L){F.push({data:L,meta:F.meta})}},g.compressWorker=function(F){return new P("Deflate",F)},g.uncompressWorker=function(){return new P("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(h,m,g){function p(j,I){var z,$="";for(z=0;z<I;z++)$+=String.fromCharCode(255&j),j>>>=8;return $}function y(j,I,z,$,B,T){var R,N,_=j.file,E=j.compression,S=T!==C.utf8encode,k=v.transformTo("string",T(_.name)),M=v.transformTo("string",C.utf8encode(_.name)),V=_.comment,O=v.transformTo("string",T(V)),X=v.transformTo("string",C.utf8encode(V)),Q=M.length!==_.name.length,re=X.length!==V.length,G="",J="",q="",U=_.dir,Z=_.date,ie={crc32:0,compressedSize:0,uncompressedSize:0};I&&!z||(ie.crc32=j.crc32,ie.compressedSize=j.compressedSize,ie.uncompressedSize=j.uncompressedSize);var le=0;I&&(le|=8),S||!Q&&!re||(le|=2048);var de=0,fe=0;U&&(de|=16),B==="UNIX"?(fe=798,de|=(function(Ae,he){var xe=Ae;return Ae||(xe=he?16893:33204),(65535&xe)<<16})(_.unixPermissions,U)):(fe=20,de|=(function(Ae){return 63&(Ae||0)})(_.dosPermissions)),R=Z.getUTCHours(),R<<=6,R|=Z.getUTCMinutes(),R<<=5,R|=Z.getUTCSeconds()/2,N=Z.getUTCFullYear()-1980,N<<=4,N|=Z.getUTCMonth()+1,N<<=5,N|=Z.getUTCDate(),Q&&(J=p(1,1)+p(P(k),4)+M,G+="up"+p(J.length,2)+J),re&&(q=p(1,1)+p(P(O),4)+X,G+="uc"+p(q.length,2)+q);var ue="";return ue+=`
\0`,ue+=p(le,2),ue+=E.magic,ue+=p(R,2),ue+=p(N,2),ue+=p(ie.crc32,4),ue+=p(ie.compressedSize,4),ue+=p(ie.uncompressedSize,4),ue+=p(k.length,2),ue+=p(G.length,2),{fileRecord:F.LOCAL_FILE_HEADER+ue+k+G,dirRecord:F.CENTRAL_FILE_HEADER+p(fe,2)+ue+p(O.length,2)+"\0\0\0\0"+p(de,4)+p($,4)+k+G+O}}var v=h("../utils"),w=h("../stream/GenericWorker"),C=h("../utf8"),P=h("../crc32"),F=h("../signature");function L(j,I,z,$){w.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=I,this.zipPlatform=z,this.encodeFileName=$,this.streamFiles=j,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}v.inherits(L,w),L.prototype.push=function(j){var I=j.meta.percent||0,z=this.entriesCount,$=this._sources.length;this.accumulate?this.contentBuffer.push(j):(this.bytesWritten+=j.data.length,w.prototype.push.call(this,{data:j.data,meta:{currentFile:this.currentFile,percent:z?(I+100*(z-$-1))/z:100}}))},L.prototype.openedSource=function(j){this.currentSourceOffset=this.bytesWritten,this.currentFile=j.file.name;var I=this.streamFiles&&!j.file.dir;if(I){var z=y(j,I,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:z.fileRecord,meta:{percent:0}})}else this.accumulate=!0},L.prototype.closedSource=function(j){this.accumulate=!1;var I=this.streamFiles&&!j.file.dir,z=y(j,I,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(z.dirRecord),I)this.push({data:(function($){return F.DATA_DESCRIPTOR+p($.crc32,4)+p($.compressedSize,4)+p($.uncompressedSize,4)})(j),meta:{percent:100}});else for(this.push({data:z.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},L.prototype.flush=function(){for(var j=this.bytesWritten,I=0;I<this.dirRecords.length;I++)this.push({data:this.dirRecords[I],meta:{percent:100}});var z=this.bytesWritten-j,$=(function(B,T,R,N,_){var E=v.transformTo("string",_(N));return F.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(B,2)+p(B,2)+p(T,4)+p(R,4)+p(E.length,2)+E})(this.dirRecords.length,z,j,this.zipComment,this.encodeFileName);this.push({data:$,meta:{percent:100}})},L.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},L.prototype.registerPrevious=function(j){this._sources.push(j);var I=this;return j.on("data",(function(z){I.processChunk(z)})),j.on("end",(function(){I.closedSource(I.previous.streamInfo),I._sources.length?I.prepareNextSource():I.end()})),j.on("error",(function(z){I.error(z)})),this},L.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},L.prototype.error=function(j){var I=this._sources;if(!w.prototype.error.call(this,j))return!1;for(var z=0;z<I.length;z++)try{I[z].error(j)}catch{}return!0},L.prototype.lock=function(){w.prototype.lock.call(this);for(var j=this._sources,I=0;I<j.length;I++)j[I].lock()},m.exports=L},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(h,m,g){var p=h("../compressions"),y=h("./ZipFileWorker");g.generateWorker=function(v,w,C){var P=new y(w.streamFiles,C,w.platform,w.encodeFileName),F=0;try{v.forEach((function(L,j){F++;var I=(function(T,R){var N=T||R,_=p[N];if(!_)throw new Error(N+" is not a valid compression method !");return _})(j.options.compression,w.compression),z=j.options.compressionOptions||w.compressionOptions||{},$=j.dir,B=j.date;j._compressWorker(I,z).withStreamInfo("file",{name:L,dir:$,date:B,comment:j.comment||"",unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions}).pipe(P)})),P.entriesCount=F}catch(L){P.error(L)}return P}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(h,m,g){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var y=new p;for(var v in this)typeof this[v]!="function"&&(y[v]=this[v]);return y}}(p.prototype=h("./object")).loadAsync=h("./load"),p.support=h("./support"),p.defaults=h("./defaults"),p.version="3.10.1",p.loadAsync=function(y,v){return new p().loadAsync(y,v)},p.external=h("./external"),m.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(h,m,g){var p=h("./utils"),y=h("./external"),v=h("./utf8"),w=h("./zipEntries"),C=h("./stream/Crc32Probe"),P=h("./nodejsUtils");function F(L){return new y.Promise((function(j,I){var z=L.decompressed.getContentWorker().pipe(new C);z.on("error",(function($){I($)})).on("end",(function(){z.streamInfo.crc32!==L.decompressed.crc32?I(new Error("Corrupted zip : CRC32 mismatch")):j()})).resume()}))}m.exports=function(L,j){var I=this;return j=p.extend(j||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:v.utf8decode}),P.isNode&&P.isStream(L)?y.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",L,!0,j.optimizedBinaryString,j.base64).then((function(z){var $=new w(j);return $.load(z),$})).then((function(z){var $=[y.Promise.resolve(z)],B=z.files;if(j.checkCRC32)for(var T=0;T<B.length;T++)$.push(F(B[T]));return y.Promise.all($)})).then((function(z){for(var $=z.shift(),B=$.files,T=0;T<B.length;T++){var R=B[T],N=R.fileNameStr,_=p.resolve(R.fileNameStr);I.file(_,R.decompressed,{binary:!0,optimizedBinaryString:!0,date:R.date,dir:R.dir,comment:R.fileCommentStr.length?R.fileCommentStr:null,unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions,createFolders:j.createFolders}),R.dir||(I.file(_).unsafeOriginalName=N)}return $.zipComment.length&&(I.comment=$.zipComment),I}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(h,m,g){var p=h("../utils"),y=h("../stream/GenericWorker");function v(w,C){y.call(this,"Nodejs stream input adapter for "+w),this._upstreamEnded=!1,this._bindStream(C)}p.inherits(v,y),v.prototype._bindStream=function(w){var C=this;(this._stream=w).pause(),w.on("data",(function(P){C.push({data:P,meta:{percent:0}})})).on("error",(function(P){C.isPaused?this.generatedError=P:C.error(P)})).on("end",(function(){C.isPaused?C._upstreamEnded=!0:C.end()}))},v.prototype.pause=function(){return!!y.prototype.pause.call(this)&&(this._stream.pause(),!0)},v.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},m.exports=v},{"../stream/GenericWorker":28,"../utils":32}],13:[function(h,m,g){var p=h("readable-stream").Readable;function y(v,w,C){p.call(this,w),this._helper=v;var P=this;v.on("data",(function(F,L){P.push(F)||P._helper.pause(),C&&C(L)})).on("error",(function(F){P.emit("error",F)})).on("end",(function(){P.push(null)}))}h("../utils").inherits(y,p),y.prototype._read=function(){this._helper.resume()},m.exports=y},{"../utils":32,"readable-stream":16}],14:[function(h,m,g){m.exports={isNode:l!==void 0,newBufferFrom:function(p,y){if(l.from&&l.from!==Uint8Array.from)return l.from(p,y);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new l(p,y)},allocBuffer:function(p){if(l.alloc)return l.alloc(p);var y=new l(p);return y.fill(0),y},isBuffer:function(p){return l.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(h,m,g){function p(_,E,S){var k,M=v.getTypeOf(E),V=v.extend(S||{},P);V.date=V.date||new Date,V.compression!==null&&(V.compression=V.compression.toUpperCase()),typeof V.unixPermissions=="string"&&(V.unixPermissions=parseInt(V.unixPermissions,8)),V.unixPermissions&&16384&V.unixPermissions&&(V.dir=!0),V.dosPermissions&&16&V.dosPermissions&&(V.dir=!0),V.dir&&(_=B(_)),V.createFolders&&(k=$(_))&&T.call(this,k,!0);var O=M==="string"&&V.binary===!1&&V.base64===!1;S&&S.binary!==void 0||(V.binary=!O),(E instanceof F&&E.uncompressedSize===0||V.dir||!E||E.length===0)&&(V.base64=!1,V.binary=!0,E="",V.compression="STORE",M="string");var X;X=E instanceof F||E instanceof w?E:I.isNode&&I.isStream(E)?new z(_,E):v.prepareContent(_,E,V.binary,V.optimizedBinaryString,V.base64);var Q=new L(_,X,V);this.files[_]=Q}var y=h("./utf8"),v=h("./utils"),w=h("./stream/GenericWorker"),C=h("./stream/StreamHelper"),P=h("./defaults"),F=h("./compressedObject"),L=h("./zipObject"),j=h("./generate"),I=h("./nodejsUtils"),z=h("./nodejs/NodejsStreamInputAdapter"),$=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var E=_.lastIndexOf("/");return 0<E?_.substring(0,E):""},B=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},T=function(_,E){return E=E!==void 0?E:P.createFolders,_=B(_),this.files[_]||p.call(this,_,null,{dir:!0,createFolders:E}),this.files[_]};function R(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var E,S,k;for(E in this.files)k=this.files[E],(S=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&_(S,k)},filter:function(_){var E=[];return this.forEach((function(S,k){_(S,k)&&E.push(k)})),E},file:function(_,E,S){if(arguments.length!==1)return _=this.root+_,p.call(this,_,E,S),this;if(R(_)){var k=_;return this.filter((function(V,O){return!O.dir&&k.test(V)}))}var M=this.files[this.root+_];return M&&!M.dir?M:null},folder:function(_){if(!_)return this;if(R(_))return this.filter((function(M,V){return V.dir&&_.test(M)}));var E=this.root+_,S=T.call(this,E),k=this.clone();return k.root=S.name,k},remove:function(_){_=this.root+_;var E=this.files[_];if(E||(_.slice(-1)!=="/"&&(_+="/"),E=this.files[_]),E&&!E.dir)delete this.files[_];else for(var S=this.filter((function(M,V){return V.name.slice(0,_.length)===_})),k=0;k<S.length;k++)delete this.files[S[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var E,S={};try{if((S=v.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:y.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");v.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var k=S.comment||this.comment||"";E=j.generateWorker(this,S,k)}catch(M){(E=new w("error")).error(M)}return new C(E,S.type||"string",S.mimeType)},generateAsync:function(_,E){return this.generateInternalStream(_).accumulate(E)},generateNodeStream:function(_,E){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(E)}};m.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(h,m,g){m.exports=h("stream")},{stream:void 0}],17:[function(h,m,g){var p=h("./DataReader");function y(v){p.call(this,v);for(var w=0;w<this.data.length;w++)v[w]=255&v[w]}h("../utils").inherits(y,p),y.prototype.byteAt=function(v){return this.data[this.zero+v]},y.prototype.lastIndexOfSignature=function(v){for(var w=v.charCodeAt(0),C=v.charCodeAt(1),P=v.charCodeAt(2),F=v.charCodeAt(3),L=this.length-4;0<=L;--L)if(this.data[L]===w&&this.data[L+1]===C&&this.data[L+2]===P&&this.data[L+3]===F)return L-this.zero;return-1},y.prototype.readAndCheckSignature=function(v){var w=v.charCodeAt(0),C=v.charCodeAt(1),P=v.charCodeAt(2),F=v.charCodeAt(3),L=this.readData(4);return w===L[0]&&C===L[1]&&P===L[2]&&F===L[3]},y.prototype.readData=function(v){if(this.checkOffset(v),v===0)return[];var w=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,w},m.exports=y},{"../utils":32,"./DataReader":18}],18:[function(h,m,g){var p=h("../utils");function y(v){this.data=v,this.length=v.length,this.index=0,this.zero=0}y.prototype={checkOffset:function(v){this.checkIndex(this.index+v)},checkIndex:function(v){if(this.length<this.zero+v||v<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+v+"). Corrupted zip ?")},setIndex:function(v){this.checkIndex(v),this.index=v},skip:function(v){this.setIndex(this.index+v)},byteAt:function(){},readInt:function(v){var w,C=0;for(this.checkOffset(v),w=this.index+v-1;w>=this.index;w--)C=(C<<8)+this.byteAt(w);return this.index+=v,C},readString:function(v){return p.transformTo("string",this.readData(v))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var v=this.readInt(4);return new Date(Date.UTC(1980+(v>>25&127),(v>>21&15)-1,v>>16&31,v>>11&31,v>>5&63,(31&v)<<1))}},m.exports=y},{"../utils":32}],19:[function(h,m,g){var p=h("./Uint8ArrayReader");function y(v){p.call(this,v)}h("../utils").inherits(y,p),y.prototype.readData=function(v){this.checkOffset(v);var w=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,w},m.exports=y},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(h,m,g){var p=h("./DataReader");function y(v){p.call(this,v)}h("../utils").inherits(y,p),y.prototype.byteAt=function(v){return this.data.charCodeAt(this.zero+v)},y.prototype.lastIndexOfSignature=function(v){return this.data.lastIndexOf(v)-this.zero},y.prototype.readAndCheckSignature=function(v){return v===this.readData(4)},y.prototype.readData=function(v){this.checkOffset(v);var w=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,w},m.exports=y},{"../utils":32,"./DataReader":18}],21:[function(h,m,g){var p=h("./ArrayReader");function y(v){p.call(this,v)}h("../utils").inherits(y,p),y.prototype.readData=function(v){if(this.checkOffset(v),v===0)return new Uint8Array(0);var w=this.data.subarray(this.zero+this.index,this.zero+this.index+v);return this.index+=v,w},m.exports=y},{"../utils":32,"./ArrayReader":17}],22:[function(h,m,g){var p=h("../utils"),y=h("../support"),v=h("./ArrayReader"),w=h("./StringReader"),C=h("./NodeBufferReader"),P=h("./Uint8ArrayReader");m.exports=function(F){var L=p.getTypeOf(F);return p.checkSupport(L),L!=="string"||y.uint8array?L==="nodebuffer"?new C(F):y.uint8array?new P(p.transformTo("uint8array",F)):new v(p.transformTo("array",F)):new w(F)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(h,m,g){g.LOCAL_FILE_HEADER="PK",g.CENTRAL_FILE_HEADER="PK",g.CENTRAL_DIRECTORY_END="PK",g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",g.ZIP64_CENTRAL_DIRECTORY_END="PK",g.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(h,m,g){var p=h("./GenericWorker"),y=h("../utils");function v(w){p.call(this,"ConvertWorker to "+w),this.destType=w}y.inherits(v,p),v.prototype.processChunk=function(w){this.push({data:y.transformTo(this.destType,w.data),meta:w.meta})},m.exports=v},{"../utils":32,"./GenericWorker":28}],25:[function(h,m,g){var p=h("./GenericWorker"),y=h("../crc32");function v(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}h("../utils").inherits(v,p),v.prototype.processChunk=function(w){this.streamInfo.crc32=y(w.data,this.streamInfo.crc32||0),this.push(w)},m.exports=v},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(h,m,g){var p=h("../utils"),y=h("./GenericWorker");function v(w){y.call(this,"DataLengthProbe for "+w),this.propName=w,this.withStreamInfo(w,0)}p.inherits(v,y),v.prototype.processChunk=function(w){if(w){var C=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=C+w.data.length}y.prototype.processChunk.call(this,w)},m.exports=v},{"../utils":32,"./GenericWorker":28}],27:[function(h,m,g){var p=h("../utils"),y=h("./GenericWorker");function v(w){y.call(this,"DataWorker");var C=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,w.then((function(P){C.dataIsReady=!0,C.data=P,C.max=P&&P.length||0,C.type=p.getTypeOf(P),C.isPaused||C._tickAndRepeat()}),(function(P){C.error(P)}))}p.inherits(v,y),v.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this.data=null},v.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},v.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},v.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var w=null,C=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":w=this.data.substring(this.index,C);break;case"uint8array":w=this.data.subarray(this.index,C);break;case"array":case"nodebuffer":w=this.data.slice(this.index,C)}return this.index=C,this.push({data:w,meta:{percent:this.max?this.index/this.max*100:0}})},m.exports=v},{"../utils":32,"./GenericWorker":28}],28:[function(h,m,g){function p(y){this.name=y||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(y){this.emit("data",y)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(y){this.emit("error",y)}return!0},error:function(y){return!this.isFinished&&(this.isPaused?this.generatedError=y:(this.isFinished=!0,this.emit("error",y),this.previous&&this.previous.error(y),this.cleanUp()),!0)},on:function(y,v){return this._listeners[y].push(v),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(y,v){if(this._listeners[y])for(var w=0;w<this._listeners[y].length;w++)this._listeners[y][w].call(this,v)},pipe:function(y){return y.registerPrevious(this)},registerPrevious:function(y){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=y.streamInfo,this.mergeStreamInfo(),this.previous=y;var v=this;return y.on("data",(function(w){v.processChunk(w)})),y.on("end",(function(){v.end()})),y.on("error",(function(w){v.error(w)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var y=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),y=!0),this.previous&&this.previous.resume(),!y},flush:function(){},processChunk:function(y){this.push(y)},withStreamInfo:function(y,v){return this.extraStreamInfo[y]=v,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var y in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,y)&&(this.streamInfo[y]=this.extraStreamInfo[y])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var y="Worker "+this.name;return this.previous?this.previous+" -> "+y:y}},m.exports=p},{}],29:[function(h,m,g){var p=h("../utils"),y=h("./ConvertWorker"),v=h("./GenericWorker"),w=h("../base64"),C=h("../support"),P=h("../external"),F=null;if(C.nodestream)try{F=h("../nodejs/NodejsStreamOutputAdapter")}catch{}function L(j,I,z){var $=I;switch(I){case"blob":case"arraybuffer":$="uint8array";break;case"base64":$="string"}try{this._internalType=$,this._outputType=I,this._mimeType=z,p.checkSupport($),this._worker=j.pipe(new y($)),j.lock()}catch(B){this._worker=new v("error"),this._worker.error(B)}}L.prototype={accumulate:function(j){return(function(I,z){return new P.Promise((function($,B){var T=[],R=I._internalType,N=I._outputType,_=I._mimeType;I.on("data",(function(E,S){T.push(E),z&&z(S)})).on("error",(function(E){T=[],B(E)})).on("end",(function(){try{var E=(function(S,k,M){switch(S){case"blob":return p.newBlob(p.transformTo("arraybuffer",k),M);case"base64":return w.encode(k);default:return p.transformTo(S,k)}})(N,(function(S,k){var M,V=0,O=null,X=0;for(M=0;M<k.length;M++)X+=k[M].length;switch(S){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(O=new Uint8Array(X),M=0;M<k.length;M++)O.set(k[M],V),V+=k[M].length;return O;case"nodebuffer":return l.concat(k);default:throw new Error("concat : unsupported type '"+S+"'")}})(R,T),_);$(E)}catch(S){B(S)}T=[]})).resume()}))})(this,j)},on:function(j,I){var z=this;return j==="data"?this._worker.on(j,(function($){I.call(z,$.data,$.meta)})):this._worker.on(j,(function(){p.delay(I,arguments,z)})),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(j){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new F(this,{objectMode:this._outputType!=="nodebuffer"},j)}},m.exports=L},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(h,m,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",g.nodebuffer=l!==void 0,g.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")g.blob=!1;else{var p=new ArrayBuffer(0);try{g.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);y.append(p),g.blob=y.getBlob("application/zip").size===0}catch{g.blob=!1}}}try{g.nodestream=!!h("readable-stream").Readable}catch{g.nodestream=!1}},{"readable-stream":16}],31:[function(h,m,g){for(var p=h("./utils"),y=h("./support"),v=h("./nodejsUtils"),w=h("./stream/GenericWorker"),C=new Array(256),P=0;P<256;P++)C[P]=252<=P?6:248<=P?5:240<=P?4:224<=P?3:192<=P?2:1;function F(){w.call(this,"utf-8 decode"),this.leftOver=null}function L(){w.call(this,"utf-8 encode")}C[254]=C[254]=1,g.utf8encode=function(j){return y.nodebuffer?v.newBufferFrom(j,"utf-8"):(function(I){var z,$,B,T,R,N=I.length,_=0;for(T=0;T<N;T++)(64512&($=I.charCodeAt(T)))==55296&&T+1<N&&(64512&(B=I.charCodeAt(T+1)))==56320&&($=65536+($-55296<<10)+(B-56320),T++),_+=$<128?1:$<2048?2:$<65536?3:4;for(z=y.uint8array?new Uint8Array(_):new Array(_),T=R=0;R<_;T++)(64512&($=I.charCodeAt(T)))==55296&&T+1<N&&(64512&(B=I.charCodeAt(T+1)))==56320&&($=65536+($-55296<<10)+(B-56320),T++),$<128?z[R++]=$:($<2048?z[R++]=192|$>>>6:($<65536?z[R++]=224|$>>>12:(z[R++]=240|$>>>18,z[R++]=128|$>>>12&63),z[R++]=128|$>>>6&63),z[R++]=128|63&$);return z})(j)},g.utf8decode=function(j){return y.nodebuffer?p.transformTo("nodebuffer",j).toString("utf-8"):(function(I){var z,$,B,T,R=I.length,N=new Array(2*R);for(z=$=0;z<R;)if((B=I[z++])<128)N[$++]=B;else if(4<(T=C[B]))N[$++]=65533,z+=T-1;else{for(B&=T===2?31:T===3?15:7;1<T&&z<R;)B=B<<6|63&I[z++],T--;1<T?N[$++]=65533:B<65536?N[$++]=B:(B-=65536,N[$++]=55296|B>>10&1023,N[$++]=56320|1023&B)}return N.length!==$&&(N.subarray?N=N.subarray(0,$):N.length=$),p.applyFromCharCode(N)})(j=p.transformTo(y.uint8array?"uint8array":"array",j))},p.inherits(F,w),F.prototype.processChunk=function(j){var I=p.transformTo(y.uint8array?"uint8array":"array",j.data);if(this.leftOver&&this.leftOver.length){if(y.uint8array){var z=I;(I=new Uint8Array(z.length+this.leftOver.length)).set(this.leftOver,0),I.set(z,this.leftOver.length)}else I=this.leftOver.concat(I);this.leftOver=null}var $=(function(T,R){var N;for((R=R||T.length)>T.length&&(R=T.length),N=R-1;0<=N&&(192&T[N])==128;)N--;return N<0||N===0?R:N+C[T[N]]>R?N:R})(I),B=I;$!==I.length&&(y.uint8array?(B=I.subarray(0,$),this.leftOver=I.subarray($,I.length)):(B=I.slice(0,$),this.leftOver=I.slice($,I.length))),this.push({data:g.utf8decode(B),meta:j.meta})},F.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},g.Utf8DecodeWorker=F,p.inherits(L,w),L.prototype.processChunk=function(j){this.push({data:g.utf8encode(j.data),meta:j.meta})},g.Utf8EncodeWorker=L},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(h,m,g){var p=h("./support"),y=h("./base64"),v=h("./nodejsUtils"),w=h("./external");function C(z){return z}function P(z,$){for(var B=0;B<z.length;++B)$[B]=255&z.charCodeAt(B);return $}h("setimmediate"),g.newBlob=function(z,$){g.checkSupport("blob");try{return new Blob([z],{type:$})}catch{try{var B=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return B.append(z),B.getBlob($)}catch{throw new Error("Bug : can't construct the Blob.")}}};var F={stringifyByChunk:function(z,$,B){var T=[],R=0,N=z.length;if(N<=B)return String.fromCharCode.apply(null,z);for(;R<N;)$==="array"||$==="nodebuffer"?T.push(String.fromCharCode.apply(null,z.slice(R,Math.min(R+B,N)))):T.push(String.fromCharCode.apply(null,z.subarray(R,Math.min(R+B,N)))),R+=B;return T.join("")},stringifyByChar:function(z){for(var $="",B=0;B<z.length;B++)$+=String.fromCharCode(z[B]);return $},applyCanBeUsed:{uint8array:(function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,v.allocBuffer(1)).length===1}catch{return!1}})()}};function L(z){var $=65536,B=g.getTypeOf(z),T=!0;if(B==="uint8array"?T=F.applyCanBeUsed.uint8array:B==="nodebuffer"&&(T=F.applyCanBeUsed.nodebuffer),T)for(;1<$;)try{return F.stringifyByChunk(z,B,$)}catch{$=Math.floor($/2)}return F.stringifyByChar(z)}function j(z,$){for(var B=0;B<z.length;B++)$[B]=z[B];return $}g.applyFromCharCode=L;var I={};I.string={string:C,array:function(z){return P(z,new Array(z.length))},arraybuffer:function(z){return I.string.uint8array(z).buffer},uint8array:function(z){return P(z,new Uint8Array(z.length))},nodebuffer:function(z){return P(z,v.allocBuffer(z.length))}},I.array={string:L,array:C,arraybuffer:function(z){return new Uint8Array(z).buffer},uint8array:function(z){return new Uint8Array(z)},nodebuffer:function(z){return v.newBufferFrom(z)}},I.arraybuffer={string:function(z){return L(new Uint8Array(z))},array:function(z){return j(new Uint8Array(z),new Array(z.byteLength))},arraybuffer:C,uint8array:function(z){return new Uint8Array(z)},nodebuffer:function(z){return v.newBufferFrom(new Uint8Array(z))}},I.uint8array={string:L,array:function(z){return j(z,new Array(z.length))},arraybuffer:function(z){return z.buffer},uint8array:C,nodebuffer:function(z){return v.newBufferFrom(z)}},I.nodebuffer={string:L,array:function(z){return j(z,new Array(z.length))},arraybuffer:function(z){return I.nodebuffer.uint8array(z).buffer},uint8array:function(z){return j(z,new Uint8Array(z.length))},nodebuffer:C},g.transformTo=function(z,$){if($=$||"",!z)return $;g.checkSupport(z);var B=g.getTypeOf($);return I[B][z]($)},g.resolve=function(z){for(var $=z.split("/"),B=[],T=0;T<$.length;T++){var R=$[T];R==="."||R===""&&T!==0&&T!==$.length-1||(R===".."?B.pop():B.push(R))}return B.join("/")},g.getTypeOf=function(z){return typeof z=="string"?"string":Object.prototype.toString.call(z)==="[object Array]"?"array":p.nodebuffer&&v.isBuffer(z)?"nodebuffer":p.uint8array&&z instanceof Uint8Array?"uint8array":p.arraybuffer&&z instanceof ArrayBuffer?"arraybuffer":void 0},g.checkSupport=function(z){if(!p[z.toLowerCase()])throw new Error(z+" is not supported by this platform")},g.MAX_VALUE_16BITS=65535,g.MAX_VALUE_32BITS=-1,g.pretty=function(z){var $,B,T="";for(B=0;B<(z||"").length;B++)T+="\\x"+(($=z.charCodeAt(B))<16?"0":"")+$.toString(16).toUpperCase();return T},g.delay=function(z,$,B){d((function(){z.apply(B||null,$||[])}))},g.inherits=function(z,$){function B(){}B.prototype=$.prototype,z.prototype=new B},g.extend=function(){var z,$,B={};for(z=0;z<arguments.length;z++)for($ in arguments[z])Object.prototype.hasOwnProperty.call(arguments[z],$)&&B[$]===void 0&&(B[$]=arguments[z][$]);return B},g.prepareContent=function(z,$,B,T,R){return w.Promise.resolve($).then((function(N){return p.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new w.Promise((function(_,E){var S=new FileReader;S.onload=function(k){_(k.target.result)},S.onerror=function(k){E(k.target.error)},S.readAsArrayBuffer(N)})):N})).then((function(N){var _=g.getTypeOf(N);return _?(_==="arraybuffer"?N=g.transformTo("uint8array",N):_==="string"&&(R?N=y.decode(N):B&&T!==!0&&(N=(function(E){return P(E,p.uint8array?new Uint8Array(E.length):new Array(E.length))})(N))),N):w.Promise.reject(new Error("Can't read the data of '"+z+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(h,m,g){var p=h("./reader/readerFor"),y=h("./utils"),v=h("./signature"),w=h("./zipEntry"),C=h("./support");function P(F){this.files=[],this.loadOptions=F}P.prototype={checkSignature:function(F){if(!this.reader.readAndCheckSignature(F)){this.reader.index-=4;var L=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+y.pretty(L)+", expected "+y.pretty(F)+")")}},isSignature:function(F,L){var j=this.reader.index;this.reader.setIndex(F);var I=this.reader.readString(4)===L;return this.reader.setIndex(j),I},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var F=this.reader.readData(this.zipCommentLength),L=C.uint8array?"uint8array":"array",j=y.transformTo(L,F);this.zipComment=this.loadOptions.decodeFileName(j)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var F,L,j,I=this.zip64EndOfCentralSize-44;0<I;)F=this.reader.readInt(2),L=this.reader.readInt(4),j=this.reader.readData(L),this.zip64ExtensibleData[F]={id:F,length:L,value:j}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var F,L;for(F=0;F<this.files.length;F++)L=this.files[F],this.reader.setIndex(L.localHeaderOffset),this.checkSignature(v.LOCAL_FILE_HEADER),L.readLocalPart(this.reader),L.handleUTF8(),L.processAttributes()},readCentralDir:function(){var F;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(v.CENTRAL_FILE_HEADER);)(F=new w({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(F);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var F=this.reader.lastIndexOfSignature(v.CENTRAL_DIRECTORY_END);if(F<0)throw this.isSignature(0,v.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(F);var L=F;if(this.checkSignature(v.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===y.MAX_VALUE_16BITS||this.diskWithCentralDirStart===y.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===y.MAX_VALUE_16BITS||this.centralDirRecords===y.MAX_VALUE_16BITS||this.centralDirSize===y.MAX_VALUE_32BITS||this.centralDirOffset===y.MAX_VALUE_32BITS){if(this.zip64=!0,(F=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(F),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,v.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var j=this.centralDirOffset+this.centralDirSize;this.zip64&&(j+=20,j+=12+this.zip64EndOfCentralSize);var I=L-j;if(0<I)this.isSignature(L,v.CENTRAL_FILE_HEADER)||(this.reader.zero=I);else if(I<0)throw new Error("Corrupted zip: missing "+Math.abs(I)+" bytes.")},prepareReader:function(F){this.reader=p(F)},load:function(F){this.prepareReader(F),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},m.exports=P},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(h,m,g){var p=h("./reader/readerFor"),y=h("./utils"),v=h("./compressedObject"),w=h("./crc32"),C=h("./utf8"),P=h("./compressions"),F=h("./support");function L(j,I){this.options=j,this.loadOptions=I}L.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(j){var I,z;if(j.skip(22),this.fileNameLength=j.readInt(2),z=j.readInt(2),this.fileName=j.readData(this.fileNameLength),j.skip(z),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((I=(function($){for(var B in P)if(Object.prototype.hasOwnProperty.call(P,B)&&P[B].magic===$)return P[B];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+y.pretty(this.compressionMethod)+" unknown (inner file : "+y.transformTo("string",this.fileName)+")");this.decompressed=new v(this.compressedSize,this.uncompressedSize,this.crc32,I,j.readData(this.compressedSize))},readCentralPart:function(j){this.versionMadeBy=j.readInt(2),j.skip(2),this.bitFlag=j.readInt(2),this.compressionMethod=j.readString(2),this.date=j.readDate(),this.crc32=j.readInt(4),this.compressedSize=j.readInt(4),this.uncompressedSize=j.readInt(4);var I=j.readInt(2);if(this.extraFieldsLength=j.readInt(2),this.fileCommentLength=j.readInt(2),this.diskNumberStart=j.readInt(2),this.internalFileAttributes=j.readInt(2),this.externalFileAttributes=j.readInt(4),this.localHeaderOffset=j.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");j.skip(I),this.readExtraFields(j),this.parseZIP64ExtraField(j),this.fileComment=j.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var j=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),j==0&&(this.dosPermissions=63&this.externalFileAttributes),j==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var j=p(this.extraFields[1].value);this.uncompressedSize===y.MAX_VALUE_32BITS&&(this.uncompressedSize=j.readInt(8)),this.compressedSize===y.MAX_VALUE_32BITS&&(this.compressedSize=j.readInt(8)),this.localHeaderOffset===y.MAX_VALUE_32BITS&&(this.localHeaderOffset=j.readInt(8)),this.diskNumberStart===y.MAX_VALUE_32BITS&&(this.diskNumberStart=j.readInt(4))}},readExtraFields:function(j){var I,z,$,B=j.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});j.index+4<B;)I=j.readInt(2),z=j.readInt(2),$=j.readData(z),this.extraFields[I]={id:I,length:z,value:$};j.setIndex(B)},handleUTF8:function(){var j=F.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=C.utf8decode(this.fileName),this.fileCommentStr=C.utf8decode(this.fileComment);else{var I=this.findExtraFieldUnicodePath();if(I!==null)this.fileNameStr=I;else{var z=y.transformTo(j,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(z)}var $=this.findExtraFieldUnicodeComment();if($!==null)this.fileCommentStr=$;else{var B=y.transformTo(j,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(B)}}},findExtraFieldUnicodePath:function(){var j=this.extraFields[28789];if(j){var I=p(j.value);return I.readInt(1)!==1||w(this.fileName)!==I.readInt(4)?null:C.utf8decode(I.readData(j.length-5))}return null},findExtraFieldUnicodeComment:function(){var j=this.extraFields[25461];if(j){var I=p(j.value);return I.readInt(1)!==1||w(this.fileComment)!==I.readInt(4)?null:C.utf8decode(I.readData(j.length-5))}return null}},m.exports=L},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(h,m,g){function p(I,z,$){this.name=I,this.dir=$.dir,this.date=$.date,this.comment=$.comment,this.unixPermissions=$.unixPermissions,this.dosPermissions=$.dosPermissions,this._data=z,this._dataBinary=$.binary,this.options={compression:$.compression,compressionOptions:$.compressionOptions}}var y=h("./stream/StreamHelper"),v=h("./stream/DataWorker"),w=h("./utf8"),C=h("./compressedObject"),P=h("./stream/GenericWorker");p.prototype={internalStream:function(I){var z=null,$="string";try{if(!I)throw new Error("No output type specified.");var B=($=I.toLowerCase())==="string"||$==="text";$!=="binarystring"&&$!=="text"||($="string"),z=this._decompressWorker();var T=!this._dataBinary;T&&!B&&(z=z.pipe(new w.Utf8EncodeWorker)),!T&&B&&(z=z.pipe(new w.Utf8DecodeWorker))}catch(R){(z=new P("error")).error(R)}return new y(z,$,"")},async:function(I,z){return this.internalStream(I).accumulate(z)},nodeStream:function(I,z){return this.internalStream(I||"nodebuffer").toNodejsStream(z)},_compressWorker:function(I,z){if(this._data instanceof C&&this._data.compression.magic===I.magic)return this._data.getCompressedWorker();var $=this._decompressWorker();return this._dataBinary||($=$.pipe(new w.Utf8EncodeWorker)),C.createWorkerFrom($,I,z)},_decompressWorker:function(){return this._data instanceof C?this._data.getContentWorker():this._data instanceof P?this._data:new v(this._data)}};for(var F=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],L=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},j=0;j<F.length;j++)p.prototype[F[j]]=L;m.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(h,m,g){(function(p){var y,v,w=p.MutationObserver||p.WebKitMutationObserver;if(w){var C=0,P=new w(I),F=p.document.createTextNode("");P.observe(F,{characterData:!0}),y=function(){F.data=C=++C%2}}else if(p.setImmediate||p.MessageChannel===void 0)y="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var z=p.document.createElement("script");z.onreadystatechange=function(){I(),z.onreadystatechange=null,z.parentNode.removeChild(z),z=null},p.document.documentElement.appendChild(z)}:function(){setTimeout(I,0)};else{var L=new p.MessageChannel;L.port1.onmessage=I,y=function(){L.port2.postMessage(0)}}var j=[];function I(){var z,$;v=!0;for(var B=j.length;B;){for($=j,j=[],z=-1;++z<B;)$[z]();B=j.length}v=!1}m.exports=function(z){j.push(z)!==1||v||y()}}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(h,m,g){var p=h("immediate");function y(){}var v={},w=["REJECTED"],C=["FULFILLED"],P=["PENDING"];function F(B){if(typeof B!="function")throw new TypeError("resolver must be a function");this.state=P,this.queue=[],this.outcome=void 0,B!==y&&z(this,B)}function L(B,T,R){this.promise=B,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function j(B,T,R){p((function(){var N;try{N=T(R)}catch(_){return v.reject(B,_)}N===B?v.reject(B,new TypeError("Cannot resolve promise with itself")):v.resolve(B,N)}))}function I(B){var T=B&&B.then;if(B&&(typeof B=="object"||typeof B=="function")&&typeof T=="function")return function(){T.apply(B,arguments)}}function z(B,T){var R=!1;function N(S){R||(R=!0,v.reject(B,S))}function _(S){R||(R=!0,v.resolve(B,S))}var E=$((function(){T(_,N)}));E.status==="error"&&N(E.value)}function $(B,T){var R={};try{R.value=B(T),R.status="success"}catch(N){R.status="error",R.value=N}return R}(m.exports=F).prototype.finally=function(B){if(typeof B!="function")return this;var T=this.constructor;return this.then((function(R){return T.resolve(B()).then((function(){return R}))}),(function(R){return T.resolve(B()).then((function(){throw R}))}))},F.prototype.catch=function(B){return this.then(null,B)},F.prototype.then=function(B,T){if(typeof B!="function"&&this.state===C||typeof T!="function"&&this.state===w)return this;var R=new this.constructor(y);return this.state!==P?j(R,this.state===C?B:T,this.outcome):this.queue.push(new L(R,B,T)),R},L.prototype.callFulfilled=function(B){v.resolve(this.promise,B)},L.prototype.otherCallFulfilled=function(B){j(this.promise,this.onFulfilled,B)},L.prototype.callRejected=function(B){v.reject(this.promise,B)},L.prototype.otherCallRejected=function(B){j(this.promise,this.onRejected,B)},v.resolve=function(B,T){var R=$(I,T);if(R.status==="error")return v.reject(B,R.value);var N=R.value;if(N)z(B,N);else{B.state=C,B.outcome=T;for(var _=-1,E=B.queue.length;++_<E;)B.queue[_].callFulfilled(T)}return B},v.reject=function(B,T){B.state=w,B.outcome=T;for(var R=-1,N=B.queue.length;++R<N;)B.queue[R].callRejected(T);return B},F.resolve=function(B){return B instanceof this?B:v.resolve(new this(y),B)},F.reject=function(B){var T=new this(y);return v.reject(T,B)},F.all=function(B){var T=this;if(Object.prototype.toString.call(B)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=B.length,N=!1;if(!R)return this.resolve([]);for(var _=new Array(R),E=0,S=-1,k=new this(y);++S<R;)M(B[S],S);return k;function M(V,O){T.resolve(V).then((function(X){_[O]=X,++E!==R||N||(N=!0,v.resolve(k,_))}),(function(X){N||(N=!0,v.reject(k,X))}))}},F.race=function(B){if(Object.prototype.toString.call(B)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=B.length,R=!1;if(!T)return this.resolve([]);for(var N,_=-1,E=new this(y);++_<T;)N=B[_],this.resolve(N).then((function(S){R||(R=!0,v.resolve(E,S))}),(function(S){R||(R=!0,v.reject(E,S))}));return E}},{immediate:36}],38:[function(h,m,g){var p={};(0,h("./lib/utils/common").assign)(p,h("./lib/deflate"),h("./lib/inflate"),h("./lib/zlib/constants")),m.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(h,m,g){var p=h("./zlib/deflate"),y=h("./utils/common"),v=h("./utils/strings"),w=h("./zlib/messages"),C=h("./zlib/zstream"),P=Object.prototype.toString;function F(j){if(!(this instanceof F))return new F(j);this.options=y.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},j||{});var I=this.options;I.raw&&0<I.windowBits?I.windowBits=-I.windowBits:I.gzip&&0<I.windowBits&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new C,this.strm.avail_out=0;var z=p.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(z!==0)throw new Error(w[z]);if(I.header&&p.deflateSetHeader(this.strm,I.header),I.dictionary){var $;if($=typeof I.dictionary=="string"?v.string2buf(I.dictionary):P.call(I.dictionary)==="[object ArrayBuffer]"?new Uint8Array(I.dictionary):I.dictionary,(z=p.deflateSetDictionary(this.strm,$))!==0)throw new Error(w[z]);this._dict_set=!0}}function L(j,I){var z=new F(I);if(z.push(j,!0),z.err)throw z.msg||w[z.err];return z.result}F.prototype.push=function(j,I){var z,$,B=this.strm,T=this.options.chunkSize;if(this.ended)return!1;$=I===~~I?I:I===!0?4:0,typeof j=="string"?B.input=v.string2buf(j):P.call(j)==="[object ArrayBuffer]"?B.input=new Uint8Array(j):B.input=j,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new y.Buf8(T),B.next_out=0,B.avail_out=T),(z=p.deflate(B,$))!==1&&z!==0)return this.onEnd(z),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||$!==4&&$!==2)||(this.options.to==="string"?this.onData(v.buf2binstring(y.shrinkBuf(B.output,B.next_out))):this.onData(y.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&z!==1);return $===4?(z=p.deflateEnd(this.strm),this.onEnd(z),this.ended=!0,z===0):$!==2||(this.onEnd(0),!(B.avail_out=0))},F.prototype.onData=function(j){this.chunks.push(j)},F.prototype.onEnd=function(j){j===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=j,this.msg=this.strm.msg},g.Deflate=F,g.deflate=L,g.deflateRaw=function(j,I){return(I=I||{}).raw=!0,L(j,I)},g.gzip=function(j,I){return(I=I||{}).gzip=!0,L(j,I)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(h,m,g){var p=h("./zlib/inflate"),y=h("./utils/common"),v=h("./utils/strings"),w=h("./zlib/constants"),C=h("./zlib/messages"),P=h("./zlib/zstream"),F=h("./zlib/gzheader"),L=Object.prototype.toString;function j(z){if(!(this instanceof j))return new j(z);this.options=y.assign({chunkSize:16384,windowBits:0,to:""},z||{});var $=this.options;$.raw&&0<=$.windowBits&&$.windowBits<16&&($.windowBits=-$.windowBits,$.windowBits===0&&($.windowBits=-15)),!(0<=$.windowBits&&$.windowBits<16)||z&&z.windowBits||($.windowBits+=32),15<$.windowBits&&$.windowBits<48&&(15&$.windowBits)==0&&($.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new P,this.strm.avail_out=0;var B=p.inflateInit2(this.strm,$.windowBits);if(B!==w.Z_OK)throw new Error(C[B]);this.header=new F,p.inflateGetHeader(this.strm,this.header)}function I(z,$){var B=new j($);if(B.push(z,!0),B.err)throw B.msg||C[B.err];return B.result}j.prototype.push=function(z,$){var B,T,R,N,_,E,S=this.strm,k=this.options.chunkSize,M=this.options.dictionary,V=!1;if(this.ended)return!1;T=$===~~$?$:$===!0?w.Z_FINISH:w.Z_NO_FLUSH,typeof z=="string"?S.input=v.binstring2buf(z):L.call(z)==="[object ArrayBuffer]"?S.input=new Uint8Array(z):S.input=z,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new y.Buf8(k),S.next_out=0,S.avail_out=k),(B=p.inflate(S,w.Z_NO_FLUSH))===w.Z_NEED_DICT&&M&&(E=typeof M=="string"?v.string2buf(M):L.call(M)==="[object ArrayBuffer]"?new Uint8Array(M):M,B=p.inflateSetDictionary(this.strm,E)),B===w.Z_BUF_ERROR&&V===!0&&(B=w.Z_OK,V=!1),B!==w.Z_STREAM_END&&B!==w.Z_OK)return this.onEnd(B),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&B!==w.Z_STREAM_END&&(S.avail_in!==0||T!==w.Z_FINISH&&T!==w.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=v.utf8border(S.output,S.next_out),N=S.next_out-R,_=v.buf2string(S.output,R),S.next_out=N,S.avail_out=k-N,N&&y.arraySet(S.output,S.output,R,N,0),this.onData(_)):this.onData(y.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(V=!0)}while((0<S.avail_in||S.avail_out===0)&&B!==w.Z_STREAM_END);return B===w.Z_STREAM_END&&(T=w.Z_FINISH),T===w.Z_FINISH?(B=p.inflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===w.Z_OK):T!==w.Z_SYNC_FLUSH||(this.onEnd(w.Z_OK),!(S.avail_out=0))},j.prototype.onData=function(z){this.chunks.push(z)},j.prototype.onEnd=function(z){z===w.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=z,this.msg=this.strm.msg},g.Inflate=j,g.inflate=I,g.inflateRaw=function(z,$){return($=$||{}).raw=!0,I(z,$)},g.ungzip=I},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(h,m,g){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";g.assign=function(w){for(var C=Array.prototype.slice.call(arguments,1);C.length;){var P=C.shift();if(P){if(typeof P!="object")throw new TypeError(P+"must be non-object");for(var F in P)P.hasOwnProperty(F)&&(w[F]=P[F])}}return w},g.shrinkBuf=function(w,C){return w.length===C?w:w.subarray?w.subarray(0,C):(w.length=C,w)};var y={arraySet:function(w,C,P,F,L){if(C.subarray&&w.subarray)w.set(C.subarray(P,P+F),L);else for(var j=0;j<F;j++)w[L+j]=C[P+j]},flattenChunks:function(w){var C,P,F,L,j,I;for(C=F=0,P=w.length;C<P;C++)F+=w[C].length;for(I=new Uint8Array(F),C=L=0,P=w.length;C<P;C++)j=w[C],I.set(j,L),L+=j.length;return I}},v={arraySet:function(w,C,P,F,L){for(var j=0;j<F;j++)w[L+j]=C[P+j]},flattenChunks:function(w){return[].concat.apply([],w)}};g.setTyped=function(w){w?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,y)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,v))},g.setTyped(p)},{}],42:[function(h,m,g){var p=h("./common"),y=!0,v=!0;try{String.fromCharCode.apply(null,[0])}catch{y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{v=!1}for(var w=new p.Buf8(256),C=0;C<256;C++)w[C]=252<=C?6:248<=C?5:240<=C?4:224<=C?3:192<=C?2:1;function P(F,L){if(L<65537&&(F.subarray&&v||!F.subarray&&y))return String.fromCharCode.apply(null,p.shrinkBuf(F,L));for(var j="",I=0;I<L;I++)j+=String.fromCharCode(F[I]);return j}w[254]=w[254]=1,g.string2buf=function(F){var L,j,I,z,$,B=F.length,T=0;for(z=0;z<B;z++)(64512&(j=F.charCodeAt(z)))==55296&&z+1<B&&(64512&(I=F.charCodeAt(z+1)))==56320&&(j=65536+(j-55296<<10)+(I-56320),z++),T+=j<128?1:j<2048?2:j<65536?3:4;for(L=new p.Buf8(T),z=$=0;$<T;z++)(64512&(j=F.charCodeAt(z)))==55296&&z+1<B&&(64512&(I=F.charCodeAt(z+1)))==56320&&(j=65536+(j-55296<<10)+(I-56320),z++),j<128?L[$++]=j:(j<2048?L[$++]=192|j>>>6:(j<65536?L[$++]=224|j>>>12:(L[$++]=240|j>>>18,L[$++]=128|j>>>12&63),L[$++]=128|j>>>6&63),L[$++]=128|63&j);return L},g.buf2binstring=function(F){return P(F,F.length)},g.binstring2buf=function(F){for(var L=new p.Buf8(F.length),j=0,I=L.length;j<I;j++)L[j]=F.charCodeAt(j);return L},g.buf2string=function(F,L){var j,I,z,$,B=L||F.length,T=new Array(2*B);for(j=I=0;j<B;)if((z=F[j++])<128)T[I++]=z;else if(4<($=w[z]))T[I++]=65533,j+=$-1;else{for(z&=$===2?31:$===3?15:7;1<$&&j<B;)z=z<<6|63&F[j++],$--;1<$?T[I++]=65533:z<65536?T[I++]=z:(z-=65536,T[I++]=55296|z>>10&1023,T[I++]=56320|1023&z)}return P(T,I)},g.utf8border=function(F,L){var j;for((L=L||F.length)>F.length&&(L=F.length),j=L-1;0<=j&&(192&F[j])==128;)j--;return j<0||j===0?L:j+w[F[j]]>L?j:L}},{"./common":41}],43:[function(h,m,g){m.exports=function(p,y,v,w){for(var C=65535&p|0,P=p>>>16&65535|0,F=0;v!==0;){for(v-=F=2e3<v?2e3:v;P=P+(C=C+y[w++]|0)|0,--F;);C%=65521,P%=65521}return C|P<<16|0}},{}],44:[function(h,m,g){m.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(h,m,g){var p=(function(){for(var y,v=[],w=0;w<256;w++){y=w;for(var C=0;C<8;C++)y=1&y?3988292384^y>>>1:y>>>1;v[w]=y}return v})();m.exports=function(y,v,w,C){var P=p,F=C+w;y^=-1;for(var L=C;L<F;L++)y=y>>>8^P[255&(y^v[L])];return-1^y}},{}],46:[function(h,m,g){var p,y=h("../utils/common"),v=h("./trees"),w=h("./adler32"),C=h("./crc32"),P=h("./messages"),F=-2,L=258,j=262,I=113;function z(G,J){return G.msg=P[J],J}function $(G){return(G<<1)-(4<G?9:0)}function B(G){for(var J=G.length;0<=--J;)G[J]=0}function T(G){var J=G.state,q=J.pending;q>G.avail_out&&(q=G.avail_out),q!==0&&(y.arraySet(G.output,J.pending_buf,J.pending_out,q,G.next_out),G.next_out+=q,J.pending_out+=q,G.total_out+=q,G.avail_out-=q,J.pending-=q,J.pending===0&&(J.pending_out=0))}function R(G,J){v._tr_flush_block(G,0<=G.block_start?G.block_start:-1,G.strstart-G.block_start,J),G.block_start=G.strstart,T(G.strm)}function N(G,J){G.pending_buf[G.pending++]=J}function _(G,J){G.pending_buf[G.pending++]=J>>>8&255,G.pending_buf[G.pending++]=255&J}function E(G,J){var q,U,Z=G.max_chain_length,ie=G.strstart,le=G.prev_length,de=G.nice_match,fe=G.strstart>G.w_size-j?G.strstart-(G.w_size-j):0,ue=G.window,Ae=G.w_mask,he=G.prev,xe=G.strstart+L,me=ue[ie+le-1],Ce=ue[ie+le];G.prev_length>=G.good_match&&(Z>>=2),de>G.lookahead&&(de=G.lookahead);do if(ue[(q=J)+le]===Ce&&ue[q+le-1]===me&&ue[q]===ue[ie]&&ue[++q]===ue[ie+1]){ie+=2,q++;do;while(ue[++ie]===ue[++q]&&ue[++ie]===ue[++q]&&ue[++ie]===ue[++q]&&ue[++ie]===ue[++q]&&ue[++ie]===ue[++q]&&ue[++ie]===ue[++q]&&ue[++ie]===ue[++q]&&ue[++ie]===ue[++q]&&ie<xe);if(U=L-(xe-ie),ie=xe-L,le<U){if(G.match_start=J,de<=(le=U))break;me=ue[ie+le-1],Ce=ue[ie+le]}}while((J=he[J&Ae])>fe&&--Z!=0);return le<=G.lookahead?le:G.lookahead}function S(G){var J,q,U,Z,ie,le,de,fe,ue,Ae,he=G.w_size;do{if(Z=G.window_size-G.lookahead-G.strstart,G.strstart>=he+(he-j)){for(y.arraySet(G.window,G.window,he,he,0),G.match_start-=he,G.strstart-=he,G.block_start-=he,J=q=G.hash_size;U=G.head[--J],G.head[J]=he<=U?U-he:0,--q;);for(J=q=he;U=G.prev[--J],G.prev[J]=he<=U?U-he:0,--q;);Z+=he}if(G.strm.avail_in===0)break;if(le=G.strm,de=G.window,fe=G.strstart+G.lookahead,Ae=void 0,(ue=Z)<(Ae=le.avail_in)&&(Ae=ue),q=Ae===0?0:(le.avail_in-=Ae,y.arraySet(de,le.input,le.next_in,Ae,fe),le.state.wrap===1?le.adler=w(le.adler,de,Ae,fe):le.state.wrap===2&&(le.adler=C(le.adler,de,Ae,fe)),le.next_in+=Ae,le.total_in+=Ae,Ae),G.lookahead+=q,G.lookahead+G.insert>=3)for(ie=G.strstart-G.insert,G.ins_h=G.window[ie],G.ins_h=(G.ins_h<<G.hash_shift^G.window[ie+1])&G.hash_mask;G.insert&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[ie+3-1])&G.hash_mask,G.prev[ie&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=ie,ie++,G.insert--,!(G.lookahead+G.insert<3)););}while(G.lookahead<j&&G.strm.avail_in!==0)}function k(G,J){for(var q,U;;){if(G.lookahead<j){if(S(G),G.lookahead<j&&J===0)return 1;if(G.lookahead===0)break}if(q=0,G.lookahead>=3&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+3-1])&G.hash_mask,q=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),q!==0&&G.strstart-q<=G.w_size-j&&(G.match_length=E(G,q)),G.match_length>=3)if(U=v._tr_tally(G,G.strstart-G.match_start,G.match_length-3),G.lookahead-=G.match_length,G.match_length<=G.max_lazy_match&&G.lookahead>=3){for(G.match_length--;G.strstart++,G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+3-1])&G.hash_mask,q=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart,--G.match_length!=0;);G.strstart++}else G.strstart+=G.match_length,G.match_length=0,G.ins_h=G.window[G.strstart],G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+1])&G.hash_mask;else U=v._tr_tally(G,0,G.window[G.strstart]),G.lookahead--,G.strstart++;if(U&&(R(G,!1),G.strm.avail_out===0))return 1}return G.insert=G.strstart<2?G.strstart:2,J===4?(R(G,!0),G.strm.avail_out===0?3:4):G.last_lit&&(R(G,!1),G.strm.avail_out===0)?1:2}function M(G,J){for(var q,U,Z;;){if(G.lookahead<j){if(S(G),G.lookahead<j&&J===0)return 1;if(G.lookahead===0)break}if(q=0,G.lookahead>=3&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+3-1])&G.hash_mask,q=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),G.prev_length=G.match_length,G.prev_match=G.match_start,G.match_length=2,q!==0&&G.prev_length<G.max_lazy_match&&G.strstart-q<=G.w_size-j&&(G.match_length=E(G,q),G.match_length<=5&&(G.strategy===1||G.match_length===3&&4096<G.strstart-G.match_start)&&(G.match_length=2)),G.prev_length>=3&&G.match_length<=G.prev_length){for(Z=G.strstart+G.lookahead-3,U=v._tr_tally(G,G.strstart-1-G.prev_match,G.prev_length-3),G.lookahead-=G.prev_length-1,G.prev_length-=2;++G.strstart<=Z&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+3-1])&G.hash_mask,q=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),--G.prev_length!=0;);if(G.match_available=0,G.match_length=2,G.strstart++,U&&(R(G,!1),G.strm.avail_out===0))return 1}else if(G.match_available){if((U=v._tr_tally(G,0,G.window[G.strstart-1]))&&R(G,!1),G.strstart++,G.lookahead--,G.strm.avail_out===0)return 1}else G.match_available=1,G.strstart++,G.lookahead--}return G.match_available&&(U=v._tr_tally(G,0,G.window[G.strstart-1]),G.match_available=0),G.insert=G.strstart<2?G.strstart:2,J===4?(R(G,!0),G.strm.avail_out===0?3:4):G.last_lit&&(R(G,!1),G.strm.avail_out===0)?1:2}function V(G,J,q,U,Z){this.good_length=G,this.max_lazy=J,this.nice_length=q,this.max_chain=U,this.func=Z}function O(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(1146),this.dyn_dtree=new y.Buf16(122),this.bl_tree=new y.Buf16(78),B(this.dyn_ltree),B(this.dyn_dtree),B(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(16),this.heap=new y.Buf16(573),B(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(573),B(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function X(G){var J;return G&&G.state?(G.total_in=G.total_out=0,G.data_type=2,(J=G.state).pending=0,J.pending_out=0,J.wrap<0&&(J.wrap=-J.wrap),J.status=J.wrap?42:I,G.adler=J.wrap===2?0:1,J.last_flush=0,v._tr_init(J),0):z(G,F)}function Q(G){var J=X(G);return J===0&&(function(q){q.window_size=2*q.w_size,B(q.head),q.max_lazy_match=p[q.level].max_lazy,q.good_match=p[q.level].good_length,q.nice_match=p[q.level].nice_length,q.max_chain_length=p[q.level].max_chain,q.strstart=0,q.block_start=0,q.lookahead=0,q.insert=0,q.match_length=q.prev_length=2,q.match_available=0,q.ins_h=0})(G.state),J}function re(G,J,q,U,Z,ie){if(!G)return F;var le=1;if(J===-1&&(J=6),U<0?(le=0,U=-U):15<U&&(le=2,U-=16),Z<1||9<Z||q!==8||U<8||15<U||J<0||9<J||ie<0||4<ie)return z(G,F);U===8&&(U=9);var de=new O;return(G.state=de).strm=G,de.wrap=le,de.gzhead=null,de.w_bits=U,de.w_size=1<<de.w_bits,de.w_mask=de.w_size-1,de.hash_bits=Z+7,de.hash_size=1<<de.hash_bits,de.hash_mask=de.hash_size-1,de.hash_shift=~~((de.hash_bits+3-1)/3),de.window=new y.Buf8(2*de.w_size),de.head=new y.Buf16(de.hash_size),de.prev=new y.Buf16(de.w_size),de.lit_bufsize=1<<Z+6,de.pending_buf_size=4*de.lit_bufsize,de.pending_buf=new y.Buf8(de.pending_buf_size),de.d_buf=1*de.lit_bufsize,de.l_buf=3*de.lit_bufsize,de.level=J,de.strategy=ie,de.method=q,Q(G)}p=[new V(0,0,0,0,(function(G,J){var q=65535;for(q>G.pending_buf_size-5&&(q=G.pending_buf_size-5);;){if(G.lookahead<=1){if(S(G),G.lookahead===0&&J===0)return 1;if(G.lookahead===0)break}G.strstart+=G.lookahead,G.lookahead=0;var U=G.block_start+q;if((G.strstart===0||G.strstart>=U)&&(G.lookahead=G.strstart-U,G.strstart=U,R(G,!1),G.strm.avail_out===0)||G.strstart-G.block_start>=G.w_size-j&&(R(G,!1),G.strm.avail_out===0))return 1}return G.insert=0,J===4?(R(G,!0),G.strm.avail_out===0?3:4):(G.strstart>G.block_start&&(R(G,!1),G.strm.avail_out),1)})),new V(4,4,8,4,k),new V(4,5,16,8,k),new V(4,6,32,32,k),new V(4,4,16,16,M),new V(8,16,32,32,M),new V(8,16,128,128,M),new V(8,32,128,256,M),new V(32,128,258,1024,M),new V(32,258,258,4096,M)],g.deflateInit=function(G,J){return re(G,J,8,15,8,0)},g.deflateInit2=re,g.deflateReset=Q,g.deflateResetKeep=X,g.deflateSetHeader=function(G,J){return G&&G.state?G.state.wrap!==2?F:(G.state.gzhead=J,0):F},g.deflate=function(G,J){var q,U,Z,ie;if(!G||!G.state||5<J||J<0)return G?z(G,F):F;if(U=G.state,!G.output||!G.input&&G.avail_in!==0||U.status===666&&J!==4)return z(G,G.avail_out===0?-5:F);if(U.strm=G,q=U.last_flush,U.last_flush=J,U.status===42)if(U.wrap===2)G.adler=0,N(U,31),N(U,139),N(U,8),U.gzhead?(N(U,(U.gzhead.text?1:0)+(U.gzhead.hcrc?2:0)+(U.gzhead.extra?4:0)+(U.gzhead.name?8:0)+(U.gzhead.comment?16:0)),N(U,255&U.gzhead.time),N(U,U.gzhead.time>>8&255),N(U,U.gzhead.time>>16&255),N(U,U.gzhead.time>>24&255),N(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),N(U,255&U.gzhead.os),U.gzhead.extra&&U.gzhead.extra.length&&(N(U,255&U.gzhead.extra.length),N(U,U.gzhead.extra.length>>8&255)),U.gzhead.hcrc&&(G.adler=C(G.adler,U.pending_buf,U.pending,0)),U.gzindex=0,U.status=69):(N(U,0),N(U,0),N(U,0),N(U,0),N(U,0),N(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),N(U,3),U.status=I);else{var le=8+(U.w_bits-8<<4)<<8;le|=(2<=U.strategy||U.level<2?0:U.level<6?1:U.level===6?2:3)<<6,U.strstart!==0&&(le|=32),le+=31-le%31,U.status=I,_(U,le),U.strstart!==0&&(_(U,G.adler>>>16),_(U,65535&G.adler)),G.adler=1}if(U.status===69)if(U.gzhead.extra){for(Z=U.pending;U.gzindex<(65535&U.gzhead.extra.length)&&(U.pending!==U.pending_buf_size||(U.gzhead.hcrc&&U.pending>Z&&(G.adler=C(G.adler,U.pending_buf,U.pending-Z,Z)),T(G),Z=U.pending,U.pending!==U.pending_buf_size));)N(U,255&U.gzhead.extra[U.gzindex]),U.gzindex++;U.gzhead.hcrc&&U.pending>Z&&(G.adler=C(G.adler,U.pending_buf,U.pending-Z,Z)),U.gzindex===U.gzhead.extra.length&&(U.gzindex=0,U.status=73)}else U.status=73;if(U.status===73)if(U.gzhead.name){Z=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>Z&&(G.adler=C(G.adler,U.pending_buf,U.pending-Z,Z)),T(G),Z=U.pending,U.pending===U.pending_buf_size)){ie=1;break}ie=U.gzindex<U.gzhead.name.length?255&U.gzhead.name.charCodeAt(U.gzindex++):0,N(U,ie)}while(ie!==0);U.gzhead.hcrc&&U.pending>Z&&(G.adler=C(G.adler,U.pending_buf,U.pending-Z,Z)),ie===0&&(U.gzindex=0,U.status=91)}else U.status=91;if(U.status===91)if(U.gzhead.comment){Z=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>Z&&(G.adler=C(G.adler,U.pending_buf,U.pending-Z,Z)),T(G),Z=U.pending,U.pending===U.pending_buf_size)){ie=1;break}ie=U.gzindex<U.gzhead.comment.length?255&U.gzhead.comment.charCodeAt(U.gzindex++):0,N(U,ie)}while(ie!==0);U.gzhead.hcrc&&U.pending>Z&&(G.adler=C(G.adler,U.pending_buf,U.pending-Z,Z)),ie===0&&(U.status=103)}else U.status=103;if(U.status===103&&(U.gzhead.hcrc?(U.pending+2>U.pending_buf_size&&T(G),U.pending+2<=U.pending_buf_size&&(N(U,255&G.adler),N(U,G.adler>>8&255),G.adler=0,U.status=I)):U.status=I),U.pending!==0){if(T(G),G.avail_out===0)return U.last_flush=-1,0}else if(G.avail_in===0&&$(J)<=$(q)&&J!==4)return z(G,-5);if(U.status===666&&G.avail_in!==0)return z(G,-5);if(G.avail_in!==0||U.lookahead!==0||J!==0&&U.status!==666){var de=U.strategy===2?(function(fe,ue){for(var Ae;;){if(fe.lookahead===0&&(S(fe),fe.lookahead===0)){if(ue===0)return 1;break}if(fe.match_length=0,Ae=v._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++,Ae&&(R(fe,!1),fe.strm.avail_out===0))return 1}return fe.insert=0,ue===4?(R(fe,!0),fe.strm.avail_out===0?3:4):fe.last_lit&&(R(fe,!1),fe.strm.avail_out===0)?1:2})(U,J):U.strategy===3?(function(fe,ue){for(var Ae,he,xe,me,Ce=fe.window;;){if(fe.lookahead<=L){if(S(fe),fe.lookahead<=L&&ue===0)return 1;if(fe.lookahead===0)break}if(fe.match_length=0,fe.lookahead>=3&&0<fe.strstart&&(he=Ce[xe=fe.strstart-1])===Ce[++xe]&&he===Ce[++xe]&&he===Ce[++xe]){me=fe.strstart+L;do;while(he===Ce[++xe]&&he===Ce[++xe]&&he===Ce[++xe]&&he===Ce[++xe]&&he===Ce[++xe]&&he===Ce[++xe]&&he===Ce[++xe]&&he===Ce[++xe]&&xe<me);fe.match_length=L-(me-xe),fe.match_length>fe.lookahead&&(fe.match_length=fe.lookahead)}if(fe.match_length>=3?(Ae=v._tr_tally(fe,1,fe.match_length-3),fe.lookahead-=fe.match_length,fe.strstart+=fe.match_length,fe.match_length=0):(Ae=v._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++),Ae&&(R(fe,!1),fe.strm.avail_out===0))return 1}return fe.insert=0,ue===4?(R(fe,!0),fe.strm.avail_out===0?3:4):fe.last_lit&&(R(fe,!1),fe.strm.avail_out===0)?1:2})(U,J):p[U.level].func(U,J);if(de!==3&&de!==4||(U.status=666),de===1||de===3)return G.avail_out===0&&(U.last_flush=-1),0;if(de===2&&(J===1?v._tr_align(U):J!==5&&(v._tr_stored_block(U,0,0,!1),J===3&&(B(U.head),U.lookahead===0&&(U.strstart=0,U.block_start=0,U.insert=0))),T(G),G.avail_out===0))return U.last_flush=-1,0}return J!==4?0:U.wrap<=0?1:(U.wrap===2?(N(U,255&G.adler),N(U,G.adler>>8&255),N(U,G.adler>>16&255),N(U,G.adler>>24&255),N(U,255&G.total_in),N(U,G.total_in>>8&255),N(U,G.total_in>>16&255),N(U,G.total_in>>24&255)):(_(U,G.adler>>>16),_(U,65535&G.adler)),T(G),0<U.wrap&&(U.wrap=-U.wrap),U.pending!==0?0:1)},g.deflateEnd=function(G){var J;return G&&G.state?(J=G.state.status)!==42&&J!==69&&J!==73&&J!==91&&J!==103&&J!==I&&J!==666?z(G,F):(G.state=null,J===I?z(G,-3):0):F},g.deflateSetDictionary=function(G,J){var q,U,Z,ie,le,de,fe,ue,Ae=J.length;if(!G||!G.state||(ie=(q=G.state).wrap)===2||ie===1&&q.status!==42||q.lookahead)return F;for(ie===1&&(G.adler=w(G.adler,J,Ae,0)),q.wrap=0,Ae>=q.w_size&&(ie===0&&(B(q.head),q.strstart=0,q.block_start=0,q.insert=0),ue=new y.Buf8(q.w_size),y.arraySet(ue,J,Ae-q.w_size,q.w_size,0),J=ue,Ae=q.w_size),le=G.avail_in,de=G.next_in,fe=G.input,G.avail_in=Ae,G.next_in=0,G.input=J,S(q);q.lookahead>=3;){for(U=q.strstart,Z=q.lookahead-2;q.ins_h=(q.ins_h<<q.hash_shift^q.window[U+3-1])&q.hash_mask,q.prev[U&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=U,U++,--Z;);q.strstart=U,q.lookahead=2,S(q)}return q.strstart+=q.lookahead,q.block_start=q.strstart,q.insert=q.lookahead,q.lookahead=0,q.match_length=q.prev_length=2,q.match_available=0,G.next_in=de,G.input=fe,G.avail_in=le,q.wrap=ie,0},g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(h,m,g){m.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(h,m,g){m.exports=function(p,y){var v,w,C,P,F,L,j,I,z,$,B,T,R,N,_,E,S,k,M,V,O,X,Q,re,G;v=p.state,w=p.next_in,re=p.input,C=w+(p.avail_in-5),P=p.next_out,G=p.output,F=P-(y-p.avail_out),L=P+(p.avail_out-257),j=v.dmax,I=v.wsize,z=v.whave,$=v.wnext,B=v.window,T=v.hold,R=v.bits,N=v.lencode,_=v.distcode,E=(1<<v.lenbits)-1,S=(1<<v.distbits)-1;e:do{R<15&&(T+=re[w++]<<R,R+=8,T+=re[w++]<<R,R+=8),k=N[T&E];t:for(;;){if(T>>>=M=k>>>24,R-=M,(M=k>>>16&255)==0)G[P++]=65535&k;else{if(!(16&M)){if((64&M)==0){k=N[(65535&k)+(T&(1<<M)-1)];continue t}if(32&M){v.mode=12;break e}p.msg="invalid literal/length code",v.mode=30;break e}V=65535&k,(M&=15)&&(R<M&&(T+=re[w++]<<R,R+=8),V+=T&(1<<M)-1,T>>>=M,R-=M),R<15&&(T+=re[w++]<<R,R+=8,T+=re[w++]<<R,R+=8),k=_[T&S];r:for(;;){if(T>>>=M=k>>>24,R-=M,!(16&(M=k>>>16&255))){if((64&M)==0){k=_[(65535&k)+(T&(1<<M)-1)];continue r}p.msg="invalid distance code",v.mode=30;break e}if(O=65535&k,R<(M&=15)&&(T+=re[w++]<<R,(R+=8)<M&&(T+=re[w++]<<R,R+=8)),j<(O+=T&(1<<M)-1)){p.msg="invalid distance too far back",v.mode=30;break e}if(T>>>=M,R-=M,(M=P-F)<O){if(z<(M=O-M)&&v.sane){p.msg="invalid distance too far back",v.mode=30;break e}if(Q=B,(X=0)===$){if(X+=I-M,M<V){for(V-=M;G[P++]=B[X++],--M;);X=P-O,Q=G}}else if($<M){if(X+=I+$-M,(M-=$)<V){for(V-=M;G[P++]=B[X++],--M;);if(X=0,$<V){for(V-=M=$;G[P++]=B[X++],--M;);X=P-O,Q=G}}}else if(X+=$-M,M<V){for(V-=M;G[P++]=B[X++],--M;);X=P-O,Q=G}for(;2<V;)G[P++]=Q[X++],G[P++]=Q[X++],G[P++]=Q[X++],V-=3;V&&(G[P++]=Q[X++],1<V&&(G[P++]=Q[X++]))}else{for(X=P-O;G[P++]=G[X++],G[P++]=G[X++],G[P++]=G[X++],2<(V-=3););V&&(G[P++]=G[X++],1<V&&(G[P++]=G[X++]))}break}}break}}while(w<C&&P<L);w-=V=R>>3,T&=(1<<(R-=V<<3))-1,p.next_in=w,p.next_out=P,p.avail_in=w<C?C-w+5:5-(w-C),p.avail_out=P<L?L-P+257:257-(P-L),v.hold=T,v.bits=R}},{}],49:[function(h,m,g){var p=h("../utils/common"),y=h("./adler32"),v=h("./crc32"),w=h("./inffast"),C=h("./inftrees"),P=-2;function F(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function L(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function j(E){var S;return E&&E.state?(S=E.state,E.total_in=E.total_out=S.total=0,E.msg="",S.wrap&&(E.adler=1&S.wrap),S.mode=1,S.last=0,S.havedict=0,S.dmax=32768,S.head=null,S.hold=0,S.bits=0,S.lencode=S.lendyn=new p.Buf32(852),S.distcode=S.distdyn=new p.Buf32(592),S.sane=1,S.back=-1,0):P}function I(E){var S;return E&&E.state?((S=E.state).wsize=0,S.whave=0,S.wnext=0,j(E)):P}function z(E,S){var k,M;return E&&E.state?(M=E.state,S<0?(k=0,S=-S):(k=1+(S>>4),S<48&&(S&=15)),S&&(S<8||15<S)?P:(M.window!==null&&M.wbits!==S&&(M.window=null),M.wrap=k,M.wbits=S,I(E))):P}function $(E,S){var k,M;return E?(M=new L,(E.state=M).window=null,(k=z(E,S))!==0&&(E.state=null),k):P}var B,T,R=!0;function N(E){if(R){var S;for(B=new p.Buf32(512),T=new p.Buf32(32),S=0;S<144;)E.lens[S++]=8;for(;S<256;)E.lens[S++]=9;for(;S<280;)E.lens[S++]=7;for(;S<288;)E.lens[S++]=8;for(C(1,E.lens,0,288,B,0,E.work,{bits:9}),S=0;S<32;)E.lens[S++]=5;C(2,E.lens,0,32,T,0,E.work,{bits:5}),R=!1}E.lencode=B,E.lenbits=9,E.distcode=T,E.distbits=5}function _(E,S,k,M){var V,O=E.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new p.Buf8(O.wsize)),M>=O.wsize?(p.arraySet(O.window,S,k-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):(M<(V=O.wsize-O.wnext)&&(V=M),p.arraySet(O.window,S,k-M,V,O.wnext),(M-=V)?(p.arraySet(O.window,S,k-M,M,0),O.wnext=M,O.whave=O.wsize):(O.wnext+=V,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=V))),0}g.inflateReset=I,g.inflateReset2=z,g.inflateResetKeep=j,g.inflateInit=function(E){return $(E,15)},g.inflateInit2=$,g.inflate=function(E,S){var k,M,V,O,X,Q,re,G,J,q,U,Z,ie,le,de,fe,ue,Ae,he,xe,me,Ce,ke,Oe,De=0,He=new p.Buf8(4),Qe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return P;(k=E.state).mode===12&&(k.mode=13),X=E.next_out,V=E.output,re=E.avail_out,O=E.next_in,M=E.input,Q=E.avail_in,G=k.hold,J=k.bits,q=Q,U=re,Ce=0;e:for(;;)switch(k.mode){case 1:if(k.wrap===0){k.mode=13;break}for(;J<16;){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}if(2&k.wrap&&G===35615){He[k.check=0]=255&G,He[1]=G>>>8&255,k.check=v(k.check,He,2,0),J=G=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&G)<<8)+(G>>8))%31){E.msg="incorrect header check",k.mode=30;break}if((15&G)!=8){E.msg="unknown compression method",k.mode=30;break}if(J-=4,me=8+(15&(G>>>=4)),k.wbits===0)k.wbits=me;else if(me>k.wbits){E.msg="invalid window size",k.mode=30;break}k.dmax=1<<me,E.adler=k.check=1,k.mode=512&G?10:12,J=G=0;break;case 2:for(;J<16;){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}if(k.flags=G,(255&k.flags)!=8){E.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){E.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=G>>8&1),512&k.flags&&(He[0]=255&G,He[1]=G>>>8&255,k.check=v(k.check,He,2,0)),J=G=0,k.mode=3;case 3:for(;J<32;){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}k.head&&(k.head.time=G),512&k.flags&&(He[0]=255&G,He[1]=G>>>8&255,He[2]=G>>>16&255,He[3]=G>>>24&255,k.check=v(k.check,He,4,0)),J=G=0,k.mode=4;case 4:for(;J<16;){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}k.head&&(k.head.xflags=255&G,k.head.os=G>>8),512&k.flags&&(He[0]=255&G,He[1]=G>>>8&255,k.check=v(k.check,He,2,0)),J=G=0,k.mode=5;case 5:if(1024&k.flags){for(;J<16;){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}k.length=G,k.head&&(k.head.extra_len=G),512&k.flags&&(He[0]=255&G,He[1]=G>>>8&255,k.check=v(k.check,He,2,0)),J=G=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(Q<(Z=k.length)&&(Z=Q),Z&&(k.head&&(me=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),p.arraySet(k.head.extra,M,O,Z,me)),512&k.flags&&(k.check=v(k.check,M,Z,O)),Q-=Z,O+=Z,k.length-=Z),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(Q===0)break e;for(Z=0;me=M[O+Z++],k.head&&me&&k.length<65536&&(k.head.name+=String.fromCharCode(me)),me&&Z<Q;);if(512&k.flags&&(k.check=v(k.check,M,Z,O)),Q-=Z,O+=Z,me)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(Q===0)break e;for(Z=0;me=M[O+Z++],k.head&&me&&k.length<65536&&(k.head.comment+=String.fromCharCode(me)),me&&Z<Q;);if(512&k.flags&&(k.check=v(k.check,M,Z,O)),Q-=Z,O+=Z,me)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;J<16;){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}if(G!==(65535&k.check)){E.msg="header crc mismatch",k.mode=30;break}J=G=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),E.adler=k.check=0,k.mode=12;break;case 10:for(;J<32;){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}E.adler=k.check=F(G),J=G=0,k.mode=11;case 11:if(k.havedict===0)return E.next_out=X,E.avail_out=re,E.next_in=O,E.avail_in=Q,k.hold=G,k.bits=J,2;E.adler=k.check=1,k.mode=12;case 12:if(S===5||S===6)break e;case 13:if(k.last){G>>>=7&J,J-=7&J,k.mode=27;break}for(;J<3;){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}switch(k.last=1&G,J-=1,3&(G>>>=1)){case 0:k.mode=14;break;case 1:if(N(k),k.mode=20,S!==6)break;G>>>=2,J-=2;break e;case 2:k.mode=17;break;case 3:E.msg="invalid block type",k.mode=30}G>>>=2,J-=2;break;case 14:for(G>>>=7&J,J-=7&J;J<32;){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}if((65535&G)!=(G>>>16^65535)){E.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&G,J=G=0,k.mode=15,S===6)break e;case 15:k.mode=16;case 16:if(Z=k.length){if(Q<Z&&(Z=Q),re<Z&&(Z=re),Z===0)break e;p.arraySet(V,M,O,Z,X),Q-=Z,O+=Z,re-=Z,X+=Z,k.length-=Z;break}k.mode=12;break;case 17:for(;J<14;){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}if(k.nlen=257+(31&G),G>>>=5,J-=5,k.ndist=1+(31&G),G>>>=5,J-=5,k.ncode=4+(15&G),G>>>=4,J-=4,286<k.nlen||30<k.ndist){E.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;J<3;){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}k.lens[Qe[k.have++]]=7&G,G>>>=3,J-=3}for(;k.have<19;)k.lens[Qe[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,ke={bits:k.lenbits},Ce=C(0,k.lens,0,19,k.lencode,0,k.work,ke),k.lenbits=ke.bits,Ce){E.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;fe=(De=k.lencode[G&(1<<k.lenbits)-1])>>>16&255,ue=65535&De,!((de=De>>>24)<=J);){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}if(ue<16)G>>>=de,J-=de,k.lens[k.have++]=ue;else{if(ue===16){for(Oe=de+2;J<Oe;){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}if(G>>>=de,J-=de,k.have===0){E.msg="invalid bit length repeat",k.mode=30;break}me=k.lens[k.have-1],Z=3+(3&G),G>>>=2,J-=2}else if(ue===17){for(Oe=de+3;J<Oe;){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}J-=de,me=0,Z=3+(7&(G>>>=de)),G>>>=3,J-=3}else{for(Oe=de+7;J<Oe;){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}J-=de,me=0,Z=11+(127&(G>>>=de)),G>>>=7,J-=7}if(k.have+Z>k.nlen+k.ndist){E.msg="invalid bit length repeat",k.mode=30;break}for(;Z--;)k.lens[k.have++]=me}}if(k.mode===30)break;if(k.lens[256]===0){E.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,ke={bits:k.lenbits},Ce=C(1,k.lens,0,k.nlen,k.lencode,0,k.work,ke),k.lenbits=ke.bits,Ce){E.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,ke={bits:k.distbits},Ce=C(2,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,ke),k.distbits=ke.bits,Ce){E.msg="invalid distances set",k.mode=30;break}if(k.mode=20,S===6)break e;case 20:k.mode=21;case 21:if(6<=Q&&258<=re){E.next_out=X,E.avail_out=re,E.next_in=O,E.avail_in=Q,k.hold=G,k.bits=J,w(E,U),X=E.next_out,V=E.output,re=E.avail_out,O=E.next_in,M=E.input,Q=E.avail_in,G=k.hold,J=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;fe=(De=k.lencode[G&(1<<k.lenbits)-1])>>>16&255,ue=65535&De,!((de=De>>>24)<=J);){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}if(fe&&(240&fe)==0){for(Ae=de,he=fe,xe=ue;fe=(De=k.lencode[xe+((G&(1<<Ae+he)-1)>>Ae)])>>>16&255,ue=65535&De,!(Ae+(de=De>>>24)<=J);){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}G>>>=Ae,J-=Ae,k.back+=Ae}if(G>>>=de,J-=de,k.back+=de,k.length=ue,fe===0){k.mode=26;break}if(32&fe){k.back=-1,k.mode=12;break}if(64&fe){E.msg="invalid literal/length code",k.mode=30;break}k.extra=15&fe,k.mode=22;case 22:if(k.extra){for(Oe=k.extra;J<Oe;){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}k.length+=G&(1<<k.extra)-1,G>>>=k.extra,J-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;fe=(De=k.distcode[G&(1<<k.distbits)-1])>>>16&255,ue=65535&De,!((de=De>>>24)<=J);){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}if((240&fe)==0){for(Ae=de,he=fe,xe=ue;fe=(De=k.distcode[xe+((G&(1<<Ae+he)-1)>>Ae)])>>>16&255,ue=65535&De,!(Ae+(de=De>>>24)<=J);){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}G>>>=Ae,J-=Ae,k.back+=Ae}if(G>>>=de,J-=de,k.back+=de,64&fe){E.msg="invalid distance code",k.mode=30;break}k.offset=ue,k.extra=15&fe,k.mode=24;case 24:if(k.extra){for(Oe=k.extra;J<Oe;){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}k.offset+=G&(1<<k.extra)-1,G>>>=k.extra,J-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){E.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(re===0)break e;if(Z=U-re,k.offset>Z){if((Z=k.offset-Z)>k.whave&&k.sane){E.msg="invalid distance too far back",k.mode=30;break}ie=Z>k.wnext?(Z-=k.wnext,k.wsize-Z):k.wnext-Z,Z>k.length&&(Z=k.length),le=k.window}else le=V,ie=X-k.offset,Z=k.length;for(re<Z&&(Z=re),re-=Z,k.length-=Z;V[X++]=le[ie++],--Z;);k.length===0&&(k.mode=21);break;case 26:if(re===0)break e;V[X++]=k.length,re--,k.mode=21;break;case 27:if(k.wrap){for(;J<32;){if(Q===0)break e;Q--,G|=M[O++]<<J,J+=8}if(U-=re,E.total_out+=U,k.total+=U,U&&(E.adler=k.check=k.flags?v(k.check,V,U,X-U):y(k.check,V,U,X-U)),U=re,(k.flags?G:F(G))!==k.check){E.msg="incorrect data check",k.mode=30;break}J=G=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;J<32;){if(Q===0)break e;Q--,G+=M[O++]<<J,J+=8}if(G!==(4294967295&k.total)){E.msg="incorrect length check",k.mode=30;break}J=G=0}k.mode=29;case 29:Ce=1;break e;case 30:Ce=-3;break e;case 31:return-4;case 32:default:return P}return E.next_out=X,E.avail_out=re,E.next_in=O,E.avail_in=Q,k.hold=G,k.bits=J,(k.wsize||U!==E.avail_out&&k.mode<30&&(k.mode<27||S!==4))&&_(E,E.output,E.next_out,U-E.avail_out)?(k.mode=31,-4):(q-=E.avail_in,U-=E.avail_out,E.total_in+=q,E.total_out+=U,k.total+=U,k.wrap&&U&&(E.adler=k.check=k.flags?v(k.check,V,U,E.next_out-U):y(k.check,V,U,E.next_out-U)),E.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(q==0&&U===0||S===4)&&Ce===0&&(Ce=-5),Ce)},g.inflateEnd=function(E){if(!E||!E.state)return P;var S=E.state;return S.window&&(S.window=null),E.state=null,0},g.inflateGetHeader=function(E,S){var k;return E&&E.state?(2&(k=E.state).wrap)==0?P:((k.head=S).done=!1,0):P},g.inflateSetDictionary=function(E,S){var k,M=S.length;return E&&E.state?(k=E.state).wrap!==0&&k.mode!==11?P:k.mode===11&&y(1,S,M,0)!==k.check?-3:_(E,S,M,M)?(k.mode=31,-4):(k.havedict=1,0):P},g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(h,m,g){var p=h("../utils/common"),y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],w=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],C=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(P,F,L,j,I,z,$,B){var T,R,N,_,E,S,k,M,V,O=B.bits,X=0,Q=0,re=0,G=0,J=0,q=0,U=0,Z=0,ie=0,le=0,de=null,fe=0,ue=new p.Buf16(16),Ae=new p.Buf16(16),he=null,xe=0;for(X=0;X<=15;X++)ue[X]=0;for(Q=0;Q<j;Q++)ue[F[L+Q]]++;for(J=O,G=15;1<=G&&ue[G]===0;G--);if(G<J&&(J=G),G===0)return I[z++]=20971520,I[z++]=20971520,B.bits=1,0;for(re=1;re<G&&ue[re]===0;re++);for(J<re&&(J=re),X=Z=1;X<=15;X++)if(Z<<=1,(Z-=ue[X])<0)return-1;if(0<Z&&(P===0||G!==1))return-1;for(Ae[1]=0,X=1;X<15;X++)Ae[X+1]=Ae[X]+ue[X];for(Q=0;Q<j;Q++)F[L+Q]!==0&&($[Ae[F[L+Q]]++]=Q);if(S=P===0?(de=he=$,19):P===1?(de=y,fe-=257,he=v,xe-=257,256):(de=w,he=C,-1),X=re,E=z,U=Q=le=0,N=-1,_=(ie=1<<(q=J))-1,P===1&&852<ie||P===2&&592<ie)return 1;for(;;){for(k=X-U,V=$[Q]<S?(M=0,$[Q]):$[Q]>S?(M=he[xe+$[Q]],de[fe+$[Q]]):(M=96,0),T=1<<X-U,re=R=1<<q;I[E+(le>>U)+(R-=T)]=k<<24|M<<16|V|0,R!==0;);for(T=1<<X-1;le&T;)T>>=1;if(T!==0?(le&=T-1,le+=T):le=0,Q++,--ue[X]==0){if(X===G)break;X=F[L+$[Q]]}if(J<X&&(le&_)!==N){for(U===0&&(U=J),E+=re,Z=1<<(q=X-U);q+U<G&&!((Z-=ue[q+U])<=0);)q++,Z<<=1;if(ie+=1<<q,P===1&&852<ie||P===2&&592<ie)return 1;I[N=le&_]=J<<24|q<<16|E-z|0}}return le!==0&&(I[E+le]=X-U<<24|64<<16|0),B.bits=J,0}},{"../utils/common":41}],51:[function(h,m,g){m.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(h,m,g){var p=h("../utils/common");function y(he){for(var xe=he.length;0<=--xe;)he[xe]=0}var v=256,w=286,C=30,P=15,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(576);y(z);var $=new Array(60);y($);var B=new Array(512);y(B);var T=new Array(256);y(T);var R=new Array(29);y(R);var N,_,E,S=new Array(C);function k(he,xe,me,Ce,ke){this.static_tree=he,this.extra_bits=xe,this.extra_base=me,this.elems=Ce,this.max_length=ke,this.has_stree=he&&he.length}function M(he,xe){this.dyn_tree=he,this.max_code=0,this.stat_desc=xe}function V(he){return he<256?B[he]:B[256+(he>>>7)]}function O(he,xe){he.pending_buf[he.pending++]=255&xe,he.pending_buf[he.pending++]=xe>>>8&255}function X(he,xe,me){he.bi_valid>16-me?(he.bi_buf|=xe<<he.bi_valid&65535,O(he,he.bi_buf),he.bi_buf=xe>>16-he.bi_valid,he.bi_valid+=me-16):(he.bi_buf|=xe<<he.bi_valid&65535,he.bi_valid+=me)}function Q(he,xe,me){X(he,me[2*xe],me[2*xe+1])}function re(he,xe){for(var me=0;me|=1&he,he>>>=1,me<<=1,0<--xe;);return me>>>1}function G(he,xe,me){var Ce,ke,Oe=new Array(16),De=0;for(Ce=1;Ce<=P;Ce++)Oe[Ce]=De=De+me[Ce-1]<<1;for(ke=0;ke<=xe;ke++){var He=he[2*ke+1];He!==0&&(he[2*ke]=re(Oe[He]++,He))}}function J(he){var xe;for(xe=0;xe<w;xe++)he.dyn_ltree[2*xe]=0;for(xe=0;xe<C;xe++)he.dyn_dtree[2*xe]=0;for(xe=0;xe<19;xe++)he.bl_tree[2*xe]=0;he.dyn_ltree[512]=1,he.opt_len=he.static_len=0,he.last_lit=he.matches=0}function q(he){8<he.bi_valid?O(he,he.bi_buf):0<he.bi_valid&&(he.pending_buf[he.pending++]=he.bi_buf),he.bi_buf=0,he.bi_valid=0}function U(he,xe,me,Ce){var ke=2*xe,Oe=2*me;return he[ke]<he[Oe]||he[ke]===he[Oe]&&Ce[xe]<=Ce[me]}function Z(he,xe,me){for(var Ce=he.heap[me],ke=me<<1;ke<=he.heap_len&&(ke<he.heap_len&&U(xe,he.heap[ke+1],he.heap[ke],he.depth)&&ke++,!U(xe,Ce,he.heap[ke],he.depth));)he.heap[me]=he.heap[ke],me=ke,ke<<=1;he.heap[me]=Ce}function ie(he,xe,me){var Ce,ke,Oe,De,He=0;if(he.last_lit!==0)for(;Ce=he.pending_buf[he.d_buf+2*He]<<8|he.pending_buf[he.d_buf+2*He+1],ke=he.pending_buf[he.l_buf+He],He++,Ce===0?Q(he,ke,xe):(Q(he,(Oe=T[ke])+v+1,xe),(De=F[Oe])!==0&&X(he,ke-=R[Oe],De),Q(he,Oe=V(--Ce),me),(De=L[Oe])!==0&&X(he,Ce-=S[Oe],De)),He<he.last_lit;);Q(he,256,xe)}function le(he,xe){var me,Ce,ke,Oe=xe.dyn_tree,De=xe.stat_desc.static_tree,He=xe.stat_desc.has_stree,Qe=xe.stat_desc.elems,tt=-1;for(he.heap_len=0,he.heap_max=573,me=0;me<Qe;me++)Oe[2*me]!==0?(he.heap[++he.heap_len]=tt=me,he.depth[me]=0):Oe[2*me+1]=0;for(;he.heap_len<2;)Oe[2*(ke=he.heap[++he.heap_len]=tt<2?++tt:0)]=1,he.depth[ke]=0,he.opt_len--,He&&(he.static_len-=De[2*ke+1]);for(xe.max_code=tt,me=he.heap_len>>1;1<=me;me--)Z(he,Oe,me);for(ke=Qe;me=he.heap[1],he.heap[1]=he.heap[he.heap_len--],Z(he,Oe,1),Ce=he.heap[1],he.heap[--he.heap_max]=me,he.heap[--he.heap_max]=Ce,Oe[2*ke]=Oe[2*me]+Oe[2*Ce],he.depth[ke]=(he.depth[me]>=he.depth[Ce]?he.depth[me]:he.depth[Ce])+1,Oe[2*me+1]=Oe[2*Ce+1]=ke,he.heap[1]=ke++,Z(he,Oe,1),2<=he.heap_len;);he.heap[--he.heap_max]=he.heap[1],(function(st,it){var pt,bt,mt,Mt,wt,et,dt=it.dyn_tree,It=it.max_code,ht=it.stat_desc.static_tree,zt=it.stat_desc.has_stree,Vt=it.stat_desc.extra_bits,Bt=it.stat_desc.extra_base,sr=it.stat_desc.max_length,Ht=0;for(Mt=0;Mt<=P;Mt++)st.bl_count[Mt]=0;for(dt[2*st.heap[st.heap_max]+1]=0,pt=st.heap_max+1;pt<573;pt++)sr<(Mt=dt[2*dt[2*(bt=st.heap[pt])+1]+1]+1)&&(Mt=sr,Ht++),dt[2*bt+1]=Mt,It<bt||(st.bl_count[Mt]++,wt=0,Bt<=bt&&(wt=Vt[bt-Bt]),et=dt[2*bt],st.opt_len+=et*(Mt+wt),zt&&(st.static_len+=et*(ht[2*bt+1]+wt)));if(Ht!==0){do{for(Mt=sr-1;st.bl_count[Mt]===0;)Mt--;st.bl_count[Mt]--,st.bl_count[Mt+1]+=2,st.bl_count[sr]--,Ht-=2}while(0<Ht);for(Mt=sr;Mt!==0;Mt--)for(bt=st.bl_count[Mt];bt!==0;)It<(mt=st.heap[--pt])||(dt[2*mt+1]!==Mt&&(st.opt_len+=(Mt-dt[2*mt+1])*dt[2*mt],dt[2*mt+1]=Mt),bt--)}})(he,xe),G(Oe,tt,he.bl_count)}function de(he,xe,me){var Ce,ke,Oe=-1,De=xe[1],He=0,Qe=7,tt=4;for(De===0&&(Qe=138,tt=3),xe[2*(me+1)+1]=65535,Ce=0;Ce<=me;Ce++)ke=De,De=xe[2*(Ce+1)+1],++He<Qe&&ke===De||(He<tt?he.bl_tree[2*ke]+=He:ke!==0?(ke!==Oe&&he.bl_tree[2*ke]++,he.bl_tree[32]++):He<=10?he.bl_tree[34]++:he.bl_tree[36]++,Oe=ke,tt=(He=0)===De?(Qe=138,3):ke===De?(Qe=6,3):(Qe=7,4))}function fe(he,xe,me){var Ce,ke,Oe=-1,De=xe[1],He=0,Qe=7,tt=4;for(De===0&&(Qe=138,tt=3),Ce=0;Ce<=me;Ce++)if(ke=De,De=xe[2*(Ce+1)+1],!(++He<Qe&&ke===De)){if(He<tt)for(;Q(he,ke,he.bl_tree),--He!=0;);else ke!==0?(ke!==Oe&&(Q(he,ke,he.bl_tree),He--),Q(he,16,he.bl_tree),X(he,He-3,2)):He<=10?(Q(he,17,he.bl_tree),X(he,He-3,3)):(Q(he,18,he.bl_tree),X(he,He-11,7));Oe=ke,tt=(He=0)===De?(Qe=138,3):ke===De?(Qe=6,3):(Qe=7,4)}}y(S);var ue=!1;function Ae(he,xe,me,Ce){X(he,0+(Ce?1:0),3),(function(ke,Oe,De,He){q(ke),O(ke,De),O(ke,~De),p.arraySet(ke.pending_buf,ke.window,Oe,De,ke.pending),ke.pending+=De})(he,xe,me)}g._tr_init=function(he){ue||((function(){var xe,me,Ce,ke,Oe,De=new Array(16);for(ke=Ce=0;ke<28;ke++)for(R[ke]=Ce,xe=0;xe<1<<F[ke];xe++)T[Ce++]=ke;for(T[Ce-1]=ke,ke=Oe=0;ke<16;ke++)for(S[ke]=Oe,xe=0;xe<1<<L[ke];xe++)B[Oe++]=ke;for(Oe>>=7;ke<C;ke++)for(S[ke]=Oe<<7,xe=0;xe<1<<L[ke]-7;xe++)B[256+Oe++]=ke;for(me=0;me<=P;me++)De[me]=0;for(xe=0;xe<=143;)z[2*xe+1]=8,xe++,De[8]++;for(;xe<=255;)z[2*xe+1]=9,xe++,De[9]++;for(;xe<=279;)z[2*xe+1]=7,xe++,De[7]++;for(;xe<=287;)z[2*xe+1]=8,xe++,De[8]++;for(G(z,287,De),xe=0;xe<C;xe++)$[2*xe+1]=5,$[2*xe]=re(xe,5);N=new k(z,F,257,w,P),_=new k($,L,0,C,P),E=new k(new Array(0),j,0,19,7)})(),ue=!0),he.l_desc=new M(he.dyn_ltree,N),he.d_desc=new M(he.dyn_dtree,_),he.bl_desc=new M(he.bl_tree,E),he.bi_buf=0,he.bi_valid=0,J(he)},g._tr_stored_block=Ae,g._tr_flush_block=function(he,xe,me,Ce){var ke,Oe,De=0;0<he.level?(he.strm.data_type===2&&(he.strm.data_type=(function(He){var Qe,tt=4093624447;for(Qe=0;Qe<=31;Qe++,tt>>>=1)if(1&tt&&He.dyn_ltree[2*Qe]!==0)return 0;if(He.dyn_ltree[18]!==0||He.dyn_ltree[20]!==0||He.dyn_ltree[26]!==0)return 1;for(Qe=32;Qe<v;Qe++)if(He.dyn_ltree[2*Qe]!==0)return 1;return 0})(he)),le(he,he.l_desc),le(he,he.d_desc),De=(function(He){var Qe;for(de(He,He.dyn_ltree,He.l_desc.max_code),de(He,He.dyn_dtree,He.d_desc.max_code),le(He,He.bl_desc),Qe=18;3<=Qe&&He.bl_tree[2*I[Qe]+1]===0;Qe--);return He.opt_len+=3*(Qe+1)+5+5+4,Qe})(he),ke=he.opt_len+3+7>>>3,(Oe=he.static_len+3+7>>>3)<=ke&&(ke=Oe)):ke=Oe=me+5,me+4<=ke&&xe!==-1?Ae(he,xe,me,Ce):he.strategy===4||Oe===ke?(X(he,2+(Ce?1:0),3),ie(he,z,$)):(X(he,4+(Ce?1:0),3),(function(He,Qe,tt,st){var it;for(X(He,Qe-257,5),X(He,tt-1,5),X(He,st-4,4),it=0;it<st;it++)X(He,He.bl_tree[2*I[it]+1],3);fe(He,He.dyn_ltree,Qe-1),fe(He,He.dyn_dtree,tt-1)})(he,he.l_desc.max_code+1,he.d_desc.max_code+1,De+1),ie(he,he.dyn_ltree,he.dyn_dtree)),J(he),Ce&&q(he)},g._tr_tally=function(he,xe,me){return he.pending_buf[he.d_buf+2*he.last_lit]=xe>>>8&255,he.pending_buf[he.d_buf+2*he.last_lit+1]=255&xe,he.pending_buf[he.l_buf+he.last_lit]=255&me,he.last_lit++,xe===0?he.dyn_ltree[2*me]++:(he.matches++,xe--,he.dyn_ltree[2*(T[me]+v+1)]++,he.dyn_dtree[2*V(xe)]++),he.last_lit===he.lit_bufsize-1},g._tr_align=function(he){X(he,2,3),Q(he,256,z),(function(xe){xe.bi_valid===16?(O(xe,xe.bi_buf),xe.bi_buf=0,xe.bi_valid=0):8<=xe.bi_valid&&(xe.pending_buf[xe.pending++]=255&xe.bi_buf,xe.bi_buf>>=8,xe.bi_valid-=8)})(he)}},{"../utils/common":41}],53:[function(h,m,g){m.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(h,m,g){(function(p){(function(y,v){if(!y.setImmediate){var w,C,P,F,L=1,j={},I=!1,z=y.document,$=Object.getPrototypeOf&&Object.getPrototypeOf(y);$=$&&$.setTimeout?$:y,w={}.toString.call(y.process)==="[object process]"?function(N){a.nextTick((function(){T(N)}))}:(function(){if(y.postMessage&&!y.importScripts){var N=!0,_=y.onmessage;return y.onmessage=function(){N=!1},y.postMessage("","*"),y.onmessage=_,N}})()?(F="setImmediate$"+Math.random()+"$",y.addEventListener?y.addEventListener("message",R,!1):y.attachEvent("onmessage",R),function(N){y.postMessage(F+N,"*")}):y.MessageChannel?((P=new MessageChannel).port1.onmessage=function(N){T(N.data)},function(N){P.port2.postMessage(N)}):z&&"onreadystatechange"in z.createElement("script")?(C=z.documentElement,function(N){var _=z.createElement("script");_.onreadystatechange=function(){T(N),_.onreadystatechange=null,C.removeChild(_),_=null},C.appendChild(_)}):function(N){setTimeout(T,0,N)},$.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var _=new Array(arguments.length-1),E=0;E<_.length;E++)_[E]=arguments[E+1];var S={callback:N,args:_};return j[L]=S,w(L),L++},$.clearImmediate=B}function B(N){delete j[N]}function T(N){if(I)setTimeout(T,0,N);else{var _=j[N];if(_){I=!0;try{(function(E){var S=E.callback,k=E.args;switch(k.length){case 0:S();break;case 1:S(k[0]);break;case 2:S(k[0],k[1]);break;case 3:S(k[0],k[1],k[2]);break;default:S.apply(void 0,k)}})(_)}finally{B(N),I=!1}}}}function R(N){N.source===y&&typeof N.data=="string"&&N.data.indexOf(F)===0&&T(+N.data.slice(F.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,t("_process"),typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,n,i){(function(a){(function(){var s=/[\\^$.*+?()[\]{}|]/g,l=RegExp(s.source),c=typeof a=="object"&&a&&a.Object===Object&&a,o=typeof self=="object"&&self&&self.Object===Object&&self,u=c||o||Function("return this")(),f=Object.prototype.toString,d=u.Symbol,h=d?d.prototype:void 0,m=h?h.toString:void 0;function g(p){if(typeof p=="string")return p;if((function(v){return typeof v=="symbol"||(function(w){return!!w&&typeof w=="object"})(v)&&f.call(v)=="[object Symbol]"})(p))return m?m.call(p):"";var y=p+"";return y=="0"&&1/p==-1/0?"-0":y}n.exports=function(p){var y;return(p=(y=p)==null?"":g(y))&&l.test(p)?p.replace(s,"\\$&"):p}}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(t,n,i){(function(a){(function(){var s="[object Arguments]",l="[object Map]",c="[object Object]",o="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,d=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m=/\\(\\)?/g,g=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[s]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y[l]=y["[object Number]"]=y[c]=y["[object RegExp]"]=y[o]=y["[object String]"]=y["[object WeakMap]"]=!1;var v=typeof a=="object"&&a&&a.Object===Object&&a,w=typeof self=="object"&&self&&self.Object===Object&&self,C=v||w||Function("return this")(),P=typeof i=="object"&&i&&!i.nodeType&&i,F=P&&typeof n=="object"&&n&&!n.nodeType&&n,L=F&&F.exports===P&&v.process,j=(function(){try{return L&&L.binding("util")}catch{}})(),I=j&&j.isTypedArray;function z(je,Ue,ft,_t){for(var $t=-1,Ct=je?je.length:0;++$t<Ct;){var Rt=je[$t];Ue(_t,Rt,ft(Rt),je)}return _t}function $(je,Ue){for(var ft=-1,_t=je?je.length:0;++ft<_t;)if(Ue(je[ft],ft,je))return!0;return!1}function B(je){var Ue=!1;if(je!=null&&typeof je.toString!="function")try{Ue=!!(je+"")}catch{}return Ue}function T(je){var Ue=-1,ft=Array(je.size);return je.forEach((function(_t,$t){ft[++Ue]=[$t,_t]})),ft}function R(je){var Ue=-1,ft=Array(je.size);return je.forEach((function(_t){ft[++Ue]=_t})),ft}var N,_,E,S=Array.prototype,k=Function.prototype,M=Object.prototype,V=C["__core-js_shared__"],O=(N=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",X=k.toString,Q=M.hasOwnProperty,re=M.toString,G=RegExp("^"+X.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),J=C.Symbol,q=C.Uint8Array,U=M.propertyIsEnumerable,Z=S.splice,ie=(_=Object.keys,E=Object,function(je){return _(E(je))}),le=Wt(C,"DataView"),de=Wt(C,"Map"),fe=Wt(C,"Promise"),ue=Wt(C,"Set"),Ae=Wt(C,"WeakMap"),he=Wt(Object,"create"),xe=$e(le),me=$e(de),Ce=$e(fe),ke=$e(ue),Oe=$e(Ae),De=J?J.prototype:void 0,He=De?De.valueOf:void 0,Qe=De?De.toString:void 0;function tt(je){var Ue=-1,ft=je?je.length:0;for(this.clear();++Ue<ft;){var _t=je[Ue];this.set(_t[0],_t[1])}}function st(je){var Ue=-1,ft=je?je.length:0;for(this.clear();++Ue<ft;){var _t=je[Ue];this.set(_t[0],_t[1])}}function it(je){var Ue=-1,ft=je?je.length:0;for(this.clear();++Ue<ft;){var _t=je[Ue];this.set(_t[0],_t[1])}}function pt(je){var Ue=-1,ft=je?je.length:0;for(this.__data__=new it;++Ue<ft;)this.add(je[Ue])}function bt(je){this.__data__=new st(je)}function mt(je,Ue){var ft=Jt(je)||er(je)?(function(Rt,Vr){for(var _r=-1,br=Array(Rt);++_r<Rt;)br[_r]=Vr(_r);return br})(je.length,String):[],_t=ft.length,$t=!!_t;for(var Ct in je)!Q.call(je,Ct)||$t&&(Ct=="length"||Or(Ct,_t))||ft.push(Ct);return ft}function Mt(je,Ue){for(var ft=je.length;ft--;)if(Ot(je[ft][0],Ue))return ft;return-1}function wt(je,Ue,ft,_t){return dt(je,(function($t,Ct,Rt){Ue(_t,$t,ft($t),Rt)})),_t}tt.prototype.clear=function(){this.__data__=he?he(null):{}},tt.prototype.delete=function(je){return this.has(je)&&delete this.__data__[je]},tt.prototype.get=function(je){var Ue=this.__data__;if(he){var ft=Ue[je];return ft==="__lodash_hash_undefined__"?void 0:ft}return Q.call(Ue,je)?Ue[je]:void 0},tt.prototype.has=function(je){var Ue=this.__data__;return he?Ue[je]!==void 0:Q.call(Ue,je)},tt.prototype.set=function(je,Ue){return this.__data__[je]=he&&Ue===void 0?"__lodash_hash_undefined__":Ue,this},st.prototype.clear=function(){this.__data__=[]},st.prototype.delete=function(je){var Ue=this.__data__,ft=Mt(Ue,je);return!(ft<0)&&(ft==Ue.length-1?Ue.pop():Z.call(Ue,ft,1),!0)},st.prototype.get=function(je){var Ue=this.__data__,ft=Mt(Ue,je);return ft<0?void 0:Ue[ft][1]},st.prototype.has=function(je){return Mt(this.__data__,je)>-1},st.prototype.set=function(je,Ue){var ft=this.__data__,_t=Mt(ft,je);return _t<0?ft.push([je,Ue]):ft[_t][1]=Ue,this},it.prototype.clear=function(){this.__data__={hash:new tt,map:new(de||st),string:new tt}},it.prototype.delete=function(je){return Ur(this,je).delete(je)},it.prototype.get=function(je){return Ur(this,je).get(je)},it.prototype.has=function(je){return Ur(this,je).has(je)},it.prototype.set=function(je,Ue){return Ur(this,je).set(je,Ue),this},pt.prototype.add=pt.prototype.push=function(je){return this.__data__.set(je,"__lodash_hash_undefined__"),this},pt.prototype.has=function(je){return this.__data__.has(je)},bt.prototype.clear=function(){this.__data__=new st},bt.prototype.delete=function(je){return this.__data__.delete(je)},bt.prototype.get=function(je){return this.__data__.get(je)},bt.prototype.has=function(je){return this.__data__.has(je)},bt.prototype.set=function(je,Ue){var ft=this.__data__;if(ft instanceof st){var _t=ft.__data__;if(!de||_t.length<199)return _t.push([je,Ue]),this;ft=this.__data__=new it(_t)}return ft.set(je,Ue),this};var et,dt=(et=function(je,Ue){return je&&It(je,Ue,Tn)},function(je,Ue){if(je==null)return je;if(!qt(je))return et(je,Ue);for(var ft=je.length,_t=-1,$t=Object(je);++_t<ft&&Ue($t[_t],_t,$t)!==!1;);return je}),It=(function(je){return function(Ue,ft,_t){for(var $t=-1,Ct=Object(Ue),Rt=_t(Ue),Vr=Rt.length;Vr--;){var _r=Rt[++$t];if(ft(Ct[_r],_r,Ct)===!1)break}return Ue}})();function ht(je,Ue){for(var ft=0,_t=(Ue=At(Ue,je)?[Ue]:Nt(Ue)).length;je!=null&&ft<_t;)je=je[Re(Ue[ft++])];return ft&&ft==_t?je:void 0}function zt(je,Ue){return je!=null&&Ue in Object(je)}function Vt(je,Ue,ft,_t,$t){return je===Ue||(je==null||Ue==null||!kr(je)&&!sn(Ue)?je!=je&&Ue!=Ue:(function(Ct,Rt,Vr,_r,br,pr){var Tr=Jt(Ct),an=Jt(Rt),Sr="[object Array]",_n="[object Array]";Tr||(Sr=(Sr=Ir(Ct))==s?c:Sr),an||(_n=(_n=Ir(Rt))==s?c:_n);var Mn=Sr==c&&!B(Ct),Nn=_n==c&&!B(Rt),Xn=Sr==_n;if(Xn&&!Mn)return pr||(pr=new bt),Tr||xn(Ct)?Yt(Ct,Rt,Vr,_r,br,pr):(function(rn,zr,Ji,Kr,Ua,Cr,ri){switch(Ji){case"[object DataView]":if(rn.byteLength!=zr.byteLength||rn.byteOffset!=zr.byteOffset)return!1;rn=rn.buffer,zr=zr.buffer;case"[object ArrayBuffer]":return!(rn.byteLength!=zr.byteLength||!Kr(new q(rn),new q(zr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ot(+rn,+zr);case"[object Error]":return rn.name==zr.name&&rn.message==zr.message;case"[object RegExp]":case"[object String]":return rn==zr+"";case l:var Aa=T;case o:var ms=2&Cr;if(Aa||(Aa=R),rn.size!=zr.size&&!ms)return!1;var mo=ri.get(rn);if(mo)return mo==zr;Cr|=1,ri.set(rn,zr);var Us=Yt(Aa(rn),Aa(zr),Kr,Ua,Cr,ri);return ri.delete(rn),Us;case"[object Symbol]":if(He)return He.call(rn)==He.call(zr)}return!1})(Ct,Rt,Sr,Vr,_r,br,pr);if(!(2&br)){var ti=Mn&&Q.call(Ct,"__wrapped__"),$a=Nn&&Q.call(Rt,"__wrapped__");if(ti||$a){var cn=ti?Ct.value():Ct,li=$a?Rt.value():Rt;return pr||(pr=new bt),Vr(cn,li,_r,br,pr)}}return Xn?(pr||(pr=new bt),(function(rn,zr,Ji,Kr,Ua,Cr){var ri=2&Ua,Aa=Tn(rn),ms=Aa.length,mo=Tn(zr).length;if(ms!=mo&&!ri)return!1;for(var Us=ms;Us--;){var Ca=Aa[Us];if(!(ri?Ca in zr:Q.call(zr,Ca)))return!1}var gs=Cr.get(rn);if(gs&&Cr.get(zr))return gs==zr;var Si=!0;Cr.set(rn,zr),Cr.set(zr,rn);for(var vi=ri;++Us<ms;){Ca=Aa[Us];var Ei=rn[Ca],qi=zr[Ca];if(Kr)var wr=ri?Kr(qi,Ei,Ca,zr,rn,Cr):Kr(Ei,qi,Ca,rn,zr,Cr);if(!(wr===void 0?Ei===qi||Ji(Ei,qi,Kr,Ua,Cr):wr)){Si=!1;break}vi||(vi=Ca=="constructor")}if(Si&&!vi){var ea=rn.constructor,ka=zr.constructor;ea==ka||!("constructor"in rn)||!("constructor"in zr)||typeof ea=="function"&&ea instanceof ea&&typeof ka=="function"&&ka instanceof ka||(Si=!1)}return Cr.delete(rn),Cr.delete(zr),Si})(Ct,Rt,Vr,_r,br,pr)):!1})(je,Ue,Vt,ft,_t,$t))}function Bt(je){return!(!kr(je)||(function(Ue){return!!O&&O in Ue})(je))&&(or(je)||B(je)?G:g).test($e(je))}function sr(je){return typeof je=="function"?je:je==null?oi:typeof je=="object"?Jt(je)?(function(_t,$t){return At(_t)&&fr($t)?Gr(Re(_t),$t):function(Ct){var Rt=(function(Vr,_r,br){var pr=Vr==null?void 0:ht(Vr,_r);return pr===void 0?br:pr})(Ct,_t);return Rt===void 0&&Rt===$t?(function(Vr,_r){return Vr!=null&&(function(br,pr,Tr){pr=At(pr,br)?[pr]:Nt(pr);for(var an,Sr=-1,_n=pr.length;++Sr<_n;){var Mn=Re(pr[Sr]);if(!(an=br!=null&&Tr(br,Mn)))break;br=br[Mn]}return an||!!(_n=br?br.length:0)&&Gt(_n)&&Or(Mn,_n)&&(Jt(br)||er(br))})(Vr,_r,zt)})(Ct,_t):Vt($t,Rt,void 0,3)}})(je[0],je[1]):(function(_t){var $t=(function(Ct){for(var Rt=Tn(Ct),Vr=Rt.length;Vr--;){var _r=Rt[Vr],br=Ct[_r];Rt[Vr]=[_r,br,fr(br)]}return Rt})(_t);return $t.length==1&&$t[0][2]?Gr($t[0][0],$t[0][1]):function(Ct){return Ct===_t||(function(Rt,Vr,_r,br){var pr=_r.length,Tr=pr;if(Rt==null)return!Tr;for(Rt=Object(Rt);pr--;){var an=_r[pr];if(an[2]?an[1]!==Rt[an[0]]:!(an[0]in Rt))return!1}for(;++pr<Tr;){var Sr=(an=_r[pr])[0],_n=Rt[Sr],Mn=an[1];if(an[2]){if(_n===void 0&&!(Sr in Rt))return!1}else{var Nn=new bt,Xn;if(!(Xn===void 0?Vt(Mn,_n,br,3,Nn):Xn))return!1}}return!0})(Ct,_t,$t)}})(je):At(Ue=je)?(ft=Re(Ue),function(_t){return _t==null?void 0:_t[ft]}):(function(_t){return function($t){return ht($t,_t)}})(Ue);var Ue,ft}function Ht(je){if(ft=(Ue=je)&&Ue.constructor,_t=typeof ft=="function"&&ft.prototype||M,Ue!==_t)return ie(je);var Ue,ft,_t,$t=[];for(var Ct in Object(je))Q.call(je,Ct)&&Ct!="constructor"&&$t.push(Ct);return $t}function Nt(je){return Jt(je)?je:Qt(je)}function Yt(je,Ue,ft,_t,$t,Ct){var Rt=2&$t,Vr=je.length,_r=Ue.length;if(Vr!=_r&&!(Rt&&_r>Vr))return!1;var br=Ct.get(je);if(br&&Ct.get(Ue))return br==Ue;var pr=-1,Tr=!0,an=1&$t?new pt:void 0;for(Ct.set(je,Ue),Ct.set(Ue,je);++pr<Vr;){var Sr=je[pr],_n=Ue[pr];if(_t)var Mn=Rt?_t(_n,Sr,pr,Ue,je,Ct):_t(Sr,_n,pr,je,Ue,Ct);if(Mn!==void 0){if(Mn)continue;Tr=!1;break}if(an){if(!$(Ue,(function(Nn,Xn){if(!an.has(Xn)&&(Sr===Nn||ft(Sr,Nn,_t,$t,Ct)))return an.add(Xn)}))){Tr=!1;break}}else if(Sr!==_n&&!ft(Sr,_n,_t,$t,Ct)){Tr=!1;break}}return Ct.delete(je),Ct.delete(Ue),Tr}function Ur(je,Ue){var ft,_t,$t=je.__data__;return((_t=typeof(ft=Ue))=="string"||_t=="number"||_t=="symbol"||_t=="boolean"?ft!=="__proto__":ft===null)?$t[typeof Ue=="string"?"string":"hash"]:$t.map}function Wt(je,Ue){var ft=(function(_t,$t){return _t==null?void 0:_t[$t]})(je,Ue);return Bt(ft)?ft:void 0}var Ir=function(je){return re.call(je)};function Or(je,Ue){return!!(Ue=Ue??9007199254740991)&&(typeof je=="number"||p.test(je))&&je>-1&&je%1==0&&je<Ue}function At(je,Ue){if(Jt(je))return!1;var ft=typeof je;return!(ft!="number"&&ft!="symbol"&&ft!="boolean"&&je!=null&&!tn(je))||f.test(je)||!u.test(je)||Ue!=null&&je in Object(Ue)}function fr(je){return je==je&&!kr(je)}function Gr(je,Ue){return function(ft){return ft!=null&&ft[je]===Ue&&(Ue!==void 0||je in Object(ft))}}(le&&Ir(new le(new ArrayBuffer(1)))!="[object DataView]"||de&&Ir(new de)!=l||fe&&Ir(fe.resolve())!="[object Promise]"||ue&&Ir(new ue)!=o||Ae&&Ir(new Ae)!="[object WeakMap]")&&(Ir=function(je){var Ue=re.call(je),ft=Ue==c?je.constructor:void 0,_t=ft?$e(ft):void 0;if(_t)switch(_t){case xe:return"[object DataView]";case me:return l;case Ce:return"[object Promise]";case ke:return o;case Oe:return"[object WeakMap]"}return Ue});var Qt=ar((function(je){var Ue;je=(Ue=je)==null?"":(function(_t){if(typeof _t=="string")return _t;if(tn(_t))return Qe?Qe.call(_t):"";var $t=_t+"";return $t=="0"&&1/_t==-1/0?"-0":$t})(Ue);var ft=[];return d.test(je)&&ft.push(""),je.replace(h,(function(_t,$t,Ct,Rt){ft.push(Ct?Rt.replace(m,"$1"):$t||_t)})),ft}));function Re(je){if(typeof je=="string"||tn(je))return je;var Ue=je+"";return Ue=="0"&&1/je==-1/0?"-0":Ue}function $e(je){if(je!=null){try{return X.call(je)}catch{}try{return je+""}catch{}}return""}var Je,xt=(Je=function(je,Ue,ft){Q.call(je,ft)?je[ft].push(Ue):je[ft]=[Ue]},function(je,Ue){var ft=Jt(je)?z:wt,_t={};return ft(je,Je,sr(Ue),_t)});function ar(je,Ue){if(typeof je!="function"||Ue&&typeof Ue!="function")throw new TypeError("Expected a function");var ft=function(){var _t=arguments,$t=Ue?Ue.apply(this,_t):_t[0],Ct=ft.cache;if(Ct.has($t))return Ct.get($t);var Rt=je.apply(this,_t);return ft.cache=Ct.set($t,Rt),Rt};return ft.cache=new(ar.Cache||it),ft}function Ot(je,Ue){return je===Ue||je!=je&&Ue!=Ue}function er(je){return(function(Ue){return sn(Ue)&&qt(Ue)})(je)&&Q.call(je,"callee")&&(!U.call(je,"callee")||re.call(je)==s)}ar.Cache=it;var Jt=Array.isArray;function qt(je){return je!=null&&Gt(je.length)&&!or(je)}function or(je){var Ue=kr(je)?re.call(je):"";return Ue=="[object Function]"||Ue=="[object GeneratorFunction]"}function Gt(je){return typeof je=="number"&&je>-1&&je%1==0&&je<=9007199254740991}function kr(je){var Ue=typeof je;return!!je&&(Ue=="object"||Ue=="function")}function sn(je){return!!je&&typeof je=="object"}function tn(je){return typeof je=="symbol"||sn(je)&&re.call(je)=="[object Symbol]"}var xn=I?(function(je){return function(Ue){return je(Ue)}})(I):function(je){return sn(je)&&Gt(je.length)&&!!y[re.call(je)]};function Tn(je){return qt(je)?mt(je):Ht(je)}function oi(je){return je}n.exports=xt}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(t,n,i){var a=Object.prototype.toString;n.exports=function(s){return s===!0||s===!1||(function(l){return!!l&&typeof l=="object"})(s)&&a.call(s)=="[object Boolean]"}},{}],445:[function(t,n,i){(function(a){(function(){var s="[object Arguments]",l="[object Map]",c="[object Object]",o="[object Set]",u=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[s]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d[l]=d["[object Number]"]=d[c]=d["[object RegExp]"]=d[o]=d["[object String]"]=d["[object WeakMap]"]=!1;var h=typeof a=="object"&&a&&a.Object===Object&&a,m=typeof self=="object"&&self&&self.Object===Object&&self,g=h||m||Function("return this")(),p=typeof i=="object"&&i&&!i.nodeType&&i,y=p&&typeof n=="object"&&n&&!n.nodeType&&n,v=y&&y.exports===p,w=v&&h.process,C=(function(){try{return w&&w.binding&&w.binding("util")}catch{}})(),P=C&&C.isTypedArray;function F(Re,$e){for(var Je=-1,xt=Re==null?0:Re.length;++Je<xt;)if($e(Re[Je],Je,Re))return!0;return!1}function L(Re){var $e=-1,Je=Array(Re.size);return Re.forEach((function(xt,ar){Je[++$e]=[ar,xt]})),Je}function j(Re){var $e=-1,Je=Array(Re.size);return Re.forEach((function(xt){Je[++$e]=xt})),Je}var I,z,$,B=Array.prototype,T=Function.prototype,R=Object.prototype,N=g["__core-js_shared__"],_=T.toString,E=R.hasOwnProperty,S=(I=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"",k=R.toString,M=RegExp("^"+_.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=v?g.Buffer:void 0,O=g.Symbol,X=g.Uint8Array,Q=R.propertyIsEnumerable,re=B.splice,G=O?O.toStringTag:void 0,J=Object.getOwnPropertySymbols,q=V?V.isBuffer:void 0,U=(z=Object.keys,$=Object,function(Re){return z($(Re))}),Z=zt(g,"DataView"),ie=zt(g,"Map"),le=zt(g,"Promise"),de=zt(g,"Set"),fe=zt(g,"WeakMap"),ue=zt(Object,"create"),Ae=Ht(Z),he=Ht(ie),xe=Ht(le),me=Ht(de),Ce=Ht(fe),ke=O?O.prototype:void 0,Oe=ke?ke.valueOf:void 0;function De(Re){var $e=-1,Je=Re==null?0:Re.length;for(this.clear();++$e<Je;){var xt=Re[$e];this.set(xt[0],xt[1])}}function He(Re){var $e=-1,Je=Re==null?0:Re.length;for(this.clear();++$e<Je;){var xt=Re[$e];this.set(xt[0],xt[1])}}function Qe(Re){var $e=-1,Je=Re==null?0:Re.length;for(this.clear();++$e<Je;){var xt=Re[$e];this.set(xt[0],xt[1])}}function tt(Re){var $e=-1,Je=Re==null?0:Re.length;for(this.__data__=new Qe;++$e<Je;)this.add(Re[$e])}function st(Re){var $e=this.__data__=new He(Re);this.size=$e.size}function it(Re,$e){var Je=Ur(Re),xt=!Je&&Yt(Re),ar=!Je&&!xt&&Wt(Re),Ot=!Je&&!xt&&!ar&&Gr(Re),er=Je||xt||ar||Ot,Jt=er?(function(Gt,kr){for(var sn=-1,tn=Array(Gt);++sn<Gt;)tn[sn]=kr(sn);return tn})(Re.length,String):[],qt=Jt.length;for(var or in Re)!E.call(Re,or)||er&&(or=="length"||ar&&(or=="offset"||or=="parent")||Ot&&(or=="buffer"||or=="byteLength"||or=="byteOffset")||sr(or,qt))||Jt.push(or);return Jt}function pt(Re,$e){for(var Je=Re.length;Je--;)if(Nt(Re[Je][0],$e))return Je;return-1}function bt(Re){return Re==null?Re===void 0?"[object Undefined]":"[object Null]":G&&G in Object(Re)?(function($e){var Je=E.call($e,G),xt=$e[G];try{$e[G]=void 0;var ar=!0}catch{}var Ot=k.call($e);return ar&&(Je?$e[G]=xt:delete $e[G]),Ot})(Re):(function($e){return k.call($e)})(Re)}function mt(Re){return fr(Re)&&bt(Re)==s}function Mt(Re,$e,Je,xt,ar){return Re===$e||(Re==null||$e==null||!fr(Re)&&!fr($e)?Re!=Re&&$e!=$e:(function(Ot,er,Jt,qt,or,Gt){var kr=Ur(Ot),sn=Ur(er),tn=kr?"[object Array]":Bt(Ot),xn=sn?"[object Array]":Bt(er),Tn=(tn=tn==s?c:tn)==c,oi=(xn=xn==s?c:xn)==c,je=tn==xn;if(je&&Wt(Ot)){if(!Wt(er))return!1;kr=!0,Tn=!1}if(je&&!Tn)return Gt||(Gt=new st),kr||Gr(Ot)?dt(Ot,er,Jt,qt,or,Gt):(function(Ct,Rt,Vr,_r,br,pr,Tr){switch(Vr){case"[object DataView]":if(Ct.byteLength!=Rt.byteLength||Ct.byteOffset!=Rt.byteOffset)return!1;Ct=Ct.buffer,Rt=Rt.buffer;case"[object ArrayBuffer]":return!(Ct.byteLength!=Rt.byteLength||!pr(new X(Ct),new X(Rt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Nt(+Ct,+Rt);case"[object Error]":return Ct.name==Rt.name&&Ct.message==Rt.message;case"[object RegExp]":case"[object String]":return Ct==Rt+"";case l:var an=L;case o:var Sr=1&_r;if(an||(an=j),Ct.size!=Rt.size&&!Sr)return!1;var _n=Tr.get(Ct);if(_n)return _n==Rt;_r|=2,Tr.set(Ct,Rt);var Mn=dt(an(Ct),an(Rt),_r,br,pr,Tr);return Tr.delete(Ct),Mn;case"[object Symbol]":if(Oe)return Oe.call(Ct)==Oe.call(Rt)}return!1})(Ot,er,tn,Jt,qt,or,Gt);if(!(1&Jt)){var Ue=Tn&&E.call(Ot,"__wrapped__"),ft=oi&&E.call(er,"__wrapped__");if(Ue||ft){var _t=Ue?Ot.value():Ot,$t=ft?er.value():er;return Gt||(Gt=new st),or(_t,$t,Jt,qt,Gt)}}return je?(Gt||(Gt=new st),(function(Ct,Rt,Vr,_r,br,pr){var Tr=1&Vr,an=It(Ct),Sr=an.length,_n=It(Rt).length;if(Sr!=_n&&!Tr)return!1;for(var Mn=Sr;Mn--;){var Nn=an[Mn];if(!(Tr?Nn in Rt:E.call(Rt,Nn)))return!1}var Xn=pr.get(Ct);if(Xn&&pr.get(Rt))return Xn==Rt;var ti=!0;pr.set(Ct,Rt),pr.set(Rt,Ct);for(var $a=Tr;++Mn<Sr;){Nn=an[Mn];var cn=Ct[Nn],li=Rt[Nn];if(_r)var rn=Tr?_r(li,cn,Nn,Rt,Ct,pr):_r(cn,li,Nn,Ct,Rt,pr);if(!(rn===void 0?cn===li||br(cn,li,Vr,_r,pr):rn)){ti=!1;break}$a||($a=Nn=="constructor")}if(ti&&!$a){var zr=Ct.constructor,Ji=Rt.constructor;zr==Ji||!("constructor"in Ct)||!("constructor"in Rt)||typeof zr=="function"&&zr instanceof zr&&typeof Ji=="function"&&Ji instanceof Ji||(ti=!1)}return pr.delete(Ct),pr.delete(Rt),ti})(Ot,er,Jt,qt,or,Gt)):!1})(Re,$e,Je,xt,Mt,ar))}function wt(Re){return!(!At(Re)||(function($e){return!!S&&S in $e})(Re))&&(Ir(Re)?M:u).test(Ht(Re))}function et(Re){if(Je=($e=Re)&&$e.constructor,xt=typeof Je=="function"&&Je.prototype||R,$e!==xt)return U(Re);var $e,Je,xt,ar=[];for(var Ot in Object(Re))E.call(Re,Ot)&&Ot!="constructor"&&ar.push(Ot);return ar}function dt(Re,$e,Je,xt,ar,Ot){var er=1&Je,Jt=Re.length,qt=$e.length;if(Jt!=qt&&!(er&&qt>Jt))return!1;var or=Ot.get(Re);if(or&&Ot.get($e))return or==$e;var Gt=-1,kr=!0,sn=2&Je?new tt:void 0;for(Ot.set(Re,$e),Ot.set($e,Re);++Gt<Jt;){var tn=Re[Gt],xn=$e[Gt];if(xt)var Tn=er?xt(xn,tn,Gt,$e,Re,Ot):xt(tn,xn,Gt,Re,$e,Ot);if(Tn!==void 0){if(Tn)continue;kr=!1;break}if(sn){if(!F($e,(function(oi,je){if(Ue=je,!sn.has(Ue)&&(tn===oi||ar(tn,oi,Je,xt,Ot)))return sn.push(je);var Ue}))){kr=!1;break}}else if(tn!==xn&&!ar(tn,xn,Je,xt,Ot)){kr=!1;break}}return Ot.delete(Re),Ot.delete($e),kr}function It(Re){return(function($e,Je,xt){var ar=Je($e);return Ur($e)?ar:(function(Ot,er){for(var Jt=-1,qt=er.length,or=Ot.length;++Jt<qt;)Ot[or+Jt]=er[Jt];return Ot})(ar,xt($e))})(Re,Qt,Vt)}function ht(Re,$e){var Je,xt,ar=Re.__data__;return((xt=typeof(Je=$e))=="string"||xt=="number"||xt=="symbol"||xt=="boolean"?Je!=="__proto__":Je===null)?ar[typeof $e=="string"?"string":"hash"]:ar.map}function zt(Re,$e){var Je=(function(xt,ar){return xt==null?void 0:xt[ar]})(Re,$e);return wt(Je)?Je:void 0}De.prototype.clear=function(){this.__data__=ue?ue(null):{},this.size=0},De.prototype.delete=function(Re){var $e=this.has(Re)&&delete this.__data__[Re];return this.size-=$e?1:0,$e},De.prototype.get=function(Re){var $e=this.__data__;if(ue){var Je=$e[Re];return Je==="__lodash_hash_undefined__"?void 0:Je}return E.call($e,Re)?$e[Re]:void 0},De.prototype.has=function(Re){var $e=this.__data__;return ue?$e[Re]!==void 0:E.call($e,Re)},De.prototype.set=function(Re,$e){var Je=this.__data__;return this.size+=this.has(Re)?0:1,Je[Re]=ue&&$e===void 0?"__lodash_hash_undefined__":$e,this},He.prototype.clear=function(){this.__data__=[],this.size=0},He.prototype.delete=function(Re){var $e=this.__data__,Je=pt($e,Re);return!(Je<0)&&(Je==$e.length-1?$e.pop():re.call($e,Je,1),--this.size,!0)},He.prototype.get=function(Re){var $e=this.__data__,Je=pt($e,Re);return Je<0?void 0:$e[Je][1]},He.prototype.has=function(Re){return pt(this.__data__,Re)>-1},He.prototype.set=function(Re,$e){var Je=this.__data__,xt=pt(Je,Re);return xt<0?(++this.size,Je.push([Re,$e])):Je[xt][1]=$e,this},Qe.prototype.clear=function(){this.size=0,this.__data__={hash:new De,map:new(ie||He),string:new De}},Qe.prototype.delete=function(Re){var $e=ht(this,Re).delete(Re);return this.size-=$e?1:0,$e},Qe.prototype.get=function(Re){return ht(this,Re).get(Re)},Qe.prototype.has=function(Re){return ht(this,Re).has(Re)},Qe.prototype.set=function(Re,$e){var Je=ht(this,Re),xt=Je.size;return Je.set(Re,$e),this.size+=Je.size==xt?0:1,this},tt.prototype.add=tt.prototype.push=function(Re){return this.__data__.set(Re,"__lodash_hash_undefined__"),this},tt.prototype.has=function(Re){return this.__data__.has(Re)},st.prototype.clear=function(){this.__data__=new He,this.size=0},st.prototype.delete=function(Re){var $e=this.__data__,Je=$e.delete(Re);return this.size=$e.size,Je},st.prototype.get=function(Re){return this.__data__.get(Re)},st.prototype.has=function(Re){return this.__data__.has(Re)},st.prototype.set=function(Re,$e){var Je=this.__data__;if(Je instanceof He){var xt=Je.__data__;if(!ie||xt.length<199)return xt.push([Re,$e]),this.size=++Je.size,this;Je=this.__data__=new Qe(xt)}return Je.set(Re,$e),this.size=Je.size,this};var Vt=J?function(Re){return Re==null?[]:(Re=Object(Re),(function($e,Je){for(var xt=-1,ar=$e==null?0:$e.length,Ot=0,er=[];++xt<ar;){var Jt=$e[xt];Je(Jt,xt,$e)&&(er[Ot++]=Jt)}return er})(J(Re),(function($e){return Q.call(Re,$e)})))}:function(){return[]},Bt=bt;function sr(Re,$e){return!!($e=$e??9007199254740991)&&(typeof Re=="number"||f.test(Re))&&Re>-1&&Re%1==0&&Re<$e}function Ht(Re){if(Re!=null){try{return _.call(Re)}catch{}try{return Re+""}catch{}}return""}function Nt(Re,$e){return Re===$e||Re!=Re&&$e!=$e}(Z&&Bt(new Z(new ArrayBuffer(1)))!="[object DataView]"||ie&&Bt(new ie)!=l||le&&Bt(le.resolve())!="[object Promise]"||de&&Bt(new de)!=o||fe&&Bt(new fe)!="[object WeakMap]")&&(Bt=function(Re){var $e=bt(Re),Je=$e==c?Re.constructor:void 0,xt=Je?Ht(Je):"";if(xt)switch(xt){case Ae:return"[object DataView]";case he:return l;case xe:return"[object Promise]";case me:return o;case Ce:return"[object WeakMap]"}return $e});var Yt=mt((function(){return arguments})())?mt:function(Re){return fr(Re)&&E.call(Re,"callee")&&!Q.call(Re,"callee")},Ur=Array.isArray,Wt=q||function(){return!1};function Ir(Re){if(!At(Re))return!1;var $e=bt(Re);return $e=="[object Function]"||$e=="[object GeneratorFunction]"||$e=="[object AsyncFunction]"||$e=="[object Proxy]"}function Or(Re){return typeof Re=="number"&&Re>-1&&Re%1==0&&Re<=9007199254740991}function At(Re){var $e=typeof Re;return Re!=null&&($e=="object"||$e=="function")}function fr(Re){return Re!=null&&typeof Re=="object"}var Gr=P?(function(Re){return function($e){return Re($e)}})(P):function(Re){return fr(Re)&&Or(Re.length)&&!!d[bt(Re)]};function Qt(Re){return($e=Re)!=null&&Or($e.length)&&!Ir($e)?it(Re):et(Re);var $e}n.exports=function(Re,$e){return Mt(Re,$e)}}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(t,n,i){(function(a){(function(){var s=typeof a=="object"&&a&&a.Object===Object&&a,l=typeof self=="object"&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),o=Object.prototype,u=o.hasOwnProperty,f=o.toString,d=c.Symbol,h=d?d.toStringTag:void 0;function m(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":h&&h in Object(g)?(function(p){var y=u.call(p,h),v=p[h];try{p[h]=void 0;var w=!0}catch{}var C=f.call(p);return w&&(y?p[h]=v:delete p[h]),C})(g):(function(p){return f.call(p)})(g)}n.exports=function(g){if(!(function(y){var v=typeof y;return y!=null&&(v=="object"||v=="function")})(g))return!1;var p=m(g);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(t,n,i){n.exports=function(a){return a==null}},{}],448:[function(t,n,i){n.exports=function(a){return a===void 0}},{}],449:[function(t,n,i){(function(a){(function(){var s=/^\[object .+?Constructor\]$/,l=typeof a=="object"&&a&&a.Object===Object&&a,c=typeof self=="object"&&self&&self.Object===Object&&self,o=l||c||Function("return this")();function u(O,X){return!!(O&&O.length)&&(function(Q,re,G){if(re!=re)return(function(U,Z,ie,le){for(var de=U.length,fe=ie+-1;++fe<de;)if(Z(U[fe],fe,U))return fe;return-1})(Q,f,G);for(var J=G-1,q=Q.length;++J<q;)if(Q[J]===re)return J;return-1})(O,X,0)>-1}function f(O){return O!=O}function d(O,X){return O.has(X)}function h(O){var X=-1,Q=Array(O.size);return O.forEach((function(re){Q[++X]=re})),Q}var m,g=Array.prototype,p=Function.prototype,y=Object.prototype,v=o["__core-js_shared__"],w=(m=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",C=p.toString,P=y.hasOwnProperty,F=y.toString,L=RegExp("^"+C.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=g.splice,I=M(o,"Map"),z=M(o,"Set"),$=M(Object,"create");function B(O){var X=-1,Q=O?O.length:0;for(this.clear();++X<Q;){var re=O[X];this.set(re[0],re[1])}}function T(O){var X=-1,Q=O?O.length:0;for(this.clear();++X<Q;){var re=O[X];this.set(re[0],re[1])}}function R(O){var X=-1,Q=O?O.length:0;for(this.clear();++X<Q;){var re=O[X];this.set(re[0],re[1])}}function N(O){var X=-1,Q=O?O.length:0;for(this.__data__=new R;++X<Q;)this.add(O[X])}function _(O,X){for(var Q,re,G=O.length;G--;)if((Q=O[G][0])===(re=X)||Q!=Q&&re!=re)return G;return-1}function E(O){return!(!V(O)||(X=O,w&&w in X))&&((function(Q){var re=V(Q)?F.call(Q):"";return re=="[object Function]"||re=="[object GeneratorFunction]"})(O)||(function(Q){var re=!1;if(Q!=null&&typeof Q.toString!="function")try{re=!!(Q+"")}catch{}return re})(O)?L:s).test((function(Q){if(Q!=null){try{return C.call(Q)}catch{}try{return Q+""}catch{}}return""})(O));var X}B.prototype.clear=function(){this.__data__=$?$(null):{}},B.prototype.delete=function(O){return this.has(O)&&delete this.__data__[O]},B.prototype.get=function(O){var X=this.__data__;if($){var Q=X[O];return Q==="__lodash_hash_undefined__"?void 0:Q}return P.call(X,O)?X[O]:void 0},B.prototype.has=function(O){var X=this.__data__;return $?X[O]!==void 0:P.call(X,O)},B.prototype.set=function(O,X){return this.__data__[O]=$&&X===void 0?"__lodash_hash_undefined__":X,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(O){var X=this.__data__,Q=_(X,O);return!(Q<0)&&(Q==X.length-1?X.pop():j.call(X,Q,1),!0)},T.prototype.get=function(O){var X=this.__data__,Q=_(X,O);return Q<0?void 0:X[Q][1]},T.prototype.has=function(O){return _(this.__data__,O)>-1},T.prototype.set=function(O,X){var Q=this.__data__,re=_(Q,O);return re<0?Q.push([O,X]):Q[re][1]=X,this},R.prototype.clear=function(){this.__data__={hash:new B,map:new(I||T),string:new B}},R.prototype.delete=function(O){return k(this,O).delete(O)},R.prototype.get=function(O){return k(this,O).get(O)},R.prototype.has=function(O){return k(this,O).has(O)},R.prototype.set=function(O,X){return k(this,O).set(O,X),this},N.prototype.add=N.prototype.push=function(O){return this.__data__.set(O,"__lodash_hash_undefined__"),this},N.prototype.has=function(O){return this.__data__.has(O)};var S=z&&1/h(new z([,-0]))[1]==1/0?function(O){return new z(O)}:function(){};function k(O,X){var Q,re,G=O.__data__;return((re=typeof(Q=X))=="string"||re=="number"||re=="symbol"||re=="boolean"?Q!=="__proto__":Q===null)?G[typeof X=="string"?"string":"hash"]:G.map}function M(O,X){var Q=(function(re,G){return re==null?void 0:re[G]})(O,X);return E(Q)?Q:void 0}function V(O){var X=typeof O;return!!O&&(X=="object"||X=="function")}n.exports=function(O){return O&&O.length?(function(X,Q,re){var G=-1,J=u,q=X.length,U=!0,Z=[],ie=Z;if(q>=200){var le=S(X);if(le)return h(le);U=!1,J=d,ie=new N}else ie=Z;e:for(;++G<q;){var de=X[G],fe=de;if(de=de!==0?de:0,U&&fe==fe){for(var ue=ie.length;ue--;)if(ie[ue]===fe)continue e;Z.push(de)}else J(ie,fe,re)||(ie!==Z&&ie.push(fe),Z.push(de))}return Z})(O):[]}}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(t,n,i){var a=t("inherits"),s=t("hash-base"),l=t("safe-buffer").Buffer,c=new Array(16);function o(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(g,p){return g<<p|g>>>32-p}function f(g,p,y,v,w,C,P){return u(g+(p&y|~p&v)+w+C|0,P)+p|0}function d(g,p,y,v,w,C,P){return u(g+(p&v|y&~v)+w+C|0,P)+p|0}function h(g,p,y,v,w,C,P){return u(g+(p^y^v)+w+C|0,P)+p|0}function m(g,p,y,v,w,C,P){return u(g+(y^(p|~v))+w+C|0,P)+p|0}a(o,s),o.prototype._update=function(){for(var g=c,p=0;p<16;++p)g[p]=this._block.readInt32LE(4*p);var y=this._a,v=this._b,w=this._c,C=this._d;y=f(y,v,w,C,g[0],3614090360,7),C=f(C,y,v,w,g[1],3905402710,12),w=f(w,C,y,v,g[2],606105819,17),v=f(v,w,C,y,g[3],3250441966,22),y=f(y,v,w,C,g[4],4118548399,7),C=f(C,y,v,w,g[5],1200080426,12),w=f(w,C,y,v,g[6],2821735955,17),v=f(v,w,C,y,g[7],4249261313,22),y=f(y,v,w,C,g[8],1770035416,7),C=f(C,y,v,w,g[9],2336552879,12),w=f(w,C,y,v,g[10],4294925233,17),v=f(v,w,C,y,g[11],2304563134,22),y=f(y,v,w,C,g[12],1804603682,7),C=f(C,y,v,w,g[13],4254626195,12),w=f(w,C,y,v,g[14],2792965006,17),y=d(y,v=f(v,w,C,y,g[15],1236535329,22),w,C,g[1],4129170786,5),C=d(C,y,v,w,g[6],3225465664,9),w=d(w,C,y,v,g[11],643717713,14),v=d(v,w,C,y,g[0],3921069994,20),y=d(y,v,w,C,g[5],3593408605,5),C=d(C,y,v,w,g[10],38016083,9),w=d(w,C,y,v,g[15],3634488961,14),v=d(v,w,C,y,g[4],3889429448,20),y=d(y,v,w,C,g[9],568446438,5),C=d(C,y,v,w,g[14],3275163606,9),w=d(w,C,y,v,g[3],4107603335,14),v=d(v,w,C,y,g[8],1163531501,20),y=d(y,v,w,C,g[13],2850285829,5),C=d(C,y,v,w,g[2],4243563512,9),w=d(w,C,y,v,g[7],1735328473,14),y=h(y,v=d(v,w,C,y,g[12],2368359562,20),w,C,g[5],4294588738,4),C=h(C,y,v,w,g[8],2272392833,11),w=h(w,C,y,v,g[11],1839030562,16),v=h(v,w,C,y,g[14],4259657740,23),y=h(y,v,w,C,g[1],2763975236,4),C=h(C,y,v,w,g[4],1272893353,11),w=h(w,C,y,v,g[7],4139469664,16),v=h(v,w,C,y,g[10],3200236656,23),y=h(y,v,w,C,g[13],681279174,4),C=h(C,y,v,w,g[0],3936430074,11),w=h(w,C,y,v,g[3],3572445317,16),v=h(v,w,C,y,g[6],76029189,23),y=h(y,v,w,C,g[9],3654602809,4),C=h(C,y,v,w,g[12],3873151461,11),w=h(w,C,y,v,g[15],530742520,16),y=m(y,v=h(v,w,C,y,g[2],3299628645,23),w,C,g[0],4096336452,6),C=m(C,y,v,w,g[7],1126891415,10),w=m(w,C,y,v,g[14],2878612391,15),v=m(v,w,C,y,g[5],4237533241,21),y=m(y,v,w,C,g[12],1700485571,6),C=m(C,y,v,w,g[3],2399980690,10),w=m(w,C,y,v,g[10],4293915773,15),v=m(v,w,C,y,g[1],2240044497,21),y=m(y,v,w,C,g[8],1873313359,6),C=m(C,y,v,w,g[15],4264355552,10),w=m(w,C,y,v,g[6],2734768916,15),v=m(v,w,C,y,g[13],1309151649,21),y=m(y,v,w,C,g[4],4149444226,6),C=m(C,y,v,w,g[11],3174756917,10),w=m(w,C,y,v,g[2],718787259,15),v=m(v,w,C,y,g[9],3951481745,21),this._a=this._a+y|0,this._b=this._b+v|0,this._c=this._c+w|0,this._d=this._d+C|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var g=l.allocUnsafe(16);return g.writeInt32LE(this._a,0),g.writeInt32LE(this._b,4),g.writeInt32LE(this._c,8),g.writeInt32LE(this._d,12),g},n.exports=o},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,n,i){var a=t("bn.js"),s=t("brorand");function l(c){this.rand=c||new s.Rand}n.exports=l,l.create=function(c){return new l(c)},l.prototype._randbelow=function(c){var o=c.bitLength(),u=Math.ceil(o/8);do var f=new a(this.rand.generate(u));while(f.cmp(c)>=0);return f},l.prototype._randrange=function(c,o){var u=o.sub(c);return c.add(this._randbelow(u))},l.prototype.test=function(c,o,u){var f=c.bitLength(),d=a.mont(c),h=new a(1).toRed(d);o||(o=Math.max(1,f/48|0));for(var m=c.subn(1),g=0;!m.testn(g);g++);for(var p=c.shrn(g),y=m.toRed(d);o>0;o--){var v=this._randrange(new a(2),m);u&&u(v);var w=v.toRed(d).redPow(p);if(w.cmp(h)!==0&&w.cmp(y)!==0){for(var C=1;C<g;C++){if((w=w.redSqr()).cmp(h)===0)return!1;if(w.cmp(y)===0)break}if(C===g)return!1}}return!0},l.prototype.getDivisor=function(c,o){var u=c.bitLength(),f=a.mont(c),d=new a(1).toRed(f);o||(o=Math.max(1,u/48|0));for(var h=c.subn(1),m=0;!h.testn(m);m++);for(var g=c.shrn(m),p=h.toRed(f);o>0;o--){var y=this._randrange(new a(2),h),v=c.gcd(y);if(v.cmpn(1)!==0)return v;var w=y.toRed(f).redPow(g);if(w.cmp(d)!==0&&w.cmp(p)!==0){for(var C=1;C<m;C++){if((w=w.redSqr()).cmp(d)===0)return w.fromRed().subn(1).gcd(c);if(w.cmp(p)===0)break}if(C===m)return(w=w.redSqr()).fromRed().subn(1).gcd(c)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],453:[function(t,n,i){function a(s,l){if(!s)throw new Error(l||"Assertion failed")}n.exports=a,a.equal=function(s,l,c){if(s!=l)throw new Error(c||"Assertion failed: "+s+" != "+l)}},{}],454:[function(t,n,i){var a=i;function s(c){return c.length===1?"0"+c:c}function l(c){for(var o="",u=0;u<c.length;u++)o+=s(c[u].toString(16));return o}a.toArray=function(c,o){if(Array.isArray(c))return c.slice();if(!c)return[];var u=[];if(typeof c!="string"){for(var f=0;f<c.length;f++)u[f]=0|c[f];return u}if(o==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),f=0;f<c.length;f+=2)u.push(parseInt(c[f]+c[f+1],16));else for(f=0;f<c.length;f++){var d=c.charCodeAt(f),h=d>>8,m=255&d;h?u.push(h,m):u.push(m)}return u},a.zero2=s,a.toHex=l,a.encode=function(c,o){return o==="hex"?l(c):c}},{}],455:[function(t,n,i){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,n,i){var a=t("asn1.js");i.certificate=t("./certificate");var s=a.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));i.RSAPrivateKey=s;var l=a.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));i.RSAPublicKey=l;var c=a.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}));i.PublicKey=c;var o=a.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=a.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())}));i.PrivateKey=u;var f=a.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));i.EncryptedPrivateKey=f;var d=a.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));i.DSAPrivateKey=d,i.DSAparam=a.define("DSAparam",(function(){this.int()}));var h=a.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(m),this.key("publicKey").optional().explicit(1).bitstr())}));i.ECPrivateKey=h;var m=a.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));i.signature=a.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(t,n,i){var a=t("asn1.js"),s=a.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),l=a.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),c=a.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),o=a.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())})),u=a.define("RelativeDistinguishedName",(function(){this.setof(l)})),f=a.define("RDNSequence",(function(){this.seqof(u)})),d=a.define("Name",(function(){this.choice({rdnSequence:this.use(f)})})),h=a.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))})),m=a.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),g=a.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(c),this.key("issuer").use(d),this.key("validity").use(h),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(m).optional())})),p=a.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(g),this.key("signatureAlgorithm").use(c),this.key("signatureValue").bitstr())}));n.exports=p},{"asn1.js":170}],458:[function(t,n,i){var a=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,l=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,c=t("evp_bytestokey"),o=t("browserify-aes"),u=t("safe-buffer").Buffer;n.exports=function(f,d){var h,m=f.toString(),g=m.match(a);if(g){var p="aes"+g[1],y=u.from(g[2],"hex"),v=u.from(g[3].replace(/[\r\n]/g,""),"base64"),w=c(d,y.slice(0,8),parseInt(g[1],10)).key,C=[],P=o.createDecipheriv(p,w,y);C.push(P.update(v)),C.push(P.final()),h=u.concat(C)}else{var F=m.match(l);h=u.from(F[2].replace(/[\r\n]/g,""),"base64")}return{tag:m.match(s)[1],data:h}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,n,i){var a=t("./asn1"),s=t("./aesid.json"),l=t("./fixProc"),c=t("browserify-aes"),o=t("pbkdf2"),u=t("safe-buffer").Buffer;function f(d){var h;typeof d!="object"||u.isBuffer(d)||(h=d.passphrase,d=d.key),typeof d=="string"&&(d=u.from(d));var m,g,p=l(d,h),y=p.tag,v=p.data;switch(y){case"CERTIFICATE":g=a.certificate.decode(v,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=a.PublicKey.decode(v,"der")),m=g.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=a.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+m)}case"ENCRYPTED PRIVATE KEY":v=(function(w,C){var P=w.algorithm.decrypt.kde.kdeparams.salt,F=parseInt(w.algorithm.decrypt.kde.kdeparams.iters.toString(),10),L=s[w.algorithm.decrypt.cipher.algo.join(".")],j=w.algorithm.decrypt.cipher.iv,I=w.subjectPrivateKey,z=parseInt(L.split("-")[1],10)/8,$=o.pbkdf2Sync(C,P,F,z,"sha1"),B=c.createDecipheriv(L,$,j),T=[];return T.push(B.update(I)),T.push(B.final()),u.concat(T)})(v=a.EncryptedPrivateKey.decode(v,"der"),h);case"PRIVATE KEY":switch(m=(g=a.PrivateKey.decode(v,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:a.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=a.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+m)}case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(v,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(v,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:a.DSAPrivateKey.decode(v,"der")};case"EC PRIVATE KEY":return{curve:(v=a.ECPrivateKey.decode(v,"der")).parameters.value,privateKey:v.privateKey};default:throw new Error("unknown key type "+y)}}n.exports=f,f.signature=a.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,n,i){i.pbkdf2=t("./lib/async"),i.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,n,i){(function(a){(function(){var s,l,c=t("safe-buffer").Buffer,o=t("./precondition"),u=t("./default-encoding"),f=t("./sync"),d=t("./to-buffer"),h=a.crypto&&a.crypto.subtle,m={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},g=[];function p(){return l||(l=a.process&&a.process.nextTick?a.process.nextTick:a.queueMicrotask?a.queueMicrotask:a.setImmediate?a.setImmediate:a.setTimeout)}function y(v,w,C,P,F){return h.importKey("raw",v,{name:"PBKDF2"},!1,["deriveBits"]).then((function(L){return h.deriveBits({name:"PBKDF2",salt:w,iterations:C,hash:{name:F}},L,P<<3)})).then((function(L){return c.from(L)}))}n.exports=function(v,w,C,P,F,L){typeof F=="function"&&(L=F,F=void 0);var j=m[(F=F||"sha1").toLowerCase()];if(j&&typeof a.Promise=="function"){if(o(C,P),v=d(v,u,"Password"),w=d(w,u,"Salt"),typeof L!="function")throw new Error("No callback provided to pbkdf2");(function(I,z){I.then((function($){p()((function(){z(null,$)}))}),(function($){p()((function(){z($)}))}))})((function(I){if(a.process&&!a.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(g[I]!==void 0)return g[I];var z=y(s=s||c.alloc(8),s,10,128,I).then((function(){return!0})).catch((function(){return!1}));return g[I]=z,z})(j).then((function(I){return I?y(v,w,C,P,j):f(v,w,C,P,F)})),L)}else p()((function(){var I;try{I=f(v,w,C,P,F)}catch(z){return L(z)}L(null,I)}))}}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,n,i){(function(a,s){(function(){var l;s.process&&s.process.browser?l="utf-8":s.process&&s.process.version?l=parseInt(a.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":l="utf-8",n.exports=l}).call(this)}).call(this,t("_process"),typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(t,n,i){var a=Math.pow(2,30)-1;n.exports=function(s,l){if(typeof s!="number")throw new TypeError("Iterations not a number");if(s<0)throw new TypeError("Bad iterations");if(typeof l!="number")throw new TypeError("Key length not a number");if(l<0||l>a||l!=l)throw new TypeError("Bad key length")}},{}],464:[function(t,n,i){var a=t("create-hash/md5"),s=t("ripemd160"),l=t("sha.js"),c=t("safe-buffer").Buffer,o=t("./precondition"),u=t("./default-encoding"),f=t("./to-buffer"),d=c.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function m(g,p,y){var v=(function(j){function I(z){return l(j).update(z).digest()}return j==="rmd160"||j==="ripemd160"?function(z){return new s().update(z).digest()}:j==="md5"?a:I})(g),w=g==="sha512"||g==="sha384"?128:64;p.length>w?p=v(p):p.length<w&&(p=c.concat([p,d],w));for(var C=c.allocUnsafe(w+h[g]),P=c.allocUnsafe(w+h[g]),F=0;F<w;F++)C[F]=54^p[F],P[F]=92^p[F];var L=c.allocUnsafe(w+y+4);C.copy(L,0,0,w),this.ipad1=L,this.ipad2=C,this.opad=P,this.alg=g,this.blocksize=w,this.hash=v,this.size=h[g]}m.prototype.run=function(g,p){return g.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(g,p,y,v,w){o(y,v);var C=new m(w=w||"sha1",g=f(g,u,"Password"),(p=f(p,u,"Salt")).length),P=c.allocUnsafe(v),F=c.allocUnsafe(p.length+4);p.copy(F,0,0,p.length);for(var L=0,j=h[w],I=Math.ceil(v/j),z=1;z<=I;z++){F.writeUInt32BE(z,p.length);for(var $=C.run(F,C.ipad1),B=$,T=1;T<y;T++){B=C.run(B,C.ipad2);for(var R=0;R<j;R++)$[R]^=B[R]}$.copy(P,L),L+=j}return P}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,n,i){var a=t("safe-buffer").Buffer;n.exports=function(s,l,c){if(a.isBuffer(s))return s;if(typeof s=="string")return a.from(s,l);if(ArrayBuffer.isView(s))return a.from(s.buffer);throw new TypeError(c+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,n,i){(function(a){(function(){a===void 0||!a.version||a.version.indexOf("v0.")===0||a.version.indexOf("v1.")===0&&a.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(s,l,c,o){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var u,f,d=arguments.length;switch(d){case 0:case 1:return a.nextTick(s);case 2:return a.nextTick((function(){s.call(null,l)}));case 3:return a.nextTick((function(){s.call(null,l,c)}));case 4:return a.nextTick((function(){s.call(null,l,c,o)}));default:for(u=new Array(d-1),f=0;f<u.length;)u[f++]=arguments[f];return a.nextTick((function(){s.apply(null,u)}))}}}:n.exports=a}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,n,i){var a,s,l=n.exports={};function c(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(w){if(a===setTimeout)return setTimeout(w,0);if((a===c||!a)&&setTimeout)return a=setTimeout,setTimeout(w,0);try{return a(w,0)}catch{try{return a.call(null,w,0)}catch{return a.call(this,w,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:c}catch{a=c}try{s=typeof clearTimeout=="function"?clearTimeout:o}catch{s=o}})();var f,d=[],h=!1,m=-1;function g(){h&&f&&(h=!1,f.length?d=f.concat(d):m=-1,d.length&&p())}function p(){if(!h){var w=u(g);h=!0;for(var C=d.length;C;){for(f=d,d=[];++m<C;)f&&f[m].run();m=-1,C=d.length}f=null,h=!1,(function(P){if(s===clearTimeout)return clearTimeout(P);if((s===o||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(P);try{s(P)}catch{try{return s.call(null,P)}catch{return s.call(this,P)}}})(w)}}function y(w,C){this.fun=w,this.array=C}function v(){}l.nextTick=function(w){var C=new Array(arguments.length-1);if(arguments.length>1)for(var P=1;P<arguments.length;P++)C[P-1]=arguments[P];d.push(new y(w,C)),d.length!==1||h||u(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=v,l.addListener=v,l.once=v,l.off=v,l.removeListener=v,l.removeAllListeners=v,l.emit=v,l.prependListener=v,l.prependOnceListener=v,l.listeners=function(w){return[]},l.binding=function(w){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(w){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],468:[function(t,n,i){i.publicEncrypt=t("./publicEncrypt"),i.privateDecrypt=t("./privateDecrypt"),i.privateEncrypt=function(a,s){return i.publicEncrypt(a,s,!0)},i.publicDecrypt=function(a,s){return i.privateDecrypt(a,s,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,n,i){var a=t("create-hash"),s=t("safe-buffer").Buffer;function l(c){var o=s.allocUnsafe(4);return o.writeUInt32BE(c,0),o}n.exports=function(c,o){for(var u,f=s.alloc(0),d=0;f.length<o;)u=l(d++),f=s.concat([f,a("sha1").update(c).update(u).digest()]);return f.slice(0,o)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],471:[function(t,n,i){var a=t("parse-asn1"),s=t("./mgf"),l=t("./xor"),c=t("bn.js"),o=t("browserify-rsa"),u=t("create-hash"),f=t("./withPublic"),d=t("safe-buffer").Buffer;n.exports=function(h,m,g){var p;p=h.padding?h.padding:g?1:4;var y,v=a(h),w=v.modulus.byteLength();if(m.length>w||new c(m).cmp(v.modulus)>=0)throw new Error("decryption error");y=g?f(new c(m),v):o(m,v);var C=d.alloc(w-y.length);if(y=d.concat([C,y],w),p===4)return(function(P,F){var L=P.modulus.byteLength(),j=u("sha1").update(d.alloc(0)).digest(),I=j.length;if(F[0]!==0)throw new Error("decryption error");var z=F.slice(1,I+1),$=F.slice(I+1),B=l(z,s($,I)),T=l($,s(B,L-I-1));if((function(N,_){N=d.from(N),_=d.from(_);var E=0,S=N.length;N.length!==_.length&&(E++,S=Math.min(N.length,_.length));for(var k=-1;++k<S;)E+=N[k]^_[k];return E})(j,T.slice(0,I)))throw new Error("decryption error");for(var R=I;T[R]===0;)R++;if(T[R++]!==1)throw new Error("decryption error");return T.slice(R)})(v,y);if(p===1)return(function(P,F,L){for(var j=F.slice(0,2),I=2,z=0;F[I++]!==0;)if(I>=F.length){z++;break}var $=F.slice(2,I-1);if((j.toString("hex")!=="0002"&&!L||j.toString("hex")!=="0001"&&L)&&z++,$.length<8&&z++,z)throw new Error("decryption error");return F.slice(I)})(0,y,g);if(p===3)return y;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,n,i){var a=t("parse-asn1"),s=t("randombytes"),l=t("create-hash"),c=t("./mgf"),o=t("./xor"),u=t("bn.js"),f=t("./withPublic"),d=t("browserify-rsa"),h=t("safe-buffer").Buffer;n.exports=function(m,g,p){var y;y=m.padding?m.padding:p?1:4;var v,w=a(m);if(y===4)v=(function(C,P){var F=C.modulus.byteLength(),L=P.length,j=l("sha1").update(h.alloc(0)).digest(),I=j.length,z=2*I;if(L>F-z-2)throw new Error("message too long");var $=h.alloc(F-L-z-2),B=F-I-1,T=s(I),R=o(h.concat([j,$,h.alloc(1,1),P],B),c(T,B)),N=o(T,c(R,I));return new u(h.concat([h.alloc(1),N,R],F))})(w,g);else if(y===1)v=(function(C,P,F){var L,j=P.length,I=C.modulus.byteLength();if(j>I-11)throw new Error("message too long");return L=F?h.alloc(I-j-3,255):(function(z){for(var $,B=h.allocUnsafe(z),T=0,R=s(2*z),N=0;T<z;)N===R.length&&(R=s(2*z),N=0),($=R[N++])&&(B[T++]=$);return B})(I-j-3),new u(h.concat([h.from([0,F?1:2]),L,h.alloc(1),P],I))})(w,g,p);else{if(y!==3)throw new Error("unknown padding");if((v=new u(g)).cmp(w.modulus)>=0)throw new Error("data too long for modulus")}return p?d(v,w):f(v,w)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,n,i){var a=t("bn.js"),s=t("safe-buffer").Buffer;n.exports=function(l,c){return s.from(l.toRed(a.mont(c.modulus)).redPow(new a(c.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,n,i){n.exports=function(a,s){for(var l=a.length,c=-1;++c<l;)a[c]^=s[c];return a}},{}],475:[function(t,n,i){(function(a,s){(function(){var l=t("safe-buffer").Buffer,c=s.crypto||s.msCrypto;c&&c.getRandomValues?n.exports=function(o,u){if(o>4294967295)throw new RangeError("requested too many random bytes");var f=l.allocUnsafe(o);if(o>0)if(o>65536)for(var d=0;d<o;d+=65536)c.getRandomValues(f.slice(d,d+65536));else c.getRandomValues(f);return typeof u=="function"?a.nextTick((function(){u(null,f)})):f}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,t("_process"),typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,n,i){(function(a,s){(function(){function l(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var c=t("safe-buffer"),o=t("randombytes"),u=c.Buffer,f=c.kMaxLength,d=s.crypto||s.msCrypto,h=Math.pow(2,32)-1;function m(y,v){if(typeof y!="number"||y!=y)throw new TypeError("offset must be a number");if(y>h||y<0)throw new TypeError("offset must be a uint32");if(y>f||y>v)throw new RangeError("offset out of range")}function g(y,v,w){if(typeof y!="number"||y!=y)throw new TypeError("size must be a number");if(y>h||y<0)throw new TypeError("size must be a uint32");if(y+v>w||y>f)throw new RangeError("buffer too small")}function p(y,v,w,C){if(a.browser){var P=y.buffer,F=new Uint8Array(P,v,w);return d.getRandomValues(F),C?void a.nextTick((function(){C(null,y)})):y}if(!C)return o(w).copy(y,v),y;o(w,(function(L,j){if(L)return C(L);j.copy(y,v),C(null,y)}))}d&&d.getRandomValues||!a.browser?(i.randomFill=function(y,v,w,C){if(!(u.isBuffer(y)||y instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof v=="function")C=v,v=0,w=y.length;else if(typeof w=="function")C=w,w=y.length-v;else if(typeof C!="function")throw new TypeError('"cb" argument must be a function');return m(v,y.length),g(w,v,y.length),p(y,v,w,C)},i.randomFillSync=function(y,v,w){if(v===void 0&&(v=0),!(u.isBuffer(y)||y instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return m(v,y.length),w===void 0&&(w=y.length-v),g(w,v,y.length),p(y,v,w)}):(i.randomFill=l,i.randomFillSync=l)}).call(this)}).call(this,t("_process"),typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,n,i){var a={};function s(c,o,u){u||(u=Error);var f=(function(d){var h,m;function g(p,y,v){return d.call(this,(function(w,C,P){return typeof o=="string"?o:o(w,C,P)})(p,y,v))||this}return m=d,(h=g).prototype=Object.create(m.prototype),h.prototype.constructor=h,h.__proto__=m,g})(u);f.prototype.name=u.name,f.prototype.code=c,a[c]=f}function l(c,o){if(Array.isArray(c)){var u=c.length;return c=c.map((function(f){return String(f)})),u>2?"one of ".concat(o," ").concat(c.slice(0,u-1).join(", "),", or ")+c[u-1]:u===2?"one of ".concat(o," ").concat(c[0]," or ").concat(c[1]):"of ".concat(o," ").concat(c[0])}return"of ".concat(o," ").concat(String(c))}s("ERR_INVALID_OPT_VALUE",(function(c,o){return'The value "'+o+'" is invalid for option "'+c+'"'}),TypeError),s("ERR_INVALID_ARG_TYPE",(function(c,o,u){var f,d,h;if(typeof o=="string"&&(d="not ",o.substr(0,d.length)===d)?(f="must not be",o=o.replace(/^not /,"")):f="must be",(function(g,p,y){return(y===void 0||y>g.length)&&(y=g.length),g.substring(y-p.length,y)===p})(c," argument"))h="The ".concat(c," ").concat(f," ").concat(l(o,"type"));else{var m=(function(g,p,y){return typeof y!="number"&&(y=0),!(y+p.length>g.length)&&g.indexOf(p,y)!==-1})(c,".")?"property":"argument";h='The "'.concat(c,'" ').concat(m," ").concat(f," ").concat(l(o,"type"))}return h+=". Received type ".concat(typeof u)}),TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",(function(c){return"The "+c+" method is not implemented"})),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",(function(c){return"Cannot call "+c+" after a stream was destroyed"})),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",(function(c){return"Unknown encoding: "+c}),TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=a},{}],478:[function(t,n,i){(function(a){(function(){var s=Object.keys||function(g){var p=[];for(var y in g)p.push(y);return p};n.exports=d;var l=t("./_stream_readable"),c=t("./_stream_writable");t("inherits")(d,l);for(var o=s(c.prototype),u=0;u<o.length;u++){var f=o[u];d.prototype[f]||(d.prototype[f]=c.prototype[f])}function d(g){if(!(this instanceof d))return new d(g);l.call(this,g),c.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||a.nextTick(m,this)}function m(g){g.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,n,i){n.exports=s;var a=t("./_stream_transform");function s(l){if(!(this instanceof s))return new s(l);a.call(this,l)}t("inherits")(s,a),s.prototype._transform=function(l,c,o){o(null,l)}},{"./_stream_transform":481,inherits:440}],480:[function(t,n,i){(function(a,s){(function(){var l;n.exports=B,B.ReadableState=$,t("events").EventEmitter;var c=function(q,U){return q.listeners(U).length},o=t("./internal/streams/stream"),u=t("buffer").Buffer,f=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,h=t("util");d=h&&h.debuglog?h.debuglog("stream"):function(){};var m,g,p,y=t("./internal/streams/buffer_list"),v=t("./internal/streams/destroy"),w=t("./internal/streams/state").getHighWaterMark,C=t("../errors").codes,P=C.ERR_INVALID_ARG_TYPE,F=C.ERR_STREAM_PUSH_AFTER_EOF,L=C.ERR_METHOD_NOT_IMPLEMENTED,j=C.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(B,o);var I=v.errorOrDestroy,z=["error","close","destroy","pause","resume"];function $(q,U,Z){l=l||t("./_stream_duplex"),q=q||{},typeof Z!="boolean"&&(Z=U instanceof l),this.objectMode=!!q.objectMode,Z&&(this.objectMode=this.objectMode||!!q.readableObjectMode),this.highWaterMark=w(this,q,"readableHighWaterMark",Z),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(m||(m=t("string_decoder/").StringDecoder),this.decoder=new m(q.encoding),this.encoding=q.encoding)}function B(q){if(l=l||t("./_stream_duplex"),!(this instanceof B))return new B(q);var U=this instanceof l;this._readableState=new $(q,this,U),this.readable=!0,q&&(typeof q.read=="function"&&(this._read=q.read),typeof q.destroy=="function"&&(this._destroy=q.destroy)),o.call(this)}function T(q,U,Z,ie,le){d("readableAddChunk",U);var de,fe=q._readableState;if(U===null)fe.reading=!1,(function(ue,Ae){if(d("onEofChunk"),!Ae.ended){if(Ae.decoder){var he=Ae.decoder.end();he&&he.length&&(Ae.buffer.push(he),Ae.length+=Ae.objectMode?1:he.length)}Ae.ended=!0,Ae.sync?_(ue):(Ae.needReadable=!1,Ae.emittedReadable||(Ae.emittedReadable=!0,E(ue)))}})(q,fe);else if(le||(de=(function(ue,Ae){var he;xe=Ae,u.isBuffer(xe)||xe instanceof f||typeof Ae=="string"||Ae===void 0||ue.objectMode||(he=new P("chunk",["string","Buffer","Uint8Array"],Ae));var xe;return he})(fe,U)),de)I(q,de);else if(fe.objectMode||U&&U.length>0)if(typeof U=="string"||fe.objectMode||Object.getPrototypeOf(U)===u.prototype||(U=(function(ue){return u.from(ue)})(U)),ie)fe.endEmitted?I(q,new j):R(q,fe,U,!0);else if(fe.ended)I(q,new F);else{if(fe.destroyed)return!1;fe.reading=!1,fe.decoder&&!Z?(U=fe.decoder.write(U),fe.objectMode||U.length!==0?R(q,fe,U,!1):S(q,fe)):R(q,fe,U,!1)}else ie||(fe.reading=!1,S(q,fe));return!fe.ended&&(fe.length<fe.highWaterMark||fe.length===0)}function R(q,U,Z,ie){U.flowing&&U.length===0&&!U.sync?(U.awaitDrain=0,q.emit("data",Z)):(U.length+=U.objectMode?1:Z.length,ie?U.buffer.unshift(Z):U.buffer.push(Z),U.needReadable&&_(q)),S(q,U)}Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(q){this._readableState&&(this._readableState.destroyed=q)}}),B.prototype.destroy=v.destroy,B.prototype._undestroy=v.undestroy,B.prototype._destroy=function(q,U){U(q)},B.prototype.push=function(q,U){var Z,ie=this._readableState;return ie.objectMode?Z=!0:typeof q=="string"&&((U=U||ie.defaultEncoding)!==ie.encoding&&(q=u.from(q,U),U=""),Z=!0),T(this,q,U,!1,Z)},B.prototype.unshift=function(q){return T(this,q,null,!0,!1)},B.prototype.isPaused=function(){return this._readableState.flowing===!1},B.prototype.setEncoding=function(q){m||(m=t("string_decoder/").StringDecoder);var U=new m(q);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;for(var Z=this._readableState.buffer.head,ie="";Z!==null;)ie+=U.write(Z.data),Z=Z.next;return this._readableState.buffer.clear(),ie!==""&&this._readableState.buffer.push(ie),this._readableState.length=ie.length,this};function N(q,U){return q<=0||U.length===0&&U.ended?0:U.objectMode?1:q!=q?U.flowing&&U.length?U.buffer.head.data.length:U.length:(q>U.highWaterMark&&(U.highWaterMark=(function(Z){return Z>=1073741824?Z=1073741824:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z})(q)),q<=U.length?q:U.ended?U.length:(U.needReadable=!0,0))}function _(q){var U=q._readableState;d("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(d("emitReadable",U.flowing),U.emittedReadable=!0,a.nextTick(E,q))}function E(q){var U=q._readableState;d("emitReadable_",U.destroyed,U.length,U.ended),U.destroyed||!U.length&&!U.ended||(q.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,X(q)}function S(q,U){U.readingMore||(U.readingMore=!0,a.nextTick(k,q,U))}function k(q,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0);){var Z=U.length;if(d("maybeReadMore read 0"),q.read(0),Z===U.length)break}U.readingMore=!1}function M(q){var U=q._readableState;U.readableListening=q.listenerCount("readable")>0,U.resumeScheduled&&!U.paused?U.flowing=!0:q.listenerCount("data")>0&&q.resume()}function V(q){d("readable nexttick read 0"),q.read(0)}function O(q,U){d("resume",U.reading),U.reading||q.read(0),U.resumeScheduled=!1,q.emit("resume"),X(q),U.flowing&&!U.reading&&q.read(0)}function X(q){var U=q._readableState;for(d("flow",U.flowing);U.flowing&&q.read()!==null;);}function Q(q,U){return U.length===0?null:(U.objectMode?Z=U.buffer.shift():!q||q>=U.length?(Z=U.decoder?U.buffer.join(""):U.buffer.length===1?U.buffer.first():U.buffer.concat(U.length),U.buffer.clear()):Z=U.buffer.consume(q,U.decoder),Z);var Z}function re(q){var U=q._readableState;d("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,a.nextTick(G,U,q))}function G(q,U){if(d("endReadableNT",q.endEmitted,q.length),!q.endEmitted&&q.length===0&&(q.endEmitted=!0,U.readable=!1,U.emit("end"),q.autoDestroy)){var Z=U._writableState;(!Z||Z.autoDestroy&&Z.finished)&&U.destroy()}}function J(q,U){for(var Z=0,ie=q.length;Z<ie;Z++)if(q[Z]===U)return Z;return-1}B.prototype.read=function(q){d("read",q),q=parseInt(q,10);var U=this._readableState,Z=q;if(q!==0&&(U.emittedReadable=!1),q===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended))return d("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?re(this):_(this),null;if((q=N(q,U))===0&&U.ended)return U.length===0&&re(this),null;var ie,le=U.needReadable;return d("need readable",le),(U.length===0||U.length-q<U.highWaterMark)&&d("length less than watermark",le=!0),U.ended||U.reading?d("reading or ended",le=!1):le&&(d("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(q=N(Z,U))),(ie=q>0?Q(q,U):null)===null?(U.needReadable=U.length<=U.highWaterMark,q=0):(U.length-=q,U.awaitDrain=0),U.length===0&&(U.ended||(U.needReadable=!0),Z!==q&&U.ended&&re(this)),ie!==null&&this.emit("data",ie),ie},B.prototype._read=function(q){I(this,new L("_read()"))},B.prototype.pipe=function(q,U){var Z=this,ie=this._readableState;switch(ie.pipesCount){case 0:ie.pipes=q;break;case 1:ie.pipes=[ie.pipes,q];break;default:ie.pipes.push(q)}ie.pipesCount+=1,d("pipe count=%d opts=%j",ie.pipesCount,U);var le=(!U||U.end!==!1)&&q!==a.stdout&&q!==a.stderr?fe:ke;function de(Oe,De){d("onunpipe"),Oe===Z&&De&&De.hasUnpiped===!1&&(De.hasUnpiped=!0,d("cleanup"),q.removeListener("close",me),q.removeListener("finish",Ce),q.removeListener("drain",ue),q.removeListener("error",xe),q.removeListener("unpipe",de),Z.removeListener("end",fe),Z.removeListener("end",ke),Z.removeListener("data",he),Ae=!0,!ie.awaitDrain||q._writableState&&!q._writableState.needDrain||ue())}function fe(){d("onend"),q.end()}ie.endEmitted?a.nextTick(le):Z.once("end",le),q.on("unpipe",de);var ue=(function(Oe){return function(){var De=Oe._readableState;d("pipeOnDrain",De.awaitDrain),De.awaitDrain&&De.awaitDrain--,De.awaitDrain===0&&c(Oe,"data")&&(De.flowing=!0,X(Oe))}})(Z);q.on("drain",ue);var Ae=!1;function he(Oe){d("ondata");var De=q.write(Oe);d("dest.write",De),De===!1&&((ie.pipesCount===1&&ie.pipes===q||ie.pipesCount>1&&J(ie.pipes,q)!==-1)&&!Ae&&(d("false write response, pause",ie.awaitDrain),ie.awaitDrain++),Z.pause())}function xe(Oe){d("onerror",Oe),ke(),q.removeListener("error",xe),c(q,"error")===0&&I(q,Oe)}function me(){q.removeListener("finish",Ce),ke()}function Ce(){d("onfinish"),q.removeListener("close",me),ke()}function ke(){d("unpipe"),Z.unpipe(q)}return Z.on("data",he),(function(Oe,De,He){if(typeof Oe.prependListener=="function")return Oe.prependListener(De,He);Oe._events&&Oe._events[De]?Array.isArray(Oe._events[De])?Oe._events[De].unshift(He):Oe._events[De]=[He,Oe._events[De]]:Oe.on(De,He)})(q,"error",xe),q.once("close",me),q.once("finish",Ce),q.emit("pipe",Z),ie.flowing||(d("pipe resume"),Z.resume()),q},B.prototype.unpipe=function(q){var U=this._readableState,Z={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return q&&q!==U.pipes||(q||(q=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,q&&q.emit("unpipe",this,Z)),this;if(!q){var ie=U.pipes,le=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var de=0;de<le;de++)ie[de].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=J(U.pipes,q);return fe===-1||(U.pipes.splice(fe,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),q.emit("unpipe",this,Z)),this},B.prototype.on=function(q,U){var Z=o.prototype.on.call(this,q,U),ie=this._readableState;return q==="data"?(ie.readableListening=this.listenerCount("readable")>0,ie.flowing!==!1&&this.resume()):q==="readable"&&(ie.endEmitted||ie.readableListening||(ie.readableListening=ie.needReadable=!0,ie.flowing=!1,ie.emittedReadable=!1,d("on readable",ie.length,ie.reading),ie.length?_(this):ie.reading||a.nextTick(V,this))),Z},B.prototype.addListener=B.prototype.on,B.prototype.removeListener=function(q,U){var Z=o.prototype.removeListener.call(this,q,U);return q==="readable"&&a.nextTick(M,this),Z},B.prototype.removeAllListeners=function(q){var U=o.prototype.removeAllListeners.apply(this,arguments);return q!=="readable"&&q!==void 0||a.nextTick(M,this),U},B.prototype.resume=function(){var q=this._readableState;return q.flowing||(d("resume"),q.flowing=!q.readableListening,(function(U,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,a.nextTick(O,U,Z))})(this,q)),q.paused=!1,this},B.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},B.prototype.wrap=function(q){var U=this,Z=this._readableState,ie=!1;for(var le in q.on("end",(function(){if(d("wrapped end"),Z.decoder&&!Z.ended){var fe=Z.decoder.end();fe&&fe.length&&U.push(fe)}U.push(null)})),q.on("data",(function(fe){d("wrapped data"),Z.decoder&&(fe=Z.decoder.write(fe)),Z.objectMode&&fe==null||(Z.objectMode||fe&&fe.length)&&(U.push(fe)||(ie=!0,q.pause()))})),q)this[le]===void 0&&typeof q[le]=="function"&&(this[le]=(function(fe){return function(){return q[fe].apply(q,arguments)}})(le));for(var de=0;de<z.length;de++)q.on(z[de],this.emit.bind(this,z[de]));return this._read=function(fe){d("wrapped _read",fe),ie&&(ie=!1,q.resume())},this},typeof Symbol=="function"&&(B.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=t("./internal/streams/async_iterator")),g(this)}),Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(B.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(B.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(q){this._readableState&&(this._readableState.flowing=q)}}),B._fromList=Q,Object.defineProperty(B.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(B.from=function(q,U){return p===void 0&&(p=t("./internal/streams/from")),p(B,q,U)})}).call(this)}).call(this,t("_process"),typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,n,i){n.exports=d;var a=t("../errors").codes,s=a.ERR_METHOD_NOT_IMPLEMENTED,l=a.ERR_MULTIPLE_CALLBACK,c=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=a.ERR_TRANSFORM_WITH_LENGTH_0,u=t("./_stream_duplex");function f(g,p){var y=this._transformState;y.transforming=!1;var v=y.writecb;if(v===null)return this.emit("error",new l);y.writechunk=null,y.writecb=null,p!=null&&this.push(p),v(g);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function d(g){if(!(this instanceof d))return new d(g);u.call(this,g),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",h)}function h(){var g=this;typeof this._flush!="function"||this._readableState.destroyed?m(this,null,null):this._flush((function(p,y){m(g,p,y)}))}function m(g,p,y){if(p)return g.emit("error",p);if(y!=null&&g.push(y),g._writableState.length)throw new o;if(g._transformState.transforming)throw new c;return g.push(null)}t("inherits")(d,u),d.prototype.push=function(g,p){return this._transformState.needTransform=!1,u.prototype.push.call(this,g,p)},d.prototype._transform=function(g,p,y){y(new s("_transform()"))},d.prototype._write=function(g,p,y){var v=this._transformState;if(v.writecb=y,v.writechunk=g,v.writeencoding=p,!v.transforming){var w=this._readableState;(v.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},d.prototype._read=function(g){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},d.prototype._destroy=function(g,p){u.prototype._destroy.call(this,g,(function(y){p(y)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,n,i){(function(a,s){(function(){function l(k){var M=this;this.next=null,this.entry=null,this.finish=function(){(function(V,O,X){var Q=V.entry;for(V.entry=null;Q;){var re=Q.callback;O.pendingcb--,re(X),Q=Q.next}O.corkedRequestsFree.next=V})(M,k)}}var c;n.exports=B,B.WritableState=$;var o={deprecate:t("util-deprecate")},u=t("./internal/streams/stream"),f=t("buffer").Buffer,d=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,m=t("./internal/streams/destroy"),g=t("./internal/streams/state").getHighWaterMark,p=t("../errors").codes,y=p.ERR_INVALID_ARG_TYPE,v=p.ERR_METHOD_NOT_IMPLEMENTED,w=p.ERR_MULTIPLE_CALLBACK,C=p.ERR_STREAM_CANNOT_PIPE,P=p.ERR_STREAM_DESTROYED,F=p.ERR_STREAM_NULL_VALUES,L=p.ERR_STREAM_WRITE_AFTER_END,j=p.ERR_UNKNOWN_ENCODING,I=m.errorOrDestroy;function z(){}function $(k,M,V){c=c||t("./_stream_duplex"),k=k||{},typeof V!="boolean"&&(V=M instanceof c),this.objectMode=!!k.objectMode,V&&(this.objectMode=this.objectMode||!!k.writableObjectMode),this.highWaterMark=g(this,k,"writableHighWaterMark",V),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var O=k.decodeStrings===!1;this.decodeStrings=!O,this.defaultEncoding=k.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(X){(function(Q,re){var G=Q._writableState,J=G.sync,q=G.writecb;if(typeof q!="function")throw new w;if((function(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0})(G),re)(function(Z,ie,le,de,fe){--ie.pendingcb,le?(a.nextTick(fe,de),a.nextTick(S,Z,ie),Z._writableState.errorEmitted=!0,I(Z,de)):(fe(de),Z._writableState.errorEmitted=!0,I(Z,de),S(Z,ie))})(Q,G,J,re,q);else{var U=_(G)||Q.destroyed;U||G.corked||G.bufferProcessing||!G.bufferedRequest||N(Q,G),J?a.nextTick(R,Q,G,U,q):R(Q,G,U,q)}})(M,X)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=k.emitClose!==!1,this.autoDestroy=!!k.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function B(k){var M=this instanceof(c=c||t("./_stream_duplex"));if(!M&&!h.call(B,this))return new B(k);this._writableState=new $(k,this,M),this.writable=!0,k&&(typeof k.write=="function"&&(this._write=k.write),typeof k.writev=="function"&&(this._writev=k.writev),typeof k.destroy=="function"&&(this._destroy=k.destroy),typeof k.final=="function"&&(this._final=k.final)),u.call(this)}function T(k,M,V,O,X,Q,re){M.writelen=O,M.writecb=re,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new P("write")):V?k._writev(X,M.onwrite):k._write(X,Q,M.onwrite),M.sync=!1}function R(k,M,V,O){V||(function(X,Q){Q.length===0&&Q.needDrain&&(Q.needDrain=!1,X.emit("drain"))})(k,M),M.pendingcb--,O(),S(k,M)}function N(k,M){M.bufferProcessing=!0;var V=M.bufferedRequest;if(k._writev&&V&&V.next){var O=M.bufferedRequestCount,X=new Array(O),Q=M.corkedRequestsFree;Q.entry=V;for(var re=0,G=!0;V;)X[re]=V,V.isBuf||(G=!1),V=V.next,re+=1;X.allBuffers=G,T(k,M,!0,M.length,X,"",Q.finish),M.pendingcb++,M.lastBufferedRequest=null,Q.next?(M.corkedRequestsFree=Q.next,Q.next=null):M.corkedRequestsFree=new l(M),M.bufferedRequestCount=0}else{for(;V;){var J=V.chunk,q=V.encoding,U=V.callback;if(T(k,M,!1,M.objectMode?1:J.length,J,q,U),V=V.next,M.bufferedRequestCount--,M.writing)break}V===null&&(M.lastBufferedRequest=null)}M.bufferedRequest=V,M.bufferProcessing=!1}function _(k){return k.ending&&k.length===0&&k.bufferedRequest===null&&!k.finished&&!k.writing}function E(k,M){k._final((function(V){M.pendingcb--,V&&I(k,V),M.prefinished=!0,k.emit("prefinish"),S(k,M)}))}function S(k,M){var V=_(M);if(V&&((function(X,Q){Q.prefinished||Q.finalCalled||(typeof X._final!="function"||Q.destroyed?(Q.prefinished=!0,X.emit("prefinish")):(Q.pendingcb++,Q.finalCalled=!0,a.nextTick(E,X,Q)))})(k,M),M.pendingcb===0&&(M.finished=!0,k.emit("finish"),M.autoDestroy))){var O=k._readableState;(!O||O.autoDestroy&&O.endEmitted)&&k.destroy()}return V}t("inherits")(B,u),$.prototype.getBuffer=function(){for(var k=this.bufferedRequest,M=[];k;)M.push(k),k=k.next;return M},(function(){try{Object.defineProperty($.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(k){return!!h.call(this,k)||this===B&&k&&k._writableState instanceof $}})):h=function(k){return k instanceof this},B.prototype.pipe=function(){I(this,new C)},B.prototype.write=function(k,M,V){var O,X=this._writableState,Q=!1,re=!X.objectMode&&(O=k,f.isBuffer(O)||O instanceof d);return re&&!f.isBuffer(k)&&(k=(function(G){return f.from(G)})(k)),typeof M=="function"&&(V=M,M=null),re?M="buffer":M||(M=X.defaultEncoding),typeof V!="function"&&(V=z),X.ending?(function(G,J){var q=new L;I(G,q),a.nextTick(J,q)})(this,V):(re||(function(G,J,q,U){var Z;return q===null?Z=new F:typeof q=="string"||J.objectMode||(Z=new y("chunk",["string","Buffer"],q)),!Z||(I(G,Z),a.nextTick(U,Z),!1)})(this,X,k,V))&&(X.pendingcb++,Q=(function(G,J,q,U,Z,ie){if(!q){var le=(function(Ae,he,xe){return Ae.objectMode||Ae.decodeStrings===!1||typeof he!="string"||(he=f.from(he,xe)),he})(J,U,Z);U!==le&&(q=!0,Z="buffer",U=le)}var de=J.objectMode?1:U.length;J.length+=de;var fe=J.length<J.highWaterMark;if(fe||(J.needDrain=!0),J.writing||J.corked){var ue=J.lastBufferedRequest;J.lastBufferedRequest={chunk:U,encoding:Z,isBuf:q,callback:ie,next:null},ue?ue.next=J.lastBufferedRequest:J.bufferedRequest=J.lastBufferedRequest,J.bufferedRequestCount+=1}else T(G,J,!1,de,U,Z,ie);return fe})(this,X,re,k,M,V)),Q},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var k=this._writableState;k.corked&&(k.corked--,k.writing||k.corked||k.bufferProcessing||!k.bufferedRequest||N(this,k))},B.prototype.setDefaultEncoding=function(k){if(typeof k=="string"&&(k=k.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((k+"").toLowerCase())>-1))throw new j(k);return this._writableState.defaultEncoding=k,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),B.prototype._write=function(k,M,V){V(new v("_write()"))},B.prototype._writev=null,B.prototype.end=function(k,M,V){var O=this._writableState;return typeof k=="function"?(V=k,k=null,M=null):typeof M=="function"&&(V=M,M=null),k!=null&&this.write(k,M),O.corked&&(O.corked=1,this.uncork()),O.ending||(function(X,Q,re){Q.ending=!0,S(X,Q),re&&(Q.finished?a.nextTick(re):X.once("finish",re)),Q.ended=!0,X.writable=!1})(this,O,V),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(k){this._writableState&&(this._writableState.destroyed=k)}}),B.prototype.destroy=m.destroy,B.prototype._undestroy=m.undestroy,B.prototype._destroy=function(k,M){M(k)}}).call(this)}).call(this,t("_process"),typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,n,i){(function(a){(function(){var s;function l(P,F,L){return(F=(function(j){var I=(function(z,$){if(typeof z!="object"||z===null)return z;var B=z[Symbol.toPrimitive];if(B!==void 0){var T=B.call(z,$);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(z)})(j,"string");return typeof I=="symbol"?I:String(I)})(F))in P?Object.defineProperty(P,F,{value:L,enumerable:!0,configurable:!0,writable:!0}):P[F]=L,P}var c=t("./end-of-stream"),o=Symbol("lastResolve"),u=Symbol("lastReject"),f=Symbol("error"),d=Symbol("ended"),h=Symbol("lastPromise"),m=Symbol("handlePromise"),g=Symbol("stream");function p(P,F){return{value:P,done:F}}function y(P){var F=P[o];if(F!==null){var L=P[g].read();L!==null&&(P[h]=null,P[o]=null,P[u]=null,F(p(L,!1)))}}function v(P){a.nextTick(y,P)}var w=Object.getPrototypeOf((function(){})),C=Object.setPrototypeOf((l(s={get stream(){return this[g]},next:function(){var P=this,F=this[f];if(F!==null)return Promise.reject(F);if(this[d])return Promise.resolve(p(void 0,!0));if(this[g].destroyed)return new Promise((function(z,$){a.nextTick((function(){P[f]?$(P[f]):z(p(void 0,!0))}))}));var L,j=this[h];if(j)L=new Promise((function(z,$){return function(B,T){z.then((function(){$[d]?B(p(void 0,!0)):$[m](B,T)}),T)}})(j,this));else{var I=this[g].read();if(I!==null)return Promise.resolve(p(I,!1));L=new Promise(this[m])}return this[h]=L,L}},Symbol.asyncIterator,(function(){return this})),l(s,"return",(function(){var P=this;return new Promise((function(F,L){P[g].destroy(null,(function(j){j?L(j):F(p(void 0,!0))}))}))})),s),w);n.exports=function(P){var F,L=Object.create(C,(l(F={},g,{value:P,writable:!0}),l(F,o,{value:null,writable:!0}),l(F,u,{value:null,writable:!0}),l(F,f,{value:null,writable:!0}),l(F,d,{value:P._readableState.endEmitted,writable:!0}),l(F,m,{value:function(j,I){var z=L[g].read();z?(L[h]=null,L[o]=null,L[u]=null,j(p(z,!1))):(L[o]=j,L[u]=I)},writable:!0}),F));return L[h]=null,c(P,(function(j){if(j&&j.code!=="ERR_STREAM_PREMATURE_CLOSE"){var I=L[u];return I!==null&&(L[h]=null,L[o]=null,L[u]=null,I(j)),void(L[f]=j)}var z=L[o];z!==null&&(L[h]=null,L[o]=null,L[u]=null,z(p(void 0,!0))),L[d]=!0})),P.on("readable",v.bind(null,L)),L}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,n,i){function a(h,m){var g=Object.keys(h);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(h);m&&(p=p.filter((function(y){return Object.getOwnPropertyDescriptor(h,y).enumerable}))),g.push.apply(g,p)}return g}function s(h){for(var m=1;m<arguments.length;m++){var g=arguments[m]!=null?arguments[m]:{};m%2?a(Object(g),!0).forEach((function(p){l(h,p,g[p])})):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(g)):a(Object(g)).forEach((function(p){Object.defineProperty(h,p,Object.getOwnPropertyDescriptor(g,p))}))}return h}function l(h,m,g){return(m=o(m))in h?Object.defineProperty(h,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[m]=g,h}function c(h,m){for(var g=0;g<m.length;g++){var p=m[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,o(p.key),p)}}function o(h){var m=(function(g,p){if(typeof g!="object"||g===null)return g;var y=g[Symbol.toPrimitive];if(y!==void 0){var v=y.call(g,p);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(g)})(h,"string");return typeof m=="symbol"?m:String(m)}var u=t("buffer").Buffer,f=t("util").inspect,d=f&&f.custom||"inspect";n.exports=(function(){function h(){(function(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}var m,g;return m=h,(g=[{key:"push",value:function(p){var y={data:p,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(p){var y={data:p,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var y=this.head,v=""+y.data;y=y.next;)v+=p+y.data;return v}},{key:"concat",value:function(p){if(this.length===0)return u.alloc(0);for(var y,v,w,C=u.allocUnsafe(p>>>0),P=this.head,F=0;P;)y=P.data,v=C,w=F,u.prototype.copy.call(y,v,w),F+=P.data.length,P=P.next;return C}},{key:"consume",value:function(p,y){var v;return p<this.head.data.length?(v=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):v=p===this.head.data.length?this.shift():y?this._getString(p):this._getBuffer(p),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var y=this.head,v=1,w=y.data;for(p-=w.length;y=y.next;){var C=y.data,P=p>C.length?C.length:p;if(P===C.length?w+=C:w+=C.slice(0,p),(p-=P)==0){P===C.length?(++v,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=C.slice(P));break}++v}return this.length-=v,w}},{key:"_getBuffer",value:function(p){var y=u.allocUnsafe(p),v=this.head,w=1;for(v.data.copy(y),p-=v.data.length;v=v.next;){var C=v.data,P=p>C.length?C.length:p;if(C.copy(y,y.length-p,0,P),(p-=P)==0){P===C.length?(++w,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=C.slice(P));break}++w}return this.length-=w,y}},{key:d,value:function(p,y){return f(this,s(s({},y),{},{depth:0,customInspect:!1}))}}])&&c(m.prototype,g),Object.defineProperty(m,"prototype",{writable:!1}),h})()},{buffer:220,util:188}],485:[function(t,n,i){(function(a){(function(){function s(o,u){c(o,u),l(o)}function l(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function c(o,u){o.emit("error",u)}n.exports={destroy:function(o,u){var f=this,d=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return d||h?(u?u(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(c,this,o)):a.nextTick(c,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,(function(m){!u&&m?f._writableState?f._writableState.errorEmitted?a.nextTick(l,f):(f._writableState.errorEmitted=!0,a.nextTick(s,f,m)):a.nextTick(s,f,m):u?(a.nextTick(l,f),u(m)):a.nextTick(l,f)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(o,u){var f=o._readableState,d=o._writableState;f&&f.autoDestroy||d&&d.autoDestroy?o.destroy(u):o.emit("error",u)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,n,i){var a=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function s(){}n.exports=function l(c,o,u){if(typeof o=="function")return l(c,null,o);o||(o={}),u=(function(P){var F=!1;return function(){if(!F){F=!0;for(var L=arguments.length,j=new Array(L),I=0;I<L;I++)j[I]=arguments[I];P.apply(this,j)}}})(u||s);var f=o.readable||o.readable!==!1&&c.readable,d=o.writable||o.writable!==!1&&c.writable,h=function(){c.writable||g()},m=c._writableState&&c._writableState.finished,g=function(){d=!1,m=!0,f||u.call(c)},p=c._readableState&&c._readableState.endEmitted,y=function(){f=!1,p=!0,d||u.call(c)},v=function(P){u.call(c,P)},w=function(){var P;return f&&!p?(c._readableState&&c._readableState.ended||(P=new a),u.call(c,P)):d&&!m?(c._writableState&&c._writableState.ended||(P=new a),u.call(c,P)):void 0},C=function(){c.req.on("finish",g)};return(function(P){return P.setHeader&&typeof P.abort=="function"})(c)?(c.on("complete",g),c.on("abort",w),c.req?C():c.on("request",C)):d&&!c._writableState&&(c.on("end",h),c.on("close",h)),c.on("end",y),c.on("finish",g),o.error!==!1&&c.on("error",v),c.on("close",w),function(){c.removeListener("complete",g),c.removeListener("abort",w),c.removeListener("request",C),c.req&&c.req.removeListener("finish",g),c.removeListener("end",h),c.removeListener("close",h),c.removeListener("finish",g),c.removeListener("end",y),c.removeListener("error",v),c.removeListener("close",w)}}},{"../../../errors":477}],487:[function(t,n,i){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,n,i){var a,s=t("../../../errors").codes,l=s.ERR_MISSING_ARGS,c=s.ERR_STREAM_DESTROYED;function o(m){if(m)throw m}function u(m,g,p,y){y=(function(C){var P=!1;return function(){P||(P=!0,C.apply(void 0,arguments))}})(y);var v=!1;m.on("close",(function(){v=!0})),a===void 0&&(a=t("./end-of-stream")),a(m,{readable:g,writable:p},(function(C){if(C)return y(C);v=!0,y()}));var w=!1;return function(C){if(!v&&!w)return w=!0,(function(P){return P.setHeader&&typeof P.abort=="function"})(m)?m.abort():typeof m.destroy=="function"?m.destroy():void y(C||new c("pipe"))}}function f(m){m()}function d(m,g){return m.pipe(g)}function h(m){return m.length?typeof m[m.length-1]!="function"?o:m.pop():o}n.exports=function(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];var y,v=h(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new l("streams");var w=g.map((function(C,P){var F=P<g.length-1;return u(C,F,P>0,(function(L){y||(y=L),L&&w.forEach(f),F||(w.forEach(f),v(y))}))}));return g.reduce(d)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,n,i){var a=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(s,l,c,o){var u=(function(f,d,h){return f.highWaterMark!=null?f.highWaterMark:d?f[h]:null})(l,o,c);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new a(o?c:"highWaterMark",u);return Math.floor(u)}return s.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,n,i){n.exports=t("events").EventEmitter},{events:422}],491:[function(t,n,i){(i=n.exports=t("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=t("./lib/_stream_writable.js"),i.Duplex=t("./lib/_stream_duplex.js"),i.Transform=t("./lib/_stream_transform.js"),i.PassThrough=t("./lib/_stream_passthrough.js"),i.finished=t("./lib/internal/streams/end-of-stream.js"),i.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,n,i){var a=(function(s){var l=Object.prototype,c=l.hasOwnProperty,o=Object.defineProperty||function(S,k,M){S[k]=M.value},u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",d=u.asyncIterator||"@@asyncIterator",h=u.toStringTag||"@@toStringTag";function m(S,k,M){return Object.defineProperty(S,k,{value:M,enumerable:!0,configurable:!0,writable:!0}),S[k]}try{m({},"")}catch{m=function(k,M,V){return k[M]=V}}function g(S,k,M,V){var O=k&&k.prototype instanceof v?k:v,X=Object.create(O.prototype),Q=new N(V||[]);return o(X,"_invoke",{value:$(S,M,Q)}),X}function p(S,k,M){try{return{type:"normal",arg:S.call(k,M)}}catch(V){return{type:"throw",arg:V}}}s.wrap=g;var y={};function v(){}function w(){}function C(){}var P={};m(P,f,(function(){return this}));var F=Object.getPrototypeOf,L=F&&F(F(_([])));L&&L!==l&&c.call(L,f)&&(P=L);var j=C.prototype=v.prototype=Object.create(P);function I(S){["next","throw","return"].forEach((function(k){m(S,k,(function(M){return this._invoke(k,M)}))}))}function z(S,k){var M;o(this,"_invoke",{value:function(V,O){function X(){return new k((function(Q,re){(function G(J,q,U,Z){var ie=p(S[J],S,q);if(ie.type!=="throw"){var le=ie.arg,de=le.value;return de&&typeof de=="object"&&c.call(de,"__await")?k.resolve(de.__await).then((function(fe){G("next",fe,U,Z)}),(function(fe){G("throw",fe,U,Z)})):k.resolve(de).then((function(fe){le.value=fe,U(le)}),(function(fe){return G("throw",fe,U,Z)}))}Z(ie.arg)})(V,O,Q,re)}))}return M=M?M.then(X,X):X()}})}function $(S,k,M){var V="suspendedStart";return function(O,X){if(V==="executing")throw new Error("Generator is already running");if(V==="completed"){if(O==="throw")throw X;return E()}for(M.method=O,M.arg=X;;){var Q=M.delegate;if(Q){var re=B(Q,M);if(re){if(re===y)continue;return re}}if(M.method==="next")M.sent=M._sent=M.arg;else if(M.method==="throw"){if(V==="suspendedStart")throw V="completed",M.arg;M.dispatchException(M.arg)}else M.method==="return"&&M.abrupt("return",M.arg);V="executing";var G=p(S,k,M);if(G.type==="normal"){if(V=M.done?"completed":"suspendedYield",G.arg===y)continue;return{value:G.arg,done:M.done}}G.type==="throw"&&(V="completed",M.method="throw",M.arg=G.arg)}}}function B(S,k){var M=k.method,V=S.iterator[M];if(V===void 0)return k.delegate=null,M==="throw"&&S.iterator.return&&(k.method="return",k.arg=void 0,B(S,k),k.method==="throw")||M!=="return"&&(k.method="throw",k.arg=new TypeError("The iterator does not provide a '"+M+"' method")),y;var O=p(V,S.iterator,k.arg);if(O.type==="throw")return k.method="throw",k.arg=O.arg,k.delegate=null,y;var X=O.arg;return X?X.done?(k[S.resultName]=X.value,k.next=S.nextLoc,k.method!=="return"&&(k.method="next",k.arg=void 0),k.delegate=null,y):X:(k.method="throw",k.arg=new TypeError("iterator result is not an object"),k.delegate=null,y)}function T(S){var k={tryLoc:S[0]};1 in S&&(k.catchLoc=S[1]),2 in S&&(k.finallyLoc=S[2],k.afterLoc=S[3]),this.tryEntries.push(k)}function R(S){var k=S.completion||{};k.type="normal",delete k.arg,S.completion=k}function N(S){this.tryEntries=[{tryLoc:"root"}],S.forEach(T,this),this.reset(!0)}function _(S){if(S){var k=S[f];if(k)return k.call(S);if(typeof S.next=="function")return S;if(!isNaN(S.length)){var M=-1,V=function O(){for(;++M<S.length;)if(c.call(S,M))return O.value=S[M],O.done=!1,O;return O.value=void 0,O.done=!0,O};return V.next=V}}return{next:E}}function E(){return{value:void 0,done:!0}}return w.prototype=C,o(j,"constructor",{value:C,configurable:!0}),o(C,"constructor",{value:w,configurable:!0}),w.displayName=m(C,h,"GeneratorFunction"),s.isGeneratorFunction=function(S){var k=typeof S=="function"&&S.constructor;return!!k&&(k===w||(k.displayName||k.name)==="GeneratorFunction")},s.mark=function(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,C):(S.__proto__=C,m(S,h,"GeneratorFunction")),S.prototype=Object.create(j),S},s.awrap=function(S){return{__await:S}},I(z.prototype),m(z.prototype,d,(function(){return this})),s.AsyncIterator=z,s.async=function(S,k,M,V,O){O===void 0&&(O=Promise);var X=new z(g(S,k,M,V),O);return s.isGeneratorFunction(k)?X:X.next().then((function(Q){return Q.done?Q.value:X.next()}))},I(j),m(j,h,"Generator"),m(j,f,(function(){return this})),m(j,"toString",(function(){return"[object Generator]"})),s.keys=function(S){var k=Object(S),M=[];for(var V in k)M.push(V);return M.reverse(),function O(){for(;M.length;){var X=M.pop();if(X in k)return O.value=X,O.done=!1,O}return O.done=!0,O}},s.values=_,N.prototype={constructor:N,reset:function(S){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!S)for(var k in this)k.charAt(0)==="t"&&c.call(this,k)&&!isNaN(+k.slice(1))&&(this[k]=void 0)},stop:function(){this.done=!0;var S=this.tryEntries[0].completion;if(S.type==="throw")throw S.arg;return this.rval},dispatchException:function(S){if(this.done)throw S;var k=this;function M(G,J){return X.type="throw",X.arg=S,k.next=G,J&&(k.method="next",k.arg=void 0),!!J}for(var V=this.tryEntries.length-1;V>=0;--V){var O=this.tryEntries[V],X=O.completion;if(O.tryLoc==="root")return M("end");if(O.tryLoc<=this.prev){var Q=c.call(O,"catchLoc"),re=c.call(O,"finallyLoc");if(Q&&re){if(this.prev<O.catchLoc)return M(O.catchLoc,!0);if(this.prev<O.finallyLoc)return M(O.finallyLoc)}else if(Q){if(this.prev<O.catchLoc)return M(O.catchLoc,!0)}else{if(!re)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return M(O.finallyLoc)}}}},abrupt:function(S,k){for(var M=this.tryEntries.length-1;M>=0;--M){var V=this.tryEntries[M];if(V.tryLoc<=this.prev&&c.call(V,"finallyLoc")&&this.prev<V.finallyLoc){var O=V;break}}O&&(S==="break"||S==="continue")&&O.tryLoc<=k&&k<=O.finallyLoc&&(O=null);var X=O?O.completion:{};return X.type=S,X.arg=k,O?(this.method="next",this.next=O.finallyLoc,y):this.complete(X)},complete:function(S,k){if(S.type==="throw")throw S.arg;return S.type==="break"||S.type==="continue"?this.next=S.arg:S.type==="return"?(this.rval=this.arg=S.arg,this.method="return",this.next="end"):S.type==="normal"&&k&&(this.next=k),y},finish:function(S){for(var k=this.tryEntries.length-1;k>=0;--k){var M=this.tryEntries[k];if(M.finallyLoc===S)return this.complete(M.completion,M.afterLoc),R(M),y}},catch:function(S){for(var k=this.tryEntries.length-1;k>=0;--k){var M=this.tryEntries[k];if(M.tryLoc===S){var V=M.completion;if(V.type==="throw"){var O=V.arg;R(M)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(S,k,M){return this.delegate={iterator:_(S),resultName:k,nextLoc:M},this.method==="next"&&(this.arg=void 0),y}},s})(typeof n=="object"?n.exports:{});try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},{}],493:[function(t,n,i){var a=t("buffer").Buffer,s=t("inherits"),l=t("hash-base"),c=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],m=[1352829926,1548603684,1836072691,2053994217,0];function g(){l.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(F,L){return F<<L|F>>>32-L}function y(F,L,j,I,z,$,B,T){return p(F+(L^j^I)+$+B|0,T)+z|0}function v(F,L,j,I,z,$,B,T){return p(F+(L&j|~L&I)+$+B|0,T)+z|0}function w(F,L,j,I,z,$,B,T){return p(F+((L|~j)^I)+$+B|0,T)+z|0}function C(F,L,j,I,z,$,B,T){return p(F+(L&I|j&~I)+$+B|0,T)+z|0}function P(F,L,j,I,z,$,B,T){return p(F+(L^(j|~I))+$+B|0,T)+z|0}s(g,l),g.prototype._update=function(){for(var F=c,L=0;L<16;++L)F[L]=this._block.readInt32LE(4*L);for(var j=0|this._a,I=0|this._b,z=0|this._c,$=0|this._d,B=0|this._e,T=0|this._a,R=0|this._b,N=0|this._c,_=0|this._d,E=0|this._e,S=0;S<80;S+=1){var k,M;S<16?(k=y(j,I,z,$,B,F[o[S]],h[0],f[S]),M=P(T,R,N,_,E,F[u[S]],m[0],d[S])):S<32?(k=v(j,I,z,$,B,F[o[S]],h[1],f[S]),M=C(T,R,N,_,E,F[u[S]],m[1],d[S])):S<48?(k=w(j,I,z,$,B,F[o[S]],h[2],f[S]),M=w(T,R,N,_,E,F[u[S]],m[2],d[S])):S<64?(k=C(j,I,z,$,B,F[o[S]],h[3],f[S]),M=v(T,R,N,_,E,F[u[S]],m[3],d[S])):(k=P(j,I,z,$,B,F[o[S]],h[4],f[S]),M=y(T,R,N,_,E,F[u[S]],m[4],d[S])),j=B,B=$,$=p(z,10),z=I,I=k,T=E,E=_,_=p(N,10),N=R,R=M}var V=this._b+z+_|0;this._b=this._c+$+E|0,this._c=this._d+B+T|0,this._d=this._e+j+R|0,this._e=this._a+I+N|0,this._a=V},g.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var F=a.alloc?a.alloc(20):new a(20);return F.writeInt32LE(this._a,0),F.writeInt32LE(this._b,4),F.writeInt32LE(this._c,8),F.writeInt32LE(this._d,12),F.writeInt32LE(this._e,16),F},n.exports=g},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,n,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var a=t("buffer"),s=a.Buffer;function l(o,u){for(var f in o)u[f]=o[f]}function c(o,u,f){return s(o,u,f)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?n.exports=a:(l(a,i),i.Buffer=c),c.prototype=Object.create(s.prototype),l(s,c),c.from=function(o,u,f){if(typeof o=="number")throw new TypeError("Argument must not be a number");return s(o,u,f)},c.alloc=function(o,u,f){if(typeof o!="number")throw new TypeError("Argument must be a number");var d=s(o);return u!==void 0?typeof f=="string"?d.fill(u,f):d.fill(u):d.fill(0),d},c.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return s(o)},c.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(o)}},{buffer:220}],495:[function(t,n,i){(function(a){(function(){var s,l=t("buffer"),c=l.Buffer,o={};for(s in l)l.hasOwnProperty(s)&&s!=="SlowBuffer"&&s!=="Buffer"&&(o[s]=l[s]);var u=o.Buffer={};for(s in c)c.hasOwnProperty(s)&&s!=="allocUnsafe"&&s!=="allocUnsafeSlow"&&(u[s]=c[s]);if(o.Buffer.prototype=c.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(f,d,h){if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof f);if(f&&f.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);return c(f,d,h)}),u.alloc||(u.alloc=function(f,d,h){if(typeof f!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof f);if(f<0||f>=2*(1<<30))throw new RangeError('The value "'+f+'" is invalid for option "size"');var m=c(f);return d&&d.length!==0?typeof h=="string"?m.fill(d,h):m.fill(d):m.fill(0),m}),!o.kStringMaxLength)try{o.kStringMaxLength=a.binding("buffer").kStringMaxLength}catch{}o.constants||(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),n.exports=o}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0});const a=t("xmlchars/xml/1.0/ed5"),s=t("xmlchars/xml/1.1/ed2"),l=t("xmlchars/xmlns/1.0/ed3");var c=a.isS,o=a.isChar,u=a.isNameStartChar,f=a.isNameChar,d=a.S_LIST,h=a.NAME_RE,m=s.isChar,g=l.isNCNameStartChar,p=l.isNCNameChar,y=l.NC_NAME_RE;const v="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",C={__proto__:null,xml:v,xmlns:w},P={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},F=_=>_===34||_===39,L=[34,39],j=[...L,91,62],I=[...L,60,93],z=[61,63,...d],$=[...d,62,38,60];function B(_,E,S){switch(E){case"xml":S!==v&&_.fail(`xml prefix must be bound to ${v}.`);break;case"xmlns":S!==w&&_.fail(`xmlns prefix must be bound to ${w}.`)}switch(S){case w:_.fail(E===""?`the default namespace may not be set to ${S}.`:`may not assign a prefix (even "xmlns") to the URI ${w}.`);break;case v:switch(E){case"xml":break;case"":_.fail(`the default namespace may not be set to ${S}.`);break;default:_.fail("may not assign the xml namespace to another prefix.")}}}const T=_=>y.test(_),R=_=>h.test(_);i.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const N={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};i.SaxesParser=class{constructor(_){this.opt=_??{},this.fragmentOpt=!!this.opt.fragment;const E=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,E){this.nameStartCheck=g,this.nameCheck=p,this.isName=T,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},C);const S=this.opt.additionalNamespaces;S!=null&&((function(k,M){for(const V of Object.keys(M))B(k,V,M[V])})(this,S),Object.assign(this.ns,S))}else this.nameStartCheck=u,this.nameCheck=f,this.isName=R,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var _;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:E}=this;this.state=E?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=E,this.xmlDeclPossible=!E,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:S}=this.opt;if(S===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");S="1.0"}this.setXMLVersion(S),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(P),(_=this.readyHandler)===null||_===void 0||_.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(_,E){this[N[_]]=E}off(_){this[N[_]]=void 0}makeError(_){var E;let S=(E=this.fileName)!==null&&E!==void 0?E:"";return this.trackPosition&&(S.length>0&&(S+=":"),S+=`${this.line}:${this.column}`),S.length>0&&(S+=": "),new Error(S+_)}fail(_){const E=this.makeError(_),S=this.errorHandler;if(S===void 0)throw E;return S(E),this}write(_){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let E=!1;_===null?(E=!0,_=""):typeof _=="object"&&(_=_.toString()),this.carriedFromPrevious!==void 0&&(_=`${this.carriedFromPrevious}${_}`,this.carriedFromPrevious=void 0);let S=_.length;const k=_.charCodeAt(S-1);!E&&(k===13||k>=55296&&k<=56319)&&(this.carriedFromPrevious=_[S-1],S--,_=_.slice(0,S));const{stateTable:M}=this;for(this.chunk=_,this.i=0;this.i<S;)M[this.state].call(this);return this.chunkPosition+=S,E?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:_,i:E}=this;if(this.prevI=E,this.i=E+1,E>=_.length)return-1;const S=_.charCodeAt(E);if(this.column++,S<55296){if(S>=32||S===9)return S;switch(S){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return _.charCodeAt(E+1)===10&&(this.i=E+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),S}}if(S>56319)return S>=57344&&S<=65533||this.fail("disallowed character."),S;const k=65536+1024*(S-55296)+(_.charCodeAt(E+1)-56320);return this.i=E+2,k>1114111&&this.fail("disallowed character."),k}getCode11(){const{chunk:_,i:E}=this;if(this.prevI=E,this.i=E+1,E>=_.length)return-1;const S=_.charCodeAt(E);if(this.column++,S<55296){if(S>31&&S<127||S>159&&S!==8232||S===9)return S;switch(S){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const M=_.charCodeAt(E+1);M!==10&&M!==133||(this.i=E+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),S}}if(S>56319)return S>=57344&&S<=65533||this.fail("disallowed character."),S;const k=65536+1024*(S-55296)+(_.charCodeAt(E+1)-56320);return this.i=E+2,k>1114111&&this.fail("disallowed character."),k}getCodeNorm(){const _=this.getCode();return _===-2?10:_}unget(){this.i=this.prevI,this.column--}captureTo(_){let{i:E}=this;const{chunk:S}=this;for(;;){const k=this.getCode(),M=k===-2,V=M?10:k;if(V===-1||_.includes(V))return this.text+=S.slice(E,this.prevI),V;M&&(this.text+=S.slice(E,this.prevI)+`
`,E=this.i)}}captureToChar(_){let{i:E}=this;const{chunk:S}=this;for(;;){let k=this.getCode();switch(k){case-2:this.text+=S.slice(E,this.prevI)+`
`,E=this.i,k=10;break;case-1:return this.text+=S.slice(E),!1}if(k===_)return this.text+=S.slice(E,this.prevI),!0}}captureNameChars(){const{chunk:_,i:E}=this;for(;;){const S=this.getCode();if(S===-1)return this.name+=_.slice(E),-1;if(!f(S))return this.name+=_.slice(E,this.prevI),S===-2?10:S}}skipSpaces(){for(;;){const _=this.getCodeNorm();if(_===-1||!c(_))return _}}setXMLVersion(_){this.currentXMLVersion=_,_==="1.0"?(this.isChar=o,this.getCode=this.getCode10):(this.isChar=m,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const _=this.i,E=this.skipSpaces();switch(this.prevI!==_&&(this.xmlDeclPossible=!1),E){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var _;const E=this.captureTo(j);switch(E){case 62:(_=this.doctypeHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(E),E===91?this.state=4:F(E)&&(this.state=3,this.q=E)}}sDoctypeQuote(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.q=null,this.state=2)}sDTD(){const _=this.captureTo(I);_!==-1&&(this.text+=String.fromCodePoint(_),_===93?this.state=2:_===60?this.state=6:F(_)&&(this.state=5,this.q=_))}sDTDQuoted(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.state=4,this.q=null)}sDTDOpenWaka(){const _=this.getCodeNorm();switch(this.text+=String.fromCodePoint(_),_){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const _=String.fromCodePoint(this.getCodeNorm()),E=this.openWakaBang+=_;this.text+=_,E!=="-"&&(this.state=E==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),this.state=_===45?10:8}sDTDCommentEnded(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:_}=this;const{chunk:E}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=E.slice(_,this.prevI)+`
`,_=this.i;break;case 59:{const{entityReturnState:S}=this,k=this.entity+E.slice(_,this.prevI);let M;this.state=S,k===""?(this.fail("empty entity name."),M="&;"):(M=this.parseEntity(k),this.entity=""),S===13&&this.textHandler===void 0||(this.text+=M);break e}case-1:this.entity+=E.slice(_);break e}}sOpenWaka(){const _=this.getCode();if(u(_))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(_){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var _;const E=this.getCodeNorm();E===45?(this.state=19,(_=this.commentHandler)===null||_===void 0||_.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(E),this.state=17)}sCommentEnded(){const _=this.getCodeNorm();_!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(_),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const _=this.getCodeNorm();_===93?this.state=22:(this.text+="]"+String.fromCodePoint(_),this.state=20)}sCDataEnding2(){var _;const E=this.getCodeNorm();switch(E){case 62:(_=this.cdataHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(E),this.state=20}}sPIFirstChar(){const _=this.getCodeNorm();this.nameStartCheck(_)?(this.piTarget+=String.fromCodePoint(_),this.state=24):_===63||c(_)?(this.fail("processing instruction without a target."),this.state=_===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(_),this.state=24)}sPIRest(){const{chunk:_,i:E}=this;for(;;){const S=this.getCodeNorm();if(S===-1)return void(this.piTarget+=_.slice(E));if(!this.nameCheck(S)){this.piTarget+=_.slice(E,this.prevI);const k=S===63;k||c(S)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=k?33:27):this.state=k?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(S));break}}}sPIBody(){if(this.text.length===0){const _=this.getCodeNorm();_===63?this.state=26:c(_)||(this.text=String.fromCodePoint(_))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var _;const E=this.getCodeNorm();if(E===62){const{piTarget:S}=this;S.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(_=this.piHandler)===null||_===void 0||_.call(this,{target:S,body:this.text}),this.piTarget=this.text="",this.state=13}else E===63?this.text+="?":(this.text+="?"+String.fromCodePoint(E),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const _=this.skipSpaces();_!==63?_!==-1&&(this.state=28,this.name=String.fromCodePoint(_)):this.state=33}sXMLDeclName(){const _=this.captureTo(z);if(_===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(c(_)||_===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=_===61?30:29}}sXMLDeclEq(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(_)||(_!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(_)||(F(_)?this.q=_:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const _=this.captureTo([this.q,63]);if(_===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(_===-1)return;const E=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const S=E;this.xmlDecl.version=S,/^1\.[0-9]+$/.test(S)?this.opt.forceXMLVersion||this.setXMLVersion(S):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(E)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=E;break;case"standalone":E!=="yes"&&E!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=E}this.name="",this.state=32}sXMLDeclSeparator(){const _=this.getCodeNorm();_!==63?(c(_)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var _;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(_=this.xmldeclHandler)===null||_===void 0||_.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var _;const E=this.captureNameChars();if(E===-1)return;const S=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=S.ns=Object.create(null)),(_=this.openTagStartHandler)===null||_===void 0||_.call(this,S),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),E){case 62:this.openTag();break;case 47:this.state=35;break;default:c(E)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const _=this.skipSpaces();_!==-1&&(u(_)?(this.unget(),this.state=37):_===62?this.openTag():_===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const _=this.captureNameChars();_===61?this.state=39:c(_)?this.state=38:_===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):_!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const _=this.skipSpaces();switch(_){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",_===62?this.openTag():u(_)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const _=this.getCodeNorm();F(_)?(this.q=_,this.state=40):c(_)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:_,chunk:E}=this;let{i:S}=this;for(;;)switch(this.getCode()){case _:return this.pushAttrib(this.name,this.text+E.slice(S,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=E.slice(S,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=E.slice(S,this.prevI)+" ",S=this.i;break;case 60:return this.text+=E.slice(S,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=E.slice(S))}}sAttribValueClosed(){const _=this.getCodeNorm();c(_)?this.state=36:_===62?this.openTag():_===47?this.state=35:u(_)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const _=this.captureTo($);switch(_){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",_===62?this.openTag():this.state=36}}sCloseTag(){const _=this.captureNameChars();_===62?this.closeTag():c(_)?this.state=44:_!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:_,forbiddenState:E}=this;const{chunk:S,textHandler:k}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,k!==void 0){const{text:M}=this,V=S.slice(_,this.prevI);M.length!==0?(k(M+V),this.text=""):V.length!==0&&k(V)}E=0;break e;case 38:this.state=14,this.entityReturnState=13,k!==void 0&&(this.text+=S.slice(_,this.prevI)),E=0;break e;case 93:switch(E){case 0:E=1;break;case 1:E=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:E===2&&this.fail('the string "]]>" is disallowed in char data.'),E=0;break;case-2:k!==void 0&&(this.text+=S.slice(_,this.prevI)+`
`),_=this.i,E=0;break;case-1:k!==void 0&&(this.text+=S.slice(_));break e;default:E=0}this.forbiddenState=E}handleTextOutsideRoot(){let{i:_}=this;const{chunk:E,textHandler:S}=this;let k=!1;e:for(;;){const M=this.getCode();switch(M){case 60:if(this.state=15,S!==void 0){const{text:V}=this,O=E.slice(_,this.prevI);V.length!==0?(S(V+O),this.text=""):O.length!==0&&S(O)}break e;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=E.slice(_,this.prevI)),k=!0;break e;case-2:S!==void 0&&(this.text+=E.slice(_,this.prevI)+`
`),_=this.i;break;case-1:S!==void 0&&(this.text+=E.slice(_));break e;default:c(M)||(k=!0)}}k&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(_,E){var S;const{prefix:k,local:M}=this.qname(_),V={name:_,prefix:k,local:M,value:E};if(this.attribList.push(V),(S=this.attributeHandler)===null||S===void 0||S.call(this,V),k==="xmlns"){const O=E.trim();this.currentXMLVersion==="1.0"&&O===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[M]=O,B(this,M,O)}else if(_==="xmlns"){const O=E.trim();this.topNS[""]=O,B(this,"",O)}}pushAttribPlain(_,E){var S;const k={name:_,value:E};this.attribList.push(k),(S=this.attributeHandler)===null||S===void 0||S.call(this,k)}end(){var _,E;this.sawRoot||this.fail("document must contain a root element.");const{tags:S}=this;for(;S.length>0;){const M=S.pop();this.fail("unclosed tag: "+M.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:k}=this;return k.length!==0&&((_=this.textHandler)===null||_===void 0||_.call(this,k),this.text=""),this._closed=!0,(E=this.endHandler)===null||E===void 0||E.call(this),this._init(),this}resolve(_){var E,S;let k=this.topNS[_];if(k!==void 0)return k;const{tags:M}=this;for(let V=M.length-1;V>=0;V--)if(k=M[V].ns[_],k!==void 0)return k;return k=this.ns[_],k!==void 0?k:(S=(E=this.opt).resolvePrefix)===null||S===void 0?void 0:S.call(E,_)}qname(_){const E=_.indexOf(":");if(E===-1)return{prefix:"",local:_};const S=_.slice(E+1),k=_.slice(0,E);return(k===""||S===""||S.includes(":"))&&this.fail(`malformed name: ${_}.`),{prefix:k,local:S}}processAttribsNS(){var _;const{attribList:E}=this,S=this.tag;{const{prefix:V,local:O}=this.qname(S.name);S.prefix=V,S.local=O;const X=S.uri=(_=this.resolve(V))!==null&&_!==void 0?_:"";V!==""&&(V==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),X===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(V)}.`),S.uri=V))}if(E.length===0)return;const{attributes:k}=S,M=new Set;for(const V of E){const{name:O,prefix:X,local:Q}=V;let re,G;X===""?(re=O==="xmlns"?w:"",G=O):(re=this.resolve(X),re===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(X)}.`),re=X),G=`{${re}}${Q}`),M.has(G)&&this.fail(`duplicate attribute: ${G}.`),M.add(G),V.uri=re,k[O]=V}this.attribList=[]}processAttribsPlain(){const{attribList:_}=this,E=this.tag.attributes;for(const{name:S,value:k}of _)E[S]!==void 0&&this.fail(`duplicate attribute: ${S}.`),E[S]=k;this.attribList=[]}openTag(){var _;this.processAttribs();const{tags:E}=this,S=this.tag;S.isSelfClosing=!1,(_=this.openTagHandler)===null||_===void 0||_.call(this,S),E.push(S),this.state=13,this.name=""}openSelfClosingTag(){var _,E,S;this.processAttribs();const{tags:k}=this,M=this.tag;M.isSelfClosing=!0,(_=this.openTagHandler)===null||_===void 0||_.call(this,M),(E=this.closeTagHandler)===null||E===void 0||E.call(this,M),(this.tag=(S=k[k.length-1])!==null&&S!==void 0?S:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:_,name:E}=this;if(this.state=13,this.name="",E==="")return this.fail("weird empty close tag."),void(this.text+="</>");const S=this.closeTagHandler;let k=_.length;for(;k-- >0;){const M=this.tag=_.pop();if(this.topNS=M.ns,S==null||S(M),M.name===E)break;this.fail("unexpected close tag.")}k===0?this.closedRoot=!0:k<0&&(this.fail(`unmatched closing tag: ${E}.`),this.text+=`</${E}>`)}parseEntity(_){if(_[0]!=="#"){const S=this.ENTITIES[_];return S!==void 0?S:(this.fail(this.isName(_)?"undefined entity.":"disallowed character in entity name."),`&${_};`)}let E=NaN;return _[1]==="x"&&/^#x[0-9a-f]+$/i.test(_)?E=parseInt(_.slice(2),16):/^#[0-9]+$/.test(_)&&(E=parseInt(_.slice(1),10)),this.isChar(E)?String.fromCodePoint(E):(this.fail("malformed character entity."),`&${_};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,n,i){var a=t("safe-buffer").Buffer;function s(l,c){this._block=a.alloc(l),this._finalSize=c,this._blockSize=l,this._len=0}s.prototype.update=function(l,c){typeof l=="string"&&(c=c||"utf8",l=a.from(l,c));for(var o=this._block,u=this._blockSize,f=l.length,d=this._len,h=0;h<f;){for(var m=d%u,g=Math.min(f-h,u-m),p=0;p<g;p++)o[m+p]=l[h+p];h+=g,(d+=g)%u==0&&this._update(o)}return this._len+=f,this},s.prototype.digest=function(l){var c=this._len%this._blockSize;this._block[c]=128,this._block.fill(0,c+1),c>=this._finalSize&&(this._update(this._block),this._block.fill(0));var o=8*this._len;if(o<=4294967295)this._block.writeUInt32BE(o,this._blockSize-4);else{var u=(4294967295&o)>>>0,f=(o-u)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var d=this._hash();return l?d.toString(l):d},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=s},{"safe-buffer":494}],498:[function(t,n,i){var a=n.exports=function(s){s=s.toLowerCase();var l=a[s];if(!l)throw new Error(s+" is not supported (we accept pull requests)");return new l};a.sha=t("./sha"),a.sha1=t("./sha1"),a.sha224=t("./sha224"),a.sha256=t("./sha256"),a.sha384=t("./sha384"),a.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,n,i){var a=t("inherits"),s=t("./hash"),l=t("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,s.call(this,64,56)}function f(h){return h<<30|h>>>2}function d(h,m,g,p){return h===0?m&g|~m&p:h===2?m&g|m&p|g&p:m^g^p}a(u,s),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(h){for(var m,g=this._w,p=0|this._a,y=0|this._b,v=0|this._c,w=0|this._d,C=0|this._e,P=0;P<16;++P)g[P]=h.readInt32BE(4*P);for(;P<80;++P)g[P]=g[P-3]^g[P-8]^g[P-14]^g[P-16];for(var F=0;F<80;++F){var L=~~(F/20),j=0|((m=p)<<5|m>>>27)+d(L,y,v,w)+C+g[F]+c[L];C=w,w=v,v=f(y),y=p,p=j}this._a=p+this._a|0,this._b=y+this._b|0,this._c=v+this._c|0,this._d=w+this._d|0,this._e=C+this._e|0},u.prototype._hash=function(){var h=l.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,n,i){var a=t("inherits"),s=t("./hash"),l=t("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,s.call(this,64,56)}function f(m){return m<<5|m>>>27}function d(m){return m<<30|m>>>2}function h(m,g,p,y){return m===0?g&p|~g&y:m===2?g&p|g&y|p&y:g^p^y}a(u,s),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(m){for(var g,p=this._w,y=0|this._a,v=0|this._b,w=0|this._c,C=0|this._d,P=0|this._e,F=0;F<16;++F)p[F]=m.readInt32BE(4*F);for(;F<80;++F)p[F]=(g=p[F-3]^p[F-8]^p[F-14]^p[F-16])<<1|g>>>31;for(var L=0;L<80;++L){var j=~~(L/20),I=f(y)+h(j,v,w,C)+P+p[L]+c[j]|0;P=C,C=w,w=d(v),v=y,y=I}this._a=y+this._a|0,this._b=v+this._b|0,this._c=w+this._c|0,this._d=C+this._d|0,this._e=P+this._e|0},u.prototype._hash=function(){var m=l.allocUnsafe(20);return m.writeInt32BE(0|this._a,0),m.writeInt32BE(0|this._b,4),m.writeInt32BE(0|this._c,8),m.writeInt32BE(0|this._d,12),m.writeInt32BE(0|this._e,16),m},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,n,i){var a=t("inherits"),s=t("./sha256"),l=t("./hash"),c=t("safe-buffer").Buffer,o=new Array(64);function u(){this.init(),this._w=o,l.call(this,64,56)}a(u,s),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var f=c.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},n.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,n,i){var a=t("inherits"),s=t("./hash"),l=t("safe-buffer").Buffer,c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function u(){this.init(),this._w=o,s.call(this,64,56)}function f(p,y,v){return v^p&(y^v)}function d(p,y,v){return p&y|v&(p|y)}function h(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function m(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function g(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}a(u,s),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(p){for(var y,v=this._w,w=0|this._a,C=0|this._b,P=0|this._c,F=0|this._d,L=0|this._e,j=0|this._f,I=0|this._g,z=0|this._h,$=0;$<16;++$)v[$]=p.readInt32BE(4*$);for(;$<64;++$)v[$]=0|(((y=v[$-2])>>>17|y<<15)^(y>>>19|y<<13)^y>>>10)+v[$-7]+g(v[$-15])+v[$-16];for(var B=0;B<64;++B){var T=z+m(L)+f(L,j,I)+c[B]+v[B]|0,R=h(w)+d(w,C,P)|0;z=I,I=j,j=L,L=F+T|0,F=P,P=C,C=w,w=T+R|0}this._a=w+this._a|0,this._b=C+this._b|0,this._c=P+this._c|0,this._d=F+this._d|0,this._e=L+this._e|0,this._f=j+this._f|0,this._g=I+this._g|0,this._h=z+this._h|0},u.prototype._hash=function(){var p=l.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,n,i){var a=t("inherits"),s=t("./sha512"),l=t("./hash"),c=t("safe-buffer").Buffer,o=new Array(160);function u(){this.init(),this._w=o,l.call(this,128,112)}a(u,s),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var f=c.allocUnsafe(48);function d(h,m,g){f.writeInt32BE(h,g),f.writeInt32BE(m,g+4)}return d(this._ah,this._al,0),d(this._bh,this._bl,8),d(this._ch,this._cl,16),d(this._dh,this._dl,24),d(this._eh,this._el,32),d(this._fh,this._fl,40),f},n.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,n,i){var a=t("inherits"),s=t("./hash"),l=t("safe-buffer").Buffer,c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function u(){this.init(),this._w=o,s.call(this,128,112)}function f(C,P,F){return F^C&(P^F)}function d(C,P,F){return C&P|F&(C|P)}function h(C,P){return(C>>>28|P<<4)^(P>>>2|C<<30)^(P>>>7|C<<25)}function m(C,P){return(C>>>14|P<<18)^(C>>>18|P<<14)^(P>>>9|C<<23)}function g(C,P){return(C>>>1|P<<31)^(C>>>8|P<<24)^C>>>7}function p(C,P){return(C>>>1|P<<31)^(C>>>8|P<<24)^(C>>>7|P<<25)}function y(C,P){return(C>>>19|P<<13)^(P>>>29|C<<3)^C>>>6}function v(C,P){return(C>>>19|P<<13)^(P>>>29|C<<3)^(C>>>6|P<<26)}function w(C,P){return C>>>0<P>>>0?1:0}a(u,s),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(C){for(var P=this._w,F=0|this._ah,L=0|this._bh,j=0|this._ch,I=0|this._dh,z=0|this._eh,$=0|this._fh,B=0|this._gh,T=0|this._hh,R=0|this._al,N=0|this._bl,_=0|this._cl,E=0|this._dl,S=0|this._el,k=0|this._fl,M=0|this._gl,V=0|this._hl,O=0;O<32;O+=2)P[O]=C.readInt32BE(4*O),P[O+1]=C.readInt32BE(4*O+4);for(;O<160;O+=2){var X=P[O-30],Q=P[O-30+1],re=g(X,Q),G=p(Q,X),J=y(X=P[O-4],Q=P[O-4+1]),q=v(Q,X),U=P[O-14],Z=P[O-14+1],ie=P[O-32],le=P[O-32+1],de=G+Z|0,fe=re+U+w(de,G)|0;fe=(fe=fe+J+w(de=de+q|0,q)|0)+ie+w(de=de+le|0,le)|0,P[O]=fe,P[O+1]=de}for(var ue=0;ue<160;ue+=2){fe=P[ue],de=P[ue+1];var Ae=d(F,L,j),he=d(R,N,_),xe=h(F,R),me=h(R,F),Ce=m(z,S),ke=m(S,z),Oe=c[ue],De=c[ue+1],He=f(z,$,B),Qe=f(S,k,M),tt=V+ke|0,st=T+Ce+w(tt,V)|0;st=(st=(st=st+He+w(tt=tt+Qe|0,Qe)|0)+Oe+w(tt=tt+De|0,De)|0)+fe+w(tt=tt+de|0,de)|0;var it=me+he|0,pt=xe+Ae+w(it,me)|0;T=B,V=M,B=$,M=k,$=z,k=S,z=I+st+w(S=E+tt|0,E)|0,I=j,E=_,j=L,_=N,L=F,N=R,F=st+pt+w(R=tt+it|0,tt)|0}this._al=this._al+R|0,this._bl=this._bl+N|0,this._cl=this._cl+_|0,this._dl=this._dl+E|0,this._el=this._el+S|0,this._fl=this._fl+k|0,this._gl=this._gl+M|0,this._hl=this._hl+V|0,this._ah=this._ah+F+w(this._al,R)|0,this._bh=this._bh+L+w(this._bl,N)|0,this._ch=this._ch+j+w(this._cl,_)|0,this._dh=this._dh+I+w(this._dl,E)|0,this._eh=this._eh+z+w(this._el,S)|0,this._fh=this._fh+$+w(this._fl,k)|0,this._gh=this._gh+B+w(this._gl,M)|0,this._hh=this._hh+T+w(this._hl,V)|0},u.prototype._hash=function(){var C=l.allocUnsafe(64);function P(F,L,j){C.writeInt32BE(F,j),C.writeInt32BE(L,j+4)}return P(this._ah,this._al,0),P(this._bh,this._bl,8),P(this._ch,this._cl,16),P(this._dh,this._dl,24),P(this._eh,this._el,32),P(this._fh,this._fl,40),P(this._gh,this._gl,48),P(this._hh,this._hl,56),C},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,n,i){n.exports=s;var a=t("events").EventEmitter;function s(){a.call(this)}t("inherits")(s,a),s.Readable=t("readable-stream/readable.js"),s.Writable=t("readable-stream/writable.js"),s.Duplex=t("readable-stream/duplex.js"),s.Transform=t("readable-stream/transform.js"),s.PassThrough=t("readable-stream/passthrough.js"),s.Stream=s,s.prototype.pipe=function(l,c){var o=this;function u(y){l.writable&&l.write(y)===!1&&o.pause&&o.pause()}function f(){o.readable&&o.resume&&o.resume()}o.on("data",u),l.on("drain",f),l._isStdio||c&&c.end===!1||(o.on("end",h),o.on("close",m));var d=!1;function h(){d||(d=!0,l.end())}function m(){d||(d=!0,typeof l.destroy=="function"&&l.destroy())}function g(y){if(p(),a.listenerCount(this,"error")===0)throw y}function p(){o.removeListener("data",u),l.removeListener("drain",f),o.removeListener("end",h),o.removeListener("close",m),o.removeListener("error",g),l.removeListener("error",g),o.removeListener("end",p),o.removeListener("close",p),l.removeListener("close",p)}return o.on("error",g),l.on("error",g),o.on("end",p),o.on("close",p),l.on("close",p),l.emit("pipe",o),l}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,n,i){var a={}.toString;n.exports=Array.isArray||function(s){return a.call(s)=="[object Array]"}},{}],507:[function(t,n,i){n.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,n,i){var a=t("process-nextick-args"),s=Object.keys||function(p){var y=[];for(var v in p)y.push(v);return y};n.exports=h;var l=Object.create(t("core-util-is"));l.inherits=t("inherits");var c=t("./_stream_readable"),o=t("./_stream_writable");l.inherits(h,c);for(var u=s(o.prototype),f=0;f<u.length;f++){var d=u[f];h.prototype[d]||(h.prototype[d]=o.prototype[d])}function h(p){if(!(this instanceof h))return new h(p);c.call(this,p),o.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",m)}function m(){this.allowHalfOpen||this._writableState.ended||a.nextTick(g,this)}function g(p){p.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),h.prototype._destroy=function(p,y){this.push(null),this.end(),a.nextTick(y,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,n,i){n.exports=l;var a=t("./_stream_transform"),s=Object.create(t("core-util-is"));function l(c){if(!(this instanceof l))return new l(c);a.call(this,c)}s.inherits=t("inherits"),s.inherits(l,a),l.prototype._transform=function(c,o,u){u(null,c)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,n,i){(function(a,s){(function(){var l=t("process-nextick-args");n.exports=F;var c,o=t("isarray");F.ReadableState=P,t("events").EventEmitter;var u=function(V,O){return V.listeners(O).length},f=t("./internal/streams/stream"),d=t("safe-buffer").Buffer,h=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},m=Object.create(t("core-util-is"));m.inherits=t("inherits");var g=t("util"),p=void 0;p=g&&g.debuglog?g.debuglog("stream"):function(){};var y,v=t("./internal/streams/BufferList"),w=t("./internal/streams/destroy");m.inherits(F,f);var C=["error","close","destroy","pause","resume"];function P(V,O){V=V||{};var X=O instanceof(c=c||t("./_stream_duplex"));this.objectMode=!!V.objectMode,X&&(this.objectMode=this.objectMode||!!V.readableObjectMode);var Q=V.highWaterMark,re=V.readableHighWaterMark,G=this.objectMode?16:16384;this.highWaterMark=Q||Q===0?Q:X&&(re||re===0)?re:G,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=V.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,V.encoding&&(y||(y=t("string_decoder/").StringDecoder),this.decoder=new y(V.encoding),this.encoding=V.encoding)}function F(V){if(c=c||t("./_stream_duplex"),!(this instanceof F))return new F(V);this._readableState=new P(V,this),this.readable=!0,V&&(typeof V.read=="function"&&(this._read=V.read),typeof V.destroy=="function"&&(this._destroy=V.destroy)),f.call(this)}function L(V,O,X,Q,re){var G,J=V._readableState;return O===null?(J.reading=!1,(function(q,U){if(!U.ended){if(U.decoder){var Z=U.decoder.end();Z&&Z.length&&(U.buffer.push(Z),U.length+=U.objectMode?1:Z.length)}U.ended=!0,z(q)}})(V,J)):(re||(G=(function(q,U){var Z;ie=U,d.isBuffer(ie)||ie instanceof h||typeof U=="string"||U===void 0||q.objectMode||(Z=new TypeError("Invalid non-string/buffer chunk"));var ie;return Z})(J,O)),G?V.emit("error",G):J.objectMode||O&&O.length>0?(typeof O=="string"||J.objectMode||Object.getPrototypeOf(O)===d.prototype||(O=(function(q){return d.from(q)})(O)),Q?J.endEmitted?V.emit("error",new Error("stream.unshift() after end event")):j(V,J,O,!0):J.ended?V.emit("error",new Error("stream.push() after EOF")):(J.reading=!1,J.decoder&&!X?(O=J.decoder.write(O),J.objectMode||O.length!==0?j(V,J,O,!1):B(V,J)):j(V,J,O,!1))):Q||(J.reading=!1)),(function(q){return!q.ended&&(q.needReadable||q.length<q.highWaterMark||q.length===0)})(J)}function j(V,O,X,Q){O.flowing&&O.length===0&&!O.sync?(V.emit("data",X),V.read(0)):(O.length+=O.objectMode?1:X.length,Q?O.buffer.unshift(X):O.buffer.push(X),O.needReadable&&z(V)),B(V,O)}Object.defineProperty(F.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(V){this._readableState&&(this._readableState.destroyed=V)}}),F.prototype.destroy=w.destroy,F.prototype._undestroy=w.undestroy,F.prototype._destroy=function(V,O){this.push(null),O(V)},F.prototype.push=function(V,O){var X,Q=this._readableState;return Q.objectMode?X=!0:typeof V=="string"&&((O=O||Q.defaultEncoding)!==Q.encoding&&(V=d.from(V,O),O=""),X=!0),L(this,V,O,!1,X)},F.prototype.unshift=function(V){return L(this,V,null,!0,!1)},F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(V){return y||(y=t("string_decoder/").StringDecoder),this._readableState.decoder=new y(V),this._readableState.encoding=V,this};function I(V,O){return V<=0||O.length===0&&O.ended?0:O.objectMode?1:V!=V?O.flowing&&O.length?O.buffer.head.data.length:O.length:(V>O.highWaterMark&&(O.highWaterMark=(function(X){return X>=8388608?X=8388608:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X})(V)),V<=O.length?V:O.ended?O.length:(O.needReadable=!0,0))}function z(V){var O=V._readableState;O.needReadable=!1,O.emittedReadable||(p("emitReadable",O.flowing),O.emittedReadable=!0,O.sync?l.nextTick($,V):$(V))}function $(V){p("emit readable"),V.emit("readable"),_(V)}function B(V,O){O.readingMore||(O.readingMore=!0,l.nextTick(T,V,O))}function T(V,O){for(var X=O.length;!O.reading&&!O.flowing&&!O.ended&&O.length<O.highWaterMark&&(p("maybeReadMore read 0"),V.read(0),X!==O.length);)X=O.length;O.readingMore=!1}function R(V){p("readable nexttick read 0"),V.read(0)}function N(V,O){O.reading||(p("resume read 0"),V.read(0)),O.resumeScheduled=!1,O.awaitDrain=0,V.emit("resume"),_(V),O.flowing&&!O.reading&&V.read(0)}function _(V){var O=V._readableState;for(p("flow",O.flowing);O.flowing&&V.read()!==null;);}function E(V,O){return O.length===0?null:(O.objectMode?X=O.buffer.shift():!V||V>=O.length?(X=O.decoder?O.buffer.join(""):O.buffer.length===1?O.buffer.head.data:O.buffer.concat(O.length),O.buffer.clear()):X=(function(Q,re,G){var J;return Q<re.head.data.length?(J=re.head.data.slice(0,Q),re.head.data=re.head.data.slice(Q)):J=Q===re.head.data.length?re.shift():G?(function(q,U){var Z=U.head,ie=1,le=Z.data;for(q-=le.length;Z=Z.next;){var de=Z.data,fe=q>de.length?de.length:q;if(fe===de.length?le+=de:le+=de.slice(0,q),(q-=fe)===0){fe===de.length?(++ie,Z.next?U.head=Z.next:U.head=U.tail=null):(U.head=Z,Z.data=de.slice(fe));break}++ie}return U.length-=ie,le})(Q,re):(function(q,U){var Z=d.allocUnsafe(q),ie=U.head,le=1;for(ie.data.copy(Z),q-=ie.data.length;ie=ie.next;){var de=ie.data,fe=q>de.length?de.length:q;if(de.copy(Z,Z.length-q,0,fe),(q-=fe)===0){fe===de.length?(++le,ie.next?U.head=ie.next:U.head=U.tail=null):(U.head=ie,ie.data=de.slice(fe));break}++le}return U.length-=le,Z})(Q,re),J})(V,O.buffer,O.decoder),X);var X}function S(V){var O=V._readableState;if(O.length>0)throw new Error('"endReadable()" called on non-empty stream');O.endEmitted||(O.ended=!0,l.nextTick(k,O,V))}function k(V,O){V.endEmitted||V.length!==0||(V.endEmitted=!0,O.readable=!1,O.emit("end"))}function M(V,O){for(var X=0,Q=V.length;X<Q;X++)if(V[X]===O)return X;return-1}F.prototype.read=function(V){p("read",V),V=parseInt(V,10);var O=this._readableState,X=V;if(V!==0&&(O.emittedReadable=!1),V===0&&O.needReadable&&(O.length>=O.highWaterMark||O.ended))return p("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?S(this):z(this),null;if((V=I(V,O))===0&&O.ended)return O.length===0&&S(this),null;var Q,re=O.needReadable;return p("need readable",re),(O.length===0||O.length-V<O.highWaterMark)&&p("length less than watermark",re=!0),O.ended||O.reading?p("reading or ended",re=!1):re&&(p("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(V=I(X,O))),(Q=V>0?E(V,O):null)===null?(O.needReadable=!0,V=0):O.length-=V,O.length===0&&(O.ended||(O.needReadable=!0),X!==V&&O.ended&&S(this)),Q!==null&&this.emit("data",Q),Q},F.prototype._read=function(V){this.emit("error",new Error("_read() is not implemented"))},F.prototype.pipe=function(V,O){var X=this,Q=this._readableState;switch(Q.pipesCount){case 0:Q.pipes=V;break;case 1:Q.pipes=[Q.pipes,V];break;default:Q.pipes.push(V)}Q.pipesCount+=1,p("pipe count=%d opts=%j",Q.pipesCount,O);var re=(!O||O.end!==!1)&&V!==a.stdout&&V!==a.stderr?J:ue;function G(Ae,he){p("onunpipe"),Ae===X&&he&&he.hasUnpiped===!1&&(he.hasUnpiped=!0,p("cleanup"),V.removeListener("close",de),V.removeListener("finish",fe),V.removeListener("drain",q),V.removeListener("error",le),V.removeListener("unpipe",G),X.removeListener("end",J),X.removeListener("end",ue),X.removeListener("data",ie),U=!0,!Q.awaitDrain||V._writableState&&!V._writableState.needDrain||q())}function J(){p("onend"),V.end()}Q.endEmitted?l.nextTick(re):X.once("end",re),V.on("unpipe",G);var q=(function(Ae){return function(){var he=Ae._readableState;p("pipeOnDrain",he.awaitDrain),he.awaitDrain&&he.awaitDrain--,he.awaitDrain===0&&u(Ae,"data")&&(he.flowing=!0,_(Ae))}})(X);V.on("drain",q);var U=!1,Z=!1;function ie(Ae){p("ondata"),Z=!1,V.write(Ae)!==!1||Z||((Q.pipesCount===1&&Q.pipes===V||Q.pipesCount>1&&M(Q.pipes,V)!==-1)&&!U&&(p("false write response, pause",Q.awaitDrain),Q.awaitDrain++,Z=!0),X.pause())}function le(Ae){p("onerror",Ae),ue(),V.removeListener("error",le),u(V,"error")===0&&V.emit("error",Ae)}function de(){V.removeListener("finish",fe),ue()}function fe(){p("onfinish"),V.removeListener("close",de),ue()}function ue(){p("unpipe"),X.unpipe(V)}return X.on("data",ie),(function(Ae,he,xe){if(typeof Ae.prependListener=="function")return Ae.prependListener(he,xe);Ae._events&&Ae._events[he]?o(Ae._events[he])?Ae._events[he].unshift(xe):Ae._events[he]=[xe,Ae._events[he]]:Ae.on(he,xe)})(V,"error",le),V.once("close",de),V.once("finish",fe),V.emit("pipe",X),Q.flowing||(p("pipe resume"),X.resume()),V},F.prototype.unpipe=function(V){var O=this._readableState,X={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return V&&V!==O.pipes||(V||(V=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,V&&V.emit("unpipe",this,X)),this;if(!V){var Q=O.pipes,re=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var G=0;G<re;G++)Q[G].emit("unpipe",this,{hasUnpiped:!1});return this}var J=M(O.pipes,V);return J===-1||(O.pipes.splice(J,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),V.emit("unpipe",this,X)),this},F.prototype.on=function(V,O){var X=f.prototype.on.call(this,V,O);if(V==="data")this._readableState.flowing!==!1&&this.resume();else if(V==="readable"){var Q=this._readableState;Q.endEmitted||Q.readableListening||(Q.readableListening=Q.needReadable=!0,Q.emittedReadable=!1,Q.reading?Q.length&&z(this):l.nextTick(R,this))}return X},F.prototype.addListener=F.prototype.on,F.prototype.resume=function(){var V=this._readableState;return V.flowing||(p("resume"),V.flowing=!0,(function(O,X){X.resumeScheduled||(X.resumeScheduled=!0,l.nextTick(N,O,X))})(this,V)),this},F.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},F.prototype.wrap=function(V){var O=this,X=this._readableState,Q=!1;for(var re in V.on("end",(function(){if(p("wrapped end"),X.decoder&&!X.ended){var J=X.decoder.end();J&&J.length&&O.push(J)}O.push(null)})),V.on("data",(function(J){p("wrapped data"),X.decoder&&(J=X.decoder.write(J)),X.objectMode&&J==null||(X.objectMode||J&&J.length)&&(O.push(J)||(Q=!0,V.pause()))})),V)this[re]===void 0&&typeof V[re]=="function"&&(this[re]=(function(J){return function(){return V[J].apply(V,arguments)}})(re));for(var G=0;G<C.length;G++)V.on(C[G],this.emit.bind(this,C[G]));return this._read=function(J){p("wrapped _read",J),Q&&(Q=!1,V.resume())},this},Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),F._fromList=E}).call(this)}).call(this,t("_process"),typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,n,i){n.exports=c;var a=t("./_stream_duplex"),s=Object.create(t("core-util-is"));function l(f,d){var h=this._transformState;h.transforming=!1;var m=h.writecb;if(!m)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,d!=null&&this.push(d),m(f);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function c(f){if(!(this instanceof c))return new c(f);a.call(this,f),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",o)}function o(){var f=this;typeof this._flush=="function"?this._flush((function(d,h){u(f,d,h)})):u(this,null,null)}function u(f,d,h){if(d)return f.emit("error",d);if(h!=null&&f.push(h),f._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}s.inherits=t("inherits"),s.inherits(c,a),c.prototype.push=function(f,d){return this._transformState.needTransform=!1,a.prototype.push.call(this,f,d)},c.prototype._transform=function(f,d,h){throw new Error("_transform() is not implemented")},c.prototype._write=function(f,d,h){var m=this._transformState;if(m.writecb=h,m.writechunk=f,m.writeencoding=d,!m.transforming){var g=this._readableState;(m.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},c.prototype._read=function(f){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},c.prototype._destroy=function(f,d){var h=this;a.prototype._destroy.call(this,f,(function(m){d(m),h.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,n,i){(function(a,s,l){(function(){var c=t("process-nextick-args");function o(B){var T=this;this.next=null,this.entry=null,this.finish=function(){(function(R,N,_){var E=R.entry;for(R.entry=null;E;){var S=E.callback;N.pendingcb--,S(_),E=E.next}N.corkedRequestsFree.next=R})(T,B)}}n.exports=P;var u,f=!a.browser&&["v0.10","v0.9."].indexOf(a.version.slice(0,5))>-1?l:c.nextTick;P.WritableState=C;var d=Object.create(t("core-util-is"));d.inherits=t("inherits");var h={deprecate:t("util-deprecate")},m=t("./internal/streams/stream"),g=t("safe-buffer").Buffer,p=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},y,v=t("./internal/streams/destroy");function w(){}function C(B,T){u=u||t("./_stream_duplex"),B=B||{};var R=T instanceof u;this.objectMode=!!B.objectMode,R&&(this.objectMode=this.objectMode||!!B.writableObjectMode);var N=B.highWaterMark,_=B.writableHighWaterMark,E=this.objectMode?16:16384;this.highWaterMark=N||N===0?N:R&&(_||_===0)?_:E,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var S=B.decodeStrings===!1;this.decodeStrings=!S,this.defaultEncoding=B.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(k){(function(M,V){var O=M._writableState,X=O.sync,Q=O.writecb;if((function(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0})(O),V)(function(G,J,q,U,Z){--J.pendingcb,q?(c.nextTick(Z,U),c.nextTick($,G,J),G._writableState.errorEmitted=!0,G.emit("error",U)):(Z(U),G._writableState.errorEmitted=!0,G.emit("error",U),$(G,J))})(M,O,X,V,Q);else{var re=I(O);re||O.corked||O.bufferProcessing||!O.bufferedRequest||j(M,O),X?f(L,M,O,re,Q):L(M,O,re,Q)}})(T,k)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function P(B){if(u=u||t("./_stream_duplex"),!(y.call(P,this)||this instanceof u))return new P(B);this._writableState=new C(B,this),this.writable=!0,B&&(typeof B.write=="function"&&(this._write=B.write),typeof B.writev=="function"&&(this._writev=B.writev),typeof B.destroy=="function"&&(this._destroy=B.destroy),typeof B.final=="function"&&(this._final=B.final)),m.call(this)}function F(B,T,R,N,_,E,S){T.writelen=N,T.writecb=S,T.writing=!0,T.sync=!0,R?B._writev(_,T.onwrite):B._write(_,E,T.onwrite),T.sync=!1}function L(B,T,R,N){R||(function(_,E){E.length===0&&E.needDrain&&(E.needDrain=!1,_.emit("drain"))})(B,T),T.pendingcb--,N(),$(B,T)}function j(B,T){T.bufferProcessing=!0;var R=T.bufferedRequest;if(B._writev&&R&&R.next){var N=T.bufferedRequestCount,_=new Array(N),E=T.corkedRequestsFree;E.entry=R;for(var S=0,k=!0;R;)_[S]=R,R.isBuf||(k=!1),R=R.next,S+=1;_.allBuffers=k,F(B,T,!0,T.length,_,"",E.finish),T.pendingcb++,T.lastBufferedRequest=null,E.next?(T.corkedRequestsFree=E.next,E.next=null):T.corkedRequestsFree=new o(T),T.bufferedRequestCount=0}else{for(;R;){var M=R.chunk,V=R.encoding,O=R.callback;if(F(B,T,!1,T.objectMode?1:M.length,M,V,O),R=R.next,T.bufferedRequestCount--,T.writing)break}R===null&&(T.lastBufferedRequest=null)}T.bufferedRequest=R,T.bufferProcessing=!1}function I(B){return B.ending&&B.length===0&&B.bufferedRequest===null&&!B.finished&&!B.writing}function z(B,T){B._final((function(R){T.pendingcb--,R&&B.emit("error",R),T.prefinished=!0,B.emit("prefinish"),$(B,T)}))}function $(B,T){var R=I(T);return R&&((function(N,_){_.prefinished||_.finalCalled||(typeof N._final=="function"?(_.pendingcb++,_.finalCalled=!0,c.nextTick(z,N,_)):(_.prefinished=!0,N.emit("prefinish")))})(B,T),T.pendingcb===0&&(T.finished=!0,B.emit("finish"))),R}d.inherits(P,m),C.prototype.getBuffer=function(){for(var B=this.bufferedRequest,T=[];B;)T.push(B),B=B.next;return T},(function(){try{Object.defineProperty(C.prototype,"buffer",{get:h.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(B){return!!y.call(this,B)||this===P&&B&&B._writableState instanceof C}})):y=function(B){return B instanceof this},P.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},P.prototype.write=function(B,T,R){var N,_=this._writableState,E=!1,S=!_.objectMode&&(N=B,g.isBuffer(N)||N instanceof p);return S&&!g.isBuffer(B)&&(B=(function(k){return g.from(k)})(B)),typeof T=="function"&&(R=T,T=null),S?T="buffer":T||(T=_.defaultEncoding),typeof R!="function"&&(R=w),_.ended?(function(k,M){var V=new Error("write after end");k.emit("error",V),c.nextTick(M,V)})(this,R):(S||(function(k,M,V,O){var X=!0,Q=!1;return V===null?Q=new TypeError("May not write null values to stream"):typeof V=="string"||V===void 0||M.objectMode||(Q=new TypeError("Invalid non-string/buffer chunk")),Q&&(k.emit("error",Q),c.nextTick(O,Q),X=!1),X})(this,_,B,R))&&(_.pendingcb++,E=(function(k,M,V,O,X,Q){if(!V){var re=(function(U,Z,ie){return U.objectMode||U.decodeStrings===!1||typeof Z!="string"||(Z=g.from(Z,ie)),Z})(M,O,X);O!==re&&(V=!0,X="buffer",O=re)}var G=M.objectMode?1:O.length;M.length+=G;var J=M.length<M.highWaterMark;if(J||(M.needDrain=!0),M.writing||M.corked){var q=M.lastBufferedRequest;M.lastBufferedRequest={chunk:O,encoding:X,isBuf:V,callback:Q,next:null},q?q.next=M.lastBufferedRequest:M.bufferedRequest=M.lastBufferedRequest,M.bufferedRequestCount+=1}else F(k,M,!1,G,O,X,Q);return J})(this,_,S,B,T,R)),E},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var B=this._writableState;B.corked&&(B.corked--,B.writing||B.corked||B.bufferProcessing||!B.bufferedRequest||j(this,B))},P.prototype.setDefaultEncoding=function(B){if(typeof B=="string"&&(B=B.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((B+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+B);return this._writableState.defaultEncoding=B,this},Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(B,T,R){R(new Error("_write() is not implemented"))},P.prototype._writev=null,P.prototype.end=function(B,T,R){var N=this._writableState;typeof B=="function"?(R=B,B=null,T=null):typeof T=="function"&&(R=T,T=null),B!=null&&this.write(B,T),N.corked&&(N.corked=1,this.uncork()),N.ending||(function(_,E,S){E.ending=!0,$(_,E),S&&(E.finished?c.nextTick(S):_.once("finish",S)),E.ended=!0,_.writable=!1})(this,N,R)},Object.defineProperty(P.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(B){this._writableState&&(this._writableState.destroyed=B)}}),P.prototype.destroy=v.destroy,P.prototype._undestroy=v.undestroy,P.prototype._destroy=function(B,T){this.end(),T(B)}}).call(this)}).call(this,t("_process"),typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,n,i){var a=t("safe-buffer").Buffer,s=t("util");n.exports=(function(){function l(){(function(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")})(this,l),this.head=null,this.tail=null,this.length=0}return l.prototype.push=function(c){var o={data:c,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length},l.prototype.unshift=function(c){var o={data:c,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length},l.prototype.shift=function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}},l.prototype.clear=function(){this.head=this.tail=null,this.length=0},l.prototype.join=function(c){if(this.length===0)return"";for(var o=this.head,u=""+o.data;o=o.next;)u+=c+o.data;return u},l.prototype.concat=function(c){if(this.length===0)return a.alloc(0);for(var o,u,f,d=a.allocUnsafe(c>>>0),h=this.head,m=0;h;)o=h.data,u=d,f=m,o.copy(u,f),m+=h.data.length,h=h.next;return d},l})(),s&&s.inspect&&s.inspect.custom&&(n.exports.prototype[s.inspect.custom]=function(){var l=s.inspect({length:this.length});return this.constructor.name+" "+l})},{"safe-buffer":520,util:188}],514:[function(t,n,i){var a=t("process-nextick-args");function s(l,c){l.emit("error",c)}n.exports={destroy:function(l,c){var o=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(c?c(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(s,this,l)):a.nextTick(s,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,(function(d){!c&&d?o._writableState?o._writableState.errorEmitted||(o._writableState.errorEmitted=!0,a.nextTick(s,o,d)):a.nextTick(s,o,d):c&&c(d)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,n,i){arguments[4][490][0].apply(i,arguments)},{dup:490,events:422}],516:[function(t,n,i){n.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,n,i){(i=n.exports=t("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=t("./lib/_stream_writable.js"),i.Duplex=t("./lib/_stream_duplex.js"),i.Transform=t("./lib/_stream_transform.js"),i.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,n,i){n.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,n,i){n.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,n,i){arguments[4][217][0].apply(i,arguments)},{buffer:220,dup:217}],521:[function(t,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,n,i){(function(a,s){(function(){var l=t("process/browser.js").nextTick,c=Function.prototype.apply,o=Array.prototype.slice,u={},f=0;function d(h,m){this._id=h,this._clearFn=m}i.setTimeout=function(){return new d(c.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new d(c.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(h){h.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(h,m){clearTimeout(h._idleTimeoutId),h._idleTimeout=m},i.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},i._unrefActive=i.active=function(h){clearTimeout(h._idleTimeoutId);var m=h._idleTimeout;m>=0&&(h._idleTimeoutId=setTimeout((function(){h._onTimeout&&h._onTimeout()}),m))},i.setImmediate=typeof a=="function"?a:function(h){var m=f++,g=!(arguments.length<2)&&o.call(arguments,1);return u[m]=!0,l((function(){u[m]&&(g?h.apply(null,g):h.call(null),i.clearImmediate(m))})),m},i.clearImmediate=typeof s=="function"?s:function(h){delete u[h]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,n,i){(function(a){(function(){function s(l){try{if(!a.localStorage)return!1}catch{return!1}var c=a.localStorage[l];return c!=null&&String(c).toLowerCase()==="true"}n.exports=function(l,c){if(s("noDeprecation"))return l;var o=!1;return function(){if(!o){if(s("throwDeprecation"))throw new Error(c);s("traceDeprecation")?console.trace(c):console.warn(c),o=!0}return l.apply(this,arguments)}}}).call(this)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(t,n,i){typeof Object.create=="function"?n.exports=function(a,s){a.super_=s,a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(a,s){a.super_=s;var l=function(){};l.prototype=s.prototype,a.prototype=new l,a.prototype.constructor=a}},{}],526:[function(t,n,i){n.exports=function(a){return a&&typeof a=="object"&&typeof a.copy=="function"&&typeof a.fill=="function"&&typeof a.readUInt8=="function"}},{}],527:[function(t,n,i){(function(a,s){(function(){var l=/%[sdj%]/g;i.format=function(_){if(!C(_)){for(var E=[],S=0;S<arguments.length;S++)E.push(u(arguments[S]));return E.join(" ")}S=1;for(var k=arguments,M=k.length,V=String(_).replace(l,(function(X){if(X==="%%")return"%";if(S>=M)return X;switch(X){case"%s":return String(k[S++]);case"%d":return Number(k[S++]);case"%j":try{return JSON.stringify(k[S++])}catch{return"[Circular]"}default:return X}})),O=k[S];S<M;O=k[++S])v(O)||!L(O)?V+=" "+O:V+=" "+u(O);return V},i.deprecate=function(_,E){if(P(s.process))return function(){return i.deprecate(_,E).apply(this,arguments)};if(a.noDeprecation===!0)return _;var S=!1;return function(){if(!S){if(a.throwDeprecation)throw new Error(E);a.traceDeprecation?console.trace(E):console.error(E),S=!0}return _.apply(this,arguments)}};var c,o={};function u(_,E){var S={seen:[],stylize:d};return arguments.length>=3&&(S.depth=arguments[2]),arguments.length>=4&&(S.colors=arguments[3]),y(E)?S.showHidden=E:E&&i._extend(S,E),P(S.showHidden)&&(S.showHidden=!1),P(S.depth)&&(S.depth=2),P(S.colors)&&(S.colors=!1),P(S.customInspect)&&(S.customInspect=!0),S.colors&&(S.stylize=f),h(S,_,S.depth)}function f(_,E){var S=u.styles[E];return S?"\x1B["+u.colors[S][0]+"m"+_+"\x1B["+u.colors[S][1]+"m":_}function d(_,E){return _}function h(_,E,S){if(_.customInspect&&E&&z(E.inspect)&&E.inspect!==i.inspect&&(!E.constructor||E.constructor.prototype!==E)){var k=E.inspect(S,_);return C(k)||(k=h(_,k,S)),k}var M=(function(q,U){if(P(U))return q.stylize("undefined","undefined");if(C(U)){var Z="'"+JSON.stringify(U).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return q.stylize(Z,"string")}if(w(U))return q.stylize(""+U,"number");if(y(U))return q.stylize(""+U,"boolean");if(v(U))return q.stylize("null","null")})(_,E);if(M)return M;var V=Object.keys(E),O=(function(q){var U={};return q.forEach((function(Z,ie){U[Z]=!0})),U})(V);if(_.showHidden&&(V=Object.getOwnPropertyNames(E)),I(E)&&(V.indexOf("message")>=0||V.indexOf("description")>=0))return m(E);if(V.length===0){if(z(E)){var X=E.name?": "+E.name:"";return _.stylize("[Function"+X+"]","special")}if(F(E))return _.stylize(RegExp.prototype.toString.call(E),"regexp");if(j(E))return _.stylize(Date.prototype.toString.call(E),"date");if(I(E))return m(E)}var Q,re="",G=!1,J=["{","}"];return p(E)&&(G=!0,J=["[","]"]),z(E)&&(re=" [Function"+(E.name?": "+E.name:"")+"]"),F(E)&&(re=" "+RegExp.prototype.toString.call(E)),j(E)&&(re=" "+Date.prototype.toUTCString.call(E)),I(E)&&(re=" "+m(E)),V.length!==0||G&&E.length!=0?S<0?F(E)?_.stylize(RegExp.prototype.toString.call(E),"regexp"):_.stylize("[Object]","special"):(_.seen.push(E),Q=G?(function(q,U,Z,ie,le){for(var de=[],fe=0,ue=U.length;fe<ue;++fe)N(U,String(fe))?de.push(g(q,U,Z,ie,String(fe),!0)):de.push("");return le.forEach((function(Ae){Ae.match(/^\d+$/)||de.push(g(q,U,Z,ie,Ae,!0))})),de})(_,E,S,O,V):V.map((function(q){return g(_,E,S,O,q,G)})),_.seen.pop(),(function(q,U,Z){return q.reduce((function(ie,le){return le.indexOf(`
`)>=0,ie+le.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?Z[0]+(U===""?"":U+`
 `)+" "+q.join(`,
  `)+" "+Z[1]:Z[0]+U+" "+q.join(", ")+" "+Z[1]})(Q,re,J)):J[0]+re+J[1]}function m(_){return"["+Error.prototype.toString.call(_)+"]"}function g(_,E,S,k,M,V){var O,X,Q;if((Q=Object.getOwnPropertyDescriptor(E,M)||{value:E[M]}).get?X=Q.set?_.stylize("[Getter/Setter]","special"):_.stylize("[Getter]","special"):Q.set&&(X=_.stylize("[Setter]","special")),N(k,M)||(O="["+M+"]"),X||(_.seen.indexOf(Q.value)<0?(X=v(S)?h(_,Q.value,null):h(_,Q.value,S-1)).indexOf(`
`)>-1&&(X=V?X.split(`
`).map((function(re){return"  "+re})).join(`
`).substr(2):`
`+X.split(`
`).map((function(re){return"   "+re})).join(`
`)):X=_.stylize("[Circular]","special")),P(O)){if(V&&M.match(/^\d+$/))return X;(O=JSON.stringify(""+M)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(O=O.substr(1,O.length-2),O=_.stylize(O,"name")):(O=O.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),O=_.stylize(O,"string"))}return O+": "+X}function p(_){return Array.isArray(_)}function y(_){return typeof _=="boolean"}function v(_){return _===null}function w(_){return typeof _=="number"}function C(_){return typeof _=="string"}function P(_){return _===void 0}function F(_){return L(_)&&$(_)==="[object RegExp]"}function L(_){return typeof _=="object"&&_!==null}function j(_){return L(_)&&$(_)==="[object Date]"}function I(_){return L(_)&&($(_)==="[object Error]"||_ instanceof Error)}function z(_){return typeof _=="function"}function $(_){return Object.prototype.toString.call(_)}function B(_){return _<10?"0"+_.toString(10):_.toString(10)}i.debuglog=function(_){if(P(c)&&(c=a.env.NODE_DEBUG||""),_=_.toUpperCase(),!o[_])if(new RegExp("\\b"+_+"\\b","i").test(c)){var E=a.pid;o[_]=function(){var S=i.format.apply(i,arguments);console.error("%s %d: %s",_,E,S)}}else o[_]=function(){};return o[_]},i.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=p,i.isBoolean=y,i.isNull=v,i.isNullOrUndefined=function(_){return _==null},i.isNumber=w,i.isString=C,i.isSymbol=function(_){return typeof _=="symbol"},i.isUndefined=P,i.isRegExp=F,i.isObject=L,i.isDate=j,i.isError=I,i.isFunction=z,i.isPrimitive=function(_){return _===null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||typeof _=="symbol"||_===void 0},i.isBuffer=t("./support/isBuffer");var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var _=new Date,E=[B(_.getHours()),B(_.getMinutes()),B(_.getSeconds())].join(":");return[_.getDate(),T[_.getMonth()],E].join(" ")}function N(_,E){return Object.prototype.hasOwnProperty.call(_,E)}i.log=function(){console.log("%s - %s",R(),i.format.apply(i,arguments))},i.inherits=t("inherits"),i._extend=function(_,E){if(!E||!L(E))return _;for(var S=Object.keys(E),k=S.length;k--;)_[S[k]]=E[S[k]];return _}}).call(this)}).call(this,t("_process"),typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return h.default}});var a=m(t("./v1.js")),s=m(t("./v3.js")),l=m(t("./v4.js")),c=m(t("./v5.js")),o=m(t("./nil.js")),u=m(t("./version.js")),f=m(t("./validate.js")),d=m(t("./stringify.js")),h=m(t("./parse.js"));function m(g){return g&&g.__esModule?g:{default:g}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,n,i){function a(h){return 14+(h+64>>>9<<4)+1}function s(h,m){const g=(65535&h)+(65535&m);return(h>>16)+(m>>16)+(g>>16)<<16|65535&g}function l(h,m,g,p,y,v){return s((w=s(s(m,h),s(p,v)))<<(C=y)|w>>>32-C,g);var w,C}function c(h,m,g,p,y,v,w){return l(m&g|~m&p,h,m,y,v,w)}function o(h,m,g,p,y,v,w){return l(m&p|g&~p,h,m,y,v,w)}function u(h,m,g,p,y,v,w){return l(m^g^p,h,m,y,v,w)}function f(h,m,g,p,y,v,w){return l(g^(m|~p),h,m,y,v,w)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var d=function(h){if(typeof h=="string"){const m=unescape(encodeURIComponent(h));h=new Uint8Array(m.length);for(let g=0;g<m.length;++g)h[g]=m.charCodeAt(g)}return(function(m){const g=[],p=32*m.length;for(let y=0;y<p;y+=8){const v=m[y>>5]>>>y%32&255,w=parseInt("0123456789abcdef".charAt(v>>>4&15)+"0123456789abcdef".charAt(15&v),16);g.push(w)}return g})((function(m,g){m[g>>5]|=128<<g%32,m[a(g)-1]=g;let p=1732584193,y=-271733879,v=-1732584194,w=271733878;for(let C=0;C<m.length;C+=16){const P=p,F=y,L=v,j=w;p=c(p,y,v,w,m[C],7,-680876936),w=c(w,p,y,v,m[C+1],12,-389564586),v=c(v,w,p,y,m[C+2],17,606105819),y=c(y,v,w,p,m[C+3],22,-1044525330),p=c(p,y,v,w,m[C+4],7,-176418897),w=c(w,p,y,v,m[C+5],12,1200080426),v=c(v,w,p,y,m[C+6],17,-1473231341),y=c(y,v,w,p,m[C+7],22,-45705983),p=c(p,y,v,w,m[C+8],7,1770035416),w=c(w,p,y,v,m[C+9],12,-1958414417),v=c(v,w,p,y,m[C+10],17,-42063),y=c(y,v,w,p,m[C+11],22,-1990404162),p=c(p,y,v,w,m[C+12],7,1804603682),w=c(w,p,y,v,m[C+13],12,-40341101),v=c(v,w,p,y,m[C+14],17,-1502002290),y=c(y,v,w,p,m[C+15],22,1236535329),p=o(p,y,v,w,m[C+1],5,-165796510),w=o(w,p,y,v,m[C+6],9,-1069501632),v=o(v,w,p,y,m[C+11],14,643717713),y=o(y,v,w,p,m[C],20,-373897302),p=o(p,y,v,w,m[C+5],5,-701558691),w=o(w,p,y,v,m[C+10],9,38016083),v=o(v,w,p,y,m[C+15],14,-660478335),y=o(y,v,w,p,m[C+4],20,-405537848),p=o(p,y,v,w,m[C+9],5,568446438),w=o(w,p,y,v,m[C+14],9,-1019803690),v=o(v,w,p,y,m[C+3],14,-187363961),y=o(y,v,w,p,m[C+8],20,1163531501),p=o(p,y,v,w,m[C+13],5,-1444681467),w=o(w,p,y,v,m[C+2],9,-51403784),v=o(v,w,p,y,m[C+7],14,1735328473),y=o(y,v,w,p,m[C+12],20,-1926607734),p=u(p,y,v,w,m[C+5],4,-378558),w=u(w,p,y,v,m[C+8],11,-2022574463),v=u(v,w,p,y,m[C+11],16,1839030562),y=u(y,v,w,p,m[C+14],23,-35309556),p=u(p,y,v,w,m[C+1],4,-1530992060),w=u(w,p,y,v,m[C+4],11,1272893353),v=u(v,w,p,y,m[C+7],16,-155497632),y=u(y,v,w,p,m[C+10],23,-1094730640),p=u(p,y,v,w,m[C+13],4,681279174),w=u(w,p,y,v,m[C],11,-358537222),v=u(v,w,p,y,m[C+3],16,-722521979),y=u(y,v,w,p,m[C+6],23,76029189),p=u(p,y,v,w,m[C+9],4,-640364487),w=u(w,p,y,v,m[C+12],11,-421815835),v=u(v,w,p,y,m[C+15],16,530742520),y=u(y,v,w,p,m[C+2],23,-995338651),p=f(p,y,v,w,m[C],6,-198630844),w=f(w,p,y,v,m[C+7],10,1126891415),v=f(v,w,p,y,m[C+14],15,-1416354905),y=f(y,v,w,p,m[C+5],21,-57434055),p=f(p,y,v,w,m[C+12],6,1700485571),w=f(w,p,y,v,m[C+3],10,-1894986606),v=f(v,w,p,y,m[C+10],15,-1051523),y=f(y,v,w,p,m[C+1],21,-2054922799),p=f(p,y,v,w,m[C+8],6,1873313359),w=f(w,p,y,v,m[C+15],10,-30611744),v=f(v,w,p,y,m[C+6],15,-1560198380),y=f(y,v,w,p,m[C+13],21,1309151649),p=f(p,y,v,w,m[C+4],6,-145523070),w=f(w,p,y,v,m[C+11],10,-1120210379),v=f(v,w,p,y,m[C+2],15,718787259),y=f(y,v,w,p,m[C+9],21,-343485551),p=s(p,P),y=s(y,F),v=s(v,L),w=s(w,j)}return[p,y,v,w]})((function(m){if(m.length===0)return[];const g=8*m.length,p=new Uint32Array(a(g));for(let y=0;y<g;y+=8)p[y>>5]|=(255&m[y/8])<<y%32;return p})(h),8*h.length))};i.default=d},{}],530:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=t("./validate.js"))&&a.__esModule?a:{default:a},l=function(c){if(!(0,s.default)(c))throw TypeError("Invalid UUID");let o;const u=new Uint8Array(16);return u[0]=(o=parseInt(c.slice(0,8),16))>>>24,u[1]=o>>>16&255,u[2]=o>>>8&255,u[3]=255&o,u[4]=(o=parseInt(c.slice(9,13),16))>>>8,u[5]=255&o,u[6]=(o=parseInt(c.slice(14,18),16))>>>8,u[7]=255&o,u[8]=(o=parseInt(c.slice(19,23),16))>>>8,u[9]=255&o,u[10]=(o=parseInt(c.slice(24,36),16))/1099511627776&255,u[11]=o/4294967296&255,u[12]=o>>>24&255,u[13]=o>>>16&255,u[14]=o>>>8&255,u[15]=255&o,u};i.default=l},{"./validate.js":541}],532:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,n,i){let a;Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!a&&(a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(s)};const s=new Uint8Array(16)},{}],534:[function(t,n,i){function a(c,o,u,f){switch(c){case 0:return o&u^~o&f;case 1:return o^u^f;case 2:return o&u^o&f^u&f;case 3:return o^u^f}}function s(c,o){return c<<o|c>>>32-o}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=function(c){const o=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof c=="string"){const m=unescape(encodeURIComponent(c));c=[];for(let g=0;g<m.length;++g)c.push(m.charCodeAt(g))}else Array.isArray(c)||(c=Array.prototype.slice.call(c));c.push(128);const f=c.length/4+2,d=Math.ceil(f/16),h=new Array(d);for(let m=0;m<d;++m){const g=new Uint32Array(16);for(let p=0;p<16;++p)g[p]=c[64*m+4*p]<<24|c[64*m+4*p+1]<<16|c[64*m+4*p+2]<<8|c[64*m+4*p+3];h[m]=g}h[d-1][14]=8*(c.length-1)/Math.pow(2,32),h[d-1][14]=Math.floor(h[d-1][14]),h[d-1][15]=8*(c.length-1)&4294967295;for(let m=0;m<d;++m){const g=new Uint32Array(80);for(let P=0;P<16;++P)g[P]=h[m][P];for(let P=16;P<80;++P)g[P]=s(g[P-3]^g[P-8]^g[P-14]^g[P-16],1);let p=u[0],y=u[1],v=u[2],w=u[3],C=u[4];for(let P=0;P<80;++P){const F=Math.floor(P/20),L=s(p,5)+a(F,y,v,w)+C+o[F]+g[P]>>>0;C=w,w=v,v=s(y,30)>>>0,y=p,p=L}u[0]=u[0]+p>>>0,u[1]=u[1]+y>>>0,u[2]=u[2]+v>>>0,u[3]=u[3]+w>>>0,u[4]=u[4]+C>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};i.default=l},{}],535:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=t("./validate.js"))&&a.__esModule?a:{default:a};const l=[];for(let o=0;o<256;++o)l.push((o+256).toString(16).substr(1));var c=function(o){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const f=(l[o[u+0]]+l[o[u+1]]+l[o[u+2]]+l[o[u+3]]+"-"+l[o[u+4]]+l[o[u+5]]+"-"+l[o[u+6]]+l[o[u+7]]+"-"+l[o[u+8]]+l[o[u+9]]+"-"+l[o[u+10]]+l[o[u+11]]+l[o[u+12]]+l[o[u+13]]+l[o[u+14]]+l[o[u+15]]).toLowerCase();if(!(0,s.default)(f))throw TypeError("Stringified UUID is invalid");return f};i.default=c},{"./validate.js":541}],536:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=l(t("./rng.js")),s=l(t("./stringify.js"));function l(h){return h&&h.__esModule?h:{default:h}}let c,o,u=0,f=0;var d=function(h,m,g){let p=m&&g||0;const y=m||new Array(16);let v=(h=h||{}).node||c,w=h.clockseq!==void 0?h.clockseq:o;if(v==null||w==null){const I=h.random||(h.rng||a.default)();v==null&&(v=c=[1|I[0],I[1],I[2],I[3],I[4],I[5]]),w==null&&(w=o=16383&(I[6]<<8|I[7]))}let C=h.msecs!==void 0?h.msecs:Date.now(),P=h.nsecs!==void 0?h.nsecs:f+1;const F=C-u+(P-f)/1e4;if(F<0&&h.clockseq===void 0&&(w=w+1&16383),(F<0||C>u)&&h.nsecs===void 0&&(P=0),P>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=C,f=P,o=w,C+=122192928e5;const L=(1e4*(268435455&C)+P)%4294967296;y[p++]=L>>>24&255,y[p++]=L>>>16&255,y[p++]=L>>>8&255,y[p++]=255&L;const j=C/4294967296*1e4&268435455;y[p++]=j>>>8&255,y[p++]=255&j,y[p++]=j>>>24&15|16,y[p++]=j>>>16&255,y[p++]=w>>>8|128,y[p++]=255&w;for(let I=0;I<6;++I)y[p+I]=v[I];return m||(0,s.default)(y)};i.default=d},{"./rng.js":533,"./stringify.js":535}],537:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=l(t("./v35.js")),s=l(t("./md5.js"));function l(o){return o&&o.__esModule?o:{default:o}}var c=(0,a.default)("v3",48,s.default);i.default=c},{"./md5.js":529,"./v35.js":538}],538:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(u,f,d){function h(m,g,p,y){if(typeof m=="string"&&(m=(function(w){w=unescape(encodeURIComponent(w));const C=[];for(let P=0;P<w.length;++P)C.push(w.charCodeAt(P));return C})(m)),typeof g=="string"&&(g=(0,s.default)(g)),g.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let v=new Uint8Array(16+m.length);if(v.set(g),v.set(m,g.length),v=d(v),v[6]=15&v[6]|f,v[8]=63&v[8]|128,p){y=y||0;for(let w=0;w<16;++w)p[y+w]=v[w];return p}return(0,a.default)(v)}try{h.name=u}catch{}return h.DNS=c,h.URL=o,h},i.URL=i.DNS=void 0;var a=l(t("./stringify.js")),s=l(t("./parse.js"));function l(u){return u&&u.__esModule?u:{default:u}}const c="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=c;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=o},{"./parse.js":531,"./stringify.js":535}],539:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=l(t("./rng.js")),s=l(t("./stringify.js"));function l(o){return o&&o.__esModule?o:{default:o}}var c=function(o,u,f){const d=(o=o||{}).random||(o.rng||a.default)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,u){f=f||0;for(let h=0;h<16;++h)u[f+h]=d[h];return u}return(0,s.default)(d)};i.default=c},{"./rng.js":533,"./stringify.js":535}],540:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=l(t("./v35.js")),s=l(t("./sha1.js"));function l(o){return o&&o.__esModule?o:{default:o}}var c=(0,a.default)("v5",80,s.default);i.default=c},{"./sha1.js":534,"./v35.js":538}],541:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=t("./regex.js"))&&a.__esModule?a:{default:a},l=function(c){return typeof c=="string"&&s.default.test(c)};i.default=l},{"./regex.js":532}],542:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=t("./validate.js"))&&a.__esModule?a:{default:a},l=function(c){if(!(0,s.default)(c))throw TypeError("Invalid UUID");return parseInt(c.substr(14,1),16)};i.default=l},{"./validate.js":541}],543:[function(t,n,i){/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR=`	
\r -퟿-�𐀀-􏿿`,i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function a(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(s){return s>=32&&s<=55295||s===10||s===13||s===9||s>=57344&&s<=65533||s>=65536&&s<=1114111},i.isS=function(s){return s===32||s===10||s===13||s===9},i.isNameStartChar=a,i.isNameChar=function(s){return a(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],544:[function(t,n,i){/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR="-퟿-�𐀀-􏿿",i.RESTRICTED_CHAR="-\b\v\f---",i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.RESTRICTED_CHAR_RE=new RegExp("^["+i.RESTRICTED_CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function a(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(s){return s>=1&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},i.isRestrictedChar=function(s){return s>=1&&s<=8||s===11||s===12||s>=14&&s<=31||s>=127&&s<=132||s>=134&&s<=159},i.isCharAndNotRestricted=function(s){return s===9||s===10||s===13||s>31&&s<127||s===133||s>159&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},i.isS=function(s){return s===32||s===10||s===13||s===9},i.isNameStartChar=a,i.isNameChar=function(s){return a(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],545:[function(t,n,i){/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */function a(s){return s>=65&&s<=90||s===95||s>=97&&s<=122||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8204&&s<=8205||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}Object.defineProperty(i,"__esModule",{value:!0}),i.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NC_NAME_CHAR="-"+i.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.NC_NAME_START_CHAR_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]$","u"),i.NC_NAME_CHAR_RE=new RegExp("^["+i.NC_NAME_CHAR+"]$","u"),i.NC_NAME_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]["+i.NC_NAME_CHAR+"]*$","u"),i.isNCNameStartChar=a,i.isNCNameChar=function(s){return a(s)||s===45||s===46||s>=48&&s<=57||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}]},{},[15])(15)}))})(c2)),c2.exports}var hh=mve();const _V=Rn(hh),gve=pD({__proto__:null,default:_V},[hh]);class wm{async formatValue(e,t){var n;if((n=this.config.formatacao)!=null&&n[e]){const i=this.config.formatacao[e](t);return i instanceof Promise?await i:i}if(t&&typeof t=="object"&&t.toDate)return t.toDate().toLocaleDateString("pt-BR");if(t instanceof Date)return t.toLocaleDateString("pt-BR");if(typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)){const[i,a,s]=t.split("-");return`${s}/${a}/${i}`}return e==="ativo"&&typeof t=="boolean"?t?"Sim":"Não":t==null?"":t.toString()}async getFilteredData(e){const t=[];for(const n of e){const i={};for(const a of this.config.campos)n.hasOwnProperty(a)&&(i[a]=await this.formatValue(a,n[a]));t.push(i)}return t}getColumnHeaders(){const e={estado:"Estado",regiao:"Região",distancia:"Distância",observacao:"Observação",dataCriacao:"Data Criação",cpf:"CPF",email:"E-mail",celular:"Celular",codigoVendSistema:"Código Sistema",unidadeNegocio:"Unidade Negócio",tipoContrato:"Tipo Contrato",cidadesAtendidas:"Cidades Atendidas",ativo:"Ativo",funcionarioNome:"Funcionário",dataInicio:"Data Início",dataFim:"Data Fim",tipo:"Tipo",status:"Status",observacoes:"Observações",motivo:"Motivo",documento:"Documento",horas:"Horas",cnh:"CNH",cnhVencimento:"Vencimento CNH",cnhCategoria:"Categoria CNH",endereco:"Endereço",cep:"CEP",cidade:"Cidade",funcao:"Função",salario:"Salário",toxicoUltimoExame:"Último Exame Toxicológico",toxicoVencimento:"Vencimento Toxicológico",dataAdmissao:"Data Admissão",numero:"Número",complemento:"Complemento",quantidadeEixos:"Quantidade de Eixos",ultimaManutencao:"Última Manutenção",proximaManutencao:"Próxima Manutenção",motorista:"Motorista",nome:"Nome da Rota",dataRota:"Data da Rota",diaSemana:"Dias da Semana",cidades:"Cidades Vinculadas",tempoEstimado:"Tempo Estimado"};return this.config.campos.map(t=>e[t]||t.charAt(0).toUpperCase()+t.slice(1))}generateFileName(e){const t=new Date().toLocaleDateString("pt-BR").replace(/\//g,"-");return`${`${this.config.titulo.toLowerCase()}_${t}`}.xlsx`}generateFilterInfo(e){const t=[];t.push(["INFORMAÇÕES DE FILTRO E ORDENAÇÃO"]),t.push([]);const n=new Date().toLocaleString("pt-BR");t.push(["Data/Hora da Exportação:",n]),t.push([]);const i=[];if(e.termoBusca&&i.push(`Termo de busca: "${e.termoBusca}"`),e.filtroRegiao&&e.filtroRegiao!=="todos"&&i.push(`Região: ${e.filtroRegiao}`),e.filtroStatus&&e.filtroStatus!=="todos"){const s={disponivel:"Disponível",em_uso:"Em Uso",manutencao:"Manutenção",inativo:"Inativo",acidentado:"Acidentado",trabalhando:"Trabalhando",folga:"Folga",ferias:"Férias"}[e.filtroStatus]||e.filtroStatus;i.push(`Status: ${s}`)}if(e.filtroContrato&&e.filtroContrato!=="todos"){const s={clt:"CLT",pj:"PJ",autonomo:"Autônomo",outro:"Outro",integral:"Integral",temporario:"Temporário",folguista:"Folguista",inativo:"Inativo"}[e.filtroContrato]||e.filtroContrato;i.push(`Tipo de Contrato: ${s}`)}if(e.filtroFuncao&&e.filtroFuncao!=="todos"){const s={motorista:"Motorista",ajudante:"Ajudante",outro:"Outro"}[e.filtroFuncao]||e.filtroFuncao;i.push(`Função: ${s}`)}if(e.filtroAtivo&&e.filtroAtivo!=="todos"){const a=e.filtroAtivo==="true"?"Sim":"Não";i.push(`Ativo: ${a}`)}if(e.filtroUnidadeNegocio&&e.filtroUnidadeNegocio!=="todos"){const s={frigorifico:"Frigorífico",ovos:"Ovos",ambos:"Ambos"}[e.filtroUnidadeNegocio]||e.filtroUnidadeNegocio;i.push(`Unidade de Negócio: ${s}`)}if(e.filtroCidade&&i.push(`Cidade: ${e.filtroCidade}`),e.filtroTipo&&e.filtroTipo!=="todos"){const s={folga:"Folga",ferias:"Férias",licenca:"Licença Médica",atestado:"Atestado Médico",banco_horas:"Banco de Horas",compensacao:"Compensação de Horas",suspensao:"Suspensão Disciplinar",afastamento:"Afastamento por Acidente",maternidade:"Licença Maternidade",paternidade:"Licença Paternidade",luto:"Licença por Luto",casamento:"Licença para Casamento",doacao_sangue:"Licença para Doação de Sangue",servico_militar:"Licença para Serviço Militar",capacitacao:"Licença para Capacitação",outros:"Outros"}[e.filtroTipo]||e.filtroTipo;i.push(`Tipo: ${s}`)}if(e.filtroDiaSemana&&e.filtroDiaSemana!=="todos"){const s={domingo:"Domingo",segunda:"Segunda-feira",terca:"Terça-feira",quarta:"Quarta-feira",quinta:"Quinta-feira",sexta:"Sexta-feira",sabado:"Sábado"}[e.filtroDiaSemana]||e.filtroDiaSemana;i.push(`Dia da Semana: ${s}`)}if(e.filtroTipoCarroceria&&e.filtroTipoCarroceria!=="todos"){const s={truck:"Truck",toco:"Toco",bitruck:"Bitruck",carreta:"Carreta",carreta_ls:"Carreta LS",carreta_3_eixos:"Carreta 3 Eixos",truck_3_eixos:"Truck 3 Eixos",truck_4_eixos:"Truck 4 Eixos"}[e.filtroTipoCarroceria]||e.filtroTipoCarroceria;i.push(`Tipo de Carroceria: ${s}`)}if(e.filtroTipoBau&&e.filtroTipoBau!=="todos"){const s={frigorifico:"Frigorífico",carga_seca:"Carga Seca",baucher:"Baucher",graneleiro:"Graneleiro",tanque:"Tanque",caçamba:"Caçamba",plataforma:"Plataforma"}[e.filtroTipoBau]||e.filtroTipoBau;i.push(`Tipo de Baú: ${s}`)}if(i.length>0&&(t.push(["Filtros Aplicados:"]),i.forEach(a=>{t.push([a])}),t.push([])),e.ordenarPor){const a=e.direcaoOrdenacao==="asc"?"Crescente":"Decrescente";t.push(["Ordenação:",`${e.ordenarPor} (${a})`]),t.push([])}return t.push(["Total de Registros:","Será preenchido dinamicamente"]),t.push([]),t}async exportToExcel(e,t){try{const n=await this.getFilteredData(e),i=this.generateFilterInfo(t);i[i.length-2]=["Total de Registros:",n.length.toString()];const a=new hh.Workbook,s=[];s.push(...i),s.push([]),s.push(this.getColumnHeaders()),n.forEach(d=>{const h=[];this.config.campos.forEach(m=>{h.push(d[m]||"")}),s.push(h)});const l=a.addWorksheet(this.config.titulo);s.forEach((d,h)=>{d.forEach((m,g)=>{l.getCell(h+1,g+1).value=m})});const c=this.getColumnHeaders().map(d=>({width:Math.max(d.length,15)}));l.columns=c;const o=await a.xlsx.writeBuffer(),u=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),f=this.generateFileName(t);dh.saveAs(u,f)}catch(n){throw console.error("Erro ao exportar Excel:",n),new Error("Erro ao exportar dados para Excel")}}}class yve extends wm{constructor(){super(...arguments),this.config={titulo:"Funcionários",campos:["nome","cpf","cnh","cnhVencimento","cnhCategoria","celular","email","endereco","cep","cidade","funcao","status","tipoContrato","unidadeNegocio","dataAdmissao","salario","toxicoUltimoExame","toxicoVencimento","observacao","ativo","dataCriacao"],formatacao:{nome:e=>e?e.toUpperCase():"N/A",cpf:e=>e?Nf(e):"N/A",cnh:e=>e?e.toUpperCase():"N/A",cnhVencimento:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e},cnhCategoria:e=>e?e.toUpperCase():"N/A",celular:e=>e?fh(e):"N/A",email:e=>e?e.toLowerCase():"N/A",endereco:e=>e||"N/A",cep:e=>e||"N/A",cidade:e=>e?e.toUpperCase():"N/A",funcao:e=>e?{motorista:"Motorista",ajudante:"Ajudante",outro:"Outro"}[e]||e:"N/A",status:e=>e?{trabalhando:"Trabalhando",disponivel:"Disponível",folga:"Folga",ferias:"Férias"}[e]||e:"N/A",tipoContrato:e=>e?{integral:"Integral",temporario:"Temporário",folguista:"Folguista",inativo:"Inativo"}[e]||e:"N/A",unidadeNegocio:e=>e?{frigorifico:"Frigorífico",ovos:"Ovos",ambos:"Ambos"}[e]||e:"N/A",dataAdmissao:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e},salario:e=>e?`R$ ${e}`:"N/A",toxicoUltimoExame:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e},toxicoVencimento:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e},observacao:e=>e||"N/A",ativo:e=>e===!0?"Sim":e===!1?"Não":"N/A",dataCriacao:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e}}}}}function vve(){const{showNotification:r}=fl(),[e,t]=ce.useState([]),[n,i]=ce.useState(!0),[a,s]=ce.useState(!1),[l,c]=ce.useState(null),[o,u]=ce.useState(!1),[f,d]=ce.useState(null),[h,m]=ce.useState(!1),[g,p]=ce.useState(null),[y,v]=ce.useState(""),[w,C]=ce.useState("todos"),[P,F]=ce.useState("todos"),[L,j]=ce.useState("todos"),[I,z]=ce.useState("todos"),[$,B]=ce.useState(1),[T,R]=ce.useState("dataCriacao"),[N,_]=ce.useState("desc"),[E,S]=ce.useState({}),[k,M]=ce.useState({nome:"",cpf:"",cnh:"",cnhVencimento:"",cnhCategoria:"",celular:"",email:"",cep:"",endereco:"",numero:"",complemento:"",cidade:"",funcao:"motorista",toxicoUltimoExame:"",toxicoVencimento:"",status:"disponivel",tipoContrato:"integral",unidadeNegocio:"frigorifico",dataAdmissao:"",salario:"",observacao:"",ativo:!0}),V=15,O=ce.useCallback(async()=>{try{i(!0);const me=await Zh.listar();t(me)}catch(me){console.error("Erro ao buscar funcionários:",me),r("Erro ao carregar funcionários","error")}finally{i(!1)}},[r]),X=ce.useCallback(me=>{var ke;const Ce={};return me.ativo?(me.nome.trim()||(Ce.nome="Nome é obrigatório"),me.cpf.trim()?yV(me.cpf)||(Ce.cpf="CPF inválido"):Ce.cpf="CPF é obrigatório",me.cnh.trim()||(Ce.cnh="CNH é obrigatório"),me.celular.trim()?yC(me.celular)||(Ce.celular="Celular deve ter DDD e começar com 9"):Ce.celular="Celular é obrigatório",me.endereco.trim()||(Ce.endereco="Endereço é obrigatório"),me.cidade.trim()||(Ce.cidade="Cidade é obrigatório"),(ke=me.cep)!=null&&ke.trim()?me.cep.replace(/\D/g,"").length!==8&&(Ce.cep="CEP inválido"):Ce.cep="CEP é obrigatório",me.email&&!gC(me.email)&&(Ce.email="Email inválido"),S(Ce),Object.keys(Ce).length===0):(S({}),!0)},[]),Q=ce.useCallback(async()=>{var me;if(l&&!l.ativo){r("Não é possível editar funcionários inativos","error");return}if(!X(k)){r("Por favor, corrija os erros no formulário","error");return}try{const Ce={...k,nome:k.nome.toUpperCase(),cpf:k.cpf.replace(/\D/g,""),celular:k.celular.replace(/\D/g,""),cep:(me=k.cep)==null?void 0:me.replace(/\D/g,"")};l?(await Zh.atualizar(l.id,Ce),r("Funcionário atualizado com sucesso!","success")):(await Zh.criar(Ce),r("Funcionário cadastrado com sucesso!","success")),s(!1),c(null),M({nome:"",cpf:"",cnh:"",cnhVencimento:"",cnhCategoria:"",celular:"",email:"",cep:"",endereco:"",numero:"",complemento:"",cidade:"",funcao:"motorista",toxicoUltimoExame:"",toxicoVencimento:"",status:"disponivel",tipoContrato:"integral",unidadeNegocio:"frigorifico",dataAdmissao:"",salario:"",observacao:"",ativo:!0}),await O()}catch(Ce){console.error("Erro ao salvar funcionário:",Ce),Ce instanceof Error&&Ce.message==="CPF já cadastrado no sistema"?r("CPF já cadastrado no sistema","error"):Ce instanceof Error&&Ce.message==="CNH já cadastrada no sistema"?r("CNH já cadastrada no sistema","error"):r("Erro ao salvar funcionário","error")}},[O,l,r,X,k]),re=ce.useCallback(()=>{c(null),M({nome:"",cpf:"",cnh:"",cnhVencimento:"",cnhCategoria:"",celular:"",email:"",cep:"",endereco:"",numero:"",complemento:"",cidade:"",funcao:"motorista",toxicoUltimoExame:"",toxicoVencimento:"",status:"disponivel",tipoContrato:"integral",unidadeNegocio:"frigorifico",dataAdmissao:"",salario:"",observacao:"",ativo:!0}),s(!0)},[]),G=ce.useCallback(me=>{c(me),M({nome:me.nome||"",cpf:me.cpf||"",cnh:me.cnh||"",cnhVencimento:me.cnhVencimento||"",cnhCategoria:me.cnhCategoria||"",celular:me.celular||me.telefone||"",email:me.email||"",cep:me.cep||"",endereco:me.endereco||"",numero:me.numero||"",complemento:me.complemento||"",cidade:me.cidade||"",funcao:me.funcao||"motorista",toxicoUltimoExame:me.toxicoUltimoExame||"",toxicoVencimento:me.toxicoVencimento||"",status:me.status||"disponivel",tipoContrato:me.tipoContrato||"integral",unidadeNegocio:me.unidadeNegocio||"frigorifico",dataAdmissao:me.dataAdmissao||"",salario:me.salario?String(me.salario):"",observacao:me.observacao||"",ativo:me.ativo!==void 0?me.ativo:!0}),s(!0)},[]),J=ce.useCallback(async me=>{d(me),u(!0)},[]),q=ce.useCallback(async()=>{if(f)try{await Zh.inativar(f.id),r("Funcionário inativado com sucesso!","success"),u(!1),d(null),await O()}catch(me){console.error("Erro ao inativar funcionário:",me),r("Erro ao inativar funcionário","error")}},[f,r,O]),U=ce.useCallback(()=>{u(!1),d(null)},[]),Z=ce.useCallback(async me=>{p(me),m(!0)},[]),ie=ce.useCallback(async()=>{if(g)try{await Zh.ativar(g.id),r("Funcionário ativado com sucesso!","success"),m(!1),p(null),await O()}catch(me){console.error("Erro ao ativar funcionário:",me),r("Erro ao ativar funcionário","error")}},[g,r,O]),le=ce.useCallback(()=>{m(!1),p(null)},[]),de=ce.useCallback(me=>{T===me?_(N==="asc"?"desc":"asc"):(R(me),_("asc"))},[N,T]),fe=ce.useMemo(()=>{const me=y.toLowerCase();return e.filter(Ce=>{var tt,st,it,pt;const ke=((tt=Ce.nome)==null?void 0:tt.toLowerCase().includes(me))||((st=Ce.cpf)==null?void 0:st.includes(me))||((it=Ce.cnh)==null?void 0:it.includes(me))||((pt=Ce.cidade)==null?void 0:pt.toLowerCase().includes(me)),Oe=w==="todos"||Ce.status===w,De=P==="todos"||Ce.tipoContrato===P,He=L==="todos"||(Ce.funcao||"motorista")===L,Qe=I==="todos"||Ce.ativo===I;return ke&&Oe&&De&&He&&Qe})},[P,L,w,I,e,y]),ue=ce.useMemo(()=>{const me=[...fe];return me.sort((Ce,ke)=>{let Oe=Ce[T],De=ke[T];return T==="nome"||T==="funcao"||T==="cnhCategoria"?(Oe=(Oe==null?void 0:Oe.toLowerCase())||"",De=(De==null?void 0:De.toLowerCase())||""):T==="salario"?(Oe=Oe?parseFloat(Oe):0,De=De?parseFloat(De):0):T==="ativo"&&(Oe=Oe?1:0,De=De?1:0),Oe<De?N==="asc"?-1:1:Oe>De?N==="asc"?1:-1:0}),me},[N,fe,T]),Ae=ce.useMemo(()=>{const me=($-1)*V,Ce=me+V;return ue.slice(me,Ce)},[V,ue,$]),he=ce.useMemo(()=>{const me=ue.length,Ce=Math.ceil(me/V)||1,ke=($-1)*V,Oe=Math.min(ke+V,me);return{total:me,totalPaginas:Ce,inicio:ke,fim:Oe}},[V,ue,$]),xe=ce.useCallback(async()=>{try{const me=new yve,Ce=ue,ke={termoBusca:y,filtroStatus:w==="todos"?void 0:w,filtroContrato:P==="todos"?void 0:P,filtroFuncao:L==="todos"?void 0:L,filtroAtivo:I==="todos"?void 0:I.toString(),ordenarPor:T,direcaoOrdenacao:N};await me.exportToExcel(Ce,ke),r("Exportação realizada com sucesso!","success")}catch(me){console.error("Erro ao exportar Excel:",me),r("Erro ao exportar dados","error")}},[ue,y,w,P,L,I,T,N,r]);return{loading:n,funcionariosPaginados:Ae,totalPaginado:he,paginaAtual:$,setPaginaAtual:B,itensPorPagina:V,termoBusca:y,setTermoBusca:v,filtroStatus:w,setFiltroStatus:C,filtroContrato:P,setFiltroContrato:F,filtroFuncao:L,setFiltroFuncao:j,filtroAtivo:I,setFiltroAtivo:z,ordenarPor:T,direcaoOrdenacao:N,alternarOrdenacao:de,mostrarModal:a,editando:l,valores:k,setValores:M,setMostrarModal:s,mostrarModalInativacao:o,funcionarioParaInativar:f,mostrarModalAtivacao:h,funcionarioParaAtivar:g,abrirCriacao:re,editarFuncionario:G,inativarFuncionario:J,confirmarInativacao:q,cancelarInativacao:U,ativarFuncionario:Z,confirmarAtivacao:ie,cancelarAtivacao:le,confirmar:Q,carregar:O,handleExportExcel:xe,erros:E}}const bve=({onFileSelect:r,acceptedTypes:e=[".xlsx",".xls"],maxSize:t=10*1024*1024})=>{const n=ce.useCallback(l=>e.some(o=>l.name.toLowerCase().endsWith(o.toLowerCase()))?l.size>t?(alert(`Arquivo muito grande. Tamanho máximo: ${t/1024/1024}MB`),!1):!0:(alert(`Tipo de arquivo não suportado. Tipos aceitos: ${e.join(", ")}`),!1),[e,t]),i=ce.useCallback(l=>{l.preventDefault();const c=Array.from(l.dataTransfer.files);if(c.length>0){const o=c[0];n(o)&&r(o)}},[r,n]),a=ce.useCallback(l=>{l.preventDefault()},[]),s=ce.useCallback(l=>{const c=Array.from(l.target.files||[]);if(c.length>0){const o=c[0];n(o)&&r(o)}},[r,n]);return A.jsxs("div",{onDrop:i,onDragOver:a,className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer transition-colors hover:border-gray-400 hover:bg-gray-50",children:[A.jsx("input",{type:"file",accept:e.join(","),onChange:s,className:"hidden",id:"file-upload"}),A.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[A.jsx(KF,{className:"mx-auto h-12 w-12 text-gray-400"}),A.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Arraste e solte um arquivo Excel aqui, ou clique para selecionar"}),A.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Formatos aceitos: ",e.join(", ")," | Máximo:"," ",t/1024/1024,"MB"]})]})]})},wve=({lastImport:r})=>{if(!r)return A.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx(l4,{className:"h-5 w-5 text-gray-400 mr-2"}),A.jsxs("div",{children:[A.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Nenhuma importação anterior"}),A.jsx("p",{className:"text-sm text-gray-500",children:"Esta será a primeira importação para esta entidade"})]})]})});const e=i=>{switch(i){case"success":return"text-green-600 bg-green-100";case"partial":return"text-yellow-600 bg-yellow-100";case"failed":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},t=i=>{switch(i){case"success":return"Sucesso";case"partial":return"Parcial";case"failed":return"Falhou";default:return"Desconhecido"}},n=i=>i.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return A.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:A.jsxs("div",{className:"flex items-start",children:[A.jsx(Vte,{className:"h-5 w-5 text-blue-600 mr-2 mt-0.5"}),A.jsxs("div",{className:"flex-1",children:[A.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Última Importação"}),A.jsxs("div",{className:"mt-2 space-y-1",children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:"text-sm text-blue-700",children:"Arquivo:"}),A.jsx("span",{className:"text-sm font-medium text-blue-900",children:r.fileName})]}),A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:"text-sm text-blue-700",children:"Data:"}),A.jsx("span",{className:"text-sm font-medium text-blue-900",children:n(r.date)})]}),A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:"text-sm text-blue-700",children:"Status:"}),A.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${e(r.status)}`,children:t(r.status)})]}),A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:"text-sm text-blue-700",children:"Usuário:"}),A.jsx("span",{className:"text-sm font-medium text-blue-900",children:r.userName})]})]})]})]})})},VR=async()=>{let r;if(!r&&typeof window<"u")try{r=await iu(()=>Promise.resolve().then(()=>gve),void 0)}catch(e){throw console.error("Erro ao carregar ExcelJS:",e),new Error("ExcelJS não está disponível")}return r};class xve{async importFromExcel(e){const t=Date.now();try{const n=await this.parseExcelFile(e),i=await this.validateData(n);if(!i.isValid)return{success:!1,totalRows:n.length,importedRows:0,failedRows:n.length,errors:i.errors,warnings:i.warnings,duration:Date.now()-t};const a=await this.transformData(n),s=await this.saveToDatabase(a);return s.duration=Date.now()-t,s.totalRows>0&&await this.saveImportLog(s,e.name,e.size),s}catch(n){throw n.message.includes("Erro na importação")?n:new Error(`Erro na importação: ${n.message}`)}}async generateTemplate(){const e=await VR();if(!e)throw new Error("ExcelJS não está disponível");const t=new e.Workbook,n=t.addWorksheet("Instruções");this.createInstructionsSheet().forEach((o,u)=>{o.forEach((f,d)=>{const h=n.getCell(u+1,d+1);h.value=f,u===0&&(h.font={bold:!0,size:12})})});const a=t.addWorksheet("Template"),s=this.config.templateConfig;s.headers.forEach((o,u)=>{const f=a.getCell(1,u+1);f.value=o,f.font={bold:!0,size:11}});const l=t.addWorksheet("Exemplo");s.headers.forEach((o,u)=>{const f=l.getCell(1,u+1);f.value=o,f.font={bold:!0,size:11}}),s.exampleData.forEach((o,u)=>{o.forEach((f,d)=>{const h=l.getCell(u+2,d+1);h.value=f})});const c=await t.xlsx.writeBuffer();return new Blob([c],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})}async parseExcelFile(e){const t=await VR();if(!t)throw new Error("ExcelJS não está disponível");return new Promise((n,i)=>{const a=new FileReader;a.onload=async s=>{var l;try{const c=new Uint8Array((l=s.target)==null?void 0:l.result),o=new t.Workbook;await o.xlsx.load(c);let u=o.getWorksheet(1);if(o.worksheets.length>1){const h=["template","dados","data","cidades","funcionarios","veiculos","vendedores","rotas","folgas","importacao"],m=o.worksheets.find(g=>h.some(p=>g.name.toLowerCase().includes(p)));m?u=m:u=o.getWorksheet(2)}if(!u)throw new Error("Nenhuma planilha com dados encontrada. Certifique-se de preencher a planilha 'Template' ou uma planilha com dados.");const f=[];if(u.eachRow((h,m)=>{const g=[];for(let p=1;p<=u.columnCount;p++){const y=h.getCell(p);g.push(y.value)}f.push(g)}),f.length>0){const h=f[0],m=this.config.templateConfig.headers;if(m.filter(y=>h.some(v=>v&&v.toString().toLowerCase().includes(y.toLowerCase().replace("*","").trim()))).length/m.length*100<70)throw new Error(`Este arquivo parece ser um template de ${this.detectEntityTypeFromHeaders(h)}, mas você está tentando importar para ${this.getEntityDisplayName()}. Por favor, use o template correto.`)}const d=f.slice(1).filter(h=>h.some(m=>m&&m.toString().trim()!==""));n(d)}catch(c){i(c)}},a.onerror=()=>{i(new Error("Erro ao ler o arquivo"))},a.readAsArrayBuffer(e)})}createInstructionsSheet(){return[[`IMPORTAÇÃO DE ${this.getEntityDisplayName().toUpperCase()} - INSTRUÇÕES`],[""],["📋 COMO USAR ESTE TEMPLATE:"],[""],["✅ OPÇÃO 1 - USO SIMPLES (RECOMENDADO):"],["   1. Vá para a planilha 'Template'"],["   2. Preencha seus dados na planilha 'Template'"],["   3. Salve o arquivo"],["   4. Faça upload no sistema"],["   5. Pronto! Os dados serão importados automaticamente"],[""],["✅ OPÇÃO 2 - PERSONALIZAÇÃO:"],["   - Você pode excluir as planilhas 'Instruções' e 'Exemplo'"],["   - Você pode renomear a planilha 'Template' para qualquer nome"],["   - O sistema detectará automaticamente a planilha com dados"],[""],["📝 REGRAS DE PREENCHIMENTO:"],["   - Todos os campos marcados com * são obrigatórios"],["   - Não deixe linhas em branco entre os dados"],["   - Preencha apenas na planilha 'Template' (ou sua planilha renomeada)"],[""],["📊 FORMATO DOS DADOS:"],...this.config.templateConfig.instructions.map(n=>[n]),[""],["🔍 VALIDAÇÕES:"],...this.config.templateConfig.validations.map(n=>[n]),[""],["💡 DICA:"],["   - Veja a planilha 'Exemplo' para referência de preenchimento"],["   - O sistema aceita o arquivo mesmo se você excluir outras planilhas"],["   - O sistema aceita o arquivo mesmo se você renomear a planilha 'Template'"]]}async saveImportLog(e,t,n){try{const i=vd.currentUser;if(!i){console.warn("Usuário não autenticado, não foi possível salvar log");return}const a={userId:i.uid,userName:i.displayName||i.email||"Usuário",entityType:this.config.entityType,fileName:t,fileSize:n,totalRows:e.totalRows,importedRows:e.importedRows,failedRows:e.failedRows,errors:e.errors,warnings:e.warnings,startTime:new Date,endTime:new Date,duration:e.duration,status:e.success?"success":e.importedRows>0?"partial":"failed",ipAddress:"N/A",userAgent:navigator.userAgent};await ah(xr(Lt,"import_logs"),a)}catch(i){console.error("Erro ao salvar log de importação:",i)}}getEntityDisplayName(){return{funcionarios:"Funcionários",veiculos:"Veículos",cidades:"Cidades",vendedores:"Vendedores",rotas:"Rotas",folgas:"Folgas"}[this.config.entityType]||this.config.entityType}detectEntityTypeFromHeaders(e){const t=e.join(" ").toLowerCase();return t.includes("nome")&&t.includes("cpf")?"Funcionários":t.includes("placa")&&t.includes("marca")?"Veículos":t.includes("cidade")&&t.includes("estado")?"Cidades":t.includes("vendedor")||t.includes("região")?"Vendedores":t.includes("rota")||t.includes("origem")?"Rotas":t.includes("folga")||t.includes("data")?"Folgas":"Desconhecido"}}async function _ve(r){var e,t;try{const n=xr(Lt,"import_logs"),i=xa(n,rl("entityType","==",r)),a=await Lr(i);if(a.empty)return null;const c=a.docs.sort((u,f)=>{var m,g,p,y;const d=((g=(m=u.data().startTime)==null?void 0:m.toDate)==null?void 0:g.call(m))||new Date(0);return(((y=(p=f.data().startTime)==null?void 0:p.toDate)==null?void 0:y.call(p))||new Date(0)).getTime()-d.getTime()})[0].data();return{fileName:c.fileName,date:((t=(e=c.startTime)==null?void 0:e.toDate)==null?void 0:t.call(e))||new Date,status:c.status,userName:c.userName||"Usuário"}}catch{return null}}async function zR(r){switch(r){case"cidades":const{CidadesImportService:e}=await iu(async()=>{const{CidadesImportService:a}=await import("./cidadesImportService-CshrIE8o.js");return{CidadesImportService:a}},[]);return new e;case"vendedores":const{VendedoresImportService:t}=await iu(async()=>{const{VendedoresImportService:a}=await import("./vendedoresImportService-DrPOAJUp.js");return{VendedoresImportService:a}},[]);return new t;case"veiculos":const{VeiculosImportService:n}=await iu(async()=>{const{VeiculosImportService:a}=await Promise.resolve().then(()=>Tve);return{VeiculosImportService:a}},void 0);return new n;case"funcionarios":const{FuncionariosImportService:i}=await iu(async()=>{const{FuncionariosImportService:a}=await import("./funcionariosImportService-Djtnzf6c.js");return{FuncionariosImportService:a}},[]);return new i;default:throw new Error(`Serviço de importação não encontrado para: ${r}`)}}const Sve=({isOpen:r,onClose:e,children:t})=>{if(!r)return null;const n=i=>{i.target===i.currentTarget&&e()};return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:n,children:A.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:A.jsx("div",{className:"flex-1 overflow-y-auto",children:t})})})},Hw=({entityType:r,isOpen:e,onClose:t,onSuccess:n})=>{const[i,a]=ce.useState("template"),[s,l]=ce.useState(null),[c,o]=ce.useState(null),[u,f]=ce.useState(null),[d,h]=ce.useState(null),[m,g]=ce.useState(!1),[p,y]=ce.useState(!1);ce.useEffect(()=>{e&&v(r)},[e,r]);const v=async j=>{try{const I=await _ve(j);h(I)}catch{}},w=async()=>{try{g(!0);const I=await(await zR(r)).generateTemplate();dh.saveAs(I,`template_${r}.xlsx`)}catch(j){console.error("Erro ao gerar template:",j),alert(`Erro ao gerar template: ${j.message}`)}finally{g(!1)}},C=j=>{l(j),a("validation")},P=async()=>{if(!s)return;a("progress");const j=await zR(r);try{o({status:"importing",message:"Importando dados..."});const I=await j.importFromExcel(s);f(I),a("result"),I.success&&(n(I),await v(r))}catch(I){o({status:"error",message:I.message})}},F=j=>({funcionarios:"Funcionários",veiculos:"Veículos",cidades:"Cidades",vendedores:"Vendedores",rotas:"Rotas",folgas:"Folgas"})[j]||j,L=()=>{a("template"),l(null),o(null),f(null),y(!1),t()};return A.jsx(Sve,{isOpen:e,onClose:L,children:A.jsxs("div",{className:"space-y-6 p-6 min-h-0",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("h3",{className:"text-lg font-medium",children:["Importar ",F(r)]}),A.jsx("button",{onClick:L,className:"text-gray-400 hover:text-gray-600",children:A.jsx(da,{className:"h-6 w-6"})})]}),A.jsx(wve,{lastImport:d}),i==="template"&&A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"text-center",children:[A.jsx(X0,{className:"mx-auto h-12 w-12 text-gray-400"}),A.jsx("h4",{className:"mt-2 text-lg font-medium text-gray-900",children:"Baixar Template"}),A.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Baixe o template Excel com as instruções e exemplos para preenchimento correto dos dados."})]}),A.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[A.jsx("h5",{className:"text-sm font-medium text-blue-900 mb-2",children:"O que o template contém:"}),A.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[A.jsx("li",{children:"• Planilha com instruções detalhadas"}),A.jsx("li",{children:"• Template vazio para preenchimento"}),A.jsx("li",{children:"• Exemplos de dados corretos"}),A.jsx("li",{children:"• Validações e regras de negócio"})]})]}),A.jsx("div",{className:"flex justify-center",children:A.jsxs("button",{onClick:w,disabled:m,className:"btn-primary flex items-center",children:[m?A.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):A.jsx(X0,{className:"h-4 w-4 mr-2"}),"Baixar Template Excel"]})}),A.jsx("div",{className:"text-center",children:A.jsx("button",{onClick:()=>a("upload"),className:"text-sm text-primary-600 hover:text-primary-500",children:"Já tenho o arquivo preenchido →"})})]}),i==="upload"&&A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"text-center",children:[A.jsx(KF,{className:"mx-auto h-12 w-12 text-gray-400"}),A.jsx("h4",{className:"mt-2 text-lg font-medium text-gray-900",children:"Fazer Upload"}),A.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Selecione o arquivo Excel preenchido para importar os dados."})]}),A.jsx(bve,{onFileSelect:C,acceptedTypes:[".xlsx",".xls"],maxSize:10*1024*1024}),A.jsx("div",{className:"flex justify-between",children:A.jsx("button",{onClick:()=>a("template"),className:"text-sm text-gray-600 hover:text-gray-500",children:"← Voltar para Template"})})]}),i==="validation"&&s&&A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"text-center",children:[A.jsx(l4,{className:"mx-auto h-12 w-12 text-blue-400"}),A.jsx("h4",{className:"mt-2 text-lg font-medium text-gray-900",children:"Validar Arquivo"}),A.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Arquivo selecionado:"," ",A.jsx("span",{className:"font-medium",children:s.name})]})]}),A.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:A.jsx("p",{className:"text-sm text-gray-700",children:'O arquivo será validado antes da importação. Clique em "Importar" para continuar.'})}),A.jsxs("div",{className:"flex justify-between",children:[A.jsx("button",{onClick:()=>a("upload"),className:"text-sm text-gray-600 hover:text-gray-500",children:"← Selecionar outro arquivo"}),A.jsx("button",{onClick:P,className:"btn-primary",children:"Importar Dados"})]})]}),i==="progress"&&A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),A.jsx("h4",{className:"mt-2 text-lg font-medium text-gray-900",children:"Importando..."}),A.jsx("p",{className:"mt-1 text-sm text-gray-500",children:(c==null?void 0:c.status)==="error"?"Erro detectado":"Processando arquivo..."})]}),(c==null?void 0:c.status)==="error"&&A.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[A.jsx("p",{className:"text-sm text-red-700",children:c.message}),A.jsx("div",{className:"mt-3 flex justify-center",children:A.jsx("button",{onClick:()=>a("upload"),className:"px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Tentar novamente"})})]})]}),i==="result"&&u&&A.jsxs("div",{className:"space-y-4",children:[A.jsx("div",{className:`mx-auto h-12 w-12 rounded-full flex items-center justify-center ${u.success?"bg-green-100 text-green-600":"bg-yellow-100 text-yellow-600"}`,children:u.success?A.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):A.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),A.jsx("h4",{className:"mt-2 text-lg font-medium text-gray-900",children:u.success?"Importação Concluída":"Importação Falhou"}),A.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[u.importedRows," de ",u.totalRows," registros importados",u.failedRows>0&&A.jsxs("span",{className:"text-red-600 font-medium",children:[" ","(",u.failedRows," falharam)"]})]}),u.errors.length>10&&A.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("p",{className:"text-sm text-orange-800",children:["⚠️ Muitos erros encontrados (",u.errors.length,")"]}),A.jsx("button",{onClick:()=>y(!p),className:"text-xs bg-orange-200 hover:bg-orange-300 px-2 py-1 rounded",children:p?"Recolher":"Ver Todos"})]})}),u.errors.length>0&&A.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[A.jsxs("h5",{className:"text-sm font-medium text-red-900 mb-2 flex items-center",children:[A.jsx("svg",{className:"h-4 w-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:A.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Erros encontrados (",u.errors.length,"):"]}),A.jsxs("div",{className:`overflow-y-auto space-y-2 pr-2 ${u.errors.length>10&&!p?"max-h-40":"max-h-60"}`,children:[(u.errors.length>10&&!p?u.errors.slice(0,5):u.errors).map((j,I)=>A.jsxs("div",{className:"bg-red-100 border border-red-300 rounded p-2",children:[A.jsxs("p",{className:"text-sm font-medium text-red-800",children:["Linha ",j.row,": ",j.field]}),A.jsx("p",{className:"text-xs text-red-700 mt-1",children:j.message})]},I)),u.errors.length>10&&!p&&A.jsx("div",{className:"text-center py-2",children:A.jsxs("p",{className:"text-xs text-gray-500",children:["... e mais ",u.errors.length-5," erros"]})})]})]}),u.warnings.length>0&&A.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[A.jsxs("h5",{className:"text-sm font-medium text-yellow-900 mb-2",children:["Avisos (",u.warnings.length,"):"]}),A.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1 pr-2",children:u.warnings.map((j,I)=>A.jsxs("div",{className:"bg-yellow-100 border border-yellow-300 rounded p-2",children:[A.jsxs("p",{className:"text-sm font-medium text-yellow-800",children:["Linha ",j.row,": ",j.field]}),A.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:j.message})]},I))})]}),A.jsxs("div",{className:"flex justify-center space-x-3",children:[!u.success&&A.jsx("button",{onClick:()=>a("template"),className:"btn-secondary",children:"Tentar Novamente"}),A.jsx("button",{onClick:L,className:"btn-primary",children:"Fechar"})]})]})]})})},dd="rotas",Rl={async getAll(){try{const r=xa(xr(Lt,dd),kf("dataCriacao","desc"));return(await Lr(r)).docs.map(n=>{var i,a;return{id:n.id,...n.data(),dataCriacao:((i=n.data().dataCriacao)==null?void 0:i.toDate())||new Date,dataAtualizacao:((a=n.data().dataAtualizacao)==null?void 0:a.toDate())||new Date}})}catch(r){throw console.error("Erro ao buscar rotas:",r),new Error("Erro ao carregar rotas")}},async getById(r){var e,t;try{const n=kn(Lt,dd,r),i=await uv(n);if(i.exists()){const a=i.data();return{id:i.id,...a,dataCriacao:((e=a.dataCriacao)==null?void 0:e.toDate())||new Date,dataAtualizacao:((t=a.dataAtualizacao)==null?void 0:t.toDate())||new Date}}return null}catch(n){throw console.error("Erro ao buscar rota:",n),new Error("Erro ao carregar rota")}},async create(r){try{return(await ah(xr(Lt,dd),{...r,dataCriacao:new Date,dataAtualizacao:new Date})).id}catch(e){throw console.error("Erro ao criar rota:",e),new Error("Erro ao criar rota")}},async update(r,e){try{const t=kn(Lt,dd,r);await ps(t,{...e,dataAtualizacao:new Date})}catch(t){throw console.error("Erro ao atualizar rota:",t),new Error("Erro ao atualizar rota")}},async delete(r){try{const e=kn(Lt,dd,r);await Hg(e)}catch(e){throw console.error("Erro ao excluir rota:",e),new Error("Erro ao excluir rota")}},async updateCidadesVinculadas(r,e,t){try{const n=kn(Lt,dd,r),i=await uv(n);if(!i.exists())throw new Error("Rota não encontrada");const s=i.data().cidades||[];let l;if(t)if(!s.includes(e))l=[...s,e];else return;else l=s.filter(c=>c!==e);await ps(n,{cidades:l,dataAtualizacao:new Date})}catch(n){throw console.error("Erro ao atualizar cidades vinculadas:",n),new Error("Erro ao atualizar cidades vinculadas")}},async getByDiaSemana(r){try{const e=xa(xr(Lt,dd),rl("diaSemana","array-contains",r),kf("dataCriacao","desc"));return(await Lr(e)).docs.map(n=>{var i,a;return{id:n.id,...n.data(),dataCriacao:((i=n.data().dataCriacao)==null?void 0:i.toDate())||new Date,dataAtualizacao:((a=n.data().dataAtualizacao)==null?void 0:a.toDate())||new Date}})}catch(e){throw console.error("Erro ao buscar rotas por dia da semana:",e),new Error("Erro ao carregar rotas por dia da semana")}}},Gd="cidades";async function vC(){const r=xa(xr(Lt,Gd),kf("dataCriacao","desc"));return(await Lr(r)).docs.map(t=>({id:t.id,...t.data()}))}async function Eve(r){try{const t=(await Lr(xr(Lt,Gd))).docs.find(n=>n.id===r);return t?{id:t.id,...t.data()}:null}catch(e){return console.error("Erro ao buscar cidade por ID:",e),null}}async function Ave(r){var u,f;const e=d=>d.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/g,"").replace(/\s+/g," ").trim().toUpperCase(),t=await vC(),n=e(r.nome),i=r.estado.toUpperCase();if(t.find(d=>e(d.nome)===n&&d.estado===i))throw new Error(`Cidade "${r.nome}" já está cadastrada no estado ${i}`);const l={...Object.fromEntries(Object.entries(r).filter(([d,h])=>h!==void 0)),nome:((u=r.nome)==null?void 0:u.toString().toUpperCase())||"",estado:((f=r.estado)==null?void 0:f.toString().toUpperCase())||"",...r.regiao&&{regiao:r.regiao.toString().toUpperCase()},...r.observacao&&{observacao:r.observacao.toString().toUpperCase()},distancia:r.distancia?Number(r.distancia):null,pesoMinimo:r.pesoMinimo?Number(r.pesoMinimo):null,rotaId:r.rotaId||null,dataCriacao:fa(),dataAtualizacao:fa()},c=Object.fromEntries(Object.entries(l).filter(([d,h])=>h!=null)),o=await ah(xr(Lt,Gd),c);if(r.rotaId)try{await Rl.updateCidadesVinculadas(r.rotaId,o.id,!0)}catch(d){console.error("Erro ao vincular cidade à rota:",d)}return o.id}async function Cve(r,e){var d,h,m;const t=g=>g.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/g,"").replace(/\s+/g," ").trim().toUpperCase(),n=await vC(),i=t(e.nome),a=e.estado.toUpperCase();if(n.find(g=>g.id!==r&&t(g.nome)===i&&g.estado===a))throw new Error(`Cidade "${e.nome}" já está cadastrada no estado ${a}`);const l=kn(Lt,Gd,r),o=(await Lr(xr(Lt,Gd))).docs.find(g=>g.id===r),u=(d=o==null?void 0:o.data())==null?void 0:d.rotaId,f={...e,nome:((h=e.nome)==null?void 0:h.toString().toUpperCase())||"",estado:((m=e.estado)==null?void 0:m.toString().toUpperCase())||"",...e.regiao&&{regiao:e.regiao.toString().toUpperCase()},...e.observacao&&{observacao:e.observacao.toString().toUpperCase()},distancia:e.distancia?Number(e.distancia):null,pesoMinimo:e.pesoMinimo?Number(e.pesoMinimo):null,rotaId:e.rotaId||null,dataAtualizacao:fa()};await ps(l,f);try{u&&!e.rotaId?await Rl.updateCidadesVinculadas(u,r,!1):u&&e.rotaId&&u!==e.rotaId?(await Rl.updateCidadesVinculadas(u,r,!1),await Rl.updateCidadesVinculadas(e.rotaId,r,!0)):!u&&e.rotaId&&await Rl.updateCidadesVinculadas(e.rotaId,r,!0)}catch(g){console.error("Erro ao gerenciar vínculos com rotas:",g)}}async function kve(r){var a;const e=kn(Lt,Gd,r),n=(await Lr(xr(Lt,Gd))).docs.find(s=>s.id===r),i=(a=n==null?void 0:n.data())==null?void 0:a.rotaId;if(await Hg(e),i)try{await Rl.updateCidadesVinculadas(i,r,!1)}catch(s){console.error("Erro ao remover vínculo com rota:",s)}}const cc={listar:vC,getById:Eve,criar:Ave,atualizar:Cve,excluir:kve},AC=class AC{static async getVeiculos(){try{const e=xa(xr(Lt,this.collectionName),kf("dataCriacao","desc"));return(await Lr(e)).docs.map(n=>({id:n.id,...n.data()}))}catch(e){throw console.error("Erro ao buscar veículos:",e),new Error("Erro ao carregar veículos")}}static async getVeiculosByFilters(e){try{let t=xa(xr(Lt,this.collectionName));return e.status&&(t=xa(t,rl("status","==",e.status))),e.tipoCarroceria&&(t=xa(t,rl("tipoCarroceria","==",e.tipoCarroceria))),e.tipoBau&&(t=xa(t,rl("tipoBau","==",e.tipoBau))),e.unidadeNegocio&&(t=xa(t,rl("unidadeNegocio","==",e.unidadeNegocio))),t=xa(t,kf("dataCriacao","desc")),(await Lr(t)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){throw console.error("Erro ao buscar veículos com filtros:",t),new Error("Erro ao carregar veículos")}}static async createVeiculo(e){var t;try{return(await ah(xr(Lt,this.collectionName),{...e,placa:e.placa.toUpperCase(),modelo:((t=e.modelo)==null?void 0:t.toUpperCase())||"",marca:e.marca.toUpperCase(),dataCriacao:new Date,dataAtualizacao:new Date})).id}catch(n){throw console.error("Erro ao criar veículo:",n),new Error("Erro ao criar veículo")}}static async updateVeiculo(e,t){try{const n={...t,dataAtualizacao:new Date};t.placa&&(n.placa=t.placa.toUpperCase()),t.modelo!==void 0&&(n.modelo=t.modelo.toUpperCase()),t.marca&&(n.marca=t.marca.toUpperCase()),await ps(kn(Lt,this.collectionName,e),n)}catch(n){throw console.error("Erro ao atualizar veículo:",n),new Error("Erro ao atualizar veículo")}}static async deleteVeiculo(e){try{await Hg(kn(Lt,this.collectionName,e))}catch(t){throw console.error("Erro ao excluir veículo:",t),new Error("Erro ao excluir veículo")}}static async toggleVeiculoStatus(e,t){try{await ps(kn(Lt,this.collectionName,e),{status:t,dataAtualizacao:new Date})}catch(n){throw console.error("Erro ao alterar status do veículo:",n),new Error("Erro ao alterar status do veículo")}}static async checkPlacaExists(e,t){try{const n=xa(xr(Lt,this.collectionName),rl("placa","==",e.toUpperCase())),i=await Lr(n);return t?i.docs.some(a=>a.id!==t):!i.empty}catch(n){return console.error("Erro ao verificar placa:",n),!1}}};AC.collectionName="veiculos";let Pl=AC;const hi=class hi extends xve{constructor(){super(...arguments),this.config={entityType:"veiculos",requiredFields:["placa","marca","capacidade","tipoCarroceria","quantidadeEixos","tipoBau","status","unidadeNegocio"],optionalFields:["modelo","ano","ultimaManutencao","proximaManutencao","motorista","observacao"],validationRules:[{field:"placa",rule:"required",message:"Placa é obrigatória"},{field:"marca",rule:"required",message:"Marca é obrigatória"},{field:"capacidade",rule:"required",message:"Capacidade é obrigatória"},{field:"tipoCarroceria",rule:"required",message:"Tipo de carroceria é obrigatório"},{field:"quantidadeEixos",rule:"required",message:"Quantidade de eixos é obrigatória"},{field:"tipoBau",rule:"required",message:"Tipo de baú é obrigatório"},{field:"status",rule:"required",message:"Status é obrigatório"},{field:"unidadeNegocio",rule:"required",message:"Unidade de negócio é obrigatória"},{field:"placa",rule:"unique",message:"Placa já cadastrada"},{field:"capacidade",rule:"number",message:"Capacidade deve ser um número"},{field:"quantidadeEixos",rule:"number",message:"Quantidade de eixos deve ser um número"}],transformations:[{field:"placa",transform:"uppercase"},{field:"modelo",transform:"uppercase"},{field:"marca",transform:"uppercase"},{field:"motorista",transform:"uppercase"},{field:"observacao",transform:"uppercase"},{field:"capacidade",transform:"cleanNumeric"},{field:"quantidadeEixos",transform:"cleanNumeric"}],templateConfig:{headers:["Placa*","Modelo","Marca*","Ano","Capacidade*","Tipo Carroceria*","Quantidade Eixos*","Tipo Baú*","Status*","Unidade Negócio*","Última Manutenção","Próxima Manutenção","Motorista","Observação"],exampleData:[["ABC1234","FH 460","VOLVO","2020","25000","Truck","3","Frigorífico","Disponível","Frigorífico","15/01/2024","15/04/2024","JOÃO SILVA","Veículo em excelente estado"],["XYZ5678","Actros 2651","MERCEDES-BENZ","2021","30000","Carreta","6","Frigorífico","Disponível","Ovos","20/02/2024","20/05/2024","MARIA SANTOS","Veículo para transporte de ovos"]],instructions:["Placa: Placa do veículo (será convertida para maiúsculas)","Modelo: Modelo do veículo (opcional, será convertido para maiúsculas)","Marca: Marca do veículo (será convertida para maiúsculas)","Ano: Ano de fabricação (opcional)","Capacidade: Capacidade em kg (deve ser número)","Tipo Carroceria: Truck, Toco, Bitruck, Carreta, Carreta LS, Carreta 3 Eixos, Truck 3 Eixos, Truck 4 Eixos","Quantidade Eixos: 2, 3, 4, 5, 6, 7, 8, 9 (apenas o número)","Tipo Baú: Frigorífico, Carga Seca, Baucher, Graneleiro, Tanque, Caçamba, Plataforma","Status: Disponível, Em Uso, Manutenção, Inativo","Unidade Negócio: Frigorífico, Ovos, Ambos","Última Manutenção: Data no formato DD/MM/AAAA (opcional)","Próxima Manutenção: Data no formato DD/MM/AAAA (opcional)","Motorista: Nome do motorista (opcional, será convertido para maiúsculas)","Observação: Observações sobre o veículo (opcional, será convertida para maiúsculas)"],validations:["Placa deve ser única no sistema","Capacidade e Quantidade Eixos devem ser números válidos","Tipo Carroceria deve ser uma das opções válidas (exatamente como aparece no sistema)","Status deve ser uma das opções válidas (exatamente como aparece no sistema)","Unidade Negócio deve ser uma das opções válidas (exatamente como aparece no sistema)","Tipo Baú deve ser uma das opções válidas (exatamente como aparece no sistema)","Datas devem estar no formato DD/MM/AAAA (se fornecidas)"]}}}async validateData(e){const t=[],n=[];try{const i=await Pl.getVeiculos(),a=new Set(i.map(s=>s.placa.toUpperCase()));e.forEach((s,l)=>{var o,u,f,d,h,m,g,p;const c=l+2;if((o=s[0])!=null&&o.toString().trim()||t.push({row:c,field:"Placa",message:"Placa é obrigatória"}),(u=s[2])!=null&&u.toString().trim()||t.push({row:c,field:"Marca",message:"Marca é obrigatória"}),(f=s[4])!=null&&f.toString().trim()||t.push({row:c,field:"Capacidade",message:"Capacidade é obrigatória"}),(d=s[5])!=null&&d.toString().trim()||t.push({row:c,field:"Tipo Carroceria",message:"Tipo de carroceria é obrigatório"}),(h=s[6])!=null&&h.toString().trim()||t.push({row:c,field:"Quantidade Eixos",message:"Quantidade de eixos é obrigatória"}),(m=s[7])!=null&&m.toString().trim()||t.push({row:c,field:"Tipo Baú",message:"Tipo de baú é obrigatório"}),(g=s[8])!=null&&g.toString().trim()||t.push({row:c,field:"Status",message:"Status é obrigatório"}),(p=s[9])!=null&&p.toString().trim()||t.push({row:c,field:"Unidade Negócio",message:"Unidade de negócio é obrigatória"}),s[0]){const y=s[0].toString().toUpperCase().trim();a.has(y)&&t.push({row:c,field:"Placa",message:`Placa "${y}" já existe no sistema`}),a.add(y)}s[4]&&(isNaN(Number(s[4]))||Number(s[4])<=0)&&t.push({row:c,field:"Capacidade",message:"Capacidade deve ser um número válido maior que zero"}),s[6]&&(isNaN(Number(s[6]))||Number(s[6])<=0)&&t.push({row:c,field:"Quantidade Eixos",message:"Quantidade de eixos deve ser um número válido maior que zero"}),s[5]&&!hi.VALID_TIPOS_CARROCERIA_VISIVEIS.includes(s[5].toString())&&t.push({row:c,field:"Tipo Carroceria",message:`Tipo de carroceria "${s[5]}" inválido. Opções válidas: ${hi.VALID_TIPOS_CARROCERIA_VISIVEIS.join(", ")}`}),s[8]&&!hi.VALID_STATUS_VISIVEIS.includes(s[8].toString())&&t.push({row:c,field:"Status",message:`Status "${s[8]}" inválido. Opções válidas: ${hi.VALID_STATUS_VISIVEIS.join(", ")}`}),s[9]&&!hi.VALID_UNIDADES_NEGOCIO_VISIVEIS.includes(s[9].toString())&&t.push({row:c,field:"Unidade Negócio",message:`Unidade de negócio "${s[9]}" inválida. Opções válidas: ${hi.VALID_UNIDADES_NEGOCIO_VISIVEIS.join(", ")}`}),s[7]&&!hi.VALID_TIPOS_BAU_VISIVEIS.includes(s[7].toString())&&t.push({row:c,field:"Tipo Baú",message:`Tipo de baú "${s[7]}" inválido. Opções válidas: ${hi.VALID_TIPOS_BAU_VISIVEIS.join(", ")}`}),s[10]&&!this.isValidDate(s[10].toString())&&n.push({row:c,field:"Última Manutenção",message:`Data de última manutenção "${s[10]}" não está no formato DD/MM/AAAA`}),s[11]&&!this.isValidDate(s[11].toString())&&n.push({row:c,field:"Próxima Manutenção",message:`Data de próxima manutenção "${s[11]}" não está no formato DD/MM/AAAA`})})}catch(i){console.error("Erro ao validar dados de veículos:",i),t.push({row:0,field:"Sistema",message:"Erro ao validar dados: "+(i instanceof Error?i.message:"Erro desconhecido")})}return{isValid:t.length===0,errors:t,warnings:n}}async transformData(e){return e.map(t=>{var n,i,a,s,l,c,o,u,f,d,h,m,g,p;return{placa:((n=t[0])==null?void 0:n.toString().toUpperCase().trim())||"",modelo:((i=t[1])==null?void 0:i.toString().toUpperCase().trim())||"",marca:((a=t[2])==null?void 0:a.toString().toUpperCase().trim())||"",ano:((s=t[3])==null?void 0:s.toString().trim())||"",capacidade:((l=t[4])==null?void 0:l.toString().trim())||"",tipoCarroceria:hi.TIPO_CARROCERIA_MAP[(c=t[5])==null?void 0:c.toString()]||"truck",quantidadeEixos:((o=t[6])==null?void 0:o.toString().trim())||"",tipoBau:hi.TIPO_BAU_MAP[(u=t[7])==null?void 0:u.toString()]||"frigorifico",status:hi.STATUS_MAP[(f=t[8])==null?void 0:f.toString()]||"disponivel",unidadeNegocio:hi.UNIDADE_NEGOCIO_MAP[(d=t[9])==null?void 0:d.toString()]||"frigorifico",ultimaManutencao:this.convertDateToISO(((h=t[10])==null?void 0:h.toString().trim())||""),proximaManutencao:this.convertDateToISO(((m=t[11])==null?void 0:m.toString().trim())||""),motorista:((g=t[12])==null?void 0:g.toString().toUpperCase().trim())||"",observacao:((p=t[13])==null?void 0:p.toString().toUpperCase().trim())||""}})}async saveToDatabase(e){const t=[];let n=0;for(const i of e)try{await Pl.createVeiculo(i),n++}catch(a){console.error("Erro ao salvar veículo:",a),t.push(`Erro ao salvar veículo ${i.placa}: ${a instanceof Error?a.message:"Erro desconhecido"}`)}return{success:t.length===0,totalRows:e.length,importedRows:n,failedRows:e.length-n,errors:t,warnings:[],duration:0}}isValidDate(e){const t=/^(\d{2})\/(\d{2})\/(\d{4})$/,n=e.match(t);if(!n)return!1;const[,i,a,s]=n,l=new Date(Number(s),Number(a)-1,Number(i));return l.getDate()===Number(i)&&l.getMonth()===Number(a)-1&&l.getFullYear()===Number(s)}convertDateToISO(e){if(!e||!this.isValidDate(e))return"";const t=/^(\d{2})\/(\d{2})\/(\d{4})$/,n=e.match(t);if(!n)return"";const[,i,a,s]=n;return`${s}-${a.padStart(2,"0")}-${i.padStart(2,"0")}`}};hi.TIPO_CARROCERIA_MAP={Truck:"truck",Toco:"toco",Bitruck:"bitruck",Carreta:"carreta","Carreta LS":"carreta_ls","Carreta 3 Eixos":"carreta_3_eixos","Truck 3 Eixos":"truck_3_eixos","Truck 4 Eixos":"truck_4_eixos"},hi.STATUS_MAP={Disponível:"disponivel","Em Uso":"em_uso",Manutenção:"manutencao",Inativo:"inativo"},hi.UNIDADE_NEGOCIO_MAP={Frigorífico:"frigorifico",Ovos:"ovos",Ambos:"ambos"},hi.TIPO_BAU_MAP={Frigorífico:"frigorifico","Carga Seca":"carga_seca",Baucher:"baucher",Graneleiro:"graneleiro",Tanque:"tanque",Caçamba:"caçamba",Plataforma:"plataforma"},hi.VALID_TIPOS_CARROCERIA_VISIVEIS=Object.keys(hi.TIPO_CARROCERIA_MAP),hi.VALID_STATUS_VISIVEIS=Object.keys(hi.STATUS_MAP),hi.VALID_UNIDADES_NEGOCIO_VISIVEIS=Object.keys(hi.UNIDADE_NEGOCIO_MAP),hi.VALID_TIPOS_BAU_VISIVEIS=Object.keys(hi.TIPO_BAU_MAP);let BE=hi;const Tve=Object.freeze(Object.defineProperty({__proto__:null,VeiculosImportService:BE},Symbol.toStringTag,{value:"Module"})),xm=({onClear:r,className:e="btn-secondary text-sm",children:t="Limpar Filtros"})=>A.jsx("div",{className:"flex justify-end",children:A.jsx("button",{onClick:r,className:e,children:t})}),Nve=({termoBusca:r,setTermoBusca:e,filtroStatus:t,setFiltroStatus:n,filtroFuncao:i,setFiltroFuncao:a,filtroAtivo:s,setFiltroAtivo:l})=>{const c=r||t!=="todos"||i!=="todos"||s!=="todos";return A.jsxs("div",{className:"card space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[A.jsxs("div",{className:"relative",children:[A.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),A.jsx("input",{type:"text",placeholder:"Buscar por nome, CPF ou cidade...",value:r,onChange:o=>e(o.target.value),className:"input-field pl-10"})]}),A.jsx("div",{children:A.jsxs("select",{value:t,onChange:o=>n(o.target.value),className:"input-field",children:[A.jsx("option",{value:"todos",children:"Todos os Status"}),A.jsx("option",{value:"disponivel",children:"Disponível"}),A.jsx("option",{value:"folga",children:"Folga"}),A.jsx("option",{value:"ferias",children:"Férias"})]})}),A.jsx("div",{children:A.jsxs("select",{value:i,onChange:o=>a(o.target.value),className:"input-field",children:[A.jsx("option",{value:"todos",children:"Todas as Funções"}),A.jsx("option",{value:"motorista",children:"Motorista"}),A.jsx("option",{value:"ajudante",children:"Ajudante"}),A.jsx("option",{value:"outro",children:"Outro"})]})}),A.jsx("div",{children:A.jsxs("select",{value:s,onChange:o=>l(o.target.value),className:"input-field",children:[A.jsx("option",{value:"todos",children:"Todos"}),A.jsx("option",{value:"ativo",children:"Ativos"}),A.jsx("option",{value:"inativo",children:"Inativos"})]})})]}),c&&A.jsx(xm,{onClear:()=>{e(""),n("todos"),a("todos"),l("todos")}})]})},Pve=()=>{const[r,e]=ce.useState(!1),[t,n]=ce.useState(!1),{loading:i,funcionariosPaginados:a,totalPaginado:s,paginaAtual:l,setPaginaAtual:c,termoBusca:o,setTermoBusca:u,filtroStatus:f,setFiltroStatus:d,filtroFuncao:h,setFiltroFuncao:m,filtroAtivo:g,setFiltroAtivo:p,ordenarPor:y,direcaoOrdenacao:v,alternarOrdenacao:w,abrirCriacao:C,editarFuncionario:P,inativarFuncionario:F,confirmarInativacao:L,cancelarInativacao:j,ativarFuncionario:I,confirmarAtivacao:z,cancelarAtivacao:$,carregar:B,mostrarModal:T,setMostrarModal:R,mostrarModalInativacao:N,funcionarioParaInativar:_,mostrarModalAtivacao:E,funcionarioParaAtivar:S,valores:k,setValores:M,confirmar:V,editando:O,handleExportExcel:X,erros:Q}=vve();ce.useEffect(()=>{B(),(async()=>{try{const{folgasService:Z}=await iu(async()=>{const{folgasService:ie}=await Promise.resolve().then(()=>nbe);return{folgasService:ie}},void 0);await Z.sincronizarStatusFuncionarios()}catch(Z){console.error("Erro na sincronização automática:",Z)}})()},[B]);const re=()=>`${`funcionarios_${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")}`}.xlsx`,G=()=>{e(!0)},J=()=>{X()},q=()=>{n(!1),B()};return i?A.jsx("div",{className:"flex items-center justify-center h-64",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Funcionários"}),A.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Gerencie a equipe"})]}),A.jsxs("div",{className:"flex space-x-3",children:[A.jsxs("button",{onClick:G,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 flex items-center",children:[A.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Exportar Excel"]}),A.jsxs("button",{onClick:()=>n(!0),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 flex items-center",children:[A.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Importar Excel"]}),A.jsx("button",{onClick:C,className:"btn-primary",children:"Novo Funcionário"})]})]}),A.jsx(Nve,{termoBusca:o,setTermoBusca:u,filtroStatus:f,setFiltroStatus:d,filtroFuncao:h,setFiltroFuncao:m,filtroAtivo:g==="todos"?"todos":g?"ativo":"inativo",setFiltroAtivo:U=>{p(U==="todos"?"todos":U==="ativo")}}),A.jsxs("div",{className:"card",children:[A.jsx(ave,{funcionarios:a,ordenarPor:y,direcaoOrdenacao:v,onOrdenar:w,onEditar:P,onInativar:F,onAtivar:I}),s.totalPaginas>1&&A.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6",children:[A.jsxs("div",{className:"text-sm text-gray-700",children:["Mostrando ",s.inicio+1," a ",s.fim," de"," ",s.total," resultados"]}),A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("button",{onClick:()=>c(Math.max(1,l-1)),disabled:l===1,className:"px-3 py-1 text-sm border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Anterior"}),Array.from({length:s.totalPaginas},(U,Z)=>Z+1).map(U=>A.jsx("button",{onClick:()=>c(U),className:`px-3 py-1 text-sm border rounded-md ${l===U?"bg-primary-600 text-white border-primary-600":"border-gray-300 hover:bg-gray-50"}`,children:U},U)),A.jsx("button",{onClick:()=>c(Math.min(s.totalPaginas,l+1)),disabled:l===s.totalPaginas,className:"px-3 py-1 text-sm border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Próximo"})]})]})]}),A.jsx(sve,{aberto:T,editando:O,valores:k,onChange:M,onCancelar:()=>R(!1),onConfirmar:V,somenteLeitura:O?!O.ativo:!1,erros:Q}),A.jsx(wu,{type:"warning",title:"Confirmar Inativação",message:"Tem certeza que deseja inativar este funcionário?",details:_?[{label:"Nome",value:_.nome},{label:"Função",value:_.funcao||"motorista"},{label:"CPF",value:vb(_.cpf||"")}]:[],isOpen:N,onClose:j,primaryAction:{label:"Confirmar Inativação",onClick:L,variant:"warning"},secondaryAction:{label:"Cancelar",onClick:j,variant:"secondary"}}),A.jsx(wu,{type:"success",title:"Ativar Funcionário",message:"Tem certeza que deseja ativar este funcionário?",details:S?[{label:"Nome",value:S.nome},{label:"Função",value:S.funcao||"motorista"},{label:"CPF",value:vb(S.cpf||"")}]:[],isOpen:E,onClose:$,primaryAction:{label:"Confirmar Ativação",onClick:z,variant:"success"},secondaryAction:{label:"Cancelar",onClick:$,variant:"secondary"}}),A.jsx(bm,{isOpen:r,onClose:()=>e(!1),onExport:J,titulo:"Funcionários",nomeArquivo:re()}),A.jsx(Hw,{entityType:"funcionarios",isOpen:t,onClose:()=>n(!1),onSuccess:q})]})};class jve extends wm{constructor(){super(...arguments),this.config={titulo:"Veículos",campos:["placa","marca","modelo","ano","capacidade","tipoCarroceria","quantidadeEixos","tipoBau","status","unidadeNegocio","ultimaManutencao","proximaManutencao","motorista","observacao","dataCriacao"],formatacao:{placa:e=>e?e.toUpperCase():"N/A",marca:e=>e?e.toUpperCase():"N/A",modelo:e=>e?e.toUpperCase():"N/A",ano:e=>e?e.toString():"N/A",capacidade:e=>e?`${e} kg`:"N/A",tipoCarroceria:e=>e?{truck:"Truck",toco:"Toco",bitruck:"Bitruck",carreta:"Carreta",carreta_ls:"Carreta LS",carreta_3_eixos:"Carreta 3 Eixos",truck_3_eixos:"Truck 3 Eixos",truck_4_eixos:"Truck 4 Eixos"}[e]||e:"N/A",quantidadeEixos:e=>e?`${e} eixos`:"N/A",tipoBau:e=>e?{frigorifico:"Frigorífico",carga_seca:"Carga Seca",baucher:"Baucher",graneleiro:"Graneleiro",tanque:"Tanque",caçamba:"Caçamba",plataforma:"Plataforma"}[e]||e:"N/A",status:e=>e?{disponivel:"Disponível",em_uso:"Em Uso",manutencao:"Manutenção",inativo:"Inativo",acidentado:"Acidentado"}[e]||e:"N/A",unidadeNegocio:e=>e?{frigorifico:"Frigorífico",ovos:"Ovos",ambos:"Ambos"}[e]||e:"N/A",ultimaManutencao:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e},proximaManutencao:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e},motorista:e=>e?e.toUpperCase():"N/A",observacao:e=>e||"N/A",dataCriacao:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e}}}}}const Ive=()=>{const[r,e]=ce.useState([]),[t,n]=ce.useState(!0),[i,a]=ce.useState({searchTerm:""}),[s,l]=ce.useState({field:"dataCriacao",direction:"desc"}),[c,o]=ce.useState({}),{showNotification:u}=fl(),f=ce.useCallback(L=>{var I,z,$,B,T,R;const j={};if(L.status==="inativo")return o({}),!0;if((I=L.placa)!=null&&I.trim()||(j.placa="Placa é obrigatória"),(z=L.modelo)!=null&&z.trim()||(j.modelo="Modelo é obrigatório"),($=L.marca)!=null&&$.trim()||(j.marca="Marca é obrigatória"),!((B=L.ano)!=null&&B.trim()))j.ano="Ano é obrigatório";else{const N=parseInt(L.ano);(isNaN(N)||N<1900||N>new Date().getFullYear()+1)&&(j.ano="Ano deve ser entre 1900 e o próximo ano")}if(!((T=L.capacidade)!=null&&T.trim()))j.capacidade="Capacidade é obrigatória";else{const N=parseFloat(L.capacidade);(isNaN(N)||N<=0)&&(j.capacidade="Capacidade deve ser um número positivo")}if(!((R=L.quantidadeEixos)!=null&&R.trim()))j.quantidadeEixos="Quantidade de eixos é obrigatória";else{const N=parseInt(L.quantidadeEixos);(isNaN(N)||N<2||N>10)&&(j.quantidadeEixos="Quantidade de eixos deve ser entre 2 e 10")}return o(j),Object.keys(j).length===0},[]),d=ce.useCallback(async()=>{try{n(!0);const L=await Pl.getVeiculos();e(L)}catch{u("Erro ao carregar veículos","error")}finally{n(!1)}},[u]),h=ce.useCallback(async L=>{try{n(!0);const j=await Pl.getVeiculosByFilters(L);e(j)}catch{u("Erro ao carregar veículos com filtros","error")}finally{n(!1)}},[u]),m=ce.useCallback(async L=>{if(!f(L))return u("Por favor, corrija os erros no formulário","error"),!1;try{return await Pl.createVeiculo(L),u("Veículo cadastrado com sucesso!","success"),await d(),!0}catch{return u("Erro ao cadastrar veículo","error"),!1}},[d,u,f]),g=ce.useCallback(async(L,j)=>{if(!f(j))return u("Por favor, corrija os erros no formulário","error"),!1;try{return await Pl.updateVeiculo(L,j),u("Veículo atualizado com sucesso!","success"),await d(),!0}catch{return u("Erro ao atualizar veículo","error"),!1}},[d,u,f]),p=ce.useCallback(async L=>{try{return await Pl.deleteVeiculo(L),u("Veículo excluído com sucesso!","success"),await d(),!0}catch{return u("Erro ao excluir veículo","error"),!1}},[d,u]),y=ce.useCallback(async(L,j)=>{try{return await Pl.toggleVeiculoStatus(L,j),u(`Veículo ${j==="inativo"?"inativado":"ativado"} com sucesso!`,"success"),await d(),!0}catch{return u("Erro ao alterar status do veículo","error"),!1}},[d,u]),v=ce.useCallback(async(L,j)=>{try{return await Pl.checkPlacaExists(L,j)}catch(I){return console.error("Erro ao verificar placa:",I),!1}},[]),w=ce.useCallback(L=>{a(j=>({...j,...L}))},[]),C=ce.useCallback(L=>{l(j=>({field:L,direction:j.field===L&&j.direction==="asc"?"desc":"asc"}))},[]),P=ce.useCallback(()=>{let L=r.filter(I=>{var z,$,B;return((z=I.placa)==null?void 0:z.toLowerCase().includes(i.searchTerm.toLowerCase()))||(($=I.modelo)==null?void 0:$.toLowerCase().includes(i.searchTerm.toLowerCase()))||((B=I.marca)==null?void 0:B.toLowerCase().includes(i.searchTerm.toLowerCase()))});return i.status&&(L=L.filter(I=>I.status===i.status)),i.tipoCarroceria&&(L=L.filter(I=>I.tipoCarroceria===i.tipoCarroceria)),i.tipoBau&&(L=L.filter(I=>I.tipoBau===i.tipoBau)),i.unidadeNegocio&&(L=L.filter(I=>I.unidadeNegocio===i.unidadeNegocio)),[...L].sort((I,z)=>{let $=I[s.field],B=z[s.field];return typeof $=="string"&&typeof B=="string"&&($=$.toLowerCase(),B=B.toLowerCase()),$<B?s.direction==="asc"?-1:1:$>B?s.direction==="asc"?1:-1:0})},[r,i,s]);ce.useEffect(()=>{d()},[d]);const F=ce.useCallback(async()=>{try{const L=new jve,j=P(),I={termoBusca:i.searchTerm,filtroStatus:i.status,filtroTipoCarroceria:i.tipoCarroceria,filtroTipoBau:i.tipoBau,filtroUnidadeNegocio:i.unidadeNegocio,ordenarPor:s.field,direcaoOrdenacao:s.direction};await L.exportToExcel(j,I),u("Exportação realizada com sucesso!","success")}catch(L){console.error("Erro ao exportar Excel:",L),u("Erro ao exportar dados","error")}},[P,i,s,u]);return{veiculos:r,loading:t,filters:i,sortConfig:s,fetchVeiculos:d,fetchVeiculosByFilters:h,createVeiculo:m,updateVeiculo:g,deleteVeiculo:p,toggleVeiculoStatus:y,checkPlacaExists:v,updateFilters:w,updateSortConfig:C,getFilteredAndSortedVeiculos:P,handleExportExcel:F,erros:c}},Ove=({veiculos:r,loading:e,sortConfig:t,onSort:n,onEdit:i,onToggleStatus:a,currentPage:s,itemsPerPage:l})=>{const c=g=>t.field!==g?null:t.direction==="asc"?A.jsx(cm,{className:"h-4 w-4"}):A.jsx(Au,{className:"h-4 w-4"}),o=g=>{switch(g){case"disponivel":return"bg-green-100 text-green-800";case"em_uso":return"bg-blue-100 text-blue-800";case"manutencao":return"bg-yellow-100 text-yellow-800";case"inativo":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},u=g=>{switch(g){case"disponivel":return"Disponível";case"em_uso":return"Em Uso";case"manutencao":return"Manutenção";case"inativo":return"Inativo";default:return"Desconhecido"}},f=g=>{switch(g){case"truck":return"Truck";case"toco":return"Toco";case"bitruck":return"Bitruck";case"carreta":return"Carreta";case"carreta_ls":return"Carreta LS";case"carreta_3_eixos":return"Carreta 3 Eixos";case"truck_3_eixos":return"Truck 3 Eixos";case"truck_4_eixos":return"Truck 4 Eixos";default:return"Truck"}},d=g=>{switch(g){case"frigorifico":return"Frigorífico";case"carga_seca":return"Carga Seca";case"baucher":return"Baucher";case"graneleiro":return"Graneleiro";case"tanque":return"Tanque";case"caçamba":return"Caçamba";case"plataforma":return"Plataforma";default:return"Frigorífico"}};if(e)return A.jsx("div",{className:"flex items-center justify-center h-64",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});const h=(s-1)*l,m=r.slice(h,h+l);return A.jsxs("div",{className:"card",children:[A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("marca"),children:A.jsxs("div",{className:"flex items-center",children:["Marca",c("marca")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("modelo"),children:A.jsxs("div",{className:"flex items-center",children:["Modelo",c("modelo")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("placa"),children:A.jsxs("div",{className:"flex items-center",children:["Placa",c("placa")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("capacidade"),children:A.jsxs("div",{className:"flex items-center",children:["Capacidade",c("capacidade")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("tipoCarroceria"),children:A.jsxs("div",{className:"flex items-center",children:["Carroceria/Baú",c("tipoCarroceria")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("status"),children:A.jsxs("div",{className:"flex items-center",children:["Status",c("status")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("unidadeNegocio"),children:A.jsxs("div",{className:"flex items-center",children:["Unidade",c("unidadeNegocio")]})}),A.jsx("th",{className:"table-header",children:"Ações"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(g=>A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsx("td",{className:"table-cell",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:A.jsx("div",{className:"h-10 w-10 rounded-full bg-green-100 flex items-center justify-center",children:A.jsx(xc,{className:"h-5 w-5 text-green-600"})})}),A.jsxs("div",{className:"ml-4",children:[A.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.marca}),A.jsxs("div",{className:"text-sm text-gray-500",children:["Ano: ",g.ano]})]})]})}),A.jsx("td",{className:"table-cell",children:A.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.modelo||"N/A"})}),A.jsx("td",{className:"table-cell",children:A.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.placa})}),A.jsx("td",{className:"table-cell",children:A.jsxs("div",{className:"text-sm text-gray-900",children:[g.capacidade," kg"]})}),A.jsxs("td",{className:"table-cell",children:[A.jsx("div",{className:"text-sm text-gray-900",children:f(g.tipoCarroceria||"truck")}),A.jsx("div",{className:"text-sm text-gray-500",children:d(g.tipoBau||"frigorifico")})]}),A.jsx("td",{className:"table-cell",children:A.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${o(g.status)}`,children:u(g.status)})}),A.jsx("td",{className:"table-cell",children:A.jsx("span",{className:"text-sm text-gray-900 capitalize",children:g.unidadeNegocio})}),A.jsx("td",{className:"table-cell",children:A.jsxs("div",{className:"flex space-x-2",children:[A.jsx("button",{onClick:()=>i(g),className:"text-primary-600 hover:text-primary-900",title:g.status==="inativo"?"Editar veículo (somente leitura)":"Editar",children:A.jsx(um,{className:"h-4 w-4"})}),A.jsx("button",{onClick:()=>a(g),className:`${g.status==="inativo"?"text-green-600 hover:text-green-900":"text-red-600 hover:text-red-900"}`,title:g.status==="inativo"?"Ativar":"Inativar",children:g.status==="inativo"?A.jsx(aw,{className:"h-4 w-4"}):A.jsx(da,{className:"h-4 w-4"})})]})})]},g.id))})]})}),r.length===0&&A.jsxs("div",{className:"text-center py-8",children:[A.jsx(xc,{className:"mx-auto h-12 w-12 text-gray-400"}),A.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhum veículo encontrado"}),A.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece criando um novo veículo."})]})]})},Rve=({filters:r,onFiltersChange:e})=>A.jsxs("div",{className:"card space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[A.jsxs("div",{className:"relative",children:[A.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),A.jsx("input",{type:"text",placeholder:"Buscar por placa, modelo ou marca...",value:r.searchTerm,onChange:t=>e({searchTerm:t.target.value}),className:"input-field pl-10"})]}),A.jsx("div",{children:A.jsxs("select",{value:r.status||"",onChange:t=>e({status:t.target.value||void 0}),className:"input-field",children:[A.jsx("option",{value:"",children:"Todos os Status"}),A.jsx("option",{value:"disponivel",children:"Disponível"}),A.jsx("option",{value:"em_uso",children:"Em Uso"}),A.jsx("option",{value:"manutencao",children:"Manutenção"}),A.jsx("option",{value:"inativo",children:"Inativo"})]})}),A.jsx("div",{children:A.jsxs("select",{value:r.tipoCarroceria||"",onChange:t=>e({tipoCarroceria:t.target.value||void 0}),className:"input-field",children:[A.jsx("option",{value:"",children:"Todas as Carrocerias"}),A.jsx("option",{value:"truck",children:"Truck"}),A.jsx("option",{value:"toco",children:"Toco"}),A.jsx("option",{value:"bitruck",children:"Bitruck"}),A.jsx("option",{value:"carreta",children:"Carreta"}),A.jsx("option",{value:"carreta_ls",children:"Carreta LS"}),A.jsx("option",{value:"carreta_3_eixos",children:"Carreta 3 Eixos"}),A.jsx("option",{value:"truck_3_eixos",children:"Truck 3 Eixos"}),A.jsx("option",{value:"truck_4_eixos",children:"Truck 4 Eixos"})]})}),A.jsx("div",{children:A.jsxs("select",{value:r.tipoBau||"",onChange:t=>e({tipoBau:t.target.value||void 0}),className:"input-field",children:[A.jsx("option",{value:"",children:"Todos os Baús"}),A.jsx("option",{value:"frigorifico",children:"Frigorífico"}),A.jsx("option",{value:"carga_seca",children:"Carga Seca"}),A.jsx("option",{value:"baucher",children:"Baucher"}),A.jsx("option",{value:"graneleiro",children:"Graneleiro"}),A.jsx("option",{value:"tanque",children:"Tanque"}),A.jsx("option",{value:"caçamba",children:"Caçamba"}),A.jsx("option",{value:"plataforma",children:"Plataforma"})]})}),A.jsx("div",{children:A.jsxs("select",{value:r.unidadeNegocio||"",onChange:t=>e({unidadeNegocio:t.target.value||void 0}),className:"input-field",children:[A.jsx("option",{value:"",children:"Todas as Unidades"}),A.jsx("option",{value:"frigorifico",children:"Frigorífico"}),A.jsx("option",{value:"ovos",children:"Ovos"}),A.jsx("option",{value:"ambos",children:"Ambos"})]})})]}),(r.status||r.tipoCarroceria||r.tipoBau||r.unidadeNegocio)&&A.jsx(xm,{onClear:()=>e({status:void 0,tipoCarroceria:void 0,tipoBau:void 0,unidadeNegocio:void 0})})]}),Mve=({isOpen:r,onClose:e,onSubmit:t,editingVeiculo:n,checkPlacaExists:i,somenteLeitura:a=!1,erros:s={}})=>{const[l,c]=ce.useState({placa:"",modelo:"",marca:"",ano:"",capacidade:"",tipoCarroceria:"truck",quantidadeEixos:"2",tipoBau:"frigorifico",status:"disponivel",unidadeNegocio:"frigorifico",ultimaManutencao:"",proximaManutencao:"",motorista:"",observacao:""}),[o,u]=ce.useState(!1);ce.useEffect(()=>{n?c({placa:n.placa||"",modelo:n.modelo||"",marca:n.marca||"",ano:n.ano||"",capacidade:n.capacidade||"",tipoCarroceria:n.tipoCarroceria||"truck",quantidadeEixos:n.quantidadeEixos||"2",tipoBau:n.tipoBau||"frigorifico",status:n.status||"disponivel",unidadeNegocio:n.unidadeNegocio||"frigorifico",ultimaManutencao:n.ultimaManutencao||"",proximaManutencao:n.proximaManutencao||"",motorista:n.motorista||"",observacao:n.observacao||""}):f()},[n]);const f=()=>{c({placa:"",modelo:"",marca:"",ano:"",capacidade:"",tipoCarroceria:"truck",quantidadeEixos:"2",tipoBau:"frigorifico",status:"disponivel",unidadeNegocio:"frigorifico",ultimaManutencao:"",proximaManutencao:"",motorista:"",observacao:""})},d=async()=>{u(!0);try{await t(l)&&(e(),f())}finally{u(!1)}},h=()=>{e(),f()};return r?A.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:A.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[n?"Editar Veículo":"Novo Veículo",a&&n&&A.jsx("span",{className:"ml-3 text-sm text-gray-500 font-normal",children:"(Somente leitura - veículo inativo)"})]}),A.jsx("button",{onClick:h,className:"text-gray-400 hover:text-gray-600",children:A.jsx(da,{className:"h-6 w-6"})})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Placa ",A.jsx("span",{className:"text-black",children:"*"})]}),A.jsx("input",{type:"text",required:!0,value:l.placa,onChange:m=>c({...l,placa:ive(m.target.value)}),className:`input-field ${s.placa?"border-red-500":""} ${a?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"ABC1234",maxLength:7,disabled:a}),s.placa&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.placa})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Ano ",A.jsx("span",{className:"text-black",children:"*"})]}),A.jsx("input",{type:"text",value:l.ano,onChange:m=>c({...l,ano:m.target.value}),className:`input-field ${s.ano?"border-red-500":""} ${a?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"2024",disabled:a}),s.ano&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.ano})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Marca ",A.jsx("span",{className:"text-black",children:"*"})]}),A.jsx("input",{type:"text",value:l.marca,onChange:m=>c({...l,marca:m.target.value}),className:`input-field ${a?"bg-gray-100 cursor-not-allowed":""}`,disabled:a})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Modelo ",A.jsx("span",{className:"text-black",children:"*"})]}),A.jsx("input",{type:"text",required:!0,value:l.modelo,onChange:m=>c({...l,modelo:m.target.value}),className:`input-field ${s.modelo?"border-red-500":""} ${a?"bg-gray-100 cursor-not-allowed":""}`,disabled:a}),s.modelo&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.modelo})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Capacidade (kg) ",A.jsx("span",{className:"text-black",children:"*"})]}),A.jsx("input",{type:"text",required:!0,value:l.capacidade,onChange:m=>c({...l,capacidade:m.target.value}),className:`input-field ${s.capacidade?"border-red-500":""} ${a?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"5000",disabled:a}),s.capacidade&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.capacidade})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),A.jsxs("select",{value:l.status,onChange:m=>c({...l,status:m.target.value}),className:`input-field ${a?"bg-gray-100 cursor-not-allowed":""}`,disabled:a,children:[A.jsx("option",{value:"disponivel",children:"Disponível"}),A.jsx("option",{value:"em_uso",children:"Em Uso"}),A.jsx("option",{value:"manutencao",children:"Manutenção"}),A.jsx("option",{value:"inativo",children:"Inativo"})]})]})]}),A.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo de Carroceria *"}),A.jsxs("select",{value:l.tipoCarroceria,onChange:m=>c({...l,tipoCarroceria:m.target.value}),className:`input-field ${s.tipoCarroceria?"border-red-500":""} ${a?"bg-gray-100 cursor-not-allowed":""}`,disabled:a,children:[A.jsx("option",{value:"truck",children:"Truck"}),A.jsx("option",{value:"toco",children:"Toco"}),A.jsx("option",{value:"bitruck",children:"Bitruck"}),A.jsx("option",{value:"carreta",children:"Carreta"}),A.jsx("option",{value:"carreta_ls",children:"Carreta LS"}),A.jsx("option",{value:"carreta_3_eixos",children:"Carreta 3 Eixos"}),A.jsx("option",{value:"truck_3_eixos",children:"Truck 3 Eixos"}),A.jsx("option",{value:"truck_4_eixos",children:"Truck 4 Eixos"})]}),s.tipoCarroceria&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.tipoCarroceria})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Quantidade de Eixos ",A.jsx("span",{className:"text-black",children:"*"})]}),A.jsxs("select",{value:l.quantidadeEixos,onChange:m=>c({...l,quantidadeEixos:m.target.value}),className:`input-field ${s.quantidadeEixos?"border-red-500":""} ${a?"bg-gray-100 cursor-not-allowed":""}`,disabled:a,children:[A.jsx("option",{value:"2",children:"2 Eixos"}),A.jsx("option",{value:"3",children:"3 Eixos"}),A.jsx("option",{value:"4",children:"4 Eixos"}),A.jsx("option",{value:"5",children:"5 Eixos"}),A.jsx("option",{value:"6",children:"6 Eixos"}),A.jsx("option",{value:"7",children:"7 Eixos"}),A.jsx("option",{value:"8",children:"8 Eixos"}),A.jsx("option",{value:"9",children:"9 Eixos"})]}),s.quantidadeEixos&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.quantidadeEixos})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Tipo de Baú ",A.jsx("span",{className:"text-black",children:"*"})]}),A.jsxs("select",{value:l.tipoBau,onChange:m=>c({...l,tipoBau:m.target.value}),className:`input-field ${s.tipoBau?"border-red-500":""} ${a?"bg-gray-100 cursor-not-allowed":""}`,disabled:a,children:[A.jsx("option",{value:"frigorifico",children:"Frigorífico"}),A.jsx("option",{value:"carga_seca",children:"Carga Seca"}),A.jsx("option",{value:"baucher",children:"Baucher"}),A.jsx("option",{value:"graneleiro",children:"Graneleiro"}),A.jsx("option",{value:"tanque",children:"Tanque"}),A.jsx("option",{value:"caçamba",children:"Caçamba"}),A.jsx("option",{value:"plataforma",children:"Plataforma"})]}),s.tipoBau&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.tipoBau})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Unidade de Negócio"}),A.jsxs("select",{value:l.unidadeNegocio,onChange:m=>c({...l,unidadeNegocio:m.target.value}),className:`input-field ${a?"bg-gray-100 cursor-not-allowed":""}`,disabled:a,children:[A.jsx("option",{value:"frigorifico",children:"Frigorífico"}),A.jsx("option",{value:"ovos",children:"Ovos"}),A.jsx("option",{value:"ambos",children:"Ambos"})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Última Manutenção"}),A.jsx("input",{type:"date",value:l.ultimaManutencao,onChange:m=>c({...l,ultimaManutencao:m.target.value}),className:`input-field ${a?"bg-gray-100 cursor-not-allowed":""}`,disabled:a})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Próxima Manutenção"}),A.jsx("input",{type:"date",value:l.proximaManutencao,onChange:m=>c({...l,proximaManutencao:m.target.value}),className:`input-field ${a?"bg-gray-100 cursor-not-allowed":""}`,disabled:a})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Observação"}),A.jsx("textarea",{value:l.observacao,onChange:m=>c({...l,observacao:m.target.value}),className:`input-field ${a?"bg-gray-100 cursor-not-allowed":""}`,rows:3,placeholder:"Observações adicionais...",disabled:a})]}),A.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[A.jsx("button",{type:"button",onClick:h,className:"btn-secondary",disabled:o,children:a?"Fechar":"Cancelar"}),!a&&A.jsx("button",{type:"button",onClick:d,className:"btn-primary",disabled:o,children:o?"Salvando...":n?"Atualizar":"Cadastrar"})]})]})]})}):null},Dve=()=>{const[r,e]=ce.useState(!1),[t,n]=ce.useState(null),[i,a]=ce.useState(!1),[s,l]=ce.useState(!1),[c,o]=ce.useState(null),[u,f]=ce.useState(1),[d,h]=ce.useState(!1),[m,g]=ce.useState(!1),{loading:p,filters:y,sortConfig:v,createVeiculo:w,updateVeiculo:C,toggleVeiculoStatus:P,checkPlacaExists:F,updateFilters:L,updateSortConfig:j,getFilteredAndSortedVeiculos:I,handleExportExcel:z,fetchVeiculos:$,erros:B}=Ive(),T=15,R=async J=>{const q=await w(J);return q&&f(1),q},N=async J=>{if(!t)return!1;const q=await C(t.id,J);return q&&n(null),q},_=J=>{n(J),e(!0)},E=J=>{o(J),J.status==="inativo"?a(!0):l(!0)},S=async()=>{if(c){const J=c.status==="inativo"?"disponivel":"inativo";await P(c.id,J),a(!1),l(!1),o(null)}},k=()=>{e(!1),n(null)},M=async J=>t?await N(J):await R(J),V=()=>`${`veiculos_${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")}`}.xlsx`,O=()=>{h(!0)},X=()=>{z()},Q=()=>{g(!1),$()},re=I(),G=Math.ceil(re.length/T);return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Veículos"}),A.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Gerencie a frota de veículos"})]}),A.jsxs("div",{className:"flex space-x-3",children:[A.jsxs("button",{onClick:O,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 flex items-center",children:[A.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Exportar Excel"]}),A.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 flex items-center",children:[A.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Importar Excel"]}),A.jsxs("button",{onClick:()=>e(!0),className:"btn-primary flex items-center",children:[A.jsx(u4,{className:"h-4 w-4 mr-2"}),"Novo Veículo"]})]})]}),A.jsx(Rve,{filters:y,onFiltersChange:L}),A.jsx(Ove,{veiculos:re,loading:p,sortConfig:v,onSort:j,onEdit:_,onToggleStatus:E,currentPage:u,itemsPerPage:T}),G>1&&A.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border border-gray-200 rounded-lg",children:[A.jsx("div",{className:"flex items-center text-sm text-gray-700",children:A.jsxs("span",{children:["Mostrando ",(u-1)*T+1," a"," ",Math.min(u*T,re.length)," ","de ",re.length," resultados"]})}),A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("button",{onClick:()=>f(Math.max(1,u-1)),disabled:u===1,className:"px-3 py-1 text-sm border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Anterior"}),Array.from({length:G},(J,q)=>q+1).map(J=>A.jsx("button",{onClick:()=>f(J),className:`px-3 py-1 text-sm border rounded-md ${u===J?"bg-primary-600 text-white border-primary-600":"border-gray-300 hover:bg-gray-50"}`,children:J},J)),A.jsx("button",{onClick:()=>f(Math.min(G,u+1)),disabled:u===G,className:"px-3 py-1 text-sm border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Próximo"})]})]}),A.jsx(Mve,{isOpen:r,onClose:k,onSubmit:M,editingVeiculo:t,checkPlacaExists:F,somenteLeitura:t?t.status==="inativo":!1,erros:B}),A.jsx(wu,{type:"success",title:"Ativar Veículo",message:`Tem certeza que deseja ativar o veículo ${c==null?void 0:c.placa}?`,warning:"Este veículo voltará a estar disponível para uso.",isOpen:i,onClose:()=>a(!1),primaryAction:{label:"Sim, Ativar",onClick:S,variant:"success",disabled:p},secondaryAction:{label:"Cancelar",onClick:()=>a(!1),variant:"secondary"}}),A.jsx(wu,{type:"warning",title:"Inativar Veículo",message:`Tem certeza que deseja inativar o veículo ${c==null?void 0:c.placa}?`,warning:"Este veículo não estará mais disponível para uso até ser reativado.",isOpen:s,onClose:()=>l(!1),primaryAction:{label:"Sim, Inativar",onClick:S,variant:"warning",disabled:p},secondaryAction:{label:"Cancelar",onClick:()=>l(!1),variant:"secondary"}}),A.jsx(bm,{isOpen:d,onClose:()=>h(!1),onExport:X,titulo:"Veículos",nomeArquivo:V()}),A.jsx(Hw,{entityType:"veiculos",isOpen:m,onClose:()=>g(!1),onSuccess:Q})]})},Lve=()=>A.jsx(Dve,{});class Fve extends wm{constructor(){super(...arguments),this.config={titulo:"Rotas",campos:["nome","dataRota","pesoMinimo","diaSemana","cidades","dataCriacao"],formatacao:{nome:e=>e?e.toUpperCase():"N/A",dataRota:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e},pesoMinimo:e=>e?`${e} kg`:"N/A",diaSemana:e=>{if(!e||!Array.isArray(e)||e.length===0)return"Nenhum dia definido";const t={domingo:"Domingo",segunda:"Segunda-feira",terca:"Terça-feira",quarta:"Quarta-feira",quinta:"Quinta-feira",sexta:"Sexta-feira",sabado:"Sábado"};return e.map(i=>t[i]||i).join(", ")},cidades:async e=>{if(!e||!Array.isArray(e)||e.length===0)return"Nenhuma cidade vinculada";try{const t=await cc.listar();return e.map(i=>{const a=t.find(s=>s.id===i);return a?a.nome:i}).join(", ")}catch(t){return console.error("Erro ao buscar nomes das cidades:",t),e.join(", ")}},dataCriacao:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e}}}}}const Bve=()=>{const[r,e]=ce.useState([]),[t,n]=ce.useState(!0),[i,a]=ce.useState({searchTerm:"",diaSemana:""}),[s,l]=ce.useState({field:null,direction:"asc"}),[c,o]=ce.useState({}),{showNotification:u}=fl(),f=ce.useCallback(P=>{var L;const F={};if((L=P.nome)!=null&&L.trim()||(F.nome="Nome da rota é obrigatório"),!P.dataRota)F.dataRota="Data da rota é obrigatória";else{const j=new Date,I=j.getFullYear()+"-"+String(j.getMonth()+1).padStart(2,"0")+"-"+String(j.getDate()).padStart(2,"0");P.dataRota<I&&(F.dataRota="Data da rota não pode ser anterior ao dia atual")}return(!P.diaSemana||P.diaSemana.length===0)&&(F.diaSemana="Pelo menos um dia da semana deve ser selecionado"),P.pesoMinimo!==void 0&&P.pesoMinimo<0&&(F.pesoMinimo="Peso mínimo deve ser um valor positivo"),o(F),Object.keys(F).length===0},[]),d=ce.useCallback(async()=>{try{n(!0);const P=await Rl.getAll();P&&Array.isArray(P)?e(P):(console.warn("Dados recebidos não são um array válido:",P),e([]))}catch(P){console.error("Erro ao buscar rotas:",P),u("Erro ao carregar rotas","error"),e([])}finally{n(!1)}},[u]),h=ce.useCallback(async P=>{if(!f(P))return u("Por favor, corrija os erros no formulário","error"),!1;try{return await Rl.create(P),u("Rota criada com sucesso!","success"),await d(),!0}catch(F){return u("Erro ao criar rota","error"),console.error("Erro ao criar rota:",F),!1}},[d,u,f]),m=ce.useCallback(async(P,F)=>{if(!f(F))return u("Por favor, corrija os erros no formulário","error"),!1;try{return await Rl.update(P,F),u("Rota atualizada com sucesso!","success"),await d(),!0}catch(L){return u("Erro ao atualizar rota","error"),console.error("Erro ao atualizar rota:",L),!1}},[d,u,f]),g=ce.useCallback(async P=>{try{return await Rl.delete(P),u("Rota excluída com sucesso!","success"),await d(),!0}catch(F){return u("Erro ao excluir rota","error"),console.error("Erro ao excluir rota:",F),!1}},[d,u]),p=ce.useCallback(P=>{a(F=>({...F,...P}))},[]),y=ce.useCallback(P=>{l(F=>({field:P,direction:F.field===P&&F.direction==="asc"?"desc":"asc"}))},[]),v=ce.useCallback(()=>{if(!r||!Array.isArray(r))return[];let P=[...r];return i.searchTerm&&(P=P.filter(F=>{var L;return((L=F.nome)==null?void 0:L.toLowerCase().includes(i.searchTerm.toLowerCase()))||F.cidades&&Array.isArray(F.cidades)&&F.cidades.some(j=>j==null?void 0:j.toLowerCase().includes(i.searchTerm.toLowerCase()))})),i.diaSemana&&(P=P.filter(F=>F.diaSemana&&Array.isArray(F.diaSemana)&&F.diaSemana.includes(i.diaSemana))),s.field&&P.sort((F,L)=>{let j=F[s.field],I=L[s.field];return s.field==="dataRota"?(j=new Date(j).getTime(),I=new Date(I).getTime()):s.field==="cidades"?(j=Array.isArray(j)?j.length:0,I=Array.isArray(I)?I.length:0):typeof j=="string"&&(j=j.toLowerCase(),I=I.toLowerCase()),j<I?s.direction==="asc"?-1:1:j>I?s.direction==="asc"?1:-1:0}),P},[r,i,s]);ce.useEffect(()=>{d()},[d]);const w=ce.useCallback(async()=>{try{const P=new Fve,F=v(),L=I=>I?{"Segunda-feira":"segunda","Terça-feira":"terca","Quarta-feira":"quarta","Quinta-feira":"quinta","Sexta-feira":"sexta",Sábado:"sabado",Domingo:"domingo"}[I]||I:void 0,j={termoBusca:i.searchTerm,filtroDiaSemana:L(i.diaSemana),ordenarPor:"nome",direcaoOrdenacao:"asc"};await P.exportToExcel(F,j),u("Exportação realizada com sucesso!","success")}catch(P){console.error("Erro ao exportar Excel:",P),u("Erro ao exportar dados","error")}},[v,i,u]);return{rotas:r||[],loading:t,filters:i,sortConfig:s,filteredRotas:v(),createRota:h,updateRota:m,deleteRota:g,updateFilters:p,handleSort:y,refreshRotas:d,handleExportExcel:w,erros:c}},$ve=["Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado","Domingo"],Uve=({isOpen:r,onClose:e,onSubmit:t,editingRota:n,erros:i={}})=>{const[a,s]=ce.useState({nome:"",dataRota:"",pesoMinimo:0,diaSemana:[],cidades:[]}),[l,c]=ce.useState(!1),[o,u]=ce.useState([]),[f,d]=ce.useState(!1);ce.useEffect(()=>{n?(s({nome:n.nome,dataRota:n.dataRota,pesoMinimo:n.pesoMinimo,diaSemana:Array.isArray(n.diaSemana)?[...n.diaSemana]:[],cidades:[...n.cidades]}),n.cidades&&n.cidades.length>0?h(n.cidades):u([])):(m(),u([]))},[n]);const h=async v=>{d(!0);try{const C=(await Promise.all(v.map(P=>cc.getById(P)))).filter(P=>P!==null);u(C)}catch(w){console.error("Erro ao buscar cidades vinculadas:",w),u([])}finally{d(!1)}},m=()=>{s({nome:"",dataRota:"",pesoMinimo:0,diaSemana:[],cidades:[]})},g=async()=>{c(!0),await t(a)&&(e(),m()),c(!1)},p=()=>{e(),m()},y=v=>{s(w=>({...w,diaSemana:w.diaSemana.includes(v)?w.diaSemana.filter(C=>C!==v):[...w.diaSemana,v]}))};return r?A.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:A.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h3",{className:"text-lg font-medium text-gray-900",children:n?"Editar Rota":"Nova Rota"}),A.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600",children:A.jsx(da,{className:"h-6 w-6"})})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Rota *"}),A.jsx("input",{type:"text",required:!0,value:a.nome,onChange:v=>s({...a,nome:v.target.value}),className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent ${i.nome?"border-red-500":""}`,placeholder:"Ex: Rota Sul"}),i.nome&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.nome})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data da Rota *"}),A.jsx("input",{type:"date",required:!0,value:a.dataRota,onChange:v=>s({...a,dataRota:v.target.value}),className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent ${i.dataRota?"border-red-500":""}`}),i.dataRota&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.dataRota})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Peso Mínimo (kg)"}),A.jsx("input",{type:"text",value:a.pesoMinimo>0?a.pesoMinimo.toString():"",onChange:v=>{const w=v.target.value,C=w===""?0:parseFloat(w)||0;s({...a,pesoMinimo:C})},className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent ${i.pesoMinimo?"border-red-500":""}`,placeholder:"0.00"}),i.pesoMinimo&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.pesoMinimo})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dias da Semana *"}),A.jsx("div",{className:"space-y-2",children:$ve.map(v=>A.jsxs("label",{className:"flex items-center",children:[A.jsx("input",{type:"checkbox",checked:a.diaSemana.includes(v),onChange:()=>y(v),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),A.jsx("span",{className:"ml-2 text-sm text-gray-700",children:v})]},v))}),i.diaSemana&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.diaSemana})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidades Vinculadas à Rota"}),A.jsx("div",{className:"p-3 bg-gray-50 rounded-md border",children:a.cidades&&a.cidades.length>0?A.jsxs("div",{className:"space-y-2",children:[A.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[A.jsx(Y0,{className:"h-4 w-4 mr-2"}),"Cidades vinculadas: ",a.cidades.length]}),f?A.jsx("div",{className:"text-center py-2",children:A.jsx("p",{className:"text-sm text-gray-500",children:"Carregando cidades..."})}):A.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(v=>A.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:v.nome},v.id))}),A.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Para vincular cidades a esta rota, vá para a seção de Cidades e selecione esta rota no dropdown."})]}):A.jsxs("div",{className:"text-center py-4",children:[A.jsx(Y0,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),A.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma cidade vinculada"}),A.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Para vincular cidades a esta rota, vá para a seção de Cidades e selecione esta rota no dropdown."})]})})]}),A.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[A.jsx("button",{type:"button",onClick:p,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),A.jsx("button",{type:"button",onClick:g,disabled:l,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Salvando...":n?"Atualizar":"Criar"})]})]})]})}):null},Vve=["Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado","Domingo"],zve=({filters:r,onFiltersChange:e})=>A.jsxs("div",{className:"card space-y-4",children:[A.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[A.jsx(Wte,{className:"h-4 w-4"}),A.jsx("span",{className:"font-medium",children:"Filtros"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{className:"relative",children:[A.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),A.jsx("input",{type:"text",placeholder:"Buscar por nome da rota ou cidades...",value:r.searchTerm,onChange:t=>e({searchTerm:t.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),A.jsx("div",{children:A.jsxs("select",{value:r.diaSemana||"",onChange:t=>e({diaSemana:t.target.value||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[A.jsx("option",{value:"",children:"Todos os dias da semana"}),Vve.map(t=>A.jsx("option",{value:t,children:t},t))]})})]}),(r.searchTerm||r.diaSemana)&&A.jsx(xm,{onClear:()=>e({searchTerm:"",diaSemana:void 0})})]}),qve=({rotas:r,onEdit:e,onDelete:t,loading:n,sortConfig:i,onSort:a})=>{const s=o=>{if(o.match(/^\d{4}-\d{2}-\d{2}$/)){const[f,d,h]=o.split("-");return`${h}/${d}/${f}`}return new Date(o).toLocaleDateString("pt-BR")},l=o=>i.field!==o?null:i.direction==="asc"?A.jsx(cm,{className:"h-4 w-4"}):A.jsx(Au,{className:"h-4 w-4"}),c=o=>{const u={"Segunda-feira":"bg-blue-100 text-blue-800","Terça-feira":"bg-green-100 text-green-800","Quarta-feira":"bg-yellow-100 text-yellow-800","Quinta-feira":"bg-purple-100 text-purple-800","Sexta-feira":"bg-orange-100 text-orange-800",Sábado:"bg-red-100 text-red-800",Domingo:"bg-gray-100 text-gray-800"};return Array.isArray(o)?u[o[0]]||"bg-gray-100 text-gray-800":u[o]||"bg-gray-100 text-gray-800"};return n?A.jsx("div",{className:"card",children:A.jsx("div",{className:"flex items-center justify-center h-64",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):!r||r.length===0?A.jsx("div",{className:"card",children:A.jsxs("div",{className:"text-center py-12",children:[A.jsx(gc,{className:"mx-auto h-12 w-12 text-gray-400"}),A.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhuma rota encontrada"}),A.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece criando uma nova rota para começar."})]})}):A.jsx("div",{className:"card",children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>a("nome"),children:A.jsxs("div",{className:"flex items-center",children:["Rota",l("nome")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>a("dataRota"),children:A.jsxs("div",{className:"flex items-center",children:["Data",l("dataRota")]})}),A.jsx("th",{className:"table-header",children:"Dia da Semana"}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>a("pesoMinimo"),children:A.jsxs("div",{className:"flex items-center",children:["Peso Mínimo",l("pesoMinimo")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>a("cidades"),children:A.jsxs("div",{className:"flex items-center",children:["Cidades",l("cidades")]})}),A.jsx("th",{className:"table-header",children:"Ações"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(r||[]).map(o=>A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsx("td",{className:"table-cell",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:A.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-100 flex items-center justify-center",children:A.jsx(gc,{className:"h-5 w-5 text-purple-600"})})}),A.jsxs("div",{className:"ml-4",children:[A.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.nome}),A.jsxs("div",{className:"text-sm text-gray-500",children:["Criada em"," ",o.dataCriacao?s(o.dataCriacao.toISOString()):"Data não disponível"]})]})]})}),A.jsx("td",{className:"table-cell",children:A.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[A.jsx(Yg,{className:"h-4 w-4 mr-2 text-gray-400"}),s(o.dataRota)]})}),A.jsx("td",{className:"table-cell",children:A.jsx("div",{className:"space-y-1 min-h-[2.5rem] flex flex-col justify-center",children:Array.isArray(o.diaSemana)&&o.diaSemana.length>0?o.diaSemana.map((u,f)=>A.jsx("div",{className:`px-2 py-1 text-xs font-semibold rounded-full ${c(u)} w-fit`,children:u},f)):A.jsx("span",{className:"text-gray-400 text-sm",children:"Nenhum dia definido"})})}),A.jsx("td",{className:"table-cell",children:A.jsx("div",{className:"text-sm text-gray-900",children:o.pesoMinimo>0?`${o.pesoMinimo} kg`:"Não definido"})}),A.jsx("td",{className:"table-cell",children:A.jsx("div",{className:"text-sm text-gray-900",children:o.cidades&&o.cidades.length>0?A.jsxs("span",{className:"font-medium",children:[o.cidades.length," cidade",o.cidades.length!==1?"s":""]}):A.jsx("span",{className:"text-gray-400",children:"0 cidades"})})}),A.jsx("td",{className:"table-cell",children:A.jsxs("div",{className:"flex space-x-2",children:[A.jsx("button",{onClick:()=>e(o),className:"text-primary-600 hover:text-primary-900 transition-colors",title:"Editar rota",children:A.jsx(um,{className:"h-4 w-4"})}),A.jsx("button",{onClick:()=>t(o),className:"text-red-600 hover:text-red-900 transition-colors",title:"Excluir rota",children:A.jsx(ow,{className:"h-4 w-4"})})]})})]},o.id))})]})})})},Hve=({aberto:r,rota:e,onConfirmar:t,onCancelar:n})=>e?A.jsx(wu,{type:"danger",title:"Confirmar Exclusão",message:"Tem certeza que deseja excluir esta rota?",details:[{label:"Rota",value:e.nome},{label:"Data",value:new Date(e.dataRota).toLocaleDateString("pt-BR")},{label:"Dias da Semana",value:Array.isArray(e.diaSemana)?e.diaSemana.join(", "):e.diaSemana||"Não definido"},{label:"Peso Mínimo",value:e.pesoMinimo>0?`${e.pesoMinimo} kg`:"Não definido"},{label:"Cidades Vinculadas",value:e.cidades&&e.cidades.length>0?`${e.cidades.length} cidade(s)`:"0 cidades"}],warning:"Esta ação não pode ser revertida. Todos os vínculos com cidades serão perdidos e será necessário criar uma rota novamente para ter vínculos novamente.",primaryAction:{label:"Confirmar Exclusão",onClick:t,variant:"danger"},secondaryAction:{label:"Cancelar",onClick:n},isOpen:r,onClose:n}):null,Wve=()=>{const[r,e]=ce.useState(!1),{rotas:t,loading:n,filters:i,sortConfig:a,filteredRotas:s,createRota:l,updateRota:c,deleteRota:o,updateFilters:u,handleSort:f,handleExportExcel:d,erros:h}=Bve(),[m,g]=ce.useState(!1),[p,y]=ce.useState(null),[v,w]=ce.useState(!1),[C,P]=ce.useState(null),F=async _=>{const E=await l(_);return E&&g(!1),E},L=async _=>{if(!p)return!1;const E=await c(p.id,_);return E&&(g(!1),y(null)),E},j=_=>{y(_),g(!0)},I=_=>{P(_),w(!0)},z=async()=>{if(!C)return;await o(C.id)&&(w(!1),P(null))},$=()=>{g(!1),y(null)},B=()=>{w(!1),P(null)},T=()=>`${`rotas_${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")}`}.xlsx`,R=()=>{e(!0)},N=()=>{d()};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Rotas"}),A.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Gerencie as rotas de transporte da empresa"})]}),A.jsxs("div",{className:"flex space-x-3",children:[A.jsxs("button",{onClick:R,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 flex items-center",children:[A.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Exportar Excel"]}),A.jsxs("button",{onClick:()=>g(!0),className:"btn-primary flex items-center",children:[A.jsx(u4,{className:"h-4 w-4 mr-2"}),"Nova Rota"]})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[A.jsx("div",{className:"card",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:A.jsx("div",{className:"h-8 w-8 rounded-full bg-purple-100 flex items-center justify-center",children:A.jsx(gc,{className:"h-4 w-4 text-purple-600"})})}),A.jsxs("div",{className:"ml-4",children:[A.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total de Rotas"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:(t==null?void 0:t.length)||0})]})]})}),A.jsx("div",{className:"card",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:A.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center",children:A.jsx(gc,{className:"h-4 w-4 text-green-600"})})}),A.jsxs("div",{className:"ml-4",children:[A.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Com Cidades"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:(t==null?void 0:t.filter(_=>{var E;return((E=_.cidades)==null?void 0:E.length)>0}).length)||0})]})]})}),A.jsx("div",{className:"card",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:A.jsx("div",{className:"h-8 w-8 rounded-full bg-yellow-100 flex items-center justify-center",children:A.jsx(gc,{className:"h-4 w-4 text-yellow-600"})})}),A.jsxs("div",{className:"ml-4",children:[A.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Com Peso Mínimo"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:(t==null?void 0:t.filter(_=>_.pesoMinimo>0).length)||0})]})]})})]}),A.jsx(zve,{filters:i,onFiltersChange:u}),A.jsx(qve,{rotas:s||[],onEdit:j,onDelete:I,loading:n,sortConfig:a,onSort:f}),A.jsx(Uve,{isOpen:m,onClose:$,onSubmit:p?L:F,editingRota:p,erros:h}),A.jsx(Hve,{aberto:v,rota:C,onConfirmar:z,onCancelar:B}),A.jsx(bm,{isOpen:r,onClose:()=>e(!1),onExport:N,titulo:"Rotas",nomeArquivo:T()})]})},Gve=()=>A.jsx(Wve,{}),cl="folgas";async function Ww(r){try{const t=(await Lr(xr(Lt,cl))).docs.map(l=>({id:l.id,...l.data()})).filter(l=>l.funcionarioId===r&&l.status==="aprovada"),n=new Date,i=new Date(n.getFullYear(),n.getMonth(),n.getDate()),a=t.find(l=>{const c=new Date(l.dataInicio),o=new Date(l.dataFim),u=new Date(c.getFullYear(),c.getMonth(),c.getDate()),f=new Date(o.getFullYear(),o.getMonth(),o.getDate());return i>=u&&i<=f});let s="disponivel";if(a)switch(a.tipo){case"ferias":s="ferias";break;case"folga":case"atestado":case"licenca":case"outros":s="folga";break;default:s="folga"}await ps(kn(Lt,"funcionarios",r),{status:s,dataAtualizacao:fa()})}catch(e){console.error("Erro ao atualizar status do funcionário:",e)}}async function Kve(){try{const e=(await Lr(xr(Lt,"funcionarios"))).docs.map(s=>({id:s.id,...s.data()})),n=(await Lr(xr(Lt,cl))).docs.map(s=>({id:s.id,...s.data()})).filter(s=>s.status==="aprovada"),i=new Date,a=new Date(i.getFullYear(),i.getMonth(),i.getDate());for(const s of e){const c=n.filter(u=>u.funcionarioId===s.id).find(u=>{const f=new Date(u.dataInicio),d=new Date(u.dataFim),h=new Date(f.getFullYear(),f.getMonth(),f.getDate()),m=new Date(d.getFullYear(),d.getMonth(),d.getDate());return a>=h&&a<=m});let o="disponivel";if(c)switch(c.tipo){case"ferias":o="ferias";break;case"folga":case"atestado":case"licenca":case"outros":o="folga";break;default:o="folga"}s.status!==o&&await ps(kn(Lt,"funcionarios",s.id),{status:o,dataAtualizacao:fa()})}}catch(r){console.error("Erro ao sincronizar status dos funcionários:",r)}}async function Xve(){const r=xa(xr(Lt,cl),kf("dataCriacao","desc"));return(await Lr(r)).docs.map(n=>{const i=n.data();return i.motorista&&!i.funcionarioId?{id:n.id,...i,funcionarioId:"",funcionarioNome:i.motorista}:{id:n.id,...i}})}async function Yve(r){const e={...r,dataCriacao:fa(),dataAtualizacao:fa()};return(await ah(xr(Lt,cl),e)).id}async function Qve(r,e){const t={...e,dataAtualizacao:fa()};await ps(kn(Lt,cl,r),t)}async function Zve(r){await Hg(kn(Lt,cl,r))}async function Jve(r){const t=(await Lr(xr(Lt,cl))).docs.find(i=>i.id===r);if(!t)throw new Error("Folga não encontrada");const n=t.data();await ps(kn(Lt,cl,r),{status:"aprovada",dataAtualizacao:fa()}),await Ww(n.funcionarioId)}async function ebe(r){const t=(await Lr(xr(Lt,cl))).docs.find(i=>i.id===r);if(!t)throw new Error("Folga não encontrada");const n=t.data();await ps(kn(Lt,cl,r),{status:"rejeitada",dataAtualizacao:fa()}),await Ww(n.funcionarioId)}async function tbe(r){const t=(await Lr(xr(Lt,cl))).docs.find(i=>i.id===r);if(!t)throw new Error("Folga não encontrada");const n=t.data();await ps(kn(Lt,cl,r),{status:"cancelada",dataAtualizacao:fa()}),await Ww(n.funcionarioId)}async function rbe(r){try{await Ww(r)}catch(e){console.error("Erro ao sincronizar status do funcionário específico:",e)}}const ac={listar:Xve,criar:Yve,atualizar:Qve,excluir:Zve,aprovar:Jve,rejeitar:ebe,cancelar:tbe,sincronizarStatusFuncionarios:Kve,sincronizarStatusFuncionarioEspecifico:rbe},nbe=Object.freeze(Object.defineProperty({__proto__:null,folgasService:ac},Symbol.toStringTag,{value:"Module"}));class ibe extends wm{constructor(){super(...arguments),this.config={titulo:"Folgas",campos:["funcionarioNome","dataInicio","dataFim","tipo","status","observacoes","motivo","documento","horas","dataCriacao"],formatacao:{funcionarioNome:e=>e?e.toUpperCase():"N/A",dataInicio:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e},dataFim:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e},tipo:e=>e?{folga:"Folga",ferias:"Férias",licenca:"Licença Médica",atestado:"Atestado Médico",banco_horas:"Banco de Horas",compensacao:"Compensação de Horas",suspensao:"Suspensão Disciplinar",afastamento:"Afastamento por Acidente",maternidade:"Licença Maternidade",paternidade:"Licença Paternidade",luto:"Licença por Luto",casamento:"Licença para Casamento",doacao_sangue:"Licença para Doação de Sangue",servico_militar:"Licença para Serviço Militar",capacitacao:"Licença para Capacitação",outros:"Outros"}[e]||e:"N/A",status:e=>e?{pendente:"Pendente",aprovada:"Aprovada",rejeitada:"Rejeitada",cancelada:"Cancelada"}[e]||e:"N/A",observacoes:e=>e||"N/A",motivo:e=>e||"N/A",documento:e=>e||"N/A",horas:e=>e==null?"N/A":`${e}h`,dataCriacao:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e}}}}}function abe(){const{showNotification:r}=fl(),[e,t]=ce.useState([]),[n,i]=ce.useState(!0),[a,s]=ce.useState(!1),[l,c]=ce.useState(null),[o,u]=ce.useState(!1),[f,d]=ce.useState(null),[h,m]=ce.useState(""),[g,p]=ce.useState("todos"),[y,v]=ce.useState("todos"),[w,C]=ce.useState(1),[P,F]=ce.useState(null),[L,j]=ce.useState("asc"),[I,z]=ce.useState({funcionarioId:"",funcionarioNome:"",dataInicio:"",dataFim:"",tipo:"folga",status:"pendente",observacoes:"",motivo:"",documento:"",horas:null}),[$,B]=ce.useState({}),T=15,R=ce.useCallback(async()=>{try{i(!0);const ie=await ac.listar();t(ie)}catch(ie){console.error("Erro ao buscar folgas:",ie),r("Erro ao carregar folgas","error")}finally{i(!1)}},[r]),N=ce.useCallback(ie=>{const le={};if(ie.funcionarioId,ie.funcionarioId||(le.funcionarioId="Funcionário é obrigatório"),ie.dataInicio||(le.dataInicio="Data de início é obrigatória"),ie.dataFim||(le.dataFim="Data de fim é obrigatória"),ie.dataInicio&&ie.dataFim){const de=new Date(ie.dataInicio),fe=new Date(ie.dataFim);de>fe&&(le.dataFim="Data de fim deve ser posterior à data de início")}return(ie.tipo==="banco_horas"||ie.tipo==="compensacao")&&ie.horas!==null&&(ie.horas<0?le.horas="Quantidade de horas deve ser positiva":ie.horas>24&&(le.horas="Quantidade de horas não pode ser maior que 24")),B(le),Object.keys(le).length===0},[]),_=ce.useCallback(async()=>{if(!N(I)){r("Por favor, corrija os erros no formulário","error");return}B({});try{const ie={...I,horas:I.horas||null};l?(await ac.atualizar(l.id,ie),r("Folga atualizada com sucesso!","success"),ie.funcionarioId&&await ac.sincronizarStatusFuncionarioEspecifico(ie.funcionarioId)):(await ac.criar(ie),r("Folga solicitada com sucesso!","success")),s(!1),c(null),z({funcionarioId:"",funcionarioNome:"",dataInicio:"",dataFim:"",tipo:"folga",status:"pendente",observacoes:"",motivo:"",documento:"",horas:null}),await R()}catch(ie){console.error("Erro ao salvar folga:",ie),r("Erro ao salvar folga","error")}},[R,l,r,N,I]),E=ce.useCallback(()=>{c(null),z({funcionarioId:"",funcionarioNome:"",dataInicio:"",dataFim:"",tipo:"folga",status:"pendente",observacoes:"",motivo:"",documento:"",horas:null}),B({}),s(!0)},[]),S=ce.useCallback(ie=>{c(ie),z({funcionarioId:ie.funcionarioId||"",funcionarioNome:ie.funcionarioNome||"",dataInicio:ie.dataInicio||"",dataFim:ie.dataFim||"",tipo:ie.tipo||"folga",status:ie.status||"pendente",observacoes:ie.observacoes||"",motivo:ie.motivo||"",documento:ie.documento||"",horas:ie.horas}),B({}),s(!0)},[]),k=ce.useCallback(async ie=>{d(ie),u(!0)},[]),M=ce.useCallback(async()=>{if(f)try{await ac.excluir(f.id),r("Folga excluída com sucesso!","success"),u(!1),d(null),await R()}catch(ie){console.error("Erro ao excluir folga:",ie),r("Erro ao excluir folga","error")}},[f,r,R]),V=ce.useCallback(()=>{u(!1),d(null)},[]),O=ce.useCallback(async ie=>{try{await ac.aprovar(ie),r("Folga aprovada com sucesso!","success"),await R()}catch(le){console.error("Erro ao aprovar folga:",le),r("Erro ao aprovar folga","error")}},[R,r]),X=ce.useCallback(async ie=>{try{await ac.rejeitar(ie),r("Folga rejeitada com sucesso!","success"),await R()}catch(le){console.error("Erro ao rejeitar folga:",le),r("Erro ao rejeitar folga","error")}},[R,r]),Q=ce.useCallback(async ie=>{try{await ac.sincronizarStatusFuncionarioEspecifico(ie),r("Status do funcionário sincronizado com sucesso!","success")}catch(le){console.error("Erro ao sincronizar status específico:",le),r("Erro ao sincronizar status do funcionário","error")}},[r]),re=ce.useCallback(ie=>{P===ie?j(L==="asc"?"desc":"asc"):(F(ie),j("asc"))},[L,P]),G=ce.useMemo(()=>{const ie=h.toLowerCase();return e.filter(le=>{var Ae;const de=(Ae=le.funcionarioNome)==null?void 0:Ae.toLowerCase().includes(ie),fe=g==="todos"||le.status===g,ue=y==="todos"||le.tipo===y;return de&&fe&&ue})},[g,y,e,h]),J=ce.useMemo(()=>{const ie=[...G];return P&&ie.sort((le,de)=>{let fe=le[P],ue=de[P];return P==="funcionarioNome"&&(fe=(fe==null?void 0:fe.toLowerCase())||"",ue=(ue==null?void 0:ue.toLowerCase())||""),fe<ue?L==="asc"?-1:1:fe>ue?L==="asc"?1:-1:0}),ie},[L,G,P]),q=ce.useCallback(async()=>{try{const ie=new ibe,le={termoBusca:h,filtroStatus:g,filtroTipo:y,ordenarPor:P,direcaoOrdenacao:L};await ie.exportToExcel(J,le),r("Exportação realizada com sucesso!","success")}catch(ie){console.error("Erro ao exportar Excel:",ie),r("Erro ao exportar dados","error")}},[J,h,g,y,P,L,r]),U=ce.useMemo(()=>{const ie=(w-1)*T,le=ie+T;return J.slice(ie,le)},[T,J,w]),Z=ce.useMemo(()=>{const ie=J.length,le=Math.ceil(ie/T)||1,de=(w-1)*T,fe=Math.min(de+T,ie);return{total:ie,totalPaginas:le,inicio:de,fim:fe}},[T,J,w]);return{loading:n,folgasPaginadas:U,totalPaginado:Z,paginaAtual:w,setPaginaAtual:C,itensPorPagina:T,termoBusca:h,setTermoBusca:m,filtroStatus:g,setFiltroStatus:p,filtroTipo:y,setFiltroTipo:v,ordenarPor:P,direcaoOrdenacao:L,alternarOrdenacao:re,mostrarModal:a,editando:l,valores:I,setValores:z,setMostrarModal:s,mostrarModalExclusao:o,folgaParaExcluir:f,abrirCriacao:E,editarFolga:S,excluirFolga:k,confirmarExclusao:M,cancelarExclusao:V,aprovarFolga:O,rejeitarFolga:X,sincronizarStatusEspecifico:Q,confirmar:_,carregar:R,erros:$,handleExportExcel:q}}function sbe({termoBusca:r,setTermoBusca:e,filtroStatus:t,setFiltroStatus:n,filtroTipo:i,setFiltroTipo:a}){const s=r||t!=="todos"||i!=="todos";return A.jsxs("div",{className:"card space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[A.jsxs("div",{className:"relative",children:[A.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),A.jsx("input",{type:"text",placeholder:"Buscar por motorista...",value:r,onChange:l=>e(l.target.value),className:"input-field pl-10"})]}),A.jsx("div",{children:A.jsxs("select",{value:t,onChange:l=>n(l.target.value),className:"input-field",children:[A.jsx("option",{value:"todos",children:"Todos os Status"}),A.jsx("option",{value:"pendente",children:"Pendente"}),A.jsx("option",{value:"aprovada",children:"Aprovada"}),A.jsx("option",{value:"rejeitada",children:"Rejeitada"}),A.jsx("option",{value:"cancelada",children:"Cancelada"})]})}),A.jsx("div",{children:A.jsxs("select",{value:i,onChange:l=>a(l.target.value),className:"input-field",children:[A.jsx("option",{value:"todos",children:"Todos os Tipos"}),A.jsx("option",{value:"folga",children:"Folga"}),A.jsx("option",{value:"ferias",children:"Férias"}),A.jsx("option",{value:"licenca",children:"Licença Médica"}),A.jsx("option",{value:"atestado",children:"Atestado"}),A.jsx("option",{value:"banco_horas",children:"Banco de Horas"}),A.jsx("option",{value:"compensacao",children:"Compensação"}),A.jsx("option",{value:"suspensao",children:"Suspensão"}),A.jsx("option",{value:"afastamento",children:"Afastamento"}),A.jsx("option",{value:"maternidade",children:"Maternidade"}),A.jsx("option",{value:"paternidade",children:"Paternidade"}),A.jsx("option",{value:"luto",children:"Luto"}),A.jsx("option",{value:"casamento",children:"Casamento"}),A.jsx("option",{value:"doacao_sangue",children:"Doação de Sangue"}),A.jsx("option",{value:"servico_militar",children:"Serviço Militar"}),A.jsx("option",{value:"capacitacao",children:"Capacitação"}),A.jsx("option",{value:"outros",children:"Outros"})]})})]}),s&&A.jsx(xm,{onClear:()=>{e(""),n("todos"),a("todos")}})]})}const qR=r=>{try{const[e,t,n]=r.split("-").map(Number);return new Date(e,t-1,n).toLocaleDateString("pt-BR")}catch{return r}};function obe({folgas:r,loading:e,ordenarPor:t,direcaoOrdenacao:n,alternarOrdenacao:i,editarFolga:a,excluirFolga:s,aprovarFolga:l,rejeitarFolga:c}){const o=h=>{switch(h){case"pendente":return"bg-yellow-100 text-yellow-800";case"aprovada":return"bg-green-100 text-green-800";case"rejeitada":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},u=h=>{switch(h){case"pendente":return"Pendente";case"aprovada":return"Aprovada";case"rejeitada":return"Rejeitada";case"cancelada":return"Cancelada";default:return"Desconhecido"}},f=h=>{switch(h){case"folga":return"Folga";case"ferias":return"Férias";case"licenca":return"Licença Médica";case"atestado":return"Atestado";case"banco_horas":return"Banco de Horas";case"compensacao":return"Compensação";case"suspensao":return"Suspensão";case"afastamento":return"Afastamento";case"maternidade":return"Maternidade";case"paternidade":return"Paternidade";case"luto":return"Luto";case"casamento":return"Casamento";case"doacao_sangue":return"Doação de Sangue";case"servico_militar":return"Serviço Militar";case"capacitacao":return"Capacitação";case"outros":return"Outros";default:return"Desconhecido"}},d=h=>t!==h?null:n==="asc"?A.jsx(cm,{className:"h-4 w-4"}):A.jsx(Au,{className:"h-4 w-4"});return e?A.jsx("div",{className:"card",children:A.jsx("div",{className:"flex items-center justify-center h-64",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):r.length===0?A.jsx("div",{className:"card",children:A.jsx("div",{className:"flex items-center justify-center h-64",children:A.jsxs("div",{className:"text-center",children:[A.jsx(Q0,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),A.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma folga encontrada"}),A.jsx("p",{className:"text-gray-500",children:"Não há solicitações de folgas para exibir."})]})})}):A.jsx("div",{className:"card",children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>i("funcionarioNome"),children:A.jsxs("div",{className:"flex items-center space-x-1",children:[A.jsx("span",{children:"Funcionário"}),d("funcionarioNome")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>i("tipo"),children:A.jsxs("div",{className:"flex items-center space-x-1",children:[A.jsx("span",{children:"Tipo"}),d("tipo")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>i("dataInicio"),children:A.jsxs("div",{className:"flex items-center space-x-1",children:[A.jsx("span",{children:"Período"}),d("dataInicio")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>i("status"),children:A.jsxs("div",{className:"flex items-center space-x-1",children:[A.jsx("span",{children:"Status"}),d("status")]})}),A.jsx("th",{className:"table-header",children:"Ações"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(h=>A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsx("td",{className:"table-cell",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:A.jsx("div",{className:"h-10 w-10 rounded-full bg-orange-100 flex items-center justify-center",children:A.jsx(Q0,{className:"h-5 w-5 text-orange-600"})})}),A.jsx("div",{className:"ml-4",children:A.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.funcionarioNome})})]})}),A.jsx("td",{className:"table-cell",children:A.jsx("div",{className:"text-sm text-gray-900",children:f(h.tipo)})}),A.jsx("td",{className:"table-cell",children:A.jsxs("div",{className:"text-sm text-gray-900",children:[A.jsxs("div",{children:["Início: ",qR(h.dataInicio)]}),A.jsxs("div",{children:["Fim: ",qR(h.dataFim)]}),(h.tipo==="banco_horas"||h.tipo==="compensacao")&&h.horas&&A.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[h.horas,"h"]})]})}),A.jsx("td",{className:"table-cell",children:A.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${o(h.status)}`,children:u(h.status)})}),A.jsx("td",{className:"table-cell",children:A.jsxs("div",{className:"flex space-x-2",children:[A.jsx("button",{onClick:()=>a(h),className:"text-blue-600 hover:text-blue-900",title:"Editar",children:A.jsx(um,{className:"h-4 w-4"})}),h.status==="pendente"&&A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>l(h.id),className:"text-green-600 hover:text-green-900",title:"Aprovar",children:A.jsx(o4,{className:"h-4 w-4"})}),A.jsx("button",{onClick:()=>c(h.id),className:"text-red-600 hover:text-red-900",title:"Rejeitar",children:A.jsx(da,{className:"h-4 w-4"})})]}),A.jsx("button",{onClick:()=>s(h),className:"text-red-600 hover:text-red-900",title:"Excluir",children:A.jsx(ow,{className:"h-4 w-4"})})]})})]},h.id))})]})})})}function lbe({value:r,onChange:e,placeholder:t="Selecione um funcionário",error:n}){const[i,a]=ce.useState([]),[s,l]=ce.useState(!1),[c,o]=ce.useState(""),[u,f]=ce.useState(!1),[d,h]=ce.useState(null),m=ce.useRef(null);ce.useEffect(()=>{(async()=>{try{f(!0);const C=(await Zh.listar()).filter(P=>P.ativo);if(a(C),r){const P=C.find(F=>F.id===r);P&&h(P)}}catch(w){console.error("Erro ao carregar funcionários:",w)}finally{f(!1)}})()},[r]),ce.useEffect(()=>{const v=w=>{m.current&&!m.current.contains(w.target)&&(l(!1),o(""))};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const g=i.filter(v=>v.nome.toLowerCase().includes(c.toLowerCase())||v.cpf.includes(c)),p=v=>{h(v),e(v.id,v.nome),l(!1),o("")},y=()=>{h(null),e("",""),l(!1),o("")};return A.jsxs("div",{className:"relative",ref:m,children:[A.jsxs("div",{className:`input-field cursor-pointer flex items-center justify-between ${n?"border-red-500":""}`,onClick:()=>l(!s),children:[A.jsx("span",{className:d?"text-gray-900":"text-gray-500",children:d?d.nome:t}),A.jsxs("div",{className:"flex items-center space-x-2",children:[d&&A.jsx("button",{onClick:v=>{v.stopPropagation(),y()},className:"text-gray-400 hover:text-gray-600",children:A.jsx(da,{className:"h-4 w-4"})}),A.jsx(Au,{className:`h-4 w-4 text-gray-400 transition-transform ${s?"rotate-180":""}`})]})]}),n&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:n}),s&&A.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-hidden",children:[A.jsx("div",{className:"p-2 border-b border-gray-200",children:A.jsxs("div",{className:"relative",children:[A.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),A.jsx("input",{type:"text",value:c,onChange:v=>o(v.target.value),placeholder:"Pesquisar funcionário...",className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onClick:v=>v.stopPropagation()})]})}),A.jsx("div",{className:"max-h-48 overflow-y-auto",children:u?A.jsx("div",{className:"p-4 text-center text-gray-500",children:"Carregando funcionários..."}):g.length===0?A.jsx("div",{className:"p-4 text-center text-gray-500",children:c?"Nenhum funcionário encontrado":"Nenhum funcionário disponível"}):g.map(v=>A.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>p(v),children:[A.jsx("div",{className:"font-medium text-gray-900",children:v.nome}),A.jsxs("div",{className:"text-sm text-gray-500",children:["CPF: ",v.cpf," •"," ",v.funcao||"Sem função"]})]},v.id))})]})]})}function cbe({mostrar:r,editando:e,valores:t,setValores:n,onConfirmar:i,onCancelar:a,erros:s={}}){return r?A.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:A.jsx("div",{className:"relative top-10 mx-auto p-6 border w-full max-w-3xl shadow-lg rounded-md bg-white m-4",children:A.jsxs("div",{className:"mt-3",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e?"Editar Solicitação":"Nova Solicitação"}),A.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:A.jsx(da,{className:"h-6 w-6"})})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Funcionário *"}),A.jsx(lbe,{value:t.funcionarioId,onChange:(l,c)=>n({...t,funcionarioId:l,funcionarioNome:c}),placeholder:"Selecione um funcionário",error:s.funcionarioId})]}),A.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo"}),A.jsxs("select",{value:t.tipo,onChange:l=>n({...t,tipo:l.target.value}),className:"input-field",children:[A.jsx("option",{value:"folga",children:"Folga"}),A.jsx("option",{value:"ferias",children:"Férias"}),A.jsx("option",{value:"licenca",children:"Licença Médica"}),A.jsx("option",{value:"atestado",children:"Atestado"}),A.jsx("option",{value:"banco_horas",children:"Banco de Horas"}),A.jsx("option",{value:"compensacao",children:"Compensação"}),A.jsx("option",{value:"suspensao",children:"Suspensão"}),A.jsx("option",{value:"afastamento",children:"Afastamento"}),A.jsx("option",{value:"maternidade",children:"Maternidade"}),A.jsx("option",{value:"paternidade",children:"Paternidade"}),A.jsx("option",{value:"luto",children:"Luto"}),A.jsx("option",{value:"casamento",children:"Casamento"}),A.jsx("option",{value:"doacao_sangue",children:"Doação de Sangue"}),A.jsx("option",{value:"servico_militar",children:"Serviço Militar"}),A.jsx("option",{value:"capacitacao",children:"Capacitação"}),A.jsx("option",{value:"outros",children:"Outros"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),A.jsxs("select",{value:t.status,onChange:l=>n({...t,status:l.target.value}),className:"input-field",children:[A.jsx("option",{value:"pendente",children:"Pendente"}),A.jsx("option",{value:"aprovada",children:"Aprovada"}),A.jsx("option",{value:"rejeitada",children:"Rejeitada"}),A.jsx("option",{value:"cancelada",children:"Cancelada"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Documento"}),A.jsx("input",{type:"text",value:t.documento||"",onChange:l=>n({...t,documento:l.target.value}),className:"input-field",placeholder:"Número do documento"})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Data de Início *"}),A.jsx("input",{type:"date",required:!0,value:t.dataInicio,onChange:l=>n({...t,dataInicio:l.target.value}),className:`input-field ${s.dataInicio?"border-red-500":""}`}),s.dataInicio&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.dataInicio})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Data de Fim *"}),A.jsx("input",{type:"date",required:!0,value:t.dataFim,onChange:l=>n({...t,dataFim:l.target.value}),className:`input-field ${s.dataFim?"border-red-500":""}`}),s.dataFim&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.dataFim})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Motivo"}),A.jsx("input",{type:"text",value:t.motivo||"",onChange:l=>n({...t,motivo:l.target.value}),className:"input-field",placeholder:"Motivo da solicitação"})]}),(t.tipo==="banco_horas"||t.tipo==="compensacao")&&A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Quantidade de Horas"}),A.jsx("input",{type:"text",value:t.horas?String(t.horas):"",onChange:l=>{const c=l.target.value;if(c===""||/^\d*[.,]?\d*$/.test(c)){const o=c.replace(",","."),u=parseFloat(o);n({...t,horas:c===""||isNaN(u)?null:u})}},className:`input-field ${s.horas?"border-red-500":""}`,placeholder:"Ex: 8.5 ou 8,5"}),s.horas&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.horas}),A.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Digite a quantidade de horas (use ponto ou vírgula para decimais)"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Observações"}),A.jsx("textarea",{value:t.observacoes||"",onChange:l=>n({...t,observacoes:l.target.value}),className:"input-field",rows:3,placeholder:"Observações adicionais..."})]}),A.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[A.jsx("button",{type:"button",onClick:a,className:"btn-secondary",children:"Cancelar"}),A.jsx("button",{type:"button",onClick:i,className:"btn-primary",children:e?"Atualizar":"Solicitar"})]})]})]})})}):null}function ube(){const[r,e]=ce.useState(!1),{loading:t,folgasPaginadas:n,totalPaginado:i,paginaAtual:a,setPaginaAtual:s,termoBusca:l,setTermoBusca:c,filtroStatus:o,setFiltroStatus:u,filtroTipo:f,setFiltroTipo:d,ordenarPor:h,direcaoOrdenacao:m,alternarOrdenacao:g,mostrarModal:p,editando:y,valores:v,setValores:w,setMostrarModal:C,mostrarModalExclusao:P,folgaParaExcluir:F,abrirCriacao:L,editarFolga:j,excluirFolga:I,confirmarExclusao:z,cancelarExclusao:$,aprovarFolga:B,rejeitarFolga:T,confirmar:R,carregar:N,erros:_,handleExportExcel:E}=abe();ce.useEffect(()=>{N(),(async()=>{try{await ac.sincronizarStatusFuncionarios()}catch(X){console.error("Erro na sincronização automática:",X)}})()},[N]);const S=()=>`${`folgas_${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")}`}.xlsx`,k=()=>{e(!0)},M=()=>{E()},V=()=>{if(i.totalPaginas<=1)return null;const O=[],X=Math.max(1,a-2),Q=Math.min(i.totalPaginas,a+2);for(let re=X;re<=Q;re++)O.push(re);return A.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6",children:[A.jsxs("div",{className:"flex justify-between flex-1 sm:hidden",children:[A.jsx("button",{onClick:()=>s(a-1),disabled:a===1,className:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),A.jsx("button",{onClick:()=>s(a+1),disabled:a===i.totalPaginas,className:"relative inline-flex items-center px-4 py-2 ml-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Próximo"})]}),A.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[A.jsx("div",{children:A.jsxs("p",{className:"text-sm text-gray-700",children:["Mostrando"," ",A.jsx("span",{className:"font-medium",children:i.inicio+1})," a"," ",A.jsx("span",{className:"font-medium",children:i.fim})," de"," ",A.jsx("span",{className:"font-medium",children:i.total})," ","resultados"]})}),A.jsx("div",{children:A.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[A.jsxs("button",{onClick:()=>s(a-1),disabled:a===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[A.jsx("span",{className:"sr-only",children:"Anterior"}),A.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:A.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),O.map(re=>A.jsx("button",{onClick:()=>s(re),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${re===a?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:re},re)),A.jsxs("button",{onClick:()=>s(a+1),disabled:a===i.totalPaginas,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[A.jsx("span",{className:"sr-only",children:"Próximo"}),A.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:A.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Gestão de Folgas"}),A.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Gerencie solicitações de folgas e férias"})]}),A.jsxs("div",{className:"flex space-x-3",children:[A.jsxs("button",{onClick:k,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 flex items-center",children:[A.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Exportar Excel"]}),A.jsxs("button",{onClick:L,className:"btn-primary flex items-center",children:[A.jsx(u4,{className:"h-4 w-4 mr-2"}),"Nova Solicitação"]})]})]}),A.jsx(sbe,{termoBusca:l,setTermoBusca:c,filtroStatus:o,setFiltroStatus:u,filtroTipo:f,setFiltroTipo:d}),A.jsx(obe,{folgas:n,loading:t,ordenarPor:h,direcaoOrdenacao:m,alternarOrdenacao:g,editarFolga:j,excluirFolga:I,aprovarFolga:B,rejeitarFolga:T}),V(),A.jsx(cbe,{mostrar:p,editando:!!y,valores:v,setValores:w,onConfirmar:R,onCancelar:()=>C(!1),erros:_}),A.jsx(wu,{type:"danger",isOpen:P,onClose:$,title:"Confirmar Exclusão",message:`Tem certeza que deseja excluir a solicitação de folga do funcionário "${F==null?void 0:F.funcionarioNome}"?`,primaryAction:{label:"Excluir",onClick:z,variant:"danger"},secondaryAction:{label:"Cancelar",onClick:$,variant:"secondary"}}),A.jsx(bm,{isOpen:r,onClose:()=>e(!1),onExport:M,titulo:"Folgas",nomeArquivo:S()})]})}const fbe=()=>A.jsx(ube,{}),bC=()=>{const[r,e]=ce.useState([]),[t,n]=ce.useState(!0);return ce.useEffect(()=>{(async()=>{try{n(!0);const a=await Rl.getAll();a&&Array.isArray(a)?e(a):e([])}catch(a){console.error("Erro ao buscar rotas para cidades:",a),e([])}finally{n(!1)}})()},[]),{rotas:r,loading:t}},dbe=({cidades:r,ordenarPor:e,direcaoOrdenacao:t,onOrdenar:n,onEditar:i,onExcluir:a})=>{const{rotas:s}=bC(),l=c=>e!==c?null:t==="asc"?A.jsx(cm,{className:"h-4 w-4"}):A.jsx(Au,{className:"h-4 w-4"});return A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("nome"),children:A.jsxs("div",{className:"flex items-center",children:["Cidade ",l("nome")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("estado"),children:A.jsxs("div",{className:"flex items-center",children:["Estado ",l("estado")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("regiao"),children:A.jsxs("div",{className:"flex items-center",children:["Região ",l("regiao")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("distancia"),children:A.jsxs("div",{className:"flex items-center",children:["Distância ",l("distancia")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("pesoMinimo"),children:A.jsxs("div",{className:"flex items-center",children:["Peso Mínimo ",l("pesoMinimo")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("rotaId"),children:A.jsxs("div",{className:"flex items-center",children:["Rota ",l("rotaId")]})}),A.jsx("th",{className:"table-header",children:"Ações"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(c=>A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsx("td",{className:"table-cell",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:A.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:A.jsx(sw,{className:"h-5 w-5 text-blue-600"})})}),A.jsx("div",{className:"ml-4",children:A.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.nome})})]})}),A.jsx("td",{className:"table-cell",children:A.jsx("div",{className:"text-sm text-gray-900",children:c.estado})}),A.jsx("td",{className:"table-cell",children:A.jsx("div",{className:"text-sm text-gray-900",children:c.regiao})}),A.jsx("td",{className:"table-cell",children:A.jsx("div",{className:"text-sm text-gray-900",children:c.distancia?`${c.distancia} km`:"-"})}),A.jsx("td",{className:"table-cell",children:A.jsx("div",{className:"text-sm text-gray-900",children:c.pesoMinimo?`${c.pesoMinimo} kg`:"-"})}),A.jsx("td",{className:"table-cell",children:A.jsx("div",{className:"text-sm text-gray-900",children:c.rotaId?(()=>{const o=s.find(u=>u.id===c.rotaId);return o?o.nome:"Rota não encontrada"})():"-"})}),A.jsx("td",{className:"table-cell",children:A.jsxs("div",{className:"flex space-x-2",children:[A.jsx("button",{onClick:()=>i(c),className:"text-primary-600 hover:text-primary-900",children:A.jsx(um,{className:"h-4 w-4"})}),A.jsx("button",{onClick:()=>a(c),className:"text-red-600 hover:text-red-900",children:A.jsx(ow,{className:"h-4 w-4"})})]})})]},c.id))})]})})},Gw=[{valor:"NORTE",nome:"Norte"},{valor:"NORDESTE",nome:"Nordeste"},{valor:"CENTRO-OESTE",nome:"Centro-Oeste"},{valor:"SUDESTE",nome:"Sudeste"},{valor:"SUL",nome:"Sul"}],hbe=[{sigla:"AC",nome:"Acre"},{sigla:"AL",nome:"Alagoas"},{sigla:"AP",nome:"Amapá"},{sigla:"AM",nome:"Amazonas"},{sigla:"BA",nome:"Bahia"},{sigla:"CE",nome:"Ceará"},{sigla:"DF",nome:"Distrito Federal"},{sigla:"ES",nome:"Espírito Santo"},{sigla:"GO",nome:"Goiás"},{sigla:"MA",nome:"Maranhão"},{sigla:"MT",nome:"Mato Grosso"},{sigla:"MS",nome:"Mato Grosso do Sul"},{sigla:"MG",nome:"Minas Gerais"},{sigla:"PA",nome:"Pará"},{sigla:"PB",nome:"Paraíba"},{sigla:"PR",nome:"Paraná"},{sigla:"PE",nome:"Pernambuco"},{sigla:"PI",nome:"Piauí"},{sigla:"RJ",nome:"Rio de Janeiro"},{sigla:"RN",nome:"Rio Grande do Norte"},{sigla:"RS",nome:"Rio Grande do Sul"},{sigla:"RO",nome:"Rondônia"},{sigla:"RR",nome:"Roraima"},{sigla:"SC",nome:"Santa Catarina"},{sigla:"SP",nome:"São Paulo"},{sigla:"SE",nome:"Sergipe"},{sigla:"TO",nome:"Tocantins"}],pbe={AC:"NORTE",AP:"NORTE",AM:"NORTE",PA:"NORTE",RO:"NORTE",RR:"NORTE",TO:"NORTE",AL:"NORDESTE",BA:"NORDESTE",CE:"NORDESTE",MA:"NORDESTE",PB:"NORDESTE",PE:"NORDESTE",PI:"NORDESTE",RN:"NORDESTE",SE:"NORDESTE",DF:"CENTRO-OESTE",GO:"CENTRO-OESTE",MT:"CENTRO-OESTE",MS:"CENTRO-OESTE",ES:"SUDESTE",MG:"SUDESTE",RJ:"SUDESTE",SP:"SUDESTE",PR:"SUL",RS:"SUL",SC:"SUL"},HR=r=>pbe[r],mbe=({termo:r,onChangeTermo:e,filtroRegiao:t,onChangeFiltroRegiao:n})=>{const i=r||t;return A.jsxs("div",{className:"card space-y-4",children:[A.jsxs("div",{className:"flex gap-4",children:[A.jsxs("div",{className:"relative flex-1",children:[A.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),A.jsx("input",{type:"text",placeholder:"Buscar por nome, estado ou região...",value:r,onChange:a=>e(a.target.value),className:"input-field pl-10"})]}),A.jsx("div",{className:"w-48",children:A.jsxs("select",{value:t,onChange:a=>n(a.target.value),className:"input-field",children:[A.jsx("option",{value:"",children:"Todas as regiões"}),Gw.map(a=>A.jsx("option",{value:a.valor,children:a.nome},a.valor))]})})]}),i&&A.jsx(xm,{onClear:()=>{e(""),n("")}})]})};class gbe extends wm{constructor(){super(...arguments),this.config={titulo:"Cidades",campos:["nome","estado","regiao","distancia","pesoMinimo","observacao","dataCriacao"],formatacao:{nome:e=>e?e.toUpperCase():"N/A",estado:e=>e?e.toUpperCase():"N/A",regiao:e=>e?e.toUpperCase():"N/A",distancia:e=>e?`${e} km`:"N/A",pesoMinimo:e=>e?`${e} kg`:"N/A",observacao:e=>e||"N/A",dataCriacao:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e}}}}}function ybe(){const{showNotification:r}=fl(),{rotas:e}=bC(),[t,n]=ce.useState([]),[i,a]=ce.useState(!0),[s,l]=ce.useState(!1),[c,o]=ce.useState(null),[u,f]=ce.useState(!1),[d,h]=ce.useState(null),[m,g]=ce.useState(""),[p,y]=ce.useState(""),[v,w]=ce.useState(1),[C,P]=ce.useState("dataCriacao"),[F,L]=ce.useState("desc"),[j,I]=ce.useState({nome:"",estado:"",regiao:"",distancia:"",pesoMinimo:"",rotaId:"",observacao:""}),[z,$]=ce.useState({}),B=15,T=ce.useCallback(async()=>{try{a(!0);const J=await cc.listar();n(J)}catch(J){console.error("Erro ao buscar cidades:",J);const q=J instanceof Error?J.message:"Erro ao carregar cidades";r(q,"error")}finally{a(!1)}},[r]),R=ce.useCallback(J=>{const q={};return J.nome.trim()||(q.nome="Nome da cidade é obrigatório"),J.estado||(q.estado="Estado é obrigatório"),J.distancia&&parseFloat(J.distancia)<0&&(q.distancia="Distância deve ser um número positivo"),J.pesoMinimo&&parseFloat(J.pesoMinimo)<0&&(q.pesoMinimo="Peso mínimo deve ser um número positivo"),$(q),Object.keys(q).length===0},[]),N=ce.useCallback(async()=>{var J;if(!R(j)){r("Por favor, corrija os erros no formulário","error");return}try{const q={...j,nome:j.nome.toUpperCase(),regiao:((J=j.regiao)==null?void 0:J.toUpperCase())??"",distancia:j.distancia?parseFloat(j.distancia):null,pesoMinimo:j.pesoMinimo?parseFloat(j.pesoMinimo):null,rotaId:j.rotaId||null};c?(await cc.atualizar(c.id,q),r("Cidade atualizada com sucesso!","success")):(await cc.criar(q),r("Cidade cadastrada com sucesso!","success")),l(!1),o(null),I({nome:"",estado:"",regiao:"",distancia:"",pesoMinimo:"",rotaId:"",observacao:""}),await T()}catch(q){console.error("Erro ao salvar cidade:",q);const U=q instanceof Error?q.message:"Erro ao salvar cidade";r(U,"error")}},[T,c,r,R,j]),_=ce.useCallback(()=>{o(null),I({nome:"",estado:"",regiao:"",distancia:"",pesoMinimo:"",rotaId:"",observacao:""}),l(!0)},[]),E=ce.useCallback(J=>{o(J),I({nome:J.nome||"",estado:J.estado||"",regiao:J.regiao||"",distancia:J.distancia?String(J.distancia):"",pesoMinimo:J.pesoMinimo?String(J.pesoMinimo):"",rotaId:J.rotaId||"",observacao:J.observacao||""}),l(!0)},[]),S=ce.useCallback(J=>{h(J),f(!0)},[]),k=ce.useCallback(async()=>{if(d)try{await cc.excluir(d.id),r("Cidade excluída com sucesso!","success"),f(!1),h(null),await T()}catch(J){console.error("Erro ao excluir cidade:",J);const q=J instanceof Error?J.message:"Erro ao excluir cidade";r(q,"error")}},[d,T,r]),M=ce.useCallback(()=>{f(!1),h(null)},[]),V=ce.useCallback(J=>{C===J?L(F==="asc"?"desc":"asc"):(P(J),L("asc"))},[F,C]),O=ce.useMemo(()=>{const J=m.toLowerCase(),q=p.toLowerCase();return t.filter(U=>{var le,de,fe,ue;const Z=!J||((le=U.nome)==null?void 0:le.toLowerCase().includes(J))||((de=U.estado)==null?void 0:de.toLowerCase().includes(J))||((fe=U.regiao)==null?void 0:fe.toLowerCase().includes(J)),ie=!q||((ue=U.regiao)==null?void 0:ue.toLowerCase())===q;return Z&&ie})},[t,m,p]),X=ce.useMemo(()=>{const J=[...O];return J.sort((q,U)=>{var le,de;let Z=q[C],ie=U[C];if(["nome","estado","regiao"].includes(C))Z=(Z==null?void 0:Z.toLowerCase())||"",ie=(ie==null?void 0:ie.toLowerCase())||"";else if(C==="rotaId"){const fe=e.find(Ae=>Ae.id===Z),ue=e.find(Ae=>Ae.id===ie);Z=((le=fe==null?void 0:fe.nome)==null?void 0:le.toLowerCase())||"",ie=((de=ue==null?void 0:ue.nome)==null?void 0:de.toLowerCase())||""}return Z<ie?F==="asc"?-1:1:Z>ie?F==="asc"?1:-1:0}),J},[F,O,C,e]),Q=ce.useCallback(async()=>{try{const J=new gbe,q={termoBusca:m,filtroRegiao:p,ordenarPor:C,direcaoOrdenacao:F};await J.exportToExcel(X,q),r("Exportação realizada com sucesso!","success")}catch(J){console.error("Erro ao exportar Excel:",J),r("Erro ao exportar dados","error")}},[X,m,p,C,F,r]),re=ce.useMemo(()=>{const J=(v-1)*B,q=J+B;return X.slice(J,q)},[B,X,v]),G=ce.useMemo(()=>{const J=X.length,q=Math.ceil(J/B)||1,U=(v-1)*B,Z=Math.min(U+B,J);return{total:J,totalPaginas:q,inicio:U,fim:Z}},[B,X,v]);return{loading:i,cidadesPaginadas:re,totalPaginado:G,paginaAtual:v,setPaginaAtual:w,itensPorPagina:B,termoBusca:m,setTermoBusca:g,filtroRegiao:p,setFiltroRegiao:y,ordenarPor:C,direcaoOrdenacao:F,alternarOrdenacao:V,mostrarModal:s,editando:c,valores:j,erros:z,setValores:I,setMostrarModal:l,abrirCriacao:_,editarCidade:E,excluirCidade:S,confirmar:N,carregar:T,mostrarModalExclusao:u,cidadeParaExcluir:d,confirmarExclusao:k,cancelarExclusao:M,handleExportExcel:Q}}const vbe=({aberto:r,editando:e,valores:t,erros:n,onChange:i,onCancelar:a,onConfirmar:s})=>{const{rotas:l,loading:c}=bC();return ce.useEffect(()=>{if(t.estado){const o=HR(t.estado);o&&i({...t,regiao:o})}},[t.estado,i]),r?A.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:A.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e?"Editar Cidade":"Nova Cidade"}),A.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:A.jsx(da,{className:"h-6 w-6"})})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome da Cidade *"}),A.jsx("input",{type:"text",value:t.nome,onChange:o=>i({...t,nome:o.target.value}),className:`input-field ${n.nome?"border-red-500":""}`}),n.nome&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.nome})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Estado *"}),A.jsxs("select",{value:t.estado,onChange:o=>{const u=o.target.value,f=HR(u);i({...t,estado:u,regiao:f||""})},className:`input-field ${n.estado?"border-red-500":""}`,children:[A.jsx("option",{value:"",children:"Selecione um estado"}),hbe.map(o=>A.jsxs("option",{value:o.sigla,children:[o.sigla," - ",o.nome]},o.sigla))]}),n.estado&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.estado})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Região"}),A.jsxs("select",{value:t.regiao||"",onChange:o=>i({...t,regiao:o.target.value}),className:"input-field bg-gray-100 cursor-not-allowed",disabled:!0,children:[A.jsx("option",{value:"",children:"Selecione uma região"}),Gw.map(o=>A.jsx("option",{value:o.valor,children:o.nome},o.valor))]}),A.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Região definida automaticamente pelo estado"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Distância (km)"}),A.jsx("input",{type:"text",value:t.distancia,onChange:o=>i({...t,distancia:o.target.value}),className:`input-field ${n.distancia?"border-red-500":""}`,placeholder:"Ex: 150"}),n.distancia&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.distancia})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Peso Mínimo (kg)"}),A.jsx("input",{type:"text",value:t.pesoMinimo,onChange:o=>i({...t,pesoMinimo:o.target.value}),className:`input-field ${n.pesoMinimo?"border-red-500":""}`,placeholder:"Ex: 100"}),n.pesoMinimo&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.pesoMinimo})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rota"}),A.jsxs("select",{value:t.rotaId||"",onChange:o=>i({...t,rotaId:o.target.value}),className:`input-field ${n.rotaId?"border-red-500":""}`,disabled:c,children:[A.jsx("option",{value:"",children:c?"Carregando rotas...":"Selecione uma rota"}),l.map(o=>A.jsxs("option",{value:o.id,children:[o.nome," -"," ",new Date(o.dataRota).toLocaleDateString("pt-BR")]},o.id))]}),n.rotaId&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.rotaId}),A.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Selecione uma rota para vincular esta cidade"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Observação"}),A.jsx("textarea",{value:t.observacao,onChange:o=>i({...t,observacao:o.target.value}),className:"input-field",rows:3,placeholder:"Observações adicionais..."})]}),A.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[A.jsx("button",{type:"button",onClick:a,className:"btn-secondary",children:"Cancelar"}),A.jsx("button",{type:"button",onClick:s,className:"btn-primary",children:e?"Atualizar":"Cadastrar"})]})]})]})}):null},bbe=()=>{const[r,e]=ce.useState(!1),[t,n]=ce.useState(!1),{loading:i,cidadesPaginadas:a,totalPaginado:s,paginaAtual:l,setPaginaAtual:c,termoBusca:o,setTermoBusca:u,filtroRegiao:f,setFiltroRegiao:d,ordenarPor:h,direcaoOrdenacao:m,alternarOrdenacao:g,abrirCriacao:p,editarCidade:y,excluirCidade:v,carregar:w,mostrarModal:C,setMostrarModal:P,valores:F,setValores:L,erros:j,confirmar:I,editando:z,mostrarModalExclusao:$,cidadeParaExcluir:B,confirmarExclusao:T,cancelarExclusao:R,handleExportExcel:N}=ybe();ce.useEffect(()=>{w()},[w]);const _=()=>`${`cidades_${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")}`}.xlsx`,E=()=>{e(!0)},S=()=>{N()},k=M=>{w();const V=M.failedRows===0?`Importação concluída com sucesso! ${M.importedRows} registros importados.`:`Importação parcial: ${M.importedRows} registros importados, ${M.failedRows} falharam.`;console.log(V)};return ce.useEffect(()=>{z&&L({nome:z.nome||"",estado:z.estado||"",regiao:z.regiao?z.regiao.toLowerCase():"",distancia:z.distancia?String(z.distancia):"",pesoMinimo:z.pesoMinimo?String(z.pesoMinimo):"",rotaId:z.rotaId||"",observacao:z.observacao||""})},[z,L]),i?A.jsx("div",{className:"flex items-center justify-center h-64",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Cidades"}),A.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Gerencie as cidades atendidas"})]}),A.jsxs("div",{className:"flex space-x-3",children:[A.jsxs("button",{onClick:E,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 flex items-center",children:[A.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Exportar Excel"]}),A.jsxs("button",{onClick:()=>n(!0),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 flex items-center",children:[A.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Importar Excel"]}),A.jsx("button",{onClick:p,className:"btn-primary",children:"Nova Cidade"})]})]}),A.jsx(mbe,{termo:o,onChangeTermo:u,filtroRegiao:f,onChangeFiltroRegiao:d}),A.jsxs("div",{className:"card",children:[A.jsx(dbe,{cidades:a,ordenarPor:h,direcaoOrdenacao:m,onOrdenar:g,onEditar:y,onExcluir:v}),s.totalPaginas>1&&A.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6",children:[A.jsxs("div",{className:"text-sm text-gray-700",children:["Mostrando ",s.inicio+1," a ",s.fim," de"," ",s.total," resultados"]}),A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("button",{onClick:()=>c(Math.max(1,l-1)),disabled:l===1,className:"px-3 py-1 text-sm border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Anterior"}),Array.from({length:s.totalPaginas},(M,V)=>V+1).map(M=>A.jsx("button",{onClick:()=>c(M),className:`px-3 py-1 text-sm border rounded-md ${l===M?"bg-primary-600 text-white border-primary-600":"border-gray-300 hover:bg-gray-50"}`,children:M},M)),A.jsx("button",{onClick:()=>c(Math.min(s.totalPaginas,l+1)),disabled:l===s.totalPaginas,className:"px-3 py-1 text-sm border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Próximo"})]})]})]}),A.jsx(vbe,{aberto:C,editando:z,valores:F,erros:j,onChange:L,onCancelar:()=>P(!1),onConfirmar:I}),A.jsx(wu,{type:"danger",title:"Confirmar Exclusão",message:"Tem certeza que deseja excluir esta cidade?",details:B?[{label:"Cidade",value:B.nome},{label:"Estado",value:B.estado},{label:"Região",value:B.regiao}]:[],warning:"Esta ação não pode ser revertida. Todos os vínculos serão perdidos e será necessário criar uma cidade novamente para ter vínculos novamente.",primaryAction:{label:"Confirmar Exclusão",onClick:T,variant:"danger"},secondaryAction:{label:"Cancelar",onClick:R},isOpen:$,onClose:R}),A.jsx(bm,{isOpen:r,onClose:()=>e(!1),onExport:S,titulo:"Cidades",nomeArquivo:_()}),A.jsx(Hw,{entityType:"cidades",isOpen:t,onClose:()=>n(!1),onSuccess:k})]})},wbe=({cidadesIds:r})=>{const[e,t]=ce.useState([]),[n,i]=ce.useState(!1);return ce.useEffect(()=>{(async()=>{if(r.length!==0)try{i(!0);const l=(await cc.listar()).filter(c=>r.includes(c.id));t(l)}catch(s){console.error("Erro ao carregar cidades:",s)}finally{i(!1)}})()},[r]),n?A.jsx("div",{className:"text-sm text-gray-500",children:"Carregando..."}):r.length===0?A.jsx("div",{className:"text-sm text-gray-400",children:"Nenhuma cidade"}):e.length===0?A.jsx("div",{className:"text-sm text-gray-400",children:"Cidades não encontradas"}):A.jsxs("div",{className:"space-y-1",children:[e.slice(0,2).map(a=>A.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[A.jsx(sw,{className:"h-3 w-3 mr-1"}),a.nome," - ",a.estado]},a.id)),e.length>2&&A.jsxs("div",{className:"text-xs text-gray-500",children:["+",e.length-2," mais cidade",e.length-2!==1?"s":""]})]})},xbe=({vendedores:r,ordenarPor:e,direcaoOrdenacao:t,onOrdenar:n,onEditar:i,onInativar:a,onAtivar:s})=>{const l=c=>e!==c?null:t==="asc"?A.jsx(cm,{className:"h-4 w-4"}):A.jsx(Au,{className:"h-4 w-4"});return A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("nome"),children:A.jsxs("div",{className:"flex items-center",children:["Vendedor",l("nome")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("cpf"),children:A.jsxs("div",{className:"flex items-center",children:["CPF",l("cpf")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("celular"),children:A.jsxs("div",{className:"flex items-center",children:["Contato",l("celular")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("regiao"),children:A.jsxs("div",{className:"flex items-center",children:["Região",l("regiao")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("unidadeNegocio"),children:A.jsxs("div",{className:"flex items-center",children:["Unidade",l("unidadeNegocio")]})}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("tipoContrato"),children:A.jsxs("div",{className:"flex items-center",children:["Tipo Contrato",l("tipoContrato")]})}),A.jsx("th",{className:"table-header",children:"Cidades Atendidas"}),A.jsx("th",{className:"table-header cursor-pointer hover:bg-gray-100",onClick:()=>n("ativo"),children:A.jsxs("div",{className:"flex items-center",children:["Ativo",l("ativo")]})}),A.jsx("th",{className:"table-header",children:"Ações"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(c=>{var o;return A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsx("td",{className:"table-cell",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:A.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:A.jsx(Q0,{className:"h-5 w-5 text-indigo-600"})})}),A.jsxs("div",{className:"ml-4",children:[A.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.nome}),c.codigoVendSistema&&A.jsxs("div",{className:"text-sm text-gray-500",children:["Código: ",c.codigoVendSistema]})]})]})}),A.jsx("td",{className:"table-cell",children:A.jsx("div",{className:"text-sm text-gray-900",children:Nf(c.cpf)})}),A.jsxs("td",{className:"table-cell",children:[A.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[A.jsx(HF,{className:"h-4 w-4 mr-1"}),fh(c.celular)]}),c.email&&A.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[A.jsx(c4,{className:"h-4 w-4 mr-1"}),c.email]})]}),A.jsx("td",{className:"table-cell",children:A.jsx("div",{className:"text-sm text-gray-900",children:((o=Gw.find(u=>u.valor===c.regiao))==null?void 0:o.nome)||c.regiao})}),A.jsx("td",{className:"table-cell",children:A.jsx("span",{className:"text-sm text-gray-900 capitalize",children:c.unidadeNegocio==="ambos"?"Ambos":c.unidadeNegocio})}),A.jsx("td",{className:"table-cell",children:A.jsx("span",{className:"text-sm text-gray-900 capitalize",children:c.tipoContrato==="clt"?"CLT":c.tipoContrato==="pj"?"PJ":c.tipoContrato==="autonomo"?"Autônomo":c.tipoContrato})}),A.jsx("td",{className:"table-cell",children:A.jsx(wbe,{cidadesIds:c.cidadesAtendidas||[]})}),A.jsx("td",{className:"table-cell",children:A.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:c.ativo?"Ativo":"Inativo"})}),A.jsx("td",{className:"table-cell",children:A.jsxs("div",{className:"flex space-x-2",children:[A.jsx("button",{onClick:()=>i(c),className:"text-primary-600 hover:text-primary-900",title:"Editar",children:A.jsx(um,{className:"h-4 w-4"})}),c.ativo?A.jsx("button",{onClick:()=>a(c),className:"text-red-600 hover:text-red-900",title:"Inativar vendedor",children:A.jsx(da,{className:"h-4 w-4"})}):A.jsx("button",{onClick:()=>s(c),className:"text-green-600 hover:text-green-900",title:"Ativar vendedor",children:A.jsx(aw,{className:"h-4 w-4"})})]})})]},c.id)})})]})})},_be=({value:r,onChange:e,disabled:t=!1,placeholder:n="Selecione as cidades"})=>{const[i,a]=ce.useState([]),[s,l]=ce.useState(!1),[c,o]=ce.useState(!1),[u,f]=ce.useState(""),d=ce.useRef(null);ce.useEffect(()=>{(async()=>{try{l(!0);const w=await cc.listar();a(w)}catch(w){console.error("Erro ao carregar cidades:",w)}finally{l(!1)}})()},[]),ce.useEffect(()=>{const v=w=>{d.current&&!d.current.contains(w.target)&&o(!1)};return c&&document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[c]);const h=i.filter(v=>v.nome.toLowerCase().includes(u.toLowerCase())||v.estado.toLowerCase().includes(u.toLowerCase())),m=i.filter(v=>r.includes(v.id)),g=v=>{if(t)return;const w=r.includes(v)?r.filter(C=>C!==v):[...r,v];e(w)},p=v=>{t||e(r.filter(w=>w!==v))},y=()=>{t||e([])};return A.jsxs("div",{className:"relative",ref:d,children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cidades Atendidas"}),A.jsx("div",{className:"relative",children:A.jsxs("div",{className:`min-h-[42px] border rounded-md p-2 cursor-pointer ${t?"bg-gray-100 cursor-not-allowed":"bg-white hover:border-gray-400"} ${c?"border-blue-500 ring-1 ring-blue-500":"border-gray-300"}`,onClick:()=>!t&&o(!c),children:[A.jsx("div",{className:"flex flex-wrap gap-1",children:m.length>0?m.map(v=>A.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-md",children:[v.nome," - ",v.estado,!t&&A.jsx("button",{type:"button",onClick:w=>{w.stopPropagation(),p(v.id)},className:"text-blue-600 hover:text-blue-800",children:A.jsx(da,{className:"h-3 w-3"})})]},v.id)):A.jsx("span",{className:"text-gray-500",children:n})}),!t&&A.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center gap-1",children:[r.length>0&&A.jsx("button",{type:"button",onClick:v=>{v.stopPropagation(),y()},className:"text-gray-400 hover:text-gray-600",children:A.jsx(da,{className:"h-4 w-4"})}),A.jsx(Au,{className:`h-4 w-4 text-gray-400 transition-transform ${c?"rotate-180":""}`})]})]})}),c&&!t&&A.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-hidden",children:[A.jsx("div",{className:"p-2 border-b border-gray-200",children:A.jsx("input",{type:"text",placeholder:"Buscar cidades...",value:u,onChange:v=>f(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onClick:v=>v.stopPropagation()})}),A.jsx("div",{className:"max-h-48 overflow-y-auto",children:s?A.jsx("div",{className:"p-4 text-center text-gray-500",children:"Carregando cidades..."}):h.length===0?A.jsx("div",{className:"p-4 text-center text-gray-500",children:"Nenhuma cidade encontrada"}):h.map(v=>{const w=r.includes(v.id);return A.jsxs("div",{className:`flex items-center justify-between px-3 py-2 cursor-pointer hover:bg-gray-50 ${w?"bg-blue-50":""}`,onClick:()=>g(v.id),children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("div",{className:"font-medium",children:v.nome}),A.jsx("div",{className:"text-sm text-gray-500",children:v.estado})]}),w&&A.jsx(o4,{className:"h-4 w-4 text-blue-600"})]},v.id)})}),r.length>0&&A.jsxs("div",{className:"p-2 border-t border-gray-200 bg-gray-50 text-sm text-gray-600",children:[r.length," cidade",r.length!==1?"s":""," selecionada",r.length!==1?"s":""]})]})]})},Sbe=({aberto:r,editando:e,valores:t,erros:n={},onChange:i,onCancelar:a,onConfirmar:s,somenteLeitura:l=!1})=>r?A.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:A.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:A.jsxs("div",{className:"mt-3",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e?"Editar Vendedor":"Novo Vendedor"}),A.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:A.jsx(da,{className:"h-5 w-5"})})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome *"}),A.jsx("input",{type:"text",required:!0,value:t.nome,onChange:c=>i({...t,nome:c.target.value}),disabled:l,className:`input-field ${n.nome?"border-red-500":""}`}),n.nome&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.nome})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CPF *"}),A.jsx("input",{type:"text",required:!0,value:vb(t.cpf||""),onChange:c=>{const o=c.target.value.replace(/\D/g,"");i({...t,cpf:o})},disabled:l,className:`input-field ${n.cpf?"border-red-500":""}`,placeholder:"000.000.000-00"}),n.cpf&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.cpf})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Código Vend.Sistema"}),A.jsx("input",{type:"text",value:t.codigoVendSistema,onChange:c=>i({...t,codigoVendSistema:c.target.value}),disabled:l,className:`input-field ${n.codigoVendSistema?"border-red-500":""}`,placeholder:"Ex: 12345"}),n.codigoVendSistema&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.codigoVendSistema})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo de Contrato *"}),A.jsxs("select",{required:!0,value:t.tipoContrato,onChange:c=>i({...t,tipoContrato:c.target.value}),disabled:l,className:`input-field ${n.tipoContrato?"border-red-500":""}`,children:[A.jsx("option",{value:"clt",children:"CLT"}),A.jsx("option",{value:"pj",children:"PJ"}),A.jsx("option",{value:"autonomo",children:"Autônomo"}),A.jsx("option",{value:"outro",children:"Outro"})]}),n.tipoContrato&&A.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.tipoContrato})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),A.jsx("input",{type:"email",value:t.email,onChange:c=>i({...t,email:c.target.value}),disabled:l,className:`input-field ${n.email?"border-red-500":""}`,placeholder:"exemplo@email.com"}),n.email&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.email})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Celular *"}),A.jsx("input",{type:"text",required:!0,value:t.celular,onChange:c=>i({...t,celular:Og(c.target.value)}),disabled:l,className:`input-field ${n.celular?"border-red-500":""}`,placeholder:"(73) 99999-9999"}),n.celular&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.celular})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Região *"}),A.jsxs("select",{required:!0,value:t.regiao,onChange:c=>i({...t,regiao:c.target.value}),disabled:l,className:`input-field ${n.regiao?"border-red-500":""}`,children:[A.jsx("option",{value:"",children:"Selecione uma região"}),Gw.map(c=>A.jsx("option",{value:c.valor,children:c.nome},c.valor))]}),n.regiao&&A.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.regiao})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Unidade de Negócio *"}),A.jsxs("select",{required:!0,value:t.unidadeNegocio,onChange:c=>i({...t,unidadeNegocio:c.target.value}),disabled:l,className:`input-field ${n.unidadeNegocio?"border-red-500":""}`,children:[A.jsx("option",{value:"frigorifico",children:"Frigorífico"}),A.jsx("option",{value:"ovos",children:"Ovos"}),A.jsx("option",{value:"ambos",children:"Ambos"})]}),n.unidadeNegocio&&A.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.unidadeNegocio})]})]}),A.jsx("div",{children:A.jsx(_be,{value:t.cidadesAtendidas||[],onChange:c=>i({...t,cidadesAtendidas:c}),disabled:l,placeholder:"Selecione as cidades que o vendedor atende"})}),A.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[A.jsx("button",{type:"button",onClick:a,className:"btn-secondary",children:"Cancelar"}),!l&&A.jsx("button",{type:"button",onClick:s,className:"btn-primary",children:e?"Atualizar":"Cadastrar"})]})]})]})})}):null,Ebe=({value:r,onChange:e,placeholder:t="Filtrar por cidade"})=>{const[n,i]=ce.useState([]),[a,s]=ce.useState(!1),[l,c]=ce.useState(!1),[o,u]=ce.useState(""),f=ce.useRef(null);ce.useEffect(()=>{(async()=>{try{s(!0);const y=await cc.listar();i(y)}catch(y){console.error("Erro ao carregar cidades:",y)}finally{s(!1)}})()},[]),ce.useEffect(()=>{const p=y=>{f.current&&!f.current.contains(y.target)&&c(!1)};return l&&document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[l]);const d=n.filter(p=>p.nome.toLowerCase().includes(o.toLowerCase())||p.estado.toLowerCase().includes(o.toLowerCase())),h=n.find(p=>p.id===r),m=p=>{e(p),c(!1),u("")},g=()=>{e(""),u("")};return A.jsxs("div",{className:"relative",ref:f,children:[A.jsx("div",{className:`min-h-[42px] border rounded-md p-2 cursor-pointer ${l?"border-blue-500 ring-1 ring-blue-500":"border-gray-300"} hover:border-gray-400 bg-white`,onClick:()=>c(!l),children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:h?"text-gray-900":"text-gray-500",children:h?`${h.nome} - ${h.estado}`:t}),A.jsxs("div",{className:"flex items-center gap-1",children:[r&&A.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),g()},className:"text-gray-400 hover:text-gray-600",children:A.jsx(da,{className:"h-4 w-4"})}),A.jsx(Au,{className:`h-4 w-4 text-gray-400 transition-transform ${l?"rotate-180":""}`})]})]})}),l&&A.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-hidden",children:[A.jsx("div",{className:"p-2 border-b border-gray-200",children:A.jsx("input",{type:"text",placeholder:"Buscar cidades...",value:o,onChange:p=>u(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onClick:p=>p.stopPropagation()})}),A.jsx("div",{className:"max-h-48 overflow-y-auto",children:a?A.jsx("div",{className:"p-4 text-center text-gray-500",children:"Carregando cidades..."}):d.length===0?A.jsx("div",{className:"p-4 text-center text-gray-500",children:"Nenhuma cidade encontrada"}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"px-3 py-2 cursor-pointer hover:bg-gray-50 text-sm text-gray-600",onClick:()=>m(""),children:"Todas as cidades"}),d.map(p=>A.jsxs("div",{className:"px-3 py-2 cursor-pointer hover:bg-gray-50",onClick:()=>m(p.id),children:[A.jsx("div",{className:"font-medium",children:p.nome}),A.jsx("div",{className:"text-sm text-gray-500",children:p.estado})]},p.id))]})})]})]})},Abe=({termoBusca:r,setTermoBusca:e,filtroCidade:t,setFiltroCidade:n,filtroStatus:i,setFiltroStatus:a})=>{const s=r||t||i!=="todos";return A.jsxs("div",{className:"card space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[A.jsxs("div",{className:"relative",children:[A.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),A.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou telefone...",value:r,onChange:l=>e(l.target.value),className:"input-field pl-10"})]}),A.jsx("div",{children:A.jsx(Ebe,{value:t,onChange:n,placeholder:"Filtrar por cidade"})}),A.jsx("div",{children:A.jsxs("select",{value:i,onChange:l=>a(l.target.value),className:"input-field",children:[A.jsx("option",{value:"todos",children:"Todos os Status"}),A.jsx("option",{value:"ativo",children:"Ativo"}),A.jsx("option",{value:"inativo",children:"Inativo"})]})})]}),s&&A.jsx(xm,{onClear:()=>{e(""),n(""),a("todos")}})]})},_m="vendedores";async function Cbe(){const r=xa(xr(Lt,_m),kf("dataCriacao","desc"));return(await Lr(r)).docs.map(t=>({id:t.id,...t.data()}))}const Rg=r=>r.replace(/\D/g,"");async function SV(r,e){const t=Rg(r),n=xa(xr(Lt,_m),rl("cpf","==",t)),i=await Lr(n);return e?i.docs.some(a=>a.id!==e):!i.empty}async function kbe(r){if(await SV(r.cpf))throw new Error("CPF já cadastrado no sistema");const t={...r,nome:r.nome.toUpperCase(),cpf:Rg(r.cpf),regiao:r.regiao.toUpperCase(),unidadeNegocio:r.unidadeNegocio.toLowerCase(),celular:Rg(r.celular),ativo:r.ativo!==void 0?r.ativo:!0,cidadesAtendidas:r.cidadesAtendidas||[],dataCriacao:fa(),dataAtualizacao:fa()};return(await ah(xr(Lt,_m),t)).id}async function Tbe(r,e){if(await SV(e.cpf,r))throw new Error("CPF já cadastrado no sistema");const n={...e,nome:e.nome.toUpperCase(),cpf:Rg(e.cpf),regiao:e.regiao.toUpperCase(),unidadeNegocio:e.unidadeNegocio.toLowerCase(),celular:Rg(e.celular),ativo:e.ativo!==void 0?e.ativo:!0,cidadesAtendidas:e.cidadesAtendidas||[],dataAtualizacao:fa()};await ps(kn(Lt,_m,r),n)}async function Nbe(r){await ps(kn(Lt,_m,r),{ativo:!1,dataAtualizacao:fa()})}async function Pbe(r){await ps(kn(Lt,_m,r),{ativo:!0,dataAtualizacao:fa()})}const o0={listar:Cbe,criar:kbe,atualizar:Tbe,inativar:Nbe,ativar:Pbe};class jbe extends wm{constructor(){super(...arguments),this.config={titulo:"Vendedores",campos:["nome","cpf","email","celular","regiao","codigoVendSistema","unidadeNegocio","tipoContrato","ativo","cidadesAtendidas","dataCriacao"],formatacao:{nome:e=>e?e.toUpperCase():"N/A",cpf:e=>e?Nf(e):"N/A",email:e=>e?e.toLowerCase():"N/A",celular:e=>e?fh(e):"N/A",regiao:e=>e?e.toUpperCase():"N/A",codigoVendSistema:e=>e||"N/A",unidadeNegocio:e=>e?{frigorifico:"Frigorífico",ovos:"Ovos",ambos:"Ambos"}[e]||e:"N/A",tipoContrato:e=>e?{clt:"CLT",pj:"PJ",autonomo:"Autônomo",outro:"Outro"}[e]||e:"N/A",ativo:e=>e===!0?"Sim":e===!1?"Não":"N/A",cidadesAtendidas:async e=>{if(!e||!Array.isArray(e)||e.length===0)return"Nenhuma cidade";try{const t=await cc.listar();return e.map(i=>{const a=t.find(s=>s.id===i);return a?a.nome:i}).join(", ")}catch(t){return console.error("Erro ao buscar nomes das cidades:",t),e.join(", ")}},dataCriacao:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e}}}}}function Ibe(){const{showNotification:r}=fl(),[e,t]=ce.useState([]),[n,i]=ce.useState(!0),[a,s]=ce.useState(!1),[l,c]=ce.useState(null),[o,u]=ce.useState(!1),[f,d]=ce.useState(null),[h,m]=ce.useState(!1),[g,p]=ce.useState(null),[y,v]=ce.useState(""),[w,C]=ce.useState("todos"),[P,F]=ce.useState("todos"),[L,j]=ce.useState(""),[I,z]=ce.useState(1),[$,B]=ce.useState("dataCriacao"),[T,R]=ce.useState("desc"),[N,_]=ce.useState({nome:"",cpf:"",email:"",celular:"",regiao:"",codigoVendSistema:"",unidadeNegocio:"frigorifico",tipoContrato:"clt",ativo:!0,cidadesAtendidas:[]}),[E,S]=ce.useState({}),k=15,M=ce.useCallback(he=>{var me,Ce,ke;const xe={};if(!he.ativo)return S({}),!0;if(he.nome.trim()||(xe.nome="Nome é obrigatório"),(me=he.cpf)!=null&&me.trim()?yV(he.cpf)||(xe.cpf="CPF inválido"):xe.cpf="CPF é obrigatório",(Ce=he.celular)!=null&&Ce.trim()?yC(he.celular)||(xe.celular="Celular inválido"):xe.celular="Celular é obrigatório",(ke=he.regiao)!=null&&ke.trim()||(xe.regiao="Região é obrigatória"),he.unidadeNegocio||(xe.unidadeNegocio="Unidade de negócio é obrigatória"),he.tipoContrato||(xe.tipoContrato="Tipo de contrato é obrigatório"),he.email&&!gC(he.email)&&(xe.email="Email inválido"),he.codigoVendSistema){const Oe=parseInt(he.codigoVendSistema);(isNaN(Oe)||Oe<0)&&(xe.codigoVendSistema="Código deve ser um número inteiro positivo")}return S(xe),Object.keys(xe).length===0},[]),V=ce.useCallback(async()=>{try{i(!0);const he=await o0.listar();t(he)}catch(he){console.error("Erro ao buscar vendedores:",he),r("Erro ao carregar vendedores","error")}finally{i(!1)}},[r]),O=ce.useCallback(async()=>{var he,xe;if(l&&!l.ativo){r("Não é possível editar vendedores inativos","error");return}if(!M(N)){r("Por favor, corrija os erros no formulário","error");return}try{const me={...N,nome:N.nome.toUpperCase(),cpf:((he=N.cpf)==null?void 0:he.replace(/\D/g,""))||"",regiao:N.regiao.toUpperCase(),celular:((xe=N.celular)==null?void 0:xe.replace(/\D/g,""))||""};l?(await o0.atualizar(l.id,me),r("Vendedor atualizado com sucesso!","success")):(await o0.criar(me),r("Vendedor cadastrado com sucesso!","success")),s(!1),c(null),_({nome:"",cpf:"",email:"",celular:"",regiao:"",codigoVendSistema:"",unidadeNegocio:"frigorifico",tipoContrato:"clt",ativo:!0,cidadesAtendidas:[]}),await V()}catch(me){console.error("Erro ao salvar vendedor:",me),me instanceof Error&&me.message==="CPF já cadastrado no sistema"?r("CPF já cadastrado no sistema","error"):r("Erro ao salvar vendedor","error")}},[V,l,r,M,N]),X=ce.useCallback(()=>{c(null),_({nome:"",cpf:"",email:"",celular:"",regiao:"",codigoVendSistema:"",unidadeNegocio:"frigorifico",tipoContrato:"clt",ativo:!0,cidadesAtendidas:[]}),s(!0)},[]),Q=ce.useCallback(he=>{var xe,me;c(he),_({nome:he.nome||"",cpf:he.cpf||"",email:he.email||"",celular:fh(he.celular||""),regiao:((xe=he.regiao)==null?void 0:xe.toUpperCase())||"",codigoVendSistema:he.codigoVendSistema||"",unidadeNegocio:((me=he.unidadeNegocio)==null?void 0:me.toLowerCase())||"frigorifico",tipoContrato:he.tipoContrato||"clt",ativo:he.ativo!==void 0?he.ativo:!0,cidadesAtendidas:he.cidadesAtendidas||[]}),s(!0)},[]),re=ce.useCallback(async he=>{d(he),u(!0)},[]),G=ce.useCallback(async()=>{if(f)try{await o0.inativar(f.id),r("Vendedor inativado com sucesso!","success"),u(!1),d(null),await V()}catch(he){console.error("Erro ao inativar vendedor:",he),r("Erro ao inativar vendedor","error")}},[f,r,V]),J=ce.useCallback(()=>{u(!1),d(null)},[]),q=ce.useCallback(async he=>{p(he),m(!0)},[]),U=ce.useCallback(async()=>{if(g)try{await o0.ativar(g.id),r("Vendedor ativado com sucesso!","success"),m(!1),p(null),await V()}catch(he){console.error("Erro ao ativar vendedor:",he),r("Erro ao ativar vendedor","error")}},[g,r,V]),Z=ce.useCallback(()=>{m(!1),p(null)},[]),ie=ce.useCallback(he=>{$===he?R(T==="asc"?"desc":"asc"):(B(he),R("asc"))},[T,$]),le=ce.useMemo(()=>{const he=y.toLowerCase(),xe=L.toLowerCase();return e.filter(me=>{var He,Qe,tt,st;const Ce=((He=me.nome)==null?void 0:He.toLowerCase().includes(he))||((Qe=me.cpf)==null?void 0:Qe.includes(he))||((tt=me.email)==null?void 0:tt.toLowerCase().includes(he))||((st=me.regiao)==null?void 0:st.toLowerCase().includes(he)),ke=w==="todos"||me.unidadeNegocio===w,Oe=P==="todos"||me.ativo===P,De=!xe||me.cidadesAtendidas&&me.cidadesAtendidas.includes(xe);return Ce&&ke&&Oe&&De})},[w,P,L,e,y]),de=ce.useMemo(()=>{const he=[...le];return he.sort((xe,me)=>{let Ce=xe[$],ke=me[$];return $==="nome"||$==="email"||$==="regiao"||$==="tipoContrato"?(Ce=(Ce==null?void 0:Ce.toLowerCase())||"",ke=(ke==null?void 0:ke.toLowerCase())||""):$==="ativo"&&(Ce=Ce?1:0,ke=ke?1:0),Ce<ke?T==="asc"?-1:1:Ce>ke?T==="asc"?1:-1:0}),he},[T,le,$]),fe=ce.useCallback(async()=>{try{const he=new jbe,xe={termoBusca:y,filtroUnidadeNegocio:w,filtroAtivo:P==="todos"?void 0:P.toString(),filtroCidade:L,ordenarPor:$,direcaoOrdenacao:T};await he.exportToExcel(de,xe),r("Exportação realizada com sucesso!","success")}catch(he){console.error("Erro ao exportar Excel:",he),r("Erro ao exportar dados","error")}},[de,y,w,P,L,$,T,r]),ue=ce.useMemo(()=>{const he=(I-1)*k,xe=he+k;return de.slice(he,xe)},[k,de,I]),Ae=ce.useMemo(()=>{const he=de.length,xe=Math.ceil(he/k)||1,me=(I-1)*k,Ce=Math.min(me+k,he);return{total:he,totalPaginas:xe,inicio:me,fim:Ce}},[k,de,I]);return{loading:n,vendedoresPaginados:ue,totalPaginado:Ae,paginaAtual:I,setPaginaAtual:z,itensPorPagina:k,termoBusca:y,setTermoBusca:v,filtroUnidadeNegocio:w,setFiltroUnidadeNegocio:C,filtroAtivo:P,setFiltroAtivo:F,filtroCidade:L,setFiltroCidade:j,ordenarPor:$,direcaoOrdenacao:T,alternarOrdenacao:ie,mostrarModal:a,editando:l,valores:N,setValores:_,erros:E,setMostrarModal:s,mostrarModalInativacao:o,vendedorParaInativar:f,mostrarModalAtivacao:h,vendedorParaAtivar:g,abrirCriacao:X,editarVendedor:Q,inativarVendedor:re,confirmarInativacao:G,cancelarInativacao:J,ativarVendedor:q,confirmarAtivacao:U,cancelarAtivacao:Z,confirmar:O,carregar:V,handleExportExcel:fe}}const Obe=()=>{const[r,e]=ce.useState(!1),[t,n]=ce.useState(!1),i=ce.useRef(!1),{loading:a,vendedoresPaginados:s,totalPaginado:l,paginaAtual:c,setPaginaAtual:o,termoBusca:u,setTermoBusca:f,filtroAtivo:d,setFiltroAtivo:h,filtroCidade:m,setFiltroCidade:g,ordenarPor:p,direcaoOrdenacao:y,alternarOrdenacao:v,abrirCriacao:w,editarVendedor:C,inativarVendedor:P,confirmarInativacao:F,cancelarInativacao:L,ativarVendedor:j,confirmarAtivacao:I,cancelarAtivacao:z,carregar:$,mostrarModal:B,setMostrarModal:T,mostrarModalInativacao:R,vendedorParaInativar:N,mostrarModalAtivacao:_,vendedorParaAtivar:E,valores:S,setValores:k,erros:M,confirmar:V,editando:O,handleExportExcel:X}=Ibe();ce.useEffect(()=>{i.current||(i.current=!0,$())},[$]);const Q=()=>`${`vendedores_${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")}`}.xlsx`,re=()=>{e(!0)},G=()=>{X()},J=q=>{$()};return a?A.jsx("div",{className:"flex items-center justify-center h-64",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Vendedores"}),A.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Gerencie os vendedores da empresa"})]}),A.jsxs("div",{className:"flex space-x-3",children:[A.jsxs("button",{onClick:re,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 flex items-center",children:[A.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Exportar Excel"]}),A.jsxs("button",{onClick:()=>n(!0),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 flex items-center",children:[A.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Importar Excel"]}),A.jsx("button",{onClick:w,className:"btn-primary",children:"Novo Vendedor"})]})]}),A.jsx(Abe,{termoBusca:u,setTermoBusca:f,filtroCidade:m,setFiltroCidade:g,filtroStatus:d==="todos"?"todos":d?"ativo":"inativo",setFiltroStatus:q=>{h(q==="todos"?"todos":q==="ativo")}}),A.jsxs("div",{className:"card",children:[A.jsx(xbe,{vendedores:s,ordenarPor:p,direcaoOrdenacao:y,onOrdenar:v,onEditar:C,onInativar:P,onAtivar:j}),l.totalPaginas>1&&A.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6",children:[A.jsxs("div",{className:"text-sm text-gray-700",children:["Mostrando ",l.inicio+1," a ",l.fim," de"," ",l.total," resultados"]}),A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("button",{onClick:()=>o(Math.max(1,c-1)),disabled:c===1,className:"px-3 py-1 text-sm border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Anterior"}),Array.from({length:l.totalPaginas},(q,U)=>U+1).map(q=>A.jsx("button",{onClick:()=>o(q),className:`px-3 py-1 text-sm border rounded-md ${c===q?"bg-primary-600 text-white border-primary-600":"border-gray-300 hover:bg-gray-50"}`,children:q},q)),A.jsx("button",{onClick:()=>o(Math.min(l.totalPaginas,c+1)),disabled:c===l.totalPaginas,className:"px-3 py-1 text-sm border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Próximo"})]})]})]}),A.jsx(Sbe,{aberto:B,editando:O,valores:S,erros:M,onChange:k,onCancelar:()=>T(!1),onConfirmar:V,somenteLeitura:O?!O.ativo:!1}),A.jsx(wu,{type:"warning",title:"Confirmar Inativação",message:"Tem certeza que deseja inativar este vendedor?",details:N?[{label:"Nome",value:N.nome},{label:"CPF",value:Nf(N.cpf)},{label:"Região",value:N.regiao},{label:"Unidade",value:N.unidadeNegocio==="ambos"?"Ambos":N.unidadeNegocio},{label:"Celular",value:Og(N.celular)}]:[],isOpen:R,onClose:L,primaryAction:{label:"Confirmar Inativação",onClick:F,variant:"warning"},secondaryAction:{label:"Cancelar",onClick:L,variant:"secondary"}}),A.jsx(wu,{type:"success",title:"Ativar Vendedor",message:"Tem certeza que deseja ativar este vendedor?",details:E?[{label:"Nome",value:E.nome},{label:"CPF",value:Nf(E.cpf)},{label:"Região",value:E.regiao},{label:"Unidade",value:E.unidadeNegocio==="ambos"?"Ambos":E.unidadeNegocio},{label:"Celular",value:Og(E.celular)}]:[],isOpen:_,onClose:z,primaryAction:{label:"Confirmar Ativação",onClick:I,variant:"success"},secondaryAction:{label:"Cancelar",onClick:z,variant:"secondary"}}),A.jsx(bm,{isOpen:r,onClose:()=>e(!1),onExport:G,titulo:"Vendedores",nomeArquivo:Q()}),A.jsx(Hw,{entityType:"vendedores",isOpen:t,onClose:()=>n(!1),onSuccess:J})]})},Rbe=()=>A.jsx(Obe,{}),el={filtrarPorPeriodo(r,e){const t=new Date;let n;switch(e){case"semana":n=new Date(t.getTime()-10080*60*1e3);break;case"mes":n=new Date(t.getTime()-720*60*60*1e3);break;case"trimestre":n=new Date(t.getTime()-2160*60*60*1e3);break;case"ano":n=new Date(t.getTime()-365*24*60*60*1e3);break;default:return r}return r.filter(a=>{var l,c;let s;if((l=a.dataCriacao)!=null&&l.toDate)s=a.dataCriacao.toDate();else if(a.dataCriacao instanceof Date)s=a.dataCriacao;else if((c=a.dataAtualizacao)!=null&&c.toDate)s=a.dataAtualizacao.toDate();else if(a.dataAtualizacao instanceof Date)s=a.dataAtualizacao;else return!0;return s>=n})},async buscarMotoristas(r){try{let n=(await Lr(xr(Lt,"funcionarios"))).docs.map(i=>({id:i.id,...i.data()})).filter(i=>i.funcao==="motorista");return r&&(n=this.filtrarPorPeriodo(n,r)),n}catch(e){throw console.error("Erro ao buscar motoristas:",e),e}},async buscarFuncionarios(r){try{let t=(await Lr(xr(Lt,"funcionarios"))).docs.map(n=>({id:n.id,...n.data()}));return r&&(t=this.filtrarPorPeriodo(t,r)),t}catch(e){throw console.error("Erro ao buscar funcionários:",e),e}},async buscarVeiculos(r){try{let t=(await Lr(xr(Lt,"veiculos"))).docs.map(n=>({id:n.id,...n.data()}));return r&&(t=this.filtrarPorPeriodo(t,r)),t}catch(e){throw console.error("Erro ao buscar veículos:",e),e}},async buscarRotas(r){try{let t=(await Lr(xr(Lt,"rotas"))).docs.map(n=>({id:n.id,...n.data()}));return r&&(t=this.filtrarPorPeriodo(t,r)),t}catch(e){throw console.error("Erro ao buscar rotas:",e),e}},async buscarFolgas(r){try{let t=(await Lr(xr(Lt,"folgas"))).docs.map(n=>({id:n.id,...n.data()}));return r&&(t=this.filtrarPorPeriodo(t,r)),t}catch(e){throw console.error("Erro ao buscar folgas:",e),e}},async buscarCidades(r){try{let t=(await Lr(xr(Lt,"cidades"))).docs.map(n=>({id:n.id,...n.data()}));return r&&(t=this.filtrarPorPeriodo(t,r)),t}catch(e){throw console.error("Erro ao buscar cidades:",e),e}},async buscarVendedores(r){try{let t=(await Lr(xr(Lt,"vendedores"))).docs.map(n=>({id:n.id,...n.data()}));return r&&(t=this.filtrarPorPeriodo(t,r)),t}catch(e){throw console.error("Erro ao buscar vendedores:",e),e}},processarDadosMotoristas(r){const e=r.reduce((n,i)=>{const a=i.status||"disponivel";return n[a]=(n[a]||0)+1,n},{});return[{name:"Trabalhando",value:e.trabalhando||0,color:"#10B981"},{name:"Disponível",value:e.disponivel||0,color:"#3B82F6"},{name:"Folga",value:e.folga||0,color:"#F59E0B"},{name:"Férias",value:e.ferias||0,color:"#EF4444"}].filter(n=>n.value>0)},processarDadosFuncionarios(r){const e=r.reduce((n,i)=>{const a=i.status||"disponivel";return n[a]=(n[a]||0)+1,n},{});return[{name:"Trabalhando",value:e.trabalhando||0,color:"#10B981"},{name:"Disponível",value:e.disponivel||0,color:"#3B82F6"},{name:"Folga",value:e.folga||0,color:"#F59E0B"},{name:"Férias",value:e.ferias||0,color:"#EF4444"}].filter(n=>n.value>0)},processarDadosVeiculos(r){const e=r.reduce((n,i)=>{const a=i.status||"disponivel";return n[a]=(n[a]||0)+1,n},{});return[{name:"Em Operação",value:e.operacao||e.trabalhando||e.em_uso||0,color:"#10B981"},{name:"Disponível",value:e.disponivel||0,color:"#3B82F6"},{name:"Manutenção",value:e.manutencao||0,color:"#F59E0B"},{name:"Inativo",value:e.inativo||e.parado||0,color:"#EF4444"}].filter(n=>n.value>0)},processarDadosRotasTemporal(r){const e=r.reduce((n,i)=>{var l;let a;(l=i.dataCriacao)!=null&&l.toDate?a=i.dataCriacao.toDate():i.dataCriacao instanceof Date?a=i.dataCriacao:a=new Date;const s=a.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"});return n[s]||(n[s]=0),n[s]++,n},{});return Object.entries(e).sort(([n],[i])=>new Date(n.split("/").reverse().join("-")).getTime()-new Date(i.split("/").reverse().join("-")).getTime()).map(([n,i])=>({name:n,value:i,color:"#3B82F6"}))},processarDadosRotas(r){const e=r.reduce((i,a)=>(a.diaSemana&&Array.isArray(a.diaSemana)&&a.diaSemana.forEach(s=>{i[s]=(i[s]||0)+1}),i),{});return[{name:"Segunda-feira",value:e["Segunda-feira"]||0,color:"#3B82F6"},{name:"Terça-feira",value:e["Terça-feira"]||0,color:"#10B981"},{name:"Quarta-feira",value:e["Quarta-feira"]||0,color:"#F59E0B"},{name:"Quinta-feira",value:e["Quinta-feira"]||0,color:"#8B5CF6"},{name:"Sexta-feira",value:e["Sexta-feira"]||0,color:"#EF4444"},{name:"Sábado",value:e.Sábado||0,color:"#6B7280"},{name:"Domingo",value:e.Domingo||0,color:"#F97316"}].filter(i=>i.value>0)},processarDadosFolgas(r){const e=r.reduce((n,i)=>{const a=i.status||"pendente";return n[a]=(n[a]||0)+1,n},{});return[{name:"Pendente",value:e.pendente||0,color:"#F59E0B"},{name:"Aprovada",value:e.aprovada||0,color:"#10B981"},{name:"Rejeitada",value:e.rejeitada||0,color:"#EF4444"},{name:"Cancelada",value:e.cancelada||0,color:"#6B7280"}]}};function Kn(r){"@babel/helpers - typeof";return Kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kn(r)}var $l=Uint8Array,Mo=Uint16Array,wC=Int32Array,xC=new $l([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_C=new $l([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),WR=new $l([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),EV=function(r,e){for(var t=new Mo(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new wC(t[30]),n=1;n<30;++n)for(var a=t[n];a<t[n+1];++a)i[a]=a-t[n]<<5|n;return{b:t,r:i}},AV=EV(xC,2),Mbe=AV.b,$E=AV.r;Mbe[28]=258,$E[258]=28;var Dbe=EV(_C,0),GR=Dbe.r,UE=new Mo(32768);for(var _i=0;_i<32768;++_i){var tf=(_i&43690)>>1|(_i&21845)<<1;tf=(tf&52428)>>2|(tf&13107)<<2,tf=(tf&61680)>>4|(tf&3855)<<4,UE[_i]=((tf&65280)>>8|(tf&255)<<8)>>1}var I0=(function(r,e,t){for(var n=r.length,i=0,a=new Mo(e);i<n;++i)r[i]&&++a[r[i]-1];var s=new Mo(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(t){l=new Mo(1<<e);var c=15-e;for(i=0;i<n;++i)if(r[i])for(var o=i<<4|r[i],u=e-r[i],f=s[r[i]-1]++<<u,d=f|(1<<u)-1;f<=d;++f)l[UE[f]>>c]=o}else for(l=new Mo(n),i=0;i<n;++i)r[i]&&(l[i]=UE[s[r[i]-1]++]>>15-r[i]);return l}),Kd=new $l(288);for(var _i=0;_i<144;++_i)Kd[_i]=8;for(var _i=144;_i<256;++_i)Kd[_i]=9;for(var _i=256;_i<280;++_i)Kd[_i]=7;for(var _i=280;_i<288;++_i)Kd[_i]=8;var bb=new $l(32);for(var _i=0;_i<32;++_i)bb[_i]=5;var Lbe=I0(Kd,9,0),Fbe=I0(bb,5,0),CV=function(r){return(r+7)/8|0},Bbe=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new $l(r.subarray(e,t))},Gc=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},l0=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},u2=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,a=t.slice();if(!i)return{t:TV,l:0};if(i==1){var s=new $l(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(P,F){return P.f-F.f}),t.push({s:-1,f:25001});var l=t[0],c=t[1],o=0,u=1,f=2;for(t[0]={s:-1,f:l.f+c.f,l,r:c};u!=i-1;)l=t[t[o].f<t[f].f?o++:f++],c=t[o!=u&&t[o].f<t[f].f?o++:f++],t[u++]={s:-1,f:l.f+c.f,l,r:c};for(var d=a[0].s,n=1;n<i;++n)a[n].s>d&&(d=a[n].s);var h=new Mo(d+1),m=VE(t[u-1],h,0);if(m>e){var n=0,g=0,p=m-e,y=1<<p;for(a.sort(function(F,L){return h[L.s]-h[F.s]||F.f-L.f});n<i;++n){var v=a[n].s;if(h[v]>e)g+=y-(1<<m-h[v]),h[v]=e;else break}for(g>>=p;g>0;){var w=a[n].s;h[w]<e?g-=1<<e-h[w]++-1:++n}for(;n>=0&&g;--n){var C=a[n].s;h[C]==e&&(--h[C],++g)}m=e}return{t:new $l(h),l:m}},VE=function(r,e,t){return r.s==-1?Math.max(VE(r.l,e,t+1),VE(r.r,e,t+1)):e[r.s]=t},KR=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Mo(++e),n=0,i=r[0],a=1,s=function(c){t[n++]=c},l=1;l<=e;++l)if(r[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=r[l]}return{c:t.subarray(0,n),n:e}},c0=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},kV=function(r,e,t){var n=t.length,i=CV(e+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var a=0;a<n;++a)r[i+a+4]=t[a];return(i+4+n)*8},XR=function(r,e,t,n,i,a,s,l,c,o,u){Gc(e,u++,t),++i[256];for(var f=u2(i,15),d=f.t,h=f.l,m=u2(a,15),g=m.t,p=m.l,y=KR(d),v=y.c,w=y.n,C=KR(g),P=C.c,F=C.n,L=new Mo(19),j=0;j<v.length;++j)++L[v[j]&31];for(var j=0;j<P.length;++j)++L[P[j]&31];for(var I=u2(L,7),z=I.t,$=I.l,B=19;B>4&&!z[WR[B-1]];--B);var T=o+5<<3,R=c0(i,Kd)+c0(a,bb)+s,N=c0(i,d)+c0(a,g)+s+14+3*B+c0(L,z)+2*L[16]+3*L[17]+7*L[18];if(c>=0&&T<=R&&T<=N)return kV(e,u,r.subarray(c,c+o));var _,E,S,k;if(Gc(e,u,1+(N<R)),u+=2,N<R){_=I0(d,h,0),E=d,S=I0(g,p,0),k=g;var M=I0(z,$,0);Gc(e,u,w-257),Gc(e,u+5,F-1),Gc(e,u+10,B-4),u+=14;for(var j=0;j<B;++j)Gc(e,u+3*j,z[WR[j]]);u+=3*B;for(var V=[v,P],O=0;O<2;++O)for(var X=V[O],j=0;j<X.length;++j){var Q=X[j]&31;Gc(e,u,M[Q]),u+=z[Q],Q>15&&(Gc(e,u,X[j]>>5&127),u+=X[j]>>12)}}else _=Lbe,E=Kd,S=Fbe,k=bb;for(var j=0;j<l;++j){var re=n[j];if(re>255){var Q=re>>18&31;l0(e,u,_[Q+257]),u+=E[Q+257],Q>7&&(Gc(e,u,re>>23&31),u+=xC[Q]);var G=re&31;l0(e,u,S[G]),u+=k[G],G>3&&(l0(e,u,re>>5&8191),u+=_C[G])}else l0(e,u,_[re]),u+=E[re]}return l0(e,u,_[256]),u+E[256]},$be=new wC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),TV=new $l(0),Ube=function(r,e,t,n,i,a){var s=a.z||r.length,l=new $l(n+s+5*(1+Math.ceil(s/7e3))+i),c=l.subarray(n,l.length-i),o=a.l,u=(a.r||0)&7;if(e){u&&(c[0]=a.r>>3);for(var f=$be[e-1],d=f>>13,h=f&8191,m=(1<<t)-1,g=a.p||new Mo(32768),p=a.h||new Mo(m+1),y=Math.ceil(t/3),v=2*y,w=function(fe){return(r[fe]^r[fe+1]<<y^r[fe+2]<<v)&m},C=new wC(25e3),P=new Mo(288),F=new Mo(32),L=0,j=0,I=a.i||0,z=0,$=a.w||0,B=0;I+2<s;++I){var T=w(I),R=I&32767,N=p[T];if(g[R]=N,p[T]=R,$<=I){var _=s-I;if((L>7e3||z>24576)&&(_>423||!o)){u=XR(r,c,0,C,P,F,j,z,B,I-B,u),z=L=j=0,B=I;for(var E=0;E<286;++E)P[E]=0;for(var E=0;E<30;++E)F[E]=0}var S=2,k=0,M=h,V=R-N&32767;if(_>2&&T==w(I-V))for(var O=Math.min(d,_)-1,X=Math.min(32767,I),Q=Math.min(258,_);V<=X&&--M&&R!=N;){if(r[I+S]==r[I+S-V]){for(var re=0;re<Q&&r[I+re]==r[I+re-V];++re);if(re>S){if(S=re,k=V,re>O)break;for(var G=Math.min(V,re-2),J=0,E=0;E<G;++E){var q=I-V+E&32767,U=g[q],Z=q-U&32767;Z>J&&(J=Z,N=q)}}}R=N,N=g[R],V+=R-N&32767}if(k){C[z++]=268435456|$E[S]<<18|GR[k];var ie=$E[S]&31,le=GR[k]&31;j+=xC[ie]+_C[le],++P[257+ie],++F[le],$=I+S,++L}else C[z++]=r[I],++P[r[I]]}}for(I=Math.max(I,$);I<s;++I)C[z++]=r[I],++P[r[I]];u=XR(r,c,o,C,P,F,j,z,B,I-B,u),o||(a.r=u&7|c[u/8|0]<<3,u-=7,a.h=p,a.p=g,a.i=I,a.w=$)}else{for(var I=a.w||0;I<s+o;I+=65535){var de=I+65535;de>=s&&(c[u/8|0]=o,de=s),u=kV(c,u+1,r.subarray(I,de))}a.i=s}return Bbe(l,0,n+CV(u)+i)},NV=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,a=t.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=n+=t[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},Vbe=function(r,e,t,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new $l(a.length+r.length);s.set(a),s.set(r,a.length),r=s,i.w=a.length}return Ube(r,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,i)},PV=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},zbe=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var i=NV();i.p(e.dictionary),PV(r,2,i.d())}};function zE(r,e){e||(e={});var t=NV();t.p(r);var n=Vbe(r,e,e.dictionary?6:2,4);return zbe(n,e),PV(n,n.length-4,t.d()),n}var qbe=typeof TextDecoder<"u"&&new TextDecoder,Hbe=0;try{qbe.decode(TV,{stream:!0}),Hbe=1}catch{}function Wbe(r){if(Array.isArray(r))return r}function Gbe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function YR(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function Kbe(r,e){if(r){if(typeof r=="string")return YR(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?YR(r,e):void 0}}function Xbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QR(r,e){return Wbe(r)||Gbe(r,e)||Kbe(r,e)||Xbe()}function ZR(r,e="utf8"){return new TextDecoder(e).decode(r)}const Ybe=new TextEncoder;function Qbe(r){return Ybe.encode(r)}const Zbe=1024*8,Jbe=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),f2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class SC{constructor(e=Zbe,t={}){Gn(this,"buffer");Gn(this,"byteLength");Gn(this,"byteOffset");Gn(this,"length");Gn(this,"offset");Gn(this,"lastWrittenByte");Gn(this,"littleEndian");Gn(this,"_data");Gn(this,"_mark");Gn(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof SC)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=f2[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===Jbe&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const c=new f2[t](l.buffer);return this.offset+=n,c.reverse(),c}const s=new f2[t](a);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return ZR(this.readBytes(e))}decodeText(e=1,t="utf8"){return ZR(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(Qbe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function Sm(r){let e=r.length;for(;--e>=0;)r[e]=0}const ewe=3,twe=258,jV=29,rwe=256,nwe=rwe+1+jV,IV=30,iwe=512,awe=new Array((nwe+2)*2);Sm(awe);const swe=new Array(IV*2);Sm(swe);const owe=new Array(iwe);Sm(owe);const lwe=new Array(twe-ewe+1);Sm(lwe);const cwe=new Array(jV);Sm(cwe);const uwe=new Array(IV);Sm(uwe);const fwe=(r,e,t,n)=>{let i=r&65535|0,a=r>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var qE=fwe;const dwe=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},hwe=new Uint32Array(dwe()),pwe=(r,e,t,n)=>{const i=hwe,a=n+t;r^=-1;for(let s=n;s<a;s++)r=r>>>8^i[(r^e[s])&255];return r^-1};var nc=pwe,HE={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},OV={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const mwe=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var gwe=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)mwe(t,n)&&(r[n]=t[n])}}return r},ywe=r=>{let e=0;for(let n=0,i=r.length;n<i;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,i=0,a=r.length;n<a;n++){let s=r[n];t.set(s,i),i+=s.length}return t},RV={assign:gwe,flattenChunks:ywe};let MV=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{MV=!1}const Mg=new Uint8Array(256);for(let r=0;r<256;r++)Mg[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Mg[254]=Mg[254]=1;var vwe=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,i,a,s=r.length,l=0;for(i=0;i<s;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<s&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(l),a=0,i=0;a<l;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<s&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),t<128?e[a++]=t:t<2048?(e[a++]=192|t>>>6,e[a++]=128|t&63):t<65536?(e[a++]=224|t>>>12,e[a++]=128|t>>>6&63,e[a++]=128|t&63):(e[a++]=240|t>>>18,e[a++]=128|t>>>12&63,e[a++]=128|t>>>6&63,e[a++]=128|t&63);return e};const bwe=(r,e)=>{if(e<65534&&r.subarray&&MV)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var wwe=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,i;const a=new Array(t*2);for(i=0,n=0;n<t;){let s=r[n++];if(s<128){a[i++]=s;continue}let l=Mg[s];if(l>4){a[i++]=65533,n+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&n<t;)s=s<<6|r[n++]&63,l--;if(l>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return bwe(a,i)},xwe=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Mg[r[t]]>e?t:e},WE={string2buf:vwe,buf2string:wwe,utf8border:xwe};function _we(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Swe=_we;const vy=16209,Ewe=16191;var Awe=function(e,t){let n,i,a,s,l,c,o,u,f,d,h,m,g,p,y,v,w,C,P,F,L,j,I,z;const $=e.state;n=e.next_in,I=e.input,i=n+(e.avail_in-5),a=e.next_out,z=e.output,s=a-(t-e.avail_out),l=a+(e.avail_out-257),c=$.dmax,o=$.wsize,u=$.whave,f=$.wnext,d=$.window,h=$.hold,m=$.bits,g=$.lencode,p=$.distcode,y=(1<<$.lenbits)-1,v=(1<<$.distbits)-1;e:do{m<15&&(h+=I[n++]<<m,m+=8,h+=I[n++]<<m,m+=8),w=g[h&y];t:for(;;){if(C=w>>>24,h>>>=C,m-=C,C=w>>>16&255,C===0)z[a++]=w&65535;else if(C&16){P=w&65535,C&=15,C&&(m<C&&(h+=I[n++]<<m,m+=8),P+=h&(1<<C)-1,h>>>=C,m-=C),m<15&&(h+=I[n++]<<m,m+=8,h+=I[n++]<<m,m+=8),w=p[h&v];r:for(;;){if(C=w>>>24,h>>>=C,m-=C,C=w>>>16&255,C&16){if(F=w&65535,C&=15,m<C&&(h+=I[n++]<<m,m+=8,m<C&&(h+=I[n++]<<m,m+=8)),F+=h&(1<<C)-1,F>c){e.msg="invalid distance too far back",$.mode=vy;break e}if(h>>>=C,m-=C,C=a-s,F>C){if(C=F-C,C>u&&$.sane){e.msg="invalid distance too far back",$.mode=vy;break e}if(L=0,j=d,f===0){if(L+=o-C,C<P){P-=C;do z[a++]=d[L++];while(--C);L=a-F,j=z}}else if(f<C){if(L+=o+f-C,C-=f,C<P){P-=C;do z[a++]=d[L++];while(--C);if(L=0,f<P){C=f,P-=C;do z[a++]=d[L++];while(--C);L=a-F,j=z}}}else if(L+=f-C,C<P){P-=C;do z[a++]=d[L++];while(--C);L=a-F,j=z}for(;P>2;)z[a++]=j[L++],z[a++]=j[L++],z[a++]=j[L++],P-=3;P&&(z[a++]=j[L++],P>1&&(z[a++]=j[L++]))}else{L=a-F;do z[a++]=z[L++],z[a++]=z[L++],z[a++]=z[L++],P-=3;while(P>2);P&&(z[a++]=z[L++],P>1&&(z[a++]=z[L++]))}}else if((C&64)===0){w=p[(w&65535)+(h&(1<<C)-1)];continue r}else{e.msg="invalid distance code",$.mode=vy;break e}break}}else if((C&64)===0){w=g[(w&65535)+(h&(1<<C)-1)];continue t}else if(C&32){$.mode=Ewe;break e}else{e.msg="invalid literal/length code",$.mode=vy;break e}break}}while(n<i&&a<l);P=m>>3,n-=P,m-=P<<3,h&=(1<<m)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<l?257+(l-a):257-(a-l),$.hold=h,$.bits=m};const Hh=15,JR=852,eM=592,tM=0,d2=1,rM=2,Cwe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),kwe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Twe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Nwe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Pwe=(r,e,t,n,i,a,s,l)=>{const c=l.bits;let o=0,u=0,f=0,d=0,h=0,m=0,g=0,p=0,y=0,v=0,w,C,P,F,L,j=null,I;const z=new Uint16Array(Hh+1),$=new Uint16Array(Hh+1);let B=null,T,R,N;for(o=0;o<=Hh;o++)z[o]=0;for(u=0;u<n;u++)z[e[t+u]]++;for(h=c,d=Hh;d>=1&&z[d]===0;d--);if(h>d&&(h=d),d===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<d&&z[f]===0;f++);for(h<f&&(h=f),p=1,o=1;o<=Hh;o++)if(p<<=1,p-=z[o],p<0)return-1;if(p>0&&(r===tM||d!==1))return-1;for($[1]=0,o=1;o<Hh;o++)$[o+1]=$[o]+z[o];for(u=0;u<n;u++)e[t+u]!==0&&(s[$[e[t+u]]++]=u);if(r===tM?(j=B=s,I=20):r===d2?(j=Cwe,B=kwe,I=257):(j=Twe,B=Nwe,I=0),v=0,u=0,o=f,L=a,m=h,g=0,P=-1,y=1<<h,F=y-1,r===d2&&y>JR||r===rM&&y>eM)return 1;for(;;){T=o-g,s[u]+1<I?(R=0,N=s[u]):s[u]>=I?(R=B[s[u]-I],N=j[s[u]-I]):(R=96,N=0),w=1<<o-g,C=1<<m,f=C;do C-=w,i[L+(v>>g)+C]=T<<24|R<<16|N|0;while(C!==0);for(w=1<<o-1;v&w;)w>>=1;if(w!==0?(v&=w-1,v+=w):v=0,u++,--z[o]===0){if(o===d)break;o=e[t+s[u]]}if(o>h&&(v&F)!==P){for(g===0&&(g=h),L+=f,m=o-g,p=1<<m;m+g<d&&(p-=z[m+g],!(p<=0));)m++,p<<=1;if(y+=1<<m,r===d2&&y>JR||r===rM&&y>eM)return 1;P=v&F,i[P]=h<<24|m<<16|L-a|0}}return v!==0&&(i[L+v]=o-g<<24|64<<16|0),l.bits=h,0};var O0=Pwe;const jwe=0,DV=1,LV=2,{Z_FINISH:nM,Z_BLOCK:Iwe,Z_TREES:by,Z_OK:Xd,Z_STREAM_END:Owe,Z_NEED_DICT:Rwe,Z_STREAM_ERROR:ul,Z_DATA_ERROR:FV,Z_MEM_ERROR:BV,Z_BUF_ERROR:Mwe,Z_DEFLATED:iM}=OV,Kw=16180,aM=16181,sM=16182,oM=16183,lM=16184,cM=16185,uM=16186,fM=16187,dM=16188,hM=16189,wb=16190,Kc=16191,h2=16192,pM=16193,p2=16194,mM=16195,gM=16196,yM=16197,vM=16198,wy=16199,xy=16200,bM=16201,wM=16202,xM=16203,_M=16204,SM=16205,m2=16206,EM=16207,AM=16208,ji=16209,$V=16210,UV=16211,Dwe=852,Lwe=592,Fwe=15,Bwe=Fwe,CM=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function $we(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ph=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<Kw||e.mode>UV?1:0},VV=r=>{if(ph(r))return ul;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=Kw,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Dwe),e.distcode=e.distdyn=new Int32Array(Lwe),e.sane=1,e.back=-1,Xd},zV=r=>{if(ph(r))return ul;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,VV(r)},qV=(r,e)=>{let t;if(ph(r))return ul;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ul:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,zV(r))},HV=(r,e)=>{if(!r)return ul;const t=new $we;r.state=t,t.strm=r,t.window=null,t.mode=Kw;const n=qV(r,e);return n!==Xd&&(r.state=null),n},Uwe=r=>HV(r,Bwe);let kM=!0,g2,y2;const Vwe=r=>{if(kM){g2=new Int32Array(512),y2=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(O0(DV,r.lens,0,288,g2,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;O0(LV,r.lens,0,32,y2,0,r.work,{bits:5}),kM=!1}r.lencode=g2,r.lenbits=9,r.distcode=y2,r.distbits=5},WV=(r,e,t,n)=>{let i;const a=r.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(t-n,t-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(t-n,t),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},zwe=(r,e)=>{let t,n,i,a,s,l,c,o,u,f,d,h,m,g,p=0,y,v,w,C,P,F,L,j;const I=new Uint8Array(4);let z,$;const B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ph(r)||!r.output||!r.input&&r.avail_in!==0)return ul;t=r.state,t.mode===Kc&&(t.mode=h2),s=r.next_out,i=r.output,c=r.avail_out,a=r.next_in,n=r.input,l=r.avail_in,o=t.hold,u=t.bits,f=l,d=c,j=Xd;e:for(;;)switch(t.mode){case Kw:if(t.wrap===0){t.mode=h2;break}for(;u<16;){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}if(t.wrap&2&&o===35615){t.wbits===0&&(t.wbits=15),t.check=0,I[0]=o&255,I[1]=o>>>8&255,t.check=nc(t.check,I,2,0),o=0,u=0,t.mode=aM;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((o&255)<<8)+(o>>8))%31){r.msg="incorrect header check",t.mode=ji;break}if((o&15)!==iM){r.msg="unknown compression method",t.mode=ji;break}if(o>>>=4,u-=4,L=(o&15)+8,t.wbits===0&&(t.wbits=L),L>15||L>t.wbits){r.msg="invalid window size",t.mode=ji;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=o&512?hM:Kc,o=0,u=0;break;case aM:for(;u<16;){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}if(t.flags=o,(t.flags&255)!==iM){r.msg="unknown compression method",t.mode=ji;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=ji;break}t.head&&(t.head.text=o>>8&1),t.flags&512&&t.wrap&4&&(I[0]=o&255,I[1]=o>>>8&255,t.check=nc(t.check,I,2,0)),o=0,u=0,t.mode=sM;case sM:for(;u<32;){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}t.head&&(t.head.time=o),t.flags&512&&t.wrap&4&&(I[0]=o&255,I[1]=o>>>8&255,I[2]=o>>>16&255,I[3]=o>>>24&255,t.check=nc(t.check,I,4,0)),o=0,u=0,t.mode=oM;case oM:for(;u<16;){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}t.head&&(t.head.xflags=o&255,t.head.os=o>>8),t.flags&512&&t.wrap&4&&(I[0]=o&255,I[1]=o>>>8&255,t.check=nc(t.check,I,2,0)),o=0,u=0,t.mode=lM;case lM:if(t.flags&1024){for(;u<16;){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}t.length=o,t.head&&(t.head.extra_len=o),t.flags&512&&t.wrap&4&&(I[0]=o&255,I[1]=o>>>8&255,t.check=nc(t.check,I,2,0)),o=0,u=0}else t.head&&(t.head.extra=null);t.mode=cM;case cM:if(t.flags&1024&&(h=t.length,h>l&&(h=l),h&&(t.head&&(L=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(a,a+h),L)),t.flags&512&&t.wrap&4&&(t.check=nc(t.check,n,h,a)),l-=h,a+=h,t.length-=h),t.length))break e;t.length=0,t.mode=uM;case uM:if(t.flags&2048){if(l===0)break e;h=0;do L=n[a+h++],t.head&&L&&t.length<65536&&(t.head.name+=String.fromCharCode(L));while(L&&h<l);if(t.flags&512&&t.wrap&4&&(t.check=nc(t.check,n,h,a)),l-=h,a+=h,L)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=fM;case fM:if(t.flags&4096){if(l===0)break e;h=0;do L=n[a+h++],t.head&&L&&t.length<65536&&(t.head.comment+=String.fromCharCode(L));while(L&&h<l);if(t.flags&512&&t.wrap&4&&(t.check=nc(t.check,n,h,a)),l-=h,a+=h,L)break e}else t.head&&(t.head.comment=null);t.mode=dM;case dM:if(t.flags&512){for(;u<16;){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}if(t.wrap&4&&o!==(t.check&65535)){r.msg="header crc mismatch",t.mode=ji;break}o=0,u=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Kc;break;case hM:for(;u<32;){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}r.adler=t.check=CM(o),o=0,u=0,t.mode=wb;case wb:if(t.havedict===0)return r.next_out=s,r.avail_out=c,r.next_in=a,r.avail_in=l,t.hold=o,t.bits=u,Rwe;r.adler=t.check=1,t.mode=Kc;case Kc:if(e===Iwe||e===by)break e;case h2:if(t.last){o>>>=u&7,u-=u&7,t.mode=m2;break}for(;u<3;){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}switch(t.last=o&1,o>>>=1,u-=1,o&3){case 0:t.mode=pM;break;case 1:if(Vwe(t),t.mode=wy,e===by){o>>>=2,u-=2;break e}break;case 2:t.mode=gM;break;case 3:r.msg="invalid block type",t.mode=ji}o>>>=2,u-=2;break;case pM:for(o>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}if((o&65535)!==(o>>>16^65535)){r.msg="invalid stored block lengths",t.mode=ji;break}if(t.length=o&65535,o=0,u=0,t.mode=p2,e===by)break e;case p2:t.mode=mM;case mM:if(h=t.length,h){if(h>l&&(h=l),h>c&&(h=c),h===0)break e;i.set(n.subarray(a,a+h),s),l-=h,a+=h,c-=h,s+=h,t.length-=h;break}t.mode=Kc;break;case gM:for(;u<14;){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}if(t.nlen=(o&31)+257,o>>>=5,u-=5,t.ndist=(o&31)+1,o>>>=5,u-=5,t.ncode=(o&15)+4,o>>>=4,u-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=ji;break}t.have=0,t.mode=yM;case yM:for(;t.have<t.ncode;){for(;u<3;){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}t.lens[B[t.have++]]=o&7,o>>>=3,u-=3}for(;t.have<19;)t.lens[B[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,z={bits:t.lenbits},j=O0(jwe,t.lens,0,19,t.lencode,0,t.work,z),t.lenbits=z.bits,j){r.msg="invalid code lengths set",t.mode=ji;break}t.have=0,t.mode=vM;case vM:for(;t.have<t.nlen+t.ndist;){for(;p=t.lencode[o&(1<<t.lenbits)-1],y=p>>>24,v=p>>>16&255,w=p&65535,!(y<=u);){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}if(w<16)o>>>=y,u-=y,t.lens[t.have++]=w;else{if(w===16){for($=y+2;u<$;){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}if(o>>>=y,u-=y,t.have===0){r.msg="invalid bit length repeat",t.mode=ji;break}L=t.lens[t.have-1],h=3+(o&3),o>>>=2,u-=2}else if(w===17){for($=y+3;u<$;){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}o>>>=y,u-=y,L=0,h=3+(o&7),o>>>=3,u-=3}else{for($=y+7;u<$;){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}o>>>=y,u-=y,L=0,h=11+(o&127),o>>>=7,u-=7}if(t.have+h>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=ji;break}for(;h--;)t.lens[t.have++]=L}}if(t.mode===ji)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=ji;break}if(t.lenbits=9,z={bits:t.lenbits},j=O0(DV,t.lens,0,t.nlen,t.lencode,0,t.work,z),t.lenbits=z.bits,j){r.msg="invalid literal/lengths set",t.mode=ji;break}if(t.distbits=6,t.distcode=t.distdyn,z={bits:t.distbits},j=O0(LV,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,z),t.distbits=z.bits,j){r.msg="invalid distances set",t.mode=ji;break}if(t.mode=wy,e===by)break e;case wy:t.mode=xy;case xy:if(l>=6&&c>=258){r.next_out=s,r.avail_out=c,r.next_in=a,r.avail_in=l,t.hold=o,t.bits=u,Awe(r,d),s=r.next_out,i=r.output,c=r.avail_out,a=r.next_in,n=r.input,l=r.avail_in,o=t.hold,u=t.bits,t.mode===Kc&&(t.back=-1);break}for(t.back=0;p=t.lencode[o&(1<<t.lenbits)-1],y=p>>>24,v=p>>>16&255,w=p&65535,!(y<=u);){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}if(v&&(v&240)===0){for(C=y,P=v,F=w;p=t.lencode[F+((o&(1<<C+P)-1)>>C)],y=p>>>24,v=p>>>16&255,w=p&65535,!(C+y<=u);){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}o>>>=C,u-=C,t.back+=C}if(o>>>=y,u-=y,t.back+=y,t.length=w,v===0){t.mode=SM;break}if(v&32){t.back=-1,t.mode=Kc;break}if(v&64){r.msg="invalid literal/length code",t.mode=ji;break}t.extra=v&15,t.mode=bM;case bM:if(t.extra){for($=t.extra;u<$;){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}t.length+=o&(1<<t.extra)-1,o>>>=t.extra,u-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=wM;case wM:for(;p=t.distcode[o&(1<<t.distbits)-1],y=p>>>24,v=p>>>16&255,w=p&65535,!(y<=u);){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}if((v&240)===0){for(C=y,P=v,F=w;p=t.distcode[F+((o&(1<<C+P)-1)>>C)],y=p>>>24,v=p>>>16&255,w=p&65535,!(C+y<=u);){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}o>>>=C,u-=C,t.back+=C}if(o>>>=y,u-=y,t.back+=y,v&64){r.msg="invalid distance code",t.mode=ji;break}t.offset=w,t.extra=v&15,t.mode=xM;case xM:if(t.extra){for($=t.extra;u<$;){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}t.offset+=o&(1<<t.extra)-1,o>>>=t.extra,u-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=ji;break}t.mode=_M;case _M:if(c===0)break e;if(h=d-c,t.offset>h){if(h=t.offset-h,h>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=ji;break}h>t.wnext?(h-=t.wnext,m=t.wsize-h):m=t.wnext-h,h>t.length&&(h=t.length),g=t.window}else g=i,m=s-t.offset,h=t.length;h>c&&(h=c),c-=h,t.length-=h;do i[s++]=g[m++];while(--h);t.length===0&&(t.mode=xy);break;case SM:if(c===0)break e;i[s++]=t.length,c--,t.mode=xy;break;case m2:if(t.wrap){for(;u<32;){if(l===0)break e;l--,o|=n[a++]<<u,u+=8}if(d-=c,r.total_out+=d,t.total+=d,t.wrap&4&&d&&(r.adler=t.check=t.flags?nc(t.check,i,d,s-d):qE(t.check,i,d,s-d)),d=c,t.wrap&4&&(t.flags?o:CM(o))!==t.check){r.msg="incorrect data check",t.mode=ji;break}o=0,u=0}t.mode=EM;case EM:if(t.wrap&&t.flags){for(;u<32;){if(l===0)break e;l--,o+=n[a++]<<u,u+=8}if(t.wrap&4&&o!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=ji;break}o=0,u=0}t.mode=AM;case AM:j=Owe;break e;case ji:j=FV;break e;case $V:return BV;case UV:default:return ul}return r.next_out=s,r.avail_out=c,r.next_in=a,r.avail_in=l,t.hold=o,t.bits=u,(t.wsize||d!==r.avail_out&&t.mode<ji&&(t.mode<m2||e!==nM))&&WV(r,r.output,r.next_out,d-r.avail_out),f-=r.avail_in,d-=r.avail_out,r.total_in+=f,r.total_out+=d,t.total+=d,t.wrap&4&&d&&(r.adler=t.check=t.flags?nc(t.check,i,d,r.next_out-d):qE(t.check,i,d,r.next_out-d)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Kc?128:0)+(t.mode===wy||t.mode===p2?256:0),(f===0&&d===0||e===nM)&&j===Xd&&(j=Mwe),j},qwe=r=>{if(ph(r))return ul;let e=r.state;return e.window&&(e.window=null),r.state=null,Xd},Hwe=(r,e)=>{if(ph(r))return ul;const t=r.state;return(t.wrap&2)===0?ul:(t.head=e,e.done=!1,Xd)},Wwe=(r,e)=>{const t=e.length;let n,i,a;return ph(r)||(n=r.state,n.wrap!==0&&n.mode!==wb)?ul:n.mode===wb&&(i=1,i=qE(i,e,t,0),i!==n.check)?FV:(a=WV(r,e,t,t),a?(n.mode=$V,BV):(n.havedict=1,Xd))};var Gwe=zV,Kwe=qV,Xwe=VV,Ywe=Uwe,Qwe=HV,Zwe=zwe,Jwe=qwe,exe=Hwe,txe=Wwe,rxe="pako inflate (from Nodeca project)",Qc={inflateReset:Gwe,inflateReset2:Kwe,inflateResetKeep:Xwe,inflateInit:Ywe,inflateInit2:Qwe,inflate:Zwe,inflateEnd:Jwe,inflateGetHeader:exe,inflateSetDictionary:txe,inflateInfo:rxe};function nxe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ixe=nxe;const GV=Object.prototype.toString,{Z_NO_FLUSH:axe,Z_FINISH:sxe,Z_OK:Dg,Z_STREAM_END:v2,Z_NEED_DICT:b2,Z_STREAM_ERROR:oxe,Z_DATA_ERROR:TM,Z_MEM_ERROR:lxe}=OV;function c1(r){this.options=RV.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Swe,this.strm.avail_out=0;let t=Qc.inflateInit2(this.strm,e.windowBits);if(t!==Dg)throw new Error(HE[t]);if(this.header=new ixe,Qc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=WE.string2buf(e.dictionary):GV.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Qc.inflateSetDictionary(this.strm,e.dictionary),t!==Dg)))throw new Error(HE[t])}c1.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,l;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?sxe:axe,GV.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),a=Qc.inflate(t,s),a===b2&&i&&(a=Qc.inflateSetDictionary(t,i),a===Dg?a=Qc.inflate(t,s):a===TM&&(a=b2));t.avail_in>0&&a===v2&&t.state.wrap>0&&r[t.next_in]!==0;)Qc.inflateReset(t),a=Qc.inflate(t,s);switch(a){case oxe:case TM:case b2:case lxe:return this.onEnd(a),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||a===v2))if(this.options.to==="string"){let c=WE.utf8border(t.output,t.next_out),o=t.next_out-c,u=WE.buf2string(t.output,c);t.next_out=o,t.avail_out=n-o,o&&t.output.set(t.output.subarray(c,c+o),0),this.onData(u)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===Dg&&l===0)){if(a===v2)return a=Qc.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};c1.prototype.onData=function(r){this.chunks.push(r)};c1.prototype.onEnd=function(r){r===Dg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=RV.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function cxe(r,e){const t=new c1(e);if(t.push(r),t.err)throw t.msg||HE[t.err];return t.result}var uxe=c1,fxe=cxe,dxe={Inflate:uxe,inflate:fxe};const{Inflate:hxe,inflate:pxe}=dxe;var NM=hxe,mxe=pxe;const KV=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;KV[r]=e}const PM=4294967295;function gxe(r,e,t){let n=r;for(let i=0;i<t;i++)n=KV[(n^e[i])&255]^n>>>8;return n}function yxe(r,e){return(gxe(PM,r,e)^PM)>>>0}function jM(r,e,t){const n=r.readUint32(),i=yxe(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${i}`)}function XV(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function YV(r,e,t,n){let i=0;for(;i<n;i++)e[i]=r[i];for(;i<t;i++)e[i]=r[i]+e[i-n]&255}function QV(r,e,t,n){let i=0;if(t.length===0)for(;i<n;i++)e[i]=r[i];else for(;i<n;i++)e[i]=r[i]+t[i]&255}function ZV(r,e,t,n,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=r[a];for(;a<n;a++)e[a]=r[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=r[a]+(t[a]>>1)&255;for(;a<n;a++)e[a]=r[a]+(e[a-i]+t[a]>>1)&255}}function JV(r,e,t,n,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=r[a];for(;a<n;a++)e[a]=r[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=r[a]+t[a]&255;for(;a<n;a++)e[a]=r[a]+vxe(e[a-i],t[a],t[a-i])&255}}function vxe(r,e,t){const n=r+e-t,i=Math.abs(n-r),a=Math.abs(n-e),s=Math.abs(n-t);return i<=a&&i<=s?r:a<=s?e:t}function bxe(r,e,t,n,i,a){switch(r){case 0:XV(e,t,i);break;case 1:YV(e,t,i,a);break;case 2:QV(e,t,n,i);break;case 3:ZV(e,t,n,i,a);break;case 4:JV(e,t,n,i,a);break;default:throw new Error(`Unsupported filter: ${r}`)}}const wxe=new Uint16Array([255]),xxe=new Uint8Array(wxe.buffer),_xe=xxe[0]===255;function Sxe(r){const{data:e,width:t,height:n,channels:i,depth:a}=r,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,c=new Uint8Array(n*t*l);let o=0;for(let u=0;u<7;u++){const f=s[u],d=Math.ceil((t-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(d<=0||h<=0)continue;const m=d*l,g=new Uint8Array(m);for(let p=0;p<h;p++){const y=e[o++],v=e.subarray(o,o+m);o+=m;const w=new Uint8Array(m);bxe(y,v,w,g,m,l),g.set(w);for(let C=0;C<d;C++){const P=f.x+C*f.xStep,F=f.y+p*f.yStep;if(!(P>=t||F>=n))for(let L=0;L<l;L++)c[(F*t+P)*l+L]=w[C*l+L]}}}if(a===16){const u=new Uint16Array(c.buffer);if(_xe)for(let f=0;f<u.length;f++)u[f]=Exe(u[f]);return u}else return c}function Exe(r){return(r&255)<<8|r>>8&255}const Axe=new Uint16Array([255]),Cxe=new Uint8Array(Axe.buffer),kxe=Cxe[0]===255,Txe=new Uint8Array(0);function IM(r){const{data:e,width:t,height:n,channels:i,depth:a}=r,s=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*t),c=new Uint8Array(n*l);let o=Txe,u=0,f,d;for(let h=0;h<n;h++){switch(f=e.subarray(u+1,u+1+l),d=c.subarray(h*l,(h+1)*l),e[u]){case 0:XV(f,d,l);break;case 1:YV(f,d,l,s);break;case 2:QV(f,d,o,l);break;case 3:ZV(f,d,o,l,s);break;case 4:JV(f,d,o,l,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}o=d,u+=l+1}if(a===16){const h=new Uint16Array(c.buffer);if(kxe)for(let m=0;m<h.length;m++)h[m]=Nxe(h[m]);return h}else return c}function Nxe(r){return(r&255)<<8|r>>8&255}const zy=Uint8Array.of(137,80,78,71,13,10,26,10);function OM(r){if(!Pxe(r.readBytes(zy.length)))throw new Error("wrong PNG signature")}function Pxe(r){if(r.length<zy.length)return!1;for(let e=0;e<zy.length;e++)if(r[e]!==zy[e])return!1;return!0}const jxe="tEXt",Ixe=0,ez=new TextDecoder("latin1");function Oxe(r){if(Mxe(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const Rxe=/^[\u0000-\u00FF]*$/;function Mxe(r){if(!Rxe.test(r))throw new Error("invalid latin1 text")}function Dxe(r,e,t){const n=tz(e);r[n]=Lxe(e,t-n.length-1)}function tz(r){for(r.mark();r.readByte()!==Ixe;);const e=r.offset;r.reset();const t=ez.decode(r.readBytes(e-r.offset-1));return r.skip(1),Oxe(t),t}function Lxe(r,e){return ez.decode(r.readBytes(e))}const To={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},w2={UNKNOWN:-1,DEFLATE:0},RM={UNKNOWN:-1,ADAPTIVE:0},x2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},_y={NONE:0,BACKGROUND:1,PREVIOUS:2},_2={SOURCE:0,OVER:1};class Fxe extends SC{constructor(t,n={}){super(t);Gn(this,"_checkCrc");Gn(this,"_inflator");Gn(this,"_png");Gn(this,"_apng");Gn(this,"_end");Gn(this,"_hasPalette");Gn(this,"_palette");Gn(this,"_hasTransparency");Gn(this,"_transparency");Gn(this,"_compressionMethod");Gn(this,"_filterMethod");Gn(this,"_interlaceMethod");Gn(this,"_colorType");Gn(this,"_isAnimated");Gn(this,"_numberOfFrames");Gn(this,"_numberOfPlays");Gn(this,"_frames");Gn(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new NM,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=w2.UNKNOWN,this._filterMethod=RM.UNKNOWN,this._interlaceMethod=x2.UNKNOWN,this._colorType=To.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(OM(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(OM(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case jxe:Dxe(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?jM(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?jM(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=Bxe(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case To.GREYSCALE:i=1;break;case To.TRUECOLOUR:i=3;break;case To.INDEXED_COLOUR:i=1;break;case To.GREYSCALE_ALPHA:i=2;break;case To.TRUECOLOUR_ALPHA:i=4;break;case To.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==w2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case To.GREYSCALE:case To.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case To.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case To.UNKNOWN:case To.GREYSCALE_ALPHA:case To.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=tz(this),i=this.readUint8();if(i!==w2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:mxe(a)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=IM({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,i){switch(t.disposeOp){case _y.NONE:break;case _y.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const l=(a*t.width+s)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case _y.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const i=1<<this._png.depth,a=(s,l)=>{const c=((s+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,o=(s*n.width+l)*this._png.channels;return{index:c,frameIndex:o}};switch(n.blendOp){case _2.SOURCE:for(let s=0;s<n.height;s++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:o}=a(s,l);for(let u=0;u<this._png.channels;u++)t.data[c+u]=n.data[o+u]}break;case _2.OVER:for(let s=0;s<n.height;s++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:o}=a(s,l);for(let u=0;u<this._png.channels;u++){const f=n.data[o+this._png.channels-1]/i,d=u%(this._png.channels-1)===0?1:n.data[o+u],h=Math.floor(f*d+(1-f)*t.data[c+u]);t.data[c+u]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==RM.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===x2.NO_INTERLACE)this._png.data=IM({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===x2.ADAM7)this._png.data=Sxe({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:_y.NONE,blendOp:_2.SOURCE,data:t}),this._inflator=new NM,this._writingDataChunks=!1}}function Bxe(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var MM;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(MM||(MM={}));function $xe(r,e){return new Fxe(r,e).decode()}var Hr=(function(){return typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:this})();function S2(){Hr.console&&typeof Hr.console.log=="function"&&Hr.console.log.apply(Hr.console,arguments)}var ai={log:S2,warn:function(r){Hr.console&&(typeof Hr.console.warn=="function"?Hr.console.warn.apply(Hr.console,arguments):S2.call(null,arguments))},error:function(r){Hr.console&&(typeof Hr.console.error=="function"?Hr.console.error.apply(Hr.console,arguments):S2(r))}};function E2(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){gd(n.response,e,t)},n.onerror=function(){ai.error("could not download file")},n.send()}function DM(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Sy(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var gd=Hr.saveAs||((typeof window>"u"?"undefined":Kn(window))!=="object"||window!==Hr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=Hr.URL||Hr.webkitURL,i=document.createElement("a");e=e||r.name||"download",i.download=e,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?DM(i.href)?E2(r,e,t):Sy(i,i.target="_blank"):Sy(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Sy(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(DM(r))E2(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Sy(n)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:Kn(a)!=="object"&&(ai.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return E2(r,e,t);var i=r.type==="application/octet-stream",a=/constructor/i.test(Hr.HTMLElement)||Hr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Kn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(r)}else{var c=Hr.URL||Hr.webkitURL,o=c.createObjectURL(r);n?n.location=o:location.href=o,n=null,setTimeout(function(){c.revokeObjectURL(o)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function rz(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,a=t[n].process,s=i.exec(r);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),o=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),o.length==1&&(o="0"+o),"#"+l+c+o}}var qy=Hr.atob.bind(Hr),LM=Hr.btoa.bind(Hr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function A2(r,e){var t=r[0],n=r[1],i=r[2],a=r[3];t=js(t,n,i,a,e[0],7,-680876936),a=js(a,t,n,i,e[1],12,-389564586),i=js(i,a,t,n,e[2],17,606105819),n=js(n,i,a,t,e[3],22,-1044525330),t=js(t,n,i,a,e[4],7,-176418897),a=js(a,t,n,i,e[5],12,1200080426),i=js(i,a,t,n,e[6],17,-1473231341),n=js(n,i,a,t,e[7],22,-45705983),t=js(t,n,i,a,e[8],7,1770035416),a=js(a,t,n,i,e[9],12,-1958414417),i=js(i,a,t,n,e[10],17,-42063),n=js(n,i,a,t,e[11],22,-1990404162),t=js(t,n,i,a,e[12],7,1804603682),a=js(a,t,n,i,e[13],12,-40341101),i=js(i,a,t,n,e[14],17,-1502002290),t=Is(t,n=js(n,i,a,t,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Is(a,t,n,i,e[6],9,-1069501632),i=Is(i,a,t,n,e[11],14,643717713),n=Is(n,i,a,t,e[0],20,-373897302),t=Is(t,n,i,a,e[5],5,-701558691),a=Is(a,t,n,i,e[10],9,38016083),i=Is(i,a,t,n,e[15],14,-660478335),n=Is(n,i,a,t,e[4],20,-405537848),t=Is(t,n,i,a,e[9],5,568446438),a=Is(a,t,n,i,e[14],9,-1019803690),i=Is(i,a,t,n,e[3],14,-187363961),n=Is(n,i,a,t,e[8],20,1163531501),t=Is(t,n,i,a,e[13],5,-1444681467),a=Is(a,t,n,i,e[2],9,-51403784),i=Is(i,a,t,n,e[7],14,1735328473),t=Os(t,n=Is(n,i,a,t,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Os(a,t,n,i,e[8],11,-2022574463),i=Os(i,a,t,n,e[11],16,1839030562),n=Os(n,i,a,t,e[14],23,-35309556),t=Os(t,n,i,a,e[1],4,-1530992060),a=Os(a,t,n,i,e[4],11,1272893353),i=Os(i,a,t,n,e[7],16,-155497632),n=Os(n,i,a,t,e[10],23,-1094730640),t=Os(t,n,i,a,e[13],4,681279174),a=Os(a,t,n,i,e[0],11,-358537222),i=Os(i,a,t,n,e[3],16,-722521979),n=Os(n,i,a,t,e[6],23,76029189),t=Os(t,n,i,a,e[9],4,-640364487),a=Os(a,t,n,i,e[12],11,-421815835),i=Os(i,a,t,n,e[15],16,530742520),t=Rs(t,n=Os(n,i,a,t,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Rs(a,t,n,i,e[7],10,1126891415),i=Rs(i,a,t,n,e[14],15,-1416354905),n=Rs(n,i,a,t,e[5],21,-57434055),t=Rs(t,n,i,a,e[12],6,1700485571),a=Rs(a,t,n,i,e[3],10,-1894986606),i=Rs(i,a,t,n,e[10],15,-1051523),n=Rs(n,i,a,t,e[1],21,-2054922799),t=Rs(t,n,i,a,e[8],6,1873313359),a=Rs(a,t,n,i,e[15],10,-30611744),i=Rs(i,a,t,n,e[6],15,-1560198380),n=Rs(n,i,a,t,e[13],21,1309151649),t=Rs(t,n,i,a,e[4],6,-145523070),a=Rs(a,t,n,i,e[11],10,-1120210379),i=Rs(i,a,t,n,e[2],15,718787259),n=Rs(n,i,a,t,e[9],21,-343485551),r[0]=pf(t,r[0]),r[1]=pf(n,r[1]),r[2]=pf(i,r[2]),r[3]=pf(a,r[3])}function Xw(r,e,t,n,i,a){return e=pf(pf(e,r),pf(n,a)),pf(e<<i|e>>>32-i,t)}function js(r,e,t,n,i,a,s){return Xw(e&t|~e&n,r,e,i,a,s)}function Is(r,e,t,n,i,a,s){return Xw(e&n|t&~n,r,e,i,a,s)}function Os(r,e,t,n,i,a,s){return Xw(e^t^n,r,e,i,a,s)}function Rs(r,e,t,n,i,a,s){return Xw(t^(e|~n),r,e,i,a,s)}function nz(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)A2(n,Uxe(r.substring(e-64,e)));r=r.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(A2(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,A2(n,i),n}function Uxe(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var FM="0123456789abcdef".split("");function Vxe(r){for(var e="",t=0;t<4;t++)e+=FM[r>>8*t+4&15]+FM[r>>8*t&15];return e}function zxe(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function GE(r){return nz(r).map(zxe).join("")}var qxe=(function(r){for(var e=0;e<r.length;e++)r[e]=Vxe(r[e]);return r.join("")})(nz("hello"))!="5d41402abc4b2a76b9719d911017c592";function pf(r,e){if(qxe){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function KE(r,e){var t,n,i,a;if(r!==t){for(var s=(i=r,a=1+(256/r.length|0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var o=0;for(c=0;c<256;c++){var u=l[c];o=(o+u+s.charCodeAt(c))%256,l[c]=l[o],l[o]=u}t=r,n=l}else l=n;var f=e.length,d=0,h=0,m="";for(c=0;c<f;c++)h=(h+(u=l[d=(d+1)%256]))%256,l[d]=l[h],l[h]=u,s=l[(l[d]+l[h])%256],m+=String.fromCharCode(e.charCodeAt(c)^s);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var BM={print:4,modify:8,copy:16,"annot-forms":32};function Jh(r,e,t,n){this.v=1,this.r=2;var i=192;r.forEach(function(l){if(BM.perm!==void 0)throw new Error("Invalid permission: "+l);i+=BM[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=GE(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=KE(this.encryptionKey,this.padding)}function ep(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var i=r.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):r[n]}return e}function $M(r){if(Kn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,typeof t!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[n,!!i],a},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[t]){var s=e[t][a];try{s[0].apply(r,n)}catch(l){Hr.console&&ai.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function xb(r){if(!(this instanceof xb))return new xb(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function iz(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function wd(r,e,t,n,i){if(!(this instanceof wd))return new wd(r,e,t,n,i);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,iz.call(this,n,i)}function sp(r,e,t,n,i){if(!(this instanceof sp))return new sp(r,e,t,n,i);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,iz.call(this,n,i)}function gr(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,c=16,o="S",u=null;Kn(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,i=r.format||i,a=r.compress||r.compressPdf||a,(u=r.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(c=r.floatPrecision),o=r.defaultPathOperation||"S"),s=r.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",t=(""+(t||"P")).toLowerCase();var f=r.putOnlyUsedFonts||!1,d={},h={internal:{},__private__:{}};h.__private__.PubSub=$M;var m="1.3",g=h.__private__.getPdfVersion=function(){return m};h.__private__.setPdfVersion=function(te){m=te};var p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return p};var y=h.__private__.getPageFormat=function(te){return p[te]};i=i||"a4";var v="compat",w="advanced",C=v;function P(){this.saveGraphicsState(),ue(new At(bt,0,0,-bt,0,pa()*bt).toString()+" cm"),this.setFontSize(this.getFontSize()/bt),o="n",C=w}function F(){this.restoreGraphicsState(),o="S",C=v}var L=h.__private__.combineFontStyleAndFontWeight=function(te,ge){if(te=="bold"&&ge=="normal"||te=="bold"&&ge==400||te=="normal"&&ge=="italic"||te=="bold"&&ge=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ge&&(te=ge==400||ge==="normal"?te==="italic"?"italic":"normal":ge!=700&&ge!=="bold"||te!=="normal"?(ge==700?"bold":ge)+""+te:"bold"),te};h.advancedAPI=function(te){var ge=C===v;return ge&&P.call(this),typeof te!="function"||(te(this),ge&&F.call(this)),this},h.compatAPI=function(te){var ge=C===w;return ge&&F.call(this),typeof te!="function"||(te(this),ge&&P.call(this)),this},h.isAdvancedAPI=function(){return C===w};var j,I=function(te){if(C!==w)throw new Error(te+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=h.roundToPrecision=h.__private__.roundToPrecision=function(te,ge){var Ne=e||ge;if(isNaN(te)||isNaN(Ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return te.toFixed(Ne).replace(/0+$/,"")};j=h.hpf=h.__private__.hpf=typeof c=="number"?function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.hpf");return z(te,c)}:c==="smart"?function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.hpf");return z(te,te>-1&&te<1?16:5)}:function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.hpf");return z(te,16)};var $=h.f2=h.__private__.f2=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.f2");return z(te,2)},B=h.__private__.f3=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.f3");return z(te,3)},T=h.scale=h.__private__.scale=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.scale");return C===v?te*bt:C===w?te:void 0},R=function(te){return T((function(ge){return C===v?pa()-ge:C===w?ge:void 0})(te))};h.__private__.setPrecision=h.setPrecision=function(te){typeof parseInt(te,10)=="number"&&(e=parseInt(te,10))};var N,_="00000000000000000000000000000000",E=h.__private__.getFileId=function(){return _},S=h.__private__.setFileId=function(te){return _=te!==void 0&&/^[a-fA-F0-9]{32}$/.test(te)?te.toUpperCase():_.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(cn=new Jh(u.userPermissions,u.userPassword,u.ownerPassword,_)),_};h.setFileId=function(te){return S(te),this},h.getFileId=function(){return E()};var k=h.__private__.convertDateToPDFDate=function(te){var ge=te.getTimezoneOffset(),Ne=ge<0?"+":"-",Me=Math.floor(Math.abs(ge/60)),qe=Math.abs(ge%60),ct=[Ne,Q(Me),"'",Q(qe),"'"].join("");return["D:",te.getFullYear(),Q(te.getMonth()+1),Q(te.getDate()),Q(te.getHours()),Q(te.getMinutes()),Q(te.getSeconds()),ct].join("")},M=h.__private__.convertPDFDateToDate=function(te){var ge=parseInt(te.substr(2,4),10),Ne=parseInt(te.substr(6,2),10)-1,Me=parseInt(te.substr(8,2),10),qe=parseInt(te.substr(10,2),10),ct=parseInt(te.substr(12,2),10),St=parseInt(te.substr(14,2),10);return new Date(ge,Ne,Me,qe,ct,St,0)},V=h.__private__.setCreationDate=function(te){var ge;if(te===void 0&&(te=new Date),te instanceof Date)ge=k(te);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(te))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ge=te}return N=ge},O=h.__private__.getCreationDate=function(te){var ge=N;return te==="jsDate"&&(ge=M(N)),ge};h.setCreationDate=function(te){return V(te),this},h.getCreationDate=function(te){return O(te)};var X,Q=h.__private__.padd2=function(te){return("0"+parseInt(te)).slice(-2)},re=h.__private__.padd2Hex=function(te){return("00"+(te=te.toString())).substr(te.length)},G=0,J=[],q=[],U=0,Z=[],ie=[],le=!1,de=q;h.__private__.setCustomOutputDestination=function(te){le=!0,de=te};var fe=function(te){le||(de=te)};h.__private__.resetCustomOutputDestination=function(){le=!1,de=q};var ue=h.__private__.out=function(te){return te=te.toString(),U+=te.length+1,de.push(te),de},Ae=h.__private__.write=function(te){return ue(arguments.length===1?te.toString():Array.prototype.join.call(arguments," "))},he=h.__private__.getArrayBuffer=function(te){for(var ge=te.length,Ne=new ArrayBuffer(ge),Me=new Uint8Array(Ne);ge--;)Me[ge]=te.charCodeAt(ge);return Ne},xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return xe};var me=r.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(te){return me=C===w?te/bt:te,this};var Ce,ke=h.__private__.getFontSize=h.getFontSize=function(){return C===v?me:me*bt},Oe=r.R2L||!1;h.__private__.setR2L=h.setR2L=function(te){return Oe=te,this},h.__private__.getR2L=h.getR2L=function(){return Oe};var De,He=h.__private__.setZoomMode=function(te){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(te))Ce=te;else if(isNaN(te)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(te)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+te+'" is not recognized.');Ce=te}else Ce=parseInt(te,10)};h.__private__.getZoomMode=function(){return Ce};var Qe,tt=h.__private__.setPageMode=function(te){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(te)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+te+'" is not recognized.');De=te};h.__private__.getPageMode=function(){return De};var st=h.__private__.setLayoutMode=function(te){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(te)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+te+'" is not recognized.');Qe=te};h.__private__.getLayoutMode=function(){return Qe},h.__private__.setDisplayMode=h.setDisplayMode=function(te,ge,Ne){return He(te),st(ge),tt(Ne),this};var it={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(te){if(Object.keys(it).indexOf(te)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return it[te]},h.__private__.getDocumentProperties=function(){return it},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(te){for(var ge in it)it.hasOwnProperty(ge)&&te[ge]&&(it[ge]=te[ge]);return this},h.__private__.setDocumentProperty=function(te,ge){if(Object.keys(it).indexOf(te)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return it[te]=ge};var pt,bt,mt,Mt,wt,et={},dt={},It=[],ht={},zt={},Vt={},Bt={},sr=null,Ht=0,Nt=[],Yt=new $M(h),Ur=r.hotfixes||[],Wt={},Ir={},Or=[],At=function te(ge,Ne,Me,qe,ct,St){if(!(this instanceof te))return new te(ge,Ne,Me,qe,ct,St);isNaN(ge)&&(ge=1),isNaN(Ne)&&(Ne=0),isNaN(Me)&&(Me=0),isNaN(qe)&&(qe=1),isNaN(ct)&&(ct=0),isNaN(St)&&(St=0),this._matrix=[ge,Ne,Me,qe,ct,St]};Object.defineProperty(At.prototype,"sx",{get:function(){return this._matrix[0]},set:function(te){this._matrix[0]=te}}),Object.defineProperty(At.prototype,"shy",{get:function(){return this._matrix[1]},set:function(te){this._matrix[1]=te}}),Object.defineProperty(At.prototype,"shx",{get:function(){return this._matrix[2]},set:function(te){this._matrix[2]=te}}),Object.defineProperty(At.prototype,"sy",{get:function(){return this._matrix[3]},set:function(te){this._matrix[3]=te}}),Object.defineProperty(At.prototype,"tx",{get:function(){return this._matrix[4]},set:function(te){this._matrix[4]=te}}),Object.defineProperty(At.prototype,"ty",{get:function(){return this._matrix[5]},set:function(te){this._matrix[5]=te}}),Object.defineProperty(At.prototype,"a",{get:function(){return this._matrix[0]},set:function(te){this._matrix[0]=te}}),Object.defineProperty(At.prototype,"b",{get:function(){return this._matrix[1]},set:function(te){this._matrix[1]=te}}),Object.defineProperty(At.prototype,"c",{get:function(){return this._matrix[2]},set:function(te){this._matrix[2]=te}}),Object.defineProperty(At.prototype,"d",{get:function(){return this._matrix[3]},set:function(te){this._matrix[3]=te}}),Object.defineProperty(At.prototype,"e",{get:function(){return this._matrix[4]},set:function(te){this._matrix[4]=te}}),Object.defineProperty(At.prototype,"f",{get:function(){return this._matrix[5]},set:function(te){this._matrix[5]=te}}),Object.defineProperty(At.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(At.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(At.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(At.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),At.prototype.join=function(te){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(te)},At.prototype.multiply=function(te){var ge=te.sx*this.sx+te.shy*this.shx,Ne=te.sx*this.shy+te.shy*this.sy,Me=te.shx*this.sx+te.sy*this.shx,qe=te.shx*this.shy+te.sy*this.sy,ct=te.tx*this.sx+te.ty*this.shx+this.tx,St=te.tx*this.shy+te.ty*this.sy+this.ty;return new At(ge,Ne,Me,qe,ct,St)},At.prototype.decompose=function(){var te=this.sx,ge=this.shy,Ne=this.shx,Me=this.sy,qe=this.tx,ct=this.ty,St=Math.sqrt(te*te+ge*ge),Kt=(te/=St)*Ne+(ge/=St)*Me;Ne-=te*Kt,Me-=ge*Kt;var tr=Math.sqrt(Ne*Ne+Me*Me);return Kt/=tr,te*(Me/=tr)<ge*(Ne/=tr)&&(te=-te,ge=-ge,Kt=-Kt,St=-St),{scale:new At(St,0,0,tr,0,0),translate:new At(1,0,0,1,qe,ct),rotate:new At(te,ge,-ge,te,0,0),skew:new At(1,0,Kt,1,0,0)}},At.prototype.toString=function(te){return this.join(" ")},At.prototype.inversed=function(){var te=this.sx,ge=this.shy,Ne=this.shx,Me=this.sy,qe=this.tx,ct=this.ty,St=1/(te*Me-ge*Ne),Kt=Me*St,tr=-ge*St,Er=-Ne*St,Mr=te*St;return new At(Kt,tr,Er,Mr,-Kt*qe-Er*ct,-tr*qe-Mr*ct)},At.prototype.applyToPoint=function(te){var ge=te.x*this.sx+te.y*this.shx+this.tx,Ne=te.x*this.shy+te.y*this.sy+this.ty;return new Vs(ge,Ne)},At.prototype.applyToRectangle=function(te){var ge=this.applyToPoint(te),Ne=this.applyToPoint(new Vs(te.x+te.w,te.y+te.h));return new Bo(ge.x,ge.y,Ne.x-ge.x,Ne.y-ge.y)},At.prototype.clone=function(){var te=this.sx,ge=this.shy,Ne=this.shx,Me=this.sy,qe=this.tx,ct=this.ty;return new At(te,ge,Ne,Me,qe,ct)},h.Matrix=At;var fr=h.matrixMult=function(te,ge){return ge.multiply(te)},Gr=new At(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Gr;var Qt=function(te,ge){if(!zt[te]){var Ne=(ge instanceof wd?"Sh":"P")+(Object.keys(ht).length+1).toString(10);ge.id=Ne,zt[te]=Ne,ht[Ne]=ge,Yt.publish("addPattern",ge)}};h.ShadingPattern=wd,h.TilingPattern=sp,h.addShadingPattern=function(te,ge){return I("addShadingPattern()"),Qt(te,ge),this},h.beginTilingPattern=function(te){I("beginTilingPattern()"),Na(te.boundingBox[0],te.boundingBox[1],te.boundingBox[2]-te.boundingBox[0],te.boundingBox[3]-te.boundingBox[1],te.matrix)},h.endTilingPattern=function(te,ge){I("endTilingPattern()"),ge.stream=ie[X].join(`
`),Qt(te,ge),Yt.publish("endTilingPattern",ge),Or.pop().restore()};var Re,$e=h.__private__.newObject=function(){var te=Je();return xt(te,!0),te},Je=h.__private__.newObjectDeferred=function(){return G++,J[G]=function(){return U},G},xt=function(te,ge){return ge=typeof ge=="boolean"&&ge,J[te]=U,ge&&ue(te+" 0 obj"),te},ar=h.__private__.newAdditionalObject=function(){var te={objId:Je(),content:""};return Z.push(te),te},Ot=Je(),er=Je(),Jt=h.__private__.decodeColorString=function(te){var ge=te.split(" ");if(ge.length!==2||ge[1]!=="g"&&ge[1]!=="G")ge.length!==5||ge[4]!=="k"&&ge[4]!=="K"||(ge=[(1-ge[0])*(1-ge[3]),(1-ge[1])*(1-ge[3]),(1-ge[2])*(1-ge[3]),"r"]);else{var Ne=parseFloat(ge[0]);ge=[Ne,Ne,Ne,"r"]}for(var Me="#",qe=0;qe<3;qe++)Me+=("0"+Math.floor(255*parseFloat(ge[qe])).toString(16)).slice(-2);return Me},qt=h.__private__.encodeColorString=function(te){var ge;typeof te=="string"&&(te={ch1:te});var Ne=te.ch1,Me=te.ch2,qe=te.ch3,ct=te.ch4,St=te.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ne=="string"&&Ne.charAt(0)!=="#"){var Kt=new rz(Ne);if(Kt.ok)Ne=Kt.toHex();else if(!/^\d*\.?\d*$/.test(Ne))throw new Error('Invalid color "'+Ne+'" passed to jsPDF.encodeColorString.')}if(typeof Ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ne)&&(Ne="#"+Ne[1]+Ne[1]+Ne[2]+Ne[2]+Ne[3]+Ne[3]),typeof Ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ne)){var tr=parseInt(Ne.substr(1),16);Ne=tr>>16&255,Me=tr>>8&255,qe=255&tr}if(Me===void 0||ct===void 0&&Ne===Me&&Me===qe)ge=typeof Ne=="string"?Ne+" "+St[0]:te.precision===2?$(Ne/255)+" "+St[0]:B(Ne/255)+" "+St[0];else if(ct===void 0||Kn(ct)==="object"){if(ct&&!isNaN(ct.a)&&ct.a===0)return["1.","1.","1.",St[1]].join(" ");ge=typeof Ne=="string"?[Ne,Me,qe,St[1]].join(" "):te.precision===2?[$(Ne/255),$(Me/255),$(qe/255),St[1]].join(" "):[B(Ne/255),B(Me/255),B(qe/255),St[1]].join(" ")}else ge=typeof Ne=="string"?[Ne,Me,qe,ct,St[2]].join(" "):te.precision===2?[$(Ne),$(Me),$(qe),$(ct),St[2]].join(" "):[B(Ne),B(Me),B(qe),B(ct),St[2]].join(" ");return ge},or=h.__private__.getFilters=function(){return s},Gt=h.__private__.putStream=function(te){var ge=(te=te||{}).data||"",Ne=te.filters||or(),Me=te.alreadyAppliedFilters||[],qe=te.addLength1||!1,ct=ge.length,St=te.objectId,Kt=function(Ci){return Ci};if(u!==null&&St===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Kt=cn.encryptor(St,0));var tr={};Ne===!0&&(Ne=["FlateEncode"]);var Er=te.additionalKeyValues||[],Mr=(tr=gr.API.processDataByFilters!==void 0?gr.API.processDataByFilters(ge,Ne):{data:ge,reverseChain:[]}).reverseChain+(Array.isArray(Me)?Me.join(" "):Me.toString());if(tr.data.length!==0&&(Er.push({key:"Length",value:tr.data.length}),qe===!0&&Er.push({key:"Length1",value:ct})),Mr.length!=0)if(Mr.split("/").length-1==1)Er.push({key:"Filter",value:Mr});else{Er.push({key:"Filter",value:"["+Mr+"]"});for(var hn=0;hn<Er.length;hn+=1)if(Er[hn].key==="DecodeParms"){for(var Yn=[],ni=0;ni<tr.reverseChain.split("/").length-1;ni+=1)Yn.push("null");Yn.push(Er[hn].value),Er[hn].value="["+Yn.join(" ")+"]"}}ue("<<");for(var vn=0;vn<Er.length;vn++)ue("/"+Er[vn].key+" "+Er[vn].value);ue(">>"),tr.data.length!==0&&(ue("stream"),ue(Kt(tr.data)),ue("endstream"))},kr=h.__private__.putPage=function(te){var ge=te.number,Ne=te.data,Me=te.objId,qe=te.contentsObjId;xt(Me,!0),ue("<</Type /Page"),ue("/Parent "+te.rootDictionaryObjId+" 0 R"),ue("/Resources "+te.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(j(te.mediaBox.bottomLeftX))+" "+parseFloat(j(te.mediaBox.bottomLeftY))+" "+j(te.mediaBox.topRightX)+" "+j(te.mediaBox.topRightY)+"]"),te.cropBox!==null&&ue("/CropBox ["+j(te.cropBox.bottomLeftX)+" "+j(te.cropBox.bottomLeftY)+" "+j(te.cropBox.topRightX)+" "+j(te.cropBox.topRightY)+"]"),te.bleedBox!==null&&ue("/BleedBox ["+j(te.bleedBox.bottomLeftX)+" "+j(te.bleedBox.bottomLeftY)+" "+j(te.bleedBox.topRightX)+" "+j(te.bleedBox.topRightY)+"]"),te.trimBox!==null&&ue("/TrimBox ["+j(te.trimBox.bottomLeftX)+" "+j(te.trimBox.bottomLeftY)+" "+j(te.trimBox.topRightX)+" "+j(te.trimBox.topRightY)+"]"),te.artBox!==null&&ue("/ArtBox ["+j(te.artBox.bottomLeftX)+" "+j(te.artBox.bottomLeftY)+" "+j(te.artBox.topRightX)+" "+j(te.artBox.topRightY)+"]"),typeof te.userUnit=="number"&&te.userUnit!==1&&ue("/UserUnit "+te.userUnit),Yt.publish("putPage",{objId:Me,pageContext:Nt[ge],pageNumber:ge,page:Ne}),ue("/Contents "+qe+" 0 R"),ue(">>"),ue("endobj");var ct=Ne.join(`
`);return C===w&&(ct+=`
Q`),xt(qe,!0),Gt({data:ct,filters:or(),objectId:qe}),ue("endobj"),Me},sn=h.__private__.putPages=function(){var te,ge,Ne=[];for(te=1;te<=Ht;te++)Nt[te].objId=Je(),Nt[te].contentsObjId=Je();for(te=1;te<=Ht;te++)Ne.push(kr({number:te,data:ie[te],objId:Nt[te].objId,contentsObjId:Nt[te].contentsObjId,mediaBox:Nt[te].mediaBox,cropBox:Nt[te].cropBox,bleedBox:Nt[te].bleedBox,trimBox:Nt[te].trimBox,artBox:Nt[te].artBox,userUnit:Nt[te].userUnit,rootDictionaryObjId:Ot,resourceDictionaryObjId:er}));xt(Ot,!0),ue("<</Type /Pages");var Me="/Kids [";for(ge=0;ge<Ht;ge++)Me+=Ne[ge]+" 0 R ";ue(Me+"]"),ue("/Count "+Ht),ue(">>"),ue("endobj"),Yt.publish("postPutPages")},tn=function(te){Yt.publish("putFont",{font:te,out:ue,newObject:$e,putStream:Gt}),te.isAlreadyPutted!==!0&&(te.objectNumber=$e(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+ep(te.postScriptName)),ue("/Subtype /Type1"),typeof te.encoding=="string"&&ue("/Encoding /"+te.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},xn=function(te){te.objectNumber=$e();var ge=[];ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Form"}),ge.push({key:"BBox",value:"["+[j(te.x),j(te.y),j(te.x+te.width),j(te.y+te.height)].join(" ")+"]"}),ge.push({key:"Matrix",value:"["+te.matrix.toString()+"]"});var Ne=te.pages[1].join(`
`);Gt({data:Ne,additionalKeyValues:ge,objectId:te.objectNumber}),ue("endobj")},Tn=function(te,ge){ge||(ge=21);var Ne=$e(),Me=(function(St,Kt){var tr,Er=[],Mr=1/(Kt-1);for(tr=0;tr<1;tr+=Mr)Er.push(tr);if(Er.push(1),St[0].offset!=0){var hn={offset:0,color:St[0].color};St.unshift(hn)}if(St[St.length-1].offset!=1){var Yn={offset:1,color:St[St.length-1].color};St.push(Yn)}for(var ni="",vn=0,Ci=0;Ci<Er.length;Ci++){for(tr=Er[Ci];tr>St[vn+1].offset;)vn++;var Ln=St[vn].offset,Hi=(tr-Ln)/(St[vn+1].offset-Ln),Zs=St[vn].color,bo=St[vn+1].color;ni+=re(Math.round((1-Hi)*Zs[0]+Hi*bo[0]).toString(16))+re(Math.round((1-Hi)*Zs[1]+Hi*bo[1]).toString(16))+re(Math.round((1-Hi)*Zs[2]+Hi*bo[2]).toString(16))}return ni.trim()})(te.colors,ge),qe=[];qe.push({key:"FunctionType",value:"0"}),qe.push({key:"Domain",value:"[0.0 1.0]"}),qe.push({key:"Size",value:"["+ge+"]"}),qe.push({key:"BitsPerSample",value:"8"}),qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gt({data:Me,additionalKeyValues:qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ne}),ue("endobj"),te.objectNumber=$e(),ue("<< /ShadingType "+te.type),ue("/ColorSpace /DeviceRGB");var ct="/Coords ["+j(parseFloat(te.coords[0]))+" "+j(parseFloat(te.coords[1]))+" ";te.type===2?ct+=j(parseFloat(te.coords[2]))+" "+j(parseFloat(te.coords[3])):ct+=j(parseFloat(te.coords[2]))+" "+j(parseFloat(te.coords[3]))+" "+j(parseFloat(te.coords[4]))+" "+j(parseFloat(te.coords[5])),ue(ct+="]"),te.matrix&&ue("/Matrix ["+te.matrix.toString()+"]"),ue("/Function "+Ne+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},oi=function(te,ge){var Ne=Je(),Me=$e();ge.push({resourcesOid:Ne,objectOid:Me}),te.objectNumber=Me;var qe=[];qe.push({key:"Type",value:"/Pattern"}),qe.push({key:"PatternType",value:"1"}),qe.push({key:"PaintType",value:"1"}),qe.push({key:"TilingType",value:"1"}),qe.push({key:"BBox",value:"["+te.boundingBox.map(j).join(" ")+"]"}),qe.push({key:"XStep",value:j(te.xStep)}),qe.push({key:"YStep",value:j(te.yStep)}),qe.push({key:"Resources",value:Ne+" 0 R"}),te.matrix&&qe.push({key:"Matrix",value:"["+te.matrix.toString()+"]"}),Gt({data:te.stream,additionalKeyValues:qe,objectId:te.objectNumber}),ue("endobj")},je=function(te){for(var ge in te.objectNumber=$e(),ue("<<"),te)switch(ge){case"opacity":ue("/ca "+$(te[ge]));break;case"stroke-opacity":ue("/CA "+$(te[ge]))}ue(">>"),ue("endobj")},Ue=function(te){xt(te.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ge in ue("/Font <<"),et)et.hasOwnProperty(ge)&&(f===!1||f===!0&&d.hasOwnProperty(ge))&&ue("/"+ge+" "+et[ge].objectNumber+" 0 R");ue(">>")})(),(function(){if(Object.keys(ht).length>0){for(var ge in ue("/Shading <<"),ht)ht.hasOwnProperty(ge)&&ht[ge]instanceof wd&&ht[ge].objectNumber>=0&&ue("/"+ge+" "+ht[ge].objectNumber+" 0 R");Yt.publish("putShadingPatternDict"),ue(">>")}})(),(function(ge){if(Object.keys(ht).length>0){for(var Ne in ue("/Pattern <<"),ht)ht.hasOwnProperty(Ne)&&ht[Ne]instanceof h.TilingPattern&&ht[Ne].objectNumber>=0&&ht[Ne].objectNumber<ge&&ue("/"+Ne+" "+ht[Ne].objectNumber+" 0 R");Yt.publish("putTilingPatternDict"),ue(">>")}})(te.objectOid),(function(){if(Object.keys(Vt).length>0){var ge;for(ge in ue("/ExtGState <<"),Vt)Vt.hasOwnProperty(ge)&&Vt[ge].objectNumber>=0&&ue("/"+ge+" "+Vt[ge].objectNumber+" 0 R");Yt.publish("putGStateDict"),ue(">>")}})(),(function(){for(var ge in ue("/XObject <<"),Wt)Wt.hasOwnProperty(ge)&&Wt[ge].objectNumber>=0&&ue("/"+ge+" "+Wt[ge].objectNumber+" 0 R");Yt.publish("putXobjectDict"),ue(">>")})(),ue(">>"),ue("endobj")},ft=function(te){dt[te.fontName]=dt[te.fontName]||{},dt[te.fontName][te.fontStyle]=te.id},_t=function(te,ge,Ne,Me,qe){var ct={id:"F"+(Object.keys(et).length+1).toString(10),postScriptName:te,fontName:ge,fontStyle:Ne,encoding:Me,isStandardFont:qe||!1,metadata:{}};return Yt.publish("addFont",{font:ct,instance:this}),et[ct.id]=ct,ft(ct),ct.id},$t=h.__private__.pdfEscape=h.pdfEscape=function(te,ge){return(function(Ne,Me){var qe,ct,St,Kt,tr,Er,Mr,hn,Yn;if(St=(Me=Me||{}).sourceEncoding||"Unicode",tr=Me.outputEncoding,(Me.autoencode||tr)&&et[pt].metadata&&et[pt].metadata[St]&&et[pt].metadata[St].encoding&&(Kt=et[pt].metadata[St].encoding,!tr&&et[pt].encoding&&(tr=et[pt].encoding),!tr&&Kt.codePages&&(tr=Kt.codePages[0]),typeof tr=="string"&&(tr=Kt[tr]),tr)){for(Mr=!1,Er=[],qe=0,ct=Ne.length;qe<ct;qe++)(hn=tr[Ne.charCodeAt(qe)])?Er.push(String.fromCharCode(hn)):Er.push(Ne[qe]),Er[qe].charCodeAt(0)>>8&&(Mr=!0);Ne=Er.join("")}for(qe=Ne.length;Mr===void 0&&qe!==0;)Ne.charCodeAt(qe-1)>>8&&(Mr=!0),qe--;if(!Mr)return Ne;for(Er=Me.noBOM?[]:[254,255],qe=0,ct=Ne.length;qe<ct;qe++){if((Yn=(hn=Ne.charCodeAt(qe))>>8)>>8)throw new Error("Character at position "+qe+" of string '"+Ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Er.push(Yn),Er.push(hn-(Yn<<8))}return String.fromCharCode.apply(void 0,Er)})(te,ge).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ct=h.__private__.beginPage=function(te){ie[++Ht]=[],Nt[Ht]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(te[0]),topRightY:Number(te[1])}},_r(Ht),fe(ie[X])},Rt=function(te,ge){var Ne,Me,qe;switch(t=ge||t,typeof te=="string"&&(Ne=y(te.toLowerCase()),Array.isArray(Ne)&&(Me=Ne[0],qe=Ne[1])),Array.isArray(te)&&(Me=te[0]*bt,qe=te[1]*bt),isNaN(Me)&&(Me=i[0],qe=i[1]),(Me>14400||qe>14400)&&(ai.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Me=Math.min(14400,Me),qe=Math.min(14400,qe)),i=[Me,qe],t.substr(0,1)){case"l":qe>Me&&(i=[qe,Me]);break;case"p":Me>qe&&(i=[qe,Me])}Ct(i),ea(qi),ue(Ys),Dn!==0&&ue(Dn+" J"),Nc!==0&&ue(Nc+" j"),Yt.publish("addPage",{pageNumber:Ht})},Vr=function(te){te>0&&te<=Ht&&(ie.splice(te,1),Nt.splice(te,1),Ht--,X>Ht&&(X=Ht),this.setPage(X))},_r=function(te){te>0&&te<=Ht&&(X=te)},br=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ie.length-1},pr=function(te,ge,Ne){var Me,qe=void 0;return Ne=Ne||{},te=te!==void 0?te:et[pt].fontName,ge=ge!==void 0?ge:et[pt].fontStyle,Me=te.toLowerCase(),dt[Me]!==void 0&&dt[Me][ge]!==void 0?qe=dt[Me][ge]:dt[te]!==void 0&&dt[te][ge]!==void 0?qe=dt[te][ge]:Ne.disableWarning===!1&&ai.warn("Unable to look up font label for font '"+te+"', '"+ge+"'. Refer to getFontList() for available fonts."),qe||Ne.noFallback||(qe=dt.times[ge])==null&&(qe=dt.times.normal),qe},Tr=h.__private__.putInfo=function(){var te=$e(),ge=function(Me){return Me};for(var Ne in u!==null&&(ge=cn.encryptor(te,0)),ue("<<"),ue("/Producer ("+$t(ge("jsPDF "+gr.version))+")"),it)it.hasOwnProperty(Ne)&&it[Ne]&&ue("/"+Ne.substr(0,1).toUpperCase()+Ne.substr(1)+" ("+$t(ge(it[Ne]))+")");ue("/CreationDate ("+$t(ge(N))+")"),ue(">>"),ue("endobj")},an=h.__private__.putCatalog=function(te){var ge=(te=te||{}).rootDictionaryObjId||Ot;switch($e(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+ge+" 0 R"),Ce||(Ce="fullwidth"),Ce){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ne=""+Ce;Ne.substr(Ne.length-1)==="%"&&(Ce=parseInt(Ce)/100),typeof Ce=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+$(Ce)+"]")}switch(Qe||(Qe="continuous"),Qe){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}De&&ue("/PageMode /"+De),Yt.publish("putCatalog"),ue(">>"),ue("endobj")},Sr=h.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(G+1)),ue("/Root "+G+" 0 R"),ue("/Info "+(G-1)+" 0 R"),u!==null&&ue("/Encrypt "+cn.oid+" 0 R"),ue("/ID [ <"+_+"> <"+_+"> ]"),ue(">>")},_n=h.__private__.putHeader=function(){ue("%PDF-"+m),ue("%ºß¬à")},Mn=h.__private__.putXRef=function(){var te="0000000000";ue("xref"),ue("0 "+(G+1)),ue("0000000000 65535 f ");for(var ge=1;ge<=G;ge++)typeof J[ge]=="function"?ue((te+J[ge]()).slice(-10)+" 00000 n "):J[ge]!==void 0?ue((te+J[ge]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},Nn=h.__private__.buildDocument=function(){var te;G=0,U=0,q=[],J=[],Z=[],Ot=Je(),er=Je(),fe(q),Yt.publish("buildDocument"),_n(),sn(),(function(){Yt.publish("putAdditionalObjects");for(var Ne=0;Ne<Z.length;Ne++){var Me=Z[Ne];xt(Me.objId,!0),ue(Me.content),ue("endobj")}Yt.publish("postPutAdditionalObjects")})(),te=[],(function(){for(var Ne in et)et.hasOwnProperty(Ne)&&(f===!1||f===!0&&d.hasOwnProperty(Ne))&&tn(et[Ne])})(),(function(){var Ne;for(Ne in Vt)Vt.hasOwnProperty(Ne)&&je(Vt[Ne])})(),(function(){for(var Ne in Wt)Wt.hasOwnProperty(Ne)&&xn(Wt[Ne])})(),(function(Ne){var Me;for(Me in ht)ht.hasOwnProperty(Me)&&(ht[Me]instanceof wd?Tn(ht[Me]):ht[Me]instanceof sp&&oi(ht[Me],Ne))})(te),Yt.publish("putResources"),te.forEach(Ue),Ue({resourcesOid:er,objectOid:Number.MAX_SAFE_INTEGER}),Yt.publish("postPutResources"),u!==null&&(cn.oid=$e(),ue("<<"),ue("/Filter /Standard"),ue("/V "+cn.v),ue("/R "+cn.r),ue("/U <"+cn.toHexString(cn.U)+">"),ue("/O <"+cn.toHexString(cn.O)+">"),ue("/P "+cn.P),ue(">>"),ue("endobj")),Tr(),an();var ge=U;return Mn(),Sr(),ue("startxref"),ue(""+ge),ue("%%EOF"),fe(ie[X]),q.join(`
`)},Xn=h.__private__.getBlob=function(te){return new Blob([he(te)],{type:"application/pdf"})},ti=h.output=h.__private__.output=(Re=function(te,ge){switch(typeof(ge=ge||{})=="string"?ge={filename:ge}:ge.filename=ge.filename||"generated.pdf",te){case void 0:return Nn();case"save":h.save(ge.filename);break;case"arraybuffer":return he(Nn());case"blob":return Xn(Nn());case"bloburi":case"bloburl":if(Hr.URL!==void 0&&typeof Hr.URL.createObjectURL=="function")return Hr.URL&&Hr.URL.createObjectURL(Xn(Nn()))||void 0;ai.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ne="",Me=Nn();try{Ne=LM(Me)}catch{Ne=LM(unescape(encodeURIComponent(Me)))}return"data:application/pdf;filename="+ge.filename+";base64,"+Ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Hr)==="[object Window]"){var qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ct=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ge.pdfObjectUrl&&(qe=ge.pdfObjectUrl,ct="");var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+qe+'"'+ct+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ge)+");<\/script></body></html>",Kt=Hr.open();return Kt!==null&&Kt.document.write(St),Kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Hr)==="[object Window]"){var tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ge.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ge.filename+'" width="500px" height="400px" /></body></html>',Er=Hr.open();if(Er!==null){Er.document.write(tr);var Mr=this;Er.document.documentElement.querySelector("#pdfViewer").onload=function(){Er.document.title=ge.filename,Er.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Mr.output("bloburl"))}}return Er}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Hr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var hn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ge)+'"></iframe></body></html>',Yn=Hr.open();if(Yn!==null&&(Yn.document.write(hn),Yn.document.title=ge.filename),Yn||typeof safari>"u")return Yn;break;case"datauri":case"dataurl":return Hr.document.location.href=this.output("datauristring",ge);default:return null}},Re.foo=function(){try{return Re.apply(this,arguments)}catch(Ne){var te=Ne.stack||"";~te.indexOf(" at ")&&(te=te.split(" at ")[1]);var ge="Error in function "+te.split(`
`)[0].split("<")[0]+": "+Ne.message;if(!Hr.console)throw new Error(ge);Hr.console.error(ge,Ne),Hr.alert&&alert(ge)}},Re.foo.bar=Re,Re.foo),$a=function(te){return Array.isArray(Ur)===!0&&Ur.indexOf(te)>-1};switch(n){case"pt":bt=1;break;case"mm":bt=72/25.4;break;case"cm":bt=72/2.54;break;case"in":bt=72;break;case"px":bt=$a("px_scaling")==1?.75:96/72;break;case"pc":case"em":bt=12;break;case"ex":bt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);bt=n}var cn=null;V(),S();var li=h.__private__.getPageInfo=h.getPageInfo=function(te){if(isNaN(te)||te%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Nt[te].objId,pageNumber:te,pageContext:Nt[te]}},rn=h.__private__.getPageInfoByObjId=function(te){if(isNaN(te)||te%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ge in Nt)if(Nt[ge].objId===te)break;return li(ge)},zr=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Nt[X].objId,pageNumber:X,pageContext:Nt[X]}};h.addPage=function(){return Rt.apply(this,arguments),this},h.setPage=function(){return _r.apply(this,arguments),fe.call(this,ie[X]),this},h.insertPage=function(te){return this.addPage(),this.movePage(X,te),this},h.movePage=function(te,ge){var Ne,Me;if(te>ge){Ne=ie[te],Me=Nt[te];for(var qe=te;qe>ge;qe--)ie[qe]=ie[qe-1],Nt[qe]=Nt[qe-1];ie[ge]=Ne,Nt[ge]=Me,this.setPage(ge)}else if(te<ge){Ne=ie[te],Me=Nt[te];for(var ct=te;ct<ge;ct++)ie[ct]=ie[ct+1],Nt[ct]=Nt[ct+1];ie[ge]=Ne,Nt[ge]=Me,this.setPage(ge)}return this},h.deletePage=function(){return Vr.apply(this,arguments),this},h.__private__.text=h.text=function(te,ge,Ne,Me,qe){var ct,St,Kt,tr,Er,Mr,hn,Yn,ni,vn=(Me=Me||{}).scope||this;if(typeof te=="number"&&typeof ge=="number"&&(typeof Ne=="string"||Array.isArray(Ne))){var Ci=Ne;Ne=ge,ge=te,te=Ci}if(arguments[3]instanceof At==0?(Kt=arguments[4],tr=arguments[5],Kn(hn=arguments[3])==="object"&&hn!==null||(typeof Kt=="string"&&(tr=Kt,Kt=null),typeof hn=="string"&&(tr=hn,hn=null),typeof hn=="number"&&(Kt=hn,hn=null),Me={flags:hn,angle:Kt,align:tr})):(I("The transform parameter of text() with a Matrix value"),ni=qe),isNaN(ge)||isNaN(Ne)||te==null)throw new Error("Invalid arguments passed to jsPDF.text");if(te.length===0)return vn;var Ln,Hi="",Zs=typeof Me.lineHeightFactor=="number"?Me.lineHeightFactor:Ei,bo=vn.internal.scaleFactor;function Pc(Qn){return Qn=Qn.split("	").join(Array(Me.TabLen||9).join(" ")),$t(Qn,hn)}function pl(Qn){for(var Zn,Ri=Qn.concat(),Mi=[],ra=Ri.length;ra--;)typeof(Zn=Ri.shift())=="string"?Mi.push(Zn):Array.isArray(Qn)&&(Zn.length===1||Zn[1]===void 0&&Zn[2]===void 0)?Mi.push(Zn[0]):Mi.push([Zn[0],Zn[1],Zn[2]]);return Mi}function Oi(Qn,Zn){var Ri;if(typeof Qn=="string")Ri=Zn(Qn)[0];else if(Array.isArray(Qn)){for(var Mi,ra,zo=Qn.concat(),xo=[],Mu=zo.length;Mu--;)typeof(Mi=zo.shift())=="string"?xo.push(Zn(Mi)[0]):Array.isArray(Mi)&&typeof Mi[0]=="string"&&(ra=Zn(Mi[0],Mi[1],Mi[2]),xo.push([ra[0],ra[1],ra[2]]));Ri=xo}return Ri}var vs=!1,Wl=!0;if(typeof te=="string")vs=!0;else if(Array.isArray(te)){var rs=te.concat();St=[];for(var W,ae=rs.length;ae--;)(typeof(W=rs.shift())!="string"||Array.isArray(W)&&typeof W[0]!="string")&&(Wl=!1);vs=Wl}if(vs===!1)throw new Error('Type of text must be string or Array. "'+te+'" is not recognized.');typeof te=="string"&&(te=te.match(/[\r?\n]/)?te.split(/\r\n|\r|\n/g):[te]);var pe=me/vn.internal.scaleFactor,Se=pe*(Zs-1);switch(Me.baseline){case"bottom":Ne-=Se;break;case"top":Ne+=pe-Se;break;case"hanging":Ne+=pe-2*Se;break;case"middle":Ne+=pe/2-Se}if((Mr=Me.maxWidth||0)>0&&(typeof te=="string"?te=vn.splitTextToSize(te,Mr):Object.prototype.toString.call(te)==="[object Array]"&&(te=te.reduce(function(Qn,Zn){return Qn.concat(vn.splitTextToSize(Zn,Mr))},[]))),ct={text:te,x:ge,y:Ne,options:Me,mutex:{pdfEscape:$t,activeFontKey:pt,fonts:et,activeFontSize:me}},Yt.publish("preProcessText",ct),te=ct.text,Kt=(Me=ct.options).angle,ni instanceof At==0&&Kt&&typeof Kt=="number"){Kt*=Math.PI/180,Me.rotationDirection===0&&(Kt=-Kt),C===w&&(Kt=-Kt);var We=Math.cos(Kt),nt=Math.sin(Kt);ni=new At(We,nt,-nt,We,0,0)}else Kt&&Kt instanceof At&&(ni=Kt);C!==w||ni||(ni=Gr),(Er=Me.charSpace||ys)!==void 0&&(Hi+=j(T(Er))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Yn=Me.horizontalScale)!==void 0&&(Hi+=j(100*Yn)+` Tz
`),Me.lang;var Pt=-1,bn=Me.renderingMode!==void 0?Me.renderingMode:Me.stroke,ci=vn.internal.getCurrentPageInfo().pageContext;switch(bn){case 0:case!1:case"fill":Pt=0;break;case 1:case!0:case"stroke":Pt=1;break;case 2:case"fillThenStroke":Pt=2;break;case 3:case"invisible":Pt=3;break;case 4:case"fillAndAddForClipping":Pt=4;break;case 5:case"strokeAndAddPathForClipping":Pt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Pt=6;break;case 7:case"addToPathForClipping":Pt=7}var on=ci.usedRenderingMode!==void 0?ci.usedRenderingMode:-1;Pt!==-1?Hi+=Pt+` Tr
`:on!==-1&&(Hi+=`0 Tr
`),Pt!==-1&&(ci.usedRenderingMode=Pt),tr=Me.align||"left";var un,Sn=me*Zs,za=vn.internal.pageSize.getWidth(),Pa=et[pt];Er=Me.charSpace||ys,Mr=Me.maxWidth||0,hn=Object.assign({autoencode:!0,noBOM:!0},Me.flags);var bs=[],wo=function(Qn){return vn.getStringUnitWidth(Qn,{font:Pa,charSpace:Er,fontSize:me,doKerning:!1})*me/bo};if(Object.prototype.toString.call(te)==="[object Array]"){var ns;St=pl(te),tr!=="left"&&(un=St.map(wo));var is,Gl=0;if(tr==="right"){ge-=un[0],te=[],ae=St.length;for(var as=0;as<ae;as++)as===0?(is=Ai(ge),ns=go(Ne)):(is=T(Gl-un[as]),ns=-Sn),te.push([St[as],is,ns]),Gl=un[as]}else if(tr==="center"){ge-=un[0]/2,te=[],ae=St.length;for(var Kl=0;Kl<ae;Kl++)Kl===0?(is=Ai(ge),ns=go(Ne)):(is=T((Gl-un[Kl])/2),ns=-Sn),te.push([St[Kl],is,ns]),Gl=un[Kl]}else if(tr==="left"){te=[],ae=St.length;for(var qf=0;qf<ae;qf++)te.push(St[qf])}else if(tr==="justify"&&Pa.encoding==="Identity-H"){te=[],ae=St.length,Mr=Mr!==0?Mr:za;for(var Xl=0,ki=0;ki<ae;ki++)if(ns=ki===0?go(Ne):-Sn,is=ki===0?Ai(ge):Xl,ki<ae-1){var gh=T((Mr-un[ki])/(St[ki].split(" ").length-1)),ws=St[ki].split(" ");te.push([ws[0]+" ",is,ns]),Xl=0;for(var xs=1;xs<ws.length;xs++){var Iu=(wo(ws[xs-1]+" "+ws[xs])-wo(ws[xs]))*bo+gh;xs==ws.length-1?te.push([ws[xs],Iu,0]):te.push([ws[xs]+" ",Iu,0]),Xl-=Iu}}else te.push([St[ki],is,ns]);te.push(["",Xl,0])}else{if(tr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(te=[],ae=St.length,Mr=Mr!==0?Mr:za,ki=0;ki<ae;ki++)ns=ki===0?go(Ne):-Sn,is=ki===0?Ai(ge):0,ki<ae-1?bs.push(j(T((Mr-un[ki])/(St[ki].split(" ").length-1)))):bs.push(0),te.push([St[ki],is,ns])}}(typeof Me.R2L=="boolean"?Me.R2L:Oe)===!0&&(te=Oi(te,function(Qn,Zn,Ri){return[Qn.split("").reverse().join(""),Zn,Ri]})),ct={text:te,x:ge,y:Ne,options:Me,mutex:{pdfEscape:$t,activeFontKey:pt,fonts:et,activeFontSize:me}},Yt.publish("postProcessText",ct),te=ct.text,Ln=ct.mutex.isHex||!1;var Yl=et[pt].encoding;Yl!=="WinAnsiEncoding"&&Yl!=="StandardEncoding"||(te=Oi(te,function(Qn,Zn,Ri){return[Pc(Qn),Zn,Ri]})),St=pl(te),te=[];for(var Ou,jc,ml,gl=Array.isArray(St[0])?1:0,Uo="",Ru=function(Qn,Zn,Ri){var Mi="";return Ri instanceof At?(Ri=typeof Me.angle=="number"?fr(Ri,new At(1,0,0,1,Qn,Zn)):fr(new At(1,0,0,1,Qn,Zn),Ri),C===w&&(Ri=fr(new At(1,0,0,-1,0,0),Ri)),Mi=Ri.join(" ")+` Tm
`):Mi=j(Qn)+" "+j(Zn)+` Td
`,Mi},_s=0;_s<St.length;_s++){switch(Uo="",gl){case 1:ml=(Ln?"<":"(")+St[_s][0]+(Ln?">":")"),Ou=parseFloat(St[_s][1]),jc=parseFloat(St[_s][2]);break;case 0:ml=(Ln?"<":"(")+St[_s]+(Ln?">":")"),Ou=Ai(ge),jc=go(Ne)}bs!==void 0&&bs[_s]!==void 0&&(Uo=bs[_s]+` Tw
`),_s===0?te.push(Uo+Ru(Ou,jc,ni)+ml):gl===0?te.push(Uo+ml):gl===1&&te.push(Uo+Ru(Ou,jc,ni)+ml)}te=gl===0?te.join(` Tj
T* `):te.join(` Tj
`),te+=` Tj
`;var Vo=`BT
/`;return Vo+=pt+" "+me+` Tf
`,Vo+=j(me*Zs)+` TL
`,Vo+=Ta+`
`,Vo+=Hi,Vo+=te,ue(Vo+="ET"),d[pt]=!0,vn};var Ji=h.__private__.clip=h.clip=function(te){return ue(te==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Ji("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ue("n"),this};var Kr=h.__private__.isValidStyle=function(te){var ge=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(te)!==-1&&(ge=!0),ge};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(te){return Kr(te)&&(o=te),this};var Ua=h.__private__.getStyle=h.getStyle=function(te){var ge=o;switch(te){case"D":case"S":ge="S";break;case"F":ge="f";break;case"FD":case"DF":ge="B";break;case"f":case"f*":case"B":case"B*":ge=te}return ge},Cr=h.close=function(){return ue("h"),this};h.stroke=function(){return ue("S"),this},h.fill=function(te){return ri("f",te),this},h.fillEvenOdd=function(te){return ri("f*",te),this},h.fillStroke=function(te){return ri("B",te),this},h.fillStrokeEvenOdd=function(te){return ri("B*",te),this};var ri=function(te,ge){Kn(ge)==="object"?mo(ge,te):ue(te)},Aa=function(te){te===null||C===w&&te===void 0||(te=Ua(te),ue(te))};function ms(te,ge,Ne,Me,qe){var ct=new sp(ge||this.boundingBox,Ne||this.xStep,Me||this.yStep,this.gState,qe||this.matrix);ct.stream=this.stream;var St=te+"$$"+this.cloneIndex+++"$$";return Qt(St,ct),ct}var mo=function(te,ge){var Ne=zt[te.key],Me=ht[Ne];if(Me instanceof wd)ue("q"),ue(Us(ge)),Me.gState&&h.setGState(Me.gState),ue(te.matrix.toString()+" cm"),ue("/"+Ne+" sh"),ue("Q");else if(Me instanceof sp){var qe=new At(1,0,0,-1,0,pa());te.matrix&&(qe=qe.multiply(te.matrix||Gr),Ne=ms.call(Me,te.key,te.boundingBox,te.xStep,te.yStep,qe).id),ue("q"),ue("/Pattern cs"),ue("/"+Ne+" scn"),Me.gState&&h.setGState(Me.gState),ue(ge),ue("Q")}},Us=function(te){switch(te){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ca=h.moveTo=function(te,ge){return ue(j(T(te))+" "+j(R(ge))+" m"),this},gs=h.lineTo=function(te,ge){return ue(j(T(te))+" "+j(R(ge))+" l"),this},Si=h.curveTo=function(te,ge,Ne,Me,qe,ct){return ue([j(T(te)),j(R(ge)),j(T(Ne)),j(R(Me)),j(T(qe)),j(R(ct)),"c"].join(" ")),this};h.__private__.line=h.line=function(te,ge,Ne,Me,qe){if(isNaN(te)||isNaN(ge)||isNaN(Ne)||isNaN(Me)||!Kr(qe))throw new Error("Invalid arguments passed to jsPDF.line");return C===v?this.lines([[Ne-te,Me-ge]],te,ge,[1,1],qe||"S"):this.lines([[Ne-te,Me-ge]],te,ge,[1,1]).stroke()},h.__private__.lines=h.lines=function(te,ge,Ne,Me,qe,ct){var St,Kt,tr,Er,Mr,hn,Yn,ni,vn,Ci,Ln,Hi;if(typeof te=="number"&&(Hi=Ne,Ne=ge,ge=te,te=Hi),Me=Me||[1,1],ct=ct||!1,isNaN(ge)||isNaN(Ne)||!Array.isArray(te)||!Array.isArray(Me)||!Kr(qe)||typeof ct!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ca(ge,Ne),St=Me[0],Kt=Me[1],Er=te.length,Ci=ge,Ln=Ne,tr=0;tr<Er;tr++)(Mr=te[tr]).length===2?(Ci=Mr[0]*St+Ci,Ln=Mr[1]*Kt+Ln,gs(Ci,Ln)):(hn=Mr[0]*St+Ci,Yn=Mr[1]*Kt+Ln,ni=Mr[2]*St+Ci,vn=Mr[3]*Kt+Ln,Ci=Mr[4]*St+Ci,Ln=Mr[5]*Kt+Ln,Si(hn,Yn,ni,vn,Ci,Ln));return ct&&Cr(),Aa(qe),this},h.path=function(te){for(var ge=0;ge<te.length;ge++){var Ne=te[ge],Me=Ne.c;switch(Ne.op){case"m":Ca(Me[0],Me[1]);break;case"l":gs(Me[0],Me[1]);break;case"c":Si.apply(this,Me);break;case"h":Cr()}}return this},h.__private__.rect=h.rect=function(te,ge,Ne,Me,qe){if(isNaN(te)||isNaN(ge)||isNaN(Ne)||isNaN(Me)||!Kr(qe))throw new Error("Invalid arguments passed to jsPDF.rect");return C===v&&(Me=-Me),ue([j(T(te)),j(R(ge)),j(T(Ne)),j(T(Me)),"re"].join(" ")),Aa(qe),this},h.__private__.triangle=h.triangle=function(te,ge,Ne,Me,qe,ct,St){if(isNaN(te)||isNaN(ge)||isNaN(Ne)||isNaN(Me)||isNaN(qe)||isNaN(ct)||!Kr(St))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ne-te,Me-ge],[qe-Ne,ct-Me],[te-qe,ge-ct]],te,ge,[1,1],St,!0),this},h.__private__.roundedRect=h.roundedRect=function(te,ge,Ne,Me,qe,ct,St){if(isNaN(te)||isNaN(ge)||isNaN(Ne)||isNaN(Me)||isNaN(qe)||isNaN(ct)||!Kr(St))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Kt=4/3*(Math.SQRT2-1);return qe=Math.min(qe,.5*Ne),ct=Math.min(ct,.5*Me),this.lines([[Ne-2*qe,0],[qe*Kt,0,qe,ct-ct*Kt,qe,ct],[0,Me-2*ct],[0,ct*Kt,-qe*Kt,ct,-qe,ct],[2*qe-Ne,0],[-qe*Kt,0,-qe,-ct*Kt,-qe,-ct],[0,2*ct-Me],[0,-ct*Kt,qe*Kt,-ct,qe,-ct]],te+qe,ge,[1,1],St,!0),this},h.__private__.ellipse=h.ellipse=function(te,ge,Ne,Me,qe){if(isNaN(te)||isNaN(ge)||isNaN(Ne)||isNaN(Me)||!Kr(qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ct=4/3*(Math.SQRT2-1)*Ne,St=4/3*(Math.SQRT2-1)*Me;return Ca(te+Ne,ge),Si(te+Ne,ge-St,te+ct,ge-Me,te,ge-Me),Si(te-ct,ge-Me,te-Ne,ge-St,te-Ne,ge),Si(te-Ne,ge+St,te-ct,ge+Me,te,ge+Me),Si(te+ct,ge+Me,te+Ne,ge+St,te+Ne,ge),Aa(qe),this},h.__private__.circle=h.circle=function(te,ge,Ne,Me){if(isNaN(te)||isNaN(ge)||isNaN(Ne)||!Kr(Me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(te,ge,Ne,Ne,Me)},h.setFont=function(te,ge,Ne){return Ne&&(ge=L(ge,Ne)),pt=pr(te,ge,{disableWarning:!1}),this};var vi=h.__private__.getFont=h.getFont=function(){return et[pr.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var te,ge,Ne={};for(te in dt)if(dt.hasOwnProperty(te))for(ge in Ne[te]=[],dt[te])dt[te].hasOwnProperty(ge)&&Ne[te].push(ge);return Ne},h.addFont=function(te,ge,Ne,Me,qe){var ct=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ct.indexOf(arguments[3])!==-1?qe=arguments[3]:arguments[3]&&ct.indexOf(arguments[3])==-1&&(Ne=L(Ne,Me)),_t.call(this,te,ge,Ne,qe=qe||"Identity-H")};var Ei,qi=r.lineWidth||.200025,wr=h.__private__.getLineWidth=h.getLineWidth=function(){return qi},ea=h.__private__.setLineWidth=h.setLineWidth=function(te){return qi=te,ue(j(T(te))+" w"),this};h.__private__.setLineDash=gr.API.setLineDash=gr.API.setLineDashPattern=function(te,ge){if(te=te||[],ge=ge||0,isNaN(ge)||!Array.isArray(te))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return te=te.map(function(Ne){return j(T(Ne))}).join(" "),ge=j(T(ge)),ue("["+te+"] "+ge+" d"),this};var ka=h.__private__.getLineHeight=h.getLineHeight=function(){return me*Ei};h.__private__.getLineHeight=h.getLineHeight=function(){return me*Ei};var zf=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(te){return typeof(te=te||1.15)=="number"&&(Ei=te),this},Pu=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Ei};zf(r.lineHeight);var Ai=h.__private__.getHorizontalCoordinate=function(te){return T(te)},go=h.__private__.getVerticalCoordinate=function(te){return C===w?te:Nt[X].mediaBox.topRightY-Nt[X].mediaBox.bottomLeftY-T(te)},ju=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(te){return j(Ai(te))},yo=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(te){return j(go(te))},Ys=r.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Jt(Ys)},h.__private__.setStrokeColor=h.setDrawColor=function(te,ge,Ne,Me){return Ys=qt({ch1:te,ch2:ge,ch3:Ne,ch4:Me,pdfColorType:"draw",precision:2}),ue(Ys),this};var Hl=r.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Jt(Hl)},h.__private__.setFillColor=h.setFillColor=function(te,ge,Ne,Me){return Hl=qt({ch1:te,ch2:ge,ch3:Ne,ch4:Me,pdfColorType:"fill",precision:2}),ue(Hl),this};var Ta=r.textColor||"0 g",Va=h.__private__.getTextColor=h.getTextColor=function(){return Jt(Ta)};h.__private__.setTextColor=h.setTextColor=function(te,ge,Ne,Me){return Ta=qt({ch1:te,ch2:ge,ch3:Ne,ch4:Me,pdfColorType:"text",precision:3}),this};var ys=r.charSpace,Fo=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(ys||0)};h.__private__.setCharSpace=h.setCharSpace=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ys=te,this};var Dn=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(te){var ge=h.CapJoinStyles[te];if(ge===void 0)throw new Error("Line cap style of '"+te+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dn=ge,ue(ge+" J"),this};var Nc=0;h.__private__.setLineJoin=h.setLineJoin=function(te){var ge=h.CapJoinStyles[te];if(ge===void 0)throw new Error("Line join style of '"+te+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nc=ge,ue(ge+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(te){if(te=te||0,isNaN(te))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(j(T(te))+" M"),this},h.GState=xb,h.setGState=function(te){(te=typeof te=="string"?Vt[Bt[te]]:vo(null,te)).equals(sr)||(ue("/"+te.id+" gs"),sr=te)};var vo=function(te,ge){if(!te||!Bt[te]){var Ne=!1;for(var Me in Vt)if(Vt.hasOwnProperty(Me)&&Vt[Me].equals(ge)){Ne=!0;break}if(Ne)ge=Vt[Me];else{var qe="GS"+(Object.keys(Vt).length+1).toString(10);Vt[qe]=ge,ge.id=qe}return te&&(Bt[te]=ge.id),Yt.publish("addGState",ge),ge}};h.addGState=function(te,ge){return vo(te,ge),this},h.saveGraphicsState=function(){return ue("q"),It.push({key:pt,size:me,color:Ta}),this},h.restoreGraphicsState=function(){ue("Q");var te=It.pop();return pt=te.key,me=te.size,Ta=te.color,sr=null,this},h.setCurrentTransformationMatrix=function(te){return ue(te.toString()+" cm"),this},h.comment=function(te){return ue("#"+te),this};var Vs=function(te,ge){var Ne=te||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ne},set:function(ct){isNaN(ct)||(Ne=parseFloat(ct))}});var Me=ge||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Me},set:function(ct){isNaN(ct)||(Me=parseFloat(ct))}});var qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return qe},set:function(ct){qe=ct.toString()}}),this},Bo=function(te,ge,Ne,Me){Vs.call(this,te,ge),this.type="rect";var qe=Ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return qe},set:function(St){isNaN(St)||(qe=parseFloat(St))}});var ct=Me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ct},set:function(St){isNaN(St)||(ct=parseFloat(St))}}),this},$o=function(){this.page=Ht,this.currentPage=X,this.pages=ie.slice(0),this.pagesContext=Nt.slice(0),this.x=mt,this.y=Mt,this.matrix=wt,this.width=ha(X),this.height=pa(X),this.outputDestination=de,this.id="",this.objectNumber=-1};$o.prototype.restore=function(){Ht=this.page,X=this.currentPage,Nt=this.pagesContext,ie=this.pages,mt=this.x,Mt=this.y,wt=this.matrix,hl(X,this.width),ta(X,this.height),de=this.outputDestination};var Na=function(te,ge,Ne,Me,qe){Or.push(new $o),Ht=X=0,ie=[],mt=te,Mt=ge,wt=qe,Ct([Ne,Me])};for(var Qs in h.beginFormObject=function(te,ge,Ne,Me,qe){return Na(te,ge,Ne,Me,qe),this},h.endFormObject=function(te){return(function(ge){if(Ir[ge])Or.pop().restore();else{var Ne=new $o,Me="Xo"+(Object.keys(Wt).length+1).toString(10);Ne.id=Me,Ir[ge]=Me,Wt[Me]=Ne,Yt.publish("addFormObject",Ne),Or.pop().restore()}})(te),this},h.doFormObject=function(te,ge){var Ne=Wt[Ir[te]];return ue("q"),ue(ge.toString()+" cm"),ue("/"+Ne.id+" Do"),ue("Q"),this},h.getFormObject=function(te){var ge=Wt[Ir[te]];return{x:ge.x,y:ge.y,width:ge.width,height:ge.height,matrix:ge.matrix}},h.save=function(te,ge){return te=te||"generated.pdf",(ge=ge||{}).returnPromise=ge.returnPromise||!1,ge.returnPromise===!1?(gd(Xn(Nn()),te),typeof gd.unload=="function"&&Hr.setTimeout&&setTimeout(gd.unload,911),this):new Promise(function(Ne,Me){try{var qe=gd(Xn(Nn()),te);typeof gd.unload=="function"&&Hr.setTimeout&&setTimeout(gd.unload,911),Ne(qe)}catch(ct){Me(ct.message)}})},gr.API)gr.API.hasOwnProperty(Qs)&&(Qs==="events"&&gr.API.events.length?(function(te,ge){var Ne,Me,qe;for(qe=ge.length-1;qe!==-1;qe--)Ne=ge[qe][0],Me=ge[qe][1],te.subscribe.apply(te,[Ne].concat(typeof Me=="function"?[Me]:Me))})(Yt,gr.API.events):h[Qs]=gr.API[Qs]);var ha=h.getPageWidth=function(te){return(Nt[te=te||X].mediaBox.topRightX-Nt[te].mediaBox.bottomLeftX)/bt},hl=h.setPageWidth=function(te,ge){Nt[te].mediaBox.topRightX=ge*bt+Nt[te].mediaBox.bottomLeftX},pa=h.getPageHeight=function(te){return(Nt[te=te||X].mediaBox.topRightY-Nt[te].mediaBox.bottomLeftY)/bt},ta=h.setPageHeight=function(te,ge){Nt[te].mediaBox.topRightY=ge*bt+Nt[te].mediaBox.bottomLeftY};return h.internal={pdfEscape:$t,getStyle:Ua,getFont:vi,getFontSize:ke,getCharSpace:Fo,getTextColor:Va,getLineHeight:ka,getLineHeightFactor:Pu,getLineWidth:wr,write:Ae,getHorizontalCoordinate:Ai,getVerticalCoordinate:go,getCoordinateString:ju,getVerticalCoordinateString:yo,collections:{},newObject:$e,newAdditionalObject:ar,newObjectDeferred:Je,newObjectDeferredBegin:xt,getFilters:or,putStream:Gt,events:Yt,scaleFactor:bt,pageSize:{getWidth:function(){return ha(X)},setWidth:function(te){hl(X,te)},getHeight:function(){return pa(X)},setHeight:function(te){ta(X,te)}},encryptionOptions:u,encryption:cn,getEncryptor:function(te){return u!==null?cn.encryptor(te,0):function(ge){return ge}},output:ti,getNumberOfPages:br,pages:ie,out:ue,f2:$,f3:B,getPageInfo:li,getPageInfoByObjId:rn,getCurrentPageInfo:zr,getPDFVersion:g,Point:Vs,Rectangle:Bo,Matrix:At,hasHotfix:$a},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return ha(X)},set:function(te){hl(X,te)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return pa(X)},set:function(te){ta(X,te)},enumerable:!0,configurable:!0}),(function(te){for(var ge=0,Ne=xe.length;ge<Ne;ge++){var Me=_t.call(this,te[ge][0],te[ge][1],te[ge][2],xe[ge][3],!0);f===!1&&(d[Me]=!0);var qe=te[ge][0].split("-");ft({id:Me,fontName:qe[0],fontStyle:qe[1]||""})}Yt.publish("addFonts",{fonts:et,dictionary:dt})}).call(h,xe),pt="F1",Rt(i,t),Yt.publish("initialized"),h}Jh.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},Jh.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Jh.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},Jh.prototype.processOwnerPassword=function(r,e){return KE(GE(e).substr(0,5),r)},Jh.prototype.encryptor=function(r,e){var t=GE(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return KE(t,n)}},xb.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Kn(r)!==Kn(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},gr.API={events:[]},gr.version="3.0.2";var Yi=gr.API,EC=1,mh=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wh=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Zr=function(r){return r.toFixed(2)},rf=function(r){return r.toFixed(5)};Yi.__acroform__={};var po=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},UM=function(r){return r*EC},ic=function(r){var e=new sz,t=hr.internal.getHeight(r)||0,n=hr.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Zr(n)),Number(Zr(t))],e},Hxe=Yi.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},Wxe=Yi.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},Gxe=Yi.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},oa=Yi.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Gxe(r,e-1)},la=Yi.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Hxe(r,e-1)},ca=Yi.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Wxe(r,e-1)},Kxe=Yi.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=r[0],a=r[1],s=r[2],l=r[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=t(i+s)||0,c.upperRight_Y=n(a)||0,[Number(Zr(c.lowerLeft_X)),Number(Zr(c.lowerLeft_Y)),Number(Zr(c.upperRight_X)),Number(Zr(c.upperRight_Y))]},Xxe=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=XE(r,t),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+i+" "+Zr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=ic(r);return a.scope=r.scope,a.stream=e.join(`
`),a}},XE=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=r.multiline?i.map(function($){return $.split(`
`)}):i.map(function($){return[$]});var a=t,s=hr.internal.getHeight(r)||0;s=s<0?-s:s;var l=hr.internal.getWidth(r)||0;l=l<0?-l:l;var c=function($,B,T){if($+1<i.length){var R=B+" "+i[$+1][0];return Ey(R,r,T).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var o,u,f=Ey("3",r,a).height,d=r.multiline?s-a:(s-f)/2,h=d+=2,m=0,g=0,p=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ey(e,r,a=12).width+", FieldWidth:"+l+`
`;break}for(var y="",v=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var C=!1;if(i[w].length!==1&&p!==i[w].length-1){if((f+2)*(v+2)+2>s)continue e;y+=i[w][p],C=!0,g=w,w--}else{y=(y+=i[w][p]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var P=parseInt(w),F=c(P,y,a),L=w>=i.length-1;if(F&&!L){y+=" ",p=0;continue}if(F||L){if(L)g=P;else if(r.multiline&&(f+2)*(v+2)+2>s)continue e}else{if(!r.multiline||(f+2)*(v+2)+2>s)continue e;g=P}}for(var j="",I=m;I<=g;I++){var z=i[I];if(r.multiline){if(I===g){j+=z[p]+" ",p=(p+1)%z.length;continue}if(I===m){j+=z[z.length-1]+" ";continue}}j+=z[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,u=Ey(j,r,a).width,r.textAlign){case"right":o=l-u-2;break;case"center":o=(l-u)/2;break;default:o=2}e+=Zr(o)+" "+Zr(h)+` Td
`,e+="("+mh(j)+`) Tj
`,e+=-Zr(o)+` 0 Td
`,h=-(a+2),u=0,m=C?g:g+1,v++,y=""}break}return n.text=e,n.fontSize=a,n},Ey=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},Yxe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Qxe=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},Zxe=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(zl.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(Yxe)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");EC=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new oz,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&Qxe(a,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var l=n[s],c=[],o=l.Rect;if(l.Rect&&(l.Rect=Kxe(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=hr.createDefaultAppearanceStream(l),Kn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=o,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=Xxe(l);c.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var f="";for(var d in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(d)){var h=l.appearanceStreamContent[d];if(f+="/"+d+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var m=h[s];typeof m=="function"&&(m=m.call(i,l)),f+="/"+s+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=h)=="function"&&(m=m.call(i,l)),f+="/"+s+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&(function(g,p){for(var y in g)if(g.hasOwnProperty(y)){var v=y,w=g[y];p.internal.newObjectDeferredBegin(w.objId,!0),Kn(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete g[v]}})(i.internal.acroformPlugin.xForms,i)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},az=Yi.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(s){return s};if(Array.isArray(r)){for(var i="[",a=0;a<r.length;a++)switch(a!==0&&(i+=" "),Kn(r[a])){case"boolean":case"number":case"object":i+=r[a].toString();break;case"string":r[a].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),i+="("+mh(n(r[a].toString()))+")"):i+=r[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},C2=function(r,e,t){var n=function(i){return i};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+mh(n(r))+")"},uc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};uc.prototype.toString=function(){return this.objId+" 0 R"},uc.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},uc.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:az(i,this.objId,this.scope)}):i instanceof uc?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var sz=function(){uc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};po(sz,uc);var oz=function(){uc.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+mh(t(r))+")"}},set:function(t){r=t}})};po(oz,uc);var zl=function r(){uc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!oa(e,3)},set:function(y){y?this.F=la(e,3):this.F=ca(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');t=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof _b)return;a="FieldObject"+r.FieldNum++}var y=function(v){return v};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+mh(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var o=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return o===void 0?50/EC:o},set:function(y){o=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof _b||this instanceof Od))return C2(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Ja==0?C2(d,this.objId,this.scope):d},set:function(y){y=y.toString(),d=this instanceof Ja==0?y.substr(0,1)==="("?Wh(y.substr(1,y.length-2)):Wh(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ja==1?Wh(d.substr(1,d.length-1)):d},set:function(y){y=y.toString(),d=this instanceof Ja==1?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ja==0?C2(h,this.objId,this.scope):h},set:function(y){y=y.toString(),h=this instanceof Ja==0?y.substr(0,1)==="("?Wh(y.substr(1,y.length-2)):Wh(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ja==1?Wh(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Ja==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(y){y=!!y,g=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(y){m=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,1)},set:function(y){y?this.Ff=la(this.Ff,1):this.Ff=ca(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,2)},set:function(y){y?this.Ff=la(this.Ff,2):this.Ff=ca(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,3)},set:function(y){y?this.Ff=la(this.Ff,3):this.Ff=ca(this.Ff,3)}});var p=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(p!==null)return p},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');p=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(p){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:p=2;break;case"center":case 1:p=1;break;default:p=0}}})};po(zl,uc);var gp=function(){zl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return az(e,this.objId,this.scope)},set:function(t){var n,i;i=[],typeof(n=t)=="string"&&(i=(function(a,s,l){l||(l=1);for(var c,o=[];c=s.exec(a);)o.push(c[l]);return o})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,18)},set:function(t){t?this.Ff=la(this.Ff,18):this.Ff=ca(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=la(this.Ff,19):this.Ff=ca(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,20)},set:function(t){t?(this.Ff=la(this.Ff,20),e.sort()):this.Ff=ca(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,22)},set:function(t){t?this.Ff=la(this.Ff,22):this.Ff=ca(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,23)},set:function(t){t?this.Ff=la(this.Ff,23):this.Ff=ca(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,27)},set:function(t){t?this.Ff=la(this.Ff,27):this.Ff=ca(this.Ff,27)}}),this.hasAppearanceStream=!1};po(gp,zl);var yp=function(){gp.call(this),this.fontName="helvetica",this.combo=!1};po(yp,gp);var vp=function(){yp.call(this),this.combo=!0};po(vp,yp);var Hy=function(){vp.call(this),this.edit=!0};po(Hy,vp);var Ja=function(){zl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,15)},set:function(t){t?this.Ff=la(this.Ff,15):this.Ff=ca(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,16)},set:function(t){t?this.Ff=la(this.Ff,16):this.Ff=ca(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,17)},set:function(t){t?this.Ff=la(this.Ff,17):this.Ff=ca(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,26)},set:function(t){t?this.Ff=la(this.Ff,26):this.Ff=ca(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+mh(t(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Kn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};po(Ja,zl);var Wy=function(){Ja.call(this),this.pushButton=!0};po(Wy,Ja);var bp=function(){Ja.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};po(bp,Ja);var _b=function(){var r,e;zl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+mh(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Kn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=hr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};po(_b,zl),bp.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},bp.prototype.createOption=function(r){var e=new _b;return e.Parent=this,e.optionName=r,this.Kids.push(e),Jxe.call(this.scope,e),e};var Gy=function(){Ja.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=hr.CheckBox.createAppearanceStream()};po(Gy,Ja);var Od=function(){zl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,13)},set:function(e){e?this.Ff=la(this.Ff,13):this.Ff=ca(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,21)},set:function(e){e?this.Ff=la(this.Ff,21):this.Ff=ca(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,23)},set:function(e){e?this.Ff=la(this.Ff,23):this.Ff=ca(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,24)},set:function(e){e?this.Ff=la(this.Ff,24):this.Ff=ca(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,25)},set:function(e){e?this.Ff=la(this.Ff,25):this.Ff=ca(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,26)},set:function(e){e?this.Ff=la(this.Ff,26):this.Ff=ca(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};po(Od,zl);var Ky=function(){Od.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,14)},set:function(r){r?this.Ff=la(this.Ff,14):this.Ff=ca(this.Ff,14)}}),this.password=!0};po(Ky,Od);var hr={CheckBox:{createAppearanceStream:function(){return{N:{On:hr.CheckBox.YesNormal},D:{On:hr.CheckBox.YesPushDown,Off:hr.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=ic(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),a=XE(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Zr(hr.internal.getWidth(r))+" "+Zr(hr.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Zr(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=ic(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],a=hr.internal.getHeight(r),s=hr.internal.getWidth(r),l=XE(r,r.caption);return i.push("1 g"),i.push("0 0 "+Zr(s)+" "+Zr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Zr(s-1)+" "+Zr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Zr(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=ic(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Zr(hr.internal.getWidth(r))+" "+Zr(hr.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:hr.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=hr.RadioButton.Circle.YesNormal,e.D[r]=hr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=ic(r);e.scope=r.scope;var t=[],n=hr.internal.getWidth(r)<=hr.internal.getHeight(r)?hr.internal.getWidth(r)/4:hr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=hr.internal.Bezier_C,a=Number((n*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+rf(hr.internal.getWidth(r)/2)+" "+rf(hr.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=ic(r);e.scope=r.scope;var t=[],n=hr.internal.getWidth(r)<=hr.internal.getHeight(r)?hr.internal.getWidth(r)/4:hr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*hr.internal.Bezier_C).toFixed(5)),s=Number((n*hr.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+rf(hr.internal.getWidth(r)/2)+" "+rf(hr.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+rf(hr.internal.getWidth(r)/2)+" "+rf(hr.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=ic(r);e.scope=r.scope;var t=[],n=hr.internal.getWidth(r)<=hr.internal.getHeight(r)?hr.internal.getWidth(r)/4:hr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*hr.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+rf(hr.internal.getWidth(r)/2)+" "+rf(hr.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:hr.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=hr.RadioButton.Cross.YesNormal,e.D[r]=hr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=ic(r);e.scope=r.scope;var t=[],n=hr.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Zr(hr.internal.getWidth(r)-2)+" "+Zr(hr.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Zr(n.x1.x)+" "+Zr(n.x1.y)+" m"),t.push(Zr(n.x2.x)+" "+Zr(n.x2.y)+" l"),t.push(Zr(n.x4.x)+" "+Zr(n.x4.y)+" m"),t.push(Zr(n.x3.x)+" "+Zr(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=ic(r);e.scope=r.scope;var t=hr.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Zr(hr.internal.getWidth(r))+" "+Zr(hr.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Zr(hr.internal.getWidth(r)-2)+" "+Zr(hr.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Zr(t.x1.x)+" "+Zr(t.x1.y)+" m"),n.push(Zr(t.x2.x)+" "+Zr(t.x2.y)+" l"),n.push(Zr(t.x4.x)+" "+Zr(t.x4.y)+" m"),n.push(Zr(t.x3.x)+" "+Zr(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=ic(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Zr(hr.internal.getWidth(r))+" "+Zr(hr.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};hr.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=hr.internal.getWidth(r),t=hr.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},hr.internal.getWidth=function(r){var e=0;return Kn(r)==="object"&&(e=UM(r.Rect[2])),e},hr.internal.getHeight=function(r){var e=0;return Kn(r)==="object"&&(e=UM(r.Rect[3])),e};var Jxe=Yi.addField=function(r){if(Zxe(this,r),!(r instanceof zl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Yi.AcroFormChoiceField=gp,Yi.AcroFormListBox=yp,Yi.AcroFormComboBox=vp,Yi.AcroFormEditBox=Hy,Yi.AcroFormButton=Ja,Yi.AcroFormPushButton=Wy,Yi.AcroFormRadioButton=bp,Yi.AcroFormCheckBox=Gy,Yi.AcroFormTextField=Od,Yi.AcroFormPasswordField=Ky,Yi.AcroFormAppearance=hr,Yi.AcroForm={ChoiceField:gp,ListBox:yp,ComboBox:vp,EditBox:Hy,Button:Ja,PushButton:Wy,RadioButton:bp,CheckBox:Gy,TextField:Od,PasswordField:Ky,Appearance:hr},gr.AcroForm={ChoiceField:gp,ListBox:yp,ComboBox:vp,EditBox:Hy,Button:Ja,PushButton:Wy,RadioButton:bp,CheckBox:Gy,TextField:Od,PasswordField:Ky,Appearance:hr};gr.AcroForm;function lz(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=r.__addimage__.getImageFileTypeByImageData=function($,B){var T,R,N,_,E,S=t;if((B=B||t)==="RGBA"||$.data!==void 0&&$.data instanceof Uint8ClampedArray&&"height"in $&&"width"in $)return"RGBA";if(F($))for(E in n)for(N=n[E],T=0;T<N.length;T+=1){for(_=!0,R=0;R<N[T].length;R+=1)if(N[T][R]!==void 0&&N[T][R]!==$[R]){_=!1;break}if(_===!0){S=E;break}}else for(E in n)for(N=n[E],T=0;T<N.length;T+=1){for(_=!0,R=0;R<N[T].length;R+=1)if(N[T][R]!==void 0&&N[T][R]!==$.charCodeAt(R)){_=!1;break}if(_===!0){S=E;break}}return S===t&&B!==t&&(S=B),S},a=function $(B){for(var T=this.internal.write,R=this.internal.putStream,N=(0,this.internal.getFilters)();N.indexOf("FlateEncode")!==-1;)N.splice(N.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var _=[];if(_.push({key:"Type",value:"/XObject"}),_.push({key:"Subtype",value:"/Image"}),_.push({key:"Width",value:B.width}),_.push({key:"Height",value:B.height}),B.colorSpace===y.INDEXED?_.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(_.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===y.DEVICE_CMYK&&_.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),_.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&_.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)){for(var E="",S=0,k=B.transparency.length;S<k;S++)E+=B.transparency[S]+" "+B.transparency[S]+" ";_.push({key:"Mask",value:"["+E+"]"})}B.sMask!==void 0&&_.push({key:"SMask",value:B.objectId+1+" 0 R"});var M=B.filter!==void 0?["/"+B.filter]:void 0;if(R({data:B.data,additionalKeyValues:_,alreadyAppliedFilters:M,objectId:B.objectId}),T("endobj"),"sMask"in B&&B.sMask!==void 0){var V=(B.predictor!=null?"/Predictor "+B.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+B.width,O={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:B.bitsPerComponent,decodeParameters:V,data:B.sMask};"filter"in B&&(O.filter=B.filter),$.call(this,O)}if(B.colorSpace===y.INDEXED){var X=this.internal.newObject();R({data:j(new Uint8Array(B.palette)),objectId:X}),T("endobj")}},s=function(){var $=this.internal.collections[e+"images"];for(var B in $)a.call(this,$[B])},l=function(){var $,B=this.internal.collections[e+"images"],T=this.internal.write;for(var R in B)T("/I"+($=B[R]).index,$.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},o=function(){var $=this.internal.collections[e+"images"];return c.call(this),$},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function($){return typeof r["process"+$.toUpperCase()]=="function"},d=function($){return Kn($)==="object"&&$.nodeType===1},h=function($,B){if($.nodeName==="IMG"&&$.hasAttribute("src")){var T=""+$.getAttribute("src");if(T.indexOf("data:image/")===0)return qy(unescape(T).split("base64,").pop());var R=r.loadFile(T,!0);if(R!==void 0)return R}if($.nodeName==="CANVAS"){if($.width===0||$.height===0)throw new Error("Given canvas must have data. Canvas width: "+$.width+", height: "+$.height);var N;switch(B){case"PNG":N="image/png";break;case"WEBP":N="image/webp";break;default:N="image/jpeg"}return qy($.toDataURL(N,1).split("base64,").pop())}},m=function($){var B=this.internal.collections[e+"images"];if(B){for(var T in B)if($===B[T].alias)return B[T]}},g=function($,B,T){return $||B||($=-96,B=-96),$<0&&($=-1*T.width*72/$/this.internal.scaleFactor),B<0&&(B=-1*T.height*72/B/this.internal.scaleFactor),$===0&&($=B*T.width/T.height),B===0&&(B=$*T.height/T.width),[$,B]},p=function($,B,T,R,N,_){var E=g.call(this,T,R,N),S=this.internal.getCoordinateString,k=this.internal.getVerticalCoordinateString,M=o.call(this);if(T=E[0],R=E[1],M[N.index]=N,_){_*=Math.PI/180;var V=Math.cos(_),O=Math.sin(_),X=function(re){return re.toFixed(4)},Q=[X(V),X(O),X(-1*O),X(V),0,0,"cm"]}this.internal.write("q"),_?(this.internal.write([1,"0","0",1,S($),k(B+R),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([S(T),"0","0",S(R),"0","0","cm"].join(" "))):this.internal.write([S(T),"0","0",S(R),S($),k(B+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+N.index+" Do"),this.internal.write("Q")},y=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=r.__addimage__.sHashCode=function($){var B,T,R=0;if(typeof $=="string")for(T=$.length,B=0;B<T;B++)R=(R<<5)-R+$.charCodeAt(B),R|=0;else if(F($))for(T=$.byteLength/2,B=0;B<T;B++)R=(R<<5)-R+$[B],R|=0;return R},C=r.__addimage__.validateStringAsBase64=function($){($=$||"").toString().trim();var B=!0;return $.length===0&&(B=!1),$.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test($.substr(0,$.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test($.substr(-2))===!1&&(B=!1),B},P=r.__addimage__.extractImageFromDataUrl=function($){if($==null||!($=$.trim()).startsWith("data:"))return null;var B=$.indexOf(",");return B<0?null:$.substring(0,B).trim().endsWith("base64")?$.substring(B+1):null};r.__addimage__.isArrayBuffer=function($){return $ instanceof ArrayBuffer};var F=r.__addimage__.isArrayBufferView=function($){return $ instanceof Int8Array||$ instanceof Uint8Array||$ instanceof Uint8ClampedArray||$ instanceof Int16Array||$ instanceof Uint16Array||$ instanceof Int32Array||$ instanceof Uint32Array||$ instanceof Float32Array||$ instanceof Float64Array},L=r.__addimage__.binaryStringToUint8Array=function($){for(var B=$.length,T=new Uint8Array(B),R=0;R<B;R++)T[R]=$.charCodeAt(R);return T},j=r.__addimage__.arrayBufferToBinaryString=function($){for(var B="",T=F($)?$:new Uint8Array($),R=0;R<T.length;R+=8192)B+=String.fromCharCode.apply(null,T.subarray(R,R+8192));return B};r.addImage=function(){var $,B,T,R,N,_,E,S,k;if(typeof arguments[1]=="number"?(B=t,T=arguments[1],R=arguments[2],N=arguments[3],_=arguments[4],E=arguments[5],S=arguments[6],k=arguments[7]):(B=arguments[1],T=arguments[2],R=arguments[3],N=arguments[4],_=arguments[5],E=arguments[6],S=arguments[7],k=arguments[8]),Kn($=arguments[0])==="object"&&!d($)&&"imageData"in $){var M=$;$=M.imageData,B=M.format||B||t,T=M.x||T||0,R=M.y||R||0,N=M.w||M.width||N,_=M.h||M.height||_,E=M.alias||E,S=M.compression||S,k=M.rotation||M.angle||k}var V=this.internal.getFilters();if(S===void 0&&V.indexOf("FlateEncode")!==-1&&(S="SLOW"),isNaN(T)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var O=I.call(this,$,B,E,S);return p.call(this,T,R,N,_,O,k),this};var I=function($,B,T,R){var N,_,E;if(typeof $=="string"&&i($)===t){$=unescape($);var S=z($,!1);(S!==""||(S=r.loadFile($,!0))!==void 0)&&($=S)}if(d($)&&($=h($,B)),B=i($,B),!f(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((E=T)==null||E.length===0)&&(T=(function(k){return typeof k=="string"||F(k)?w(k):F(k.data)?w(k.data):null})($)),(N=m.call(this,T))||($ instanceof Uint8Array||B==="RGBA"||(_=$,$=L($)),N=this["process"+B.toUpperCase()]($,u.call(this),T,(function(k){return k&&typeof k=="string"&&(k=k.toUpperCase()),k in r.image_compression?k:v.NONE})(R),_)),!N)throw new Error("An unknown error occurred whilst processing the image.");return N},z=r.__addimage__.convertBase64ToBinaryString=function($,B){B=typeof B!="boolean"||B;var T,R="";if(typeof $=="string"){var N;T=(N=P($))!==null&&N!==void 0?N:$;try{R=qy(T)}catch(_){if(B)throw C(T)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+_.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};r.getImageProperties=function($){var B,T,R="";if(d($)&&($=h($)),typeof $=="string"&&i($)===t&&((R=z($,!1))===""&&(R=r.loadFile($)||""),$=R),T=i($),!f(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if($ instanceof Uint8Array||($=L($)),!(B=this["process"+T.toUpperCase()]($)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=T,B}})(gr.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};gr.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),o=t.pageContext.annotations,u=!1,f=0;f<o.length&&!u;f++)switch((n=o[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var d=0;d<o.length;d++){n=o[d];var h=this.internal.pdfEscape,m=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(g.objId),v=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+h(y(n.contents))+")",a+=" /Popup "+p.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+h(y(v))+") >>",g.content=a;var w=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(a+=" /Open true"),a+=" >>",p.content=a,this.internal.write(g.objId,"0 R",p.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var C=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(m(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var F=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+F+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,i,a,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(t),y:o(n),w:c(t+i),h:o(n+a)},options:s,type:"link"})},r.textWithLink=function(t,n,i,a){var s,l,c=this.getTextWidth(t),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var u=this.splitTextToSize(t,l).length;s=Math.ceil(o*u)}else l=c,s=o;return this.text(t,n,i,a),i+=.2*o,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-o,l,s,a),c},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(gr.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var a=r.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},s=r.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=r.__arabicParser__.isArabicEndLetter=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length<=2},c=r.__arabicParser__.isArabicAlfLetter=function(g){return s(g)&&i.indexOf(g.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length>=1};var o=r.__arabicParser__.arabicLetterHasFinalForm=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length>=3};var u=r.__arabicParser__.arabicLetterHasMedialForm=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length==4},f=r.__arabicParser__.resolveLigatures=function(g){var p=0,y=t,v="",w=0;for(p=0;p<g.length;p+=1)y[g.charCodeAt(p)]!==void 0?(w++,typeof(y=y[g.charCodeAt(p)])=="number"&&(v+=String.fromCharCode(y),y=t,w=0),p===g.length-1&&(y=t,v+=g.charAt(p-(w-1)),p-=w-1,w=0)):(y=t,v+=g.charAt(p-w),p-=w,w=0);return v};r.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var d=r.__arabicParser__.getCorrectForm=function(g,p,y){return s(g)?a(g)===!1?-1:!o(g)||!s(p)&&!s(y)||!s(y)&&l(p)||l(g)&&!s(p)||l(g)&&c(p)||l(g)&&l(p)?0:u(g)&&s(p)&&!l(p)&&s(y)&&o(y)?3:l(g)||!s(y)?1:2:-1},h=function(g){var p=0,y=0,v=0,w="",C="",P="",F=(g=g||"").split("\\s+"),L=[];for(p=0;p<F.length;p+=1){for(L.push(""),y=0;y<F[p].length;y+=1)w=F[p][y],C=F[p][y-1],P=F[p][y+1],s(w)?(v=d(w,C,P),L[p]+=v!==-1?String.fromCharCode(e[w.charCodeAt(0)][v]):w):L[p]+=w;L[p]=f(L[p])}return L.join(" ")},m=r.__arabicParser__.processArabic=r.processArabic=function(){var g,p=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(p)){var v=0;for(y=[],v=0;v<p.length;v+=1)Array.isArray(p[v])?y.push([h(p[v][0]),p[v][1],p[v][2]]):y.push([h(p[v])]);g=y}else g=h(p);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};r.events.push(["preProcessText",m])})(gr.API),gr.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var i;if((t=t||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(gr.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var o=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return o},set:function(g){o=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},r.getTextDimensions=function(c,o){n.call(this);var u=(o=o||{}).fontSize||this.getFontSize(),f=o.font||this.getFont(),d=o.scaleFactor||this.internal.scaleFactor,h=0,m=0,g=0,p=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=o.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,C){return w.concat(p.splitTextToSize(C,y))},[])):c=Array.isArray(c)?c:[c];for(var v=0;v<c.length;v++)h<(g=this.getStringUnitWidth(c[v],{font:f})*u)&&(h=g);return h!==0&&(m=c.length),{w:h/=d,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/d,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=r.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var o=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return o.lineNumber!==void 0&&(o.lineNumber===c.lineNumber?(c.x=(o.x||0)+(o.width||0),c.y=o.y||0):o.y+o.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&d&&(this.printHeaderRow(c.lineNumber,!0),c.y+=d[0].height)):c.y=o.y+o.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};r.table=function(c,o,u,f,d){if(n.call(this),!u)throw new Error("No data for PDF table.");var h,m,g,p,y=[],v=[],w=[],C={},P={},F=[],L=[],j=(d=d||{}).autoSize||!1,I=d.printHeaders!==!1,z=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,$=d.margins||Object.assign({width:this.getPageWidth()},e),B=typeof d.padding=="number"?d.padding:3,T=d.headerBackgroundColor||"#c8c8c8",R=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=$,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=T,this.internal.__cell__.headerTextColor=R,this.setFontSize(z),f==null)v=y=Object.keys(u[0]),w=y.map(function(){return"left"});else if(Array.isArray(f)&&Kn(f[0])==="object")for(y=f.map(function(M){return M.name}),v=f.map(function(M){return M.prompt||M.name||""}),w=f.map(function(M){return M.align||"left"}),h=0;h<f.length;h+=1)P[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(v=y=f,w=y.map(function(){return"left"}));if(j||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<y.length;h+=1){for(C[p=y[h]]=u.map(function(M){return M[p]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(v[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=C[p],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)F.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[p]=Math.max.apply(null,F)+B+B,F=[]}if(I){var N={};for(h=0;h<y.length;h+=1)N[y[h]]={},N[y[h]].text=v[h],N[y[h]].align=w[h];var _=l.call(this,N,P);L=y.map(function(M){return new a(c,o,P[M],_,N[M].text,void 0,N[M].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var E=f.reduce(function(M,V){return M[V.name]=V.align,M},{});for(h=0;h<u.length;h+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:h,data:u[h]},this);var S=l.call(this,u[h],P);for(g=0;g<y.length;g+=1){var k=u[h][y[g]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:h,col:g,data:k},this),s.call(this,new a(c,o,P[y[g]],S,k,h+2,E[y[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=o,this};var l=function(c,o){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(c).map(function(h){var m=c[h];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,o[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/d+u+u},this).reduce(function(h,m){return Math.max(h,m)},0)};r.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},r.printHeaderRow=function(c,o){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),o&&(u.y=this.internal.__cell__.margins.top||0,d.push(u)),u.lineNumber=c;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(m)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),t=!1}})(gr.API);var cz={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},uz=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],YE=lz(uz),fz=[100,200,300,400,500,600,700,800,900],e_e=lz(fz);function k2(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(a){return cz[a=a||"normal"]?a:"normal"})(r.style),n=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(r.weight),i=(function(a){return typeof YE[a=a||"normal"]=="number"?a:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:e,style:[i,t,n].join(" ")}}}function VM(r,e,t,n){var i;for(i=t;i>=0&&i<e.length;i+=n)if(r[e[i]])return r[e[i]];for(i=t;i>=0&&i<e.length;i-=n)if(r[e[i]])return r[e[i]]}var t_e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},zM={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function qM(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function HM(r){return r.trimLeft()}function r_e(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function n_e(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var Ay,WM,GM,Gh,Cy,KM,XM,YM,T2=["times"];function QM(r,e,t,n){var i=4,a=JM;switch(n){case gr.API.image_compression.FAST:i=1,a=ZM;break;case gr.API.image_compression.MEDIUM:i=6,a=eD;break;case gr.API.image_compression.SLOW:i=9,a=tD}r=(function(l,c,o,u){for(var f,d=l.length/c,h=new Uint8Array(l.length+d),m=[i_e,ZM,JM,eD,tD],g=0;g<d;g+=1){var p=g*c,y=l.subarray(p,p+c);if(u)h.set(u(y,o,f),p+g);else{for(var v=m.length,w=[],C=0;C<v;C+=1)w[C]=m[C](y,o,f);var P=s_e(w.concat());h.set(w[P],p+g)}f=y}return h})(r,e,t,a);var s=zE(r,{level:i});return gr.API.__addimage__.arrayBufferToBinaryString(s)}function i_e(r){var e=Array.apply([],r);return e.unshift(0),e}function ZM(r,e){var t=r.length,n=[];n[0]=1;for(var i=0;i<t;i+=1){var a=r[i-e]||0;n[i+1]=r[i]-a+256&255}return n}function JM(r,e,t){var n=r.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=t&&t[a]||0;i[a+1]=r[a]-s+256&255}return i}function eD(r,e,t){var n=r.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=r[a-e]||0,l=t&&t[a]||0;i[a+1]=r[a]+256-(s+l>>>1)&255}return i}function tD(r,e,t){var n=r.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=a_e(r[a-e]||0,t&&t[a]||0,t&&t[a-e]||0);i[a+1]=r[a]-s+256&255}return i}function a_e(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),i=Math.abs(r-t),a=Math.abs(r+e-t-t);return n<=i&&n<=a?r:i<=a?e:t}function s_e(r){var e=r.map(function(t){return t.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function N2(r,e,t){var n=e*t,i=Math.floor(n/8),a=16-(n-8*i+t),s=(1<<t)-1;return dz(r,i)>>a&s}function rD(r,e,t,n){var i=t*n,a=Math.floor(i/8),s=16-(i-8*a+n),l=(1<<n)-1,c=(e&l)<<s;(function(o,u,f){if(u+1<o.byteLength)o.setUint16(u,f,!1);else{var d=f>>8&255;o.setUint8(u,d)}})(r,a,dz(r,a)&~(l<<s)&65535|c)}function dz(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function o_e(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,i=r[e++],a=i>>7,s=1<<1+(7&i);r[e++],r[e++];var l=null,c=null;a&&(l=e,c=s,e+=3*s);var o=!0,u=[],f=0,d=null,h=0,m=null;for(this.width=t,this.height=n;o&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,m=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!(($=r[e++])>=0))throw Error("Invalid block size");if($===0)break;e+=$}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=r[e++];f=r[e++]|r[e++]<<8,d=r[e++],1&g||(d=null),h=g>>2&7,e++;break;case 254:for(;;){if(!(($=r[e++])>=0))throw Error("Invalid block size");if($===0)break;e+=$}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var p=r[e++]|r[e++]<<8,y=r[e++]|r[e++]<<8,v=r[e++]|r[e++]<<8,w=r[e++]|r[e++]<<8,C=r[e++],P=C>>6&1,F=1<<1+(7&C),L=l,j=c,I=!1;C>>7&&(I=!0,L=e,j=F,e+=3*F);var z=e;for(e++;;){var $;if(!(($=r[e++])>=0))throw Error("Invalid block size");if($===0)break;e+=$}u.push({x:p,y,width:v,height:w,has_local_palette:I,palette_offset:L,palette_size:j,data_offset:z,data_length:e-z,transparent_index:d,interlaced:!!P,delay:f,disposal:h});break;case 59:o=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(B){if(B<0||B>=u.length)throw new Error("Frame index out of range.");return u[B]},this.decodeAndBlitFrameBGRA=function(B,T){var R=this.frameInfo(B),N=R.width*R.height,_=new Uint8Array(N);nD(r,R.data_offset,_,N);var E=R.palette_offset,S=R.transparent_index;S===null&&(S=256);var k=R.width,M=t-k,V=k,O=4*(R.y*t+R.x),X=4*((R.y+R.height)*t+R.x),Q=O,re=4*M;R.interlaced===!0&&(re+=4*t*7);for(var G=8,J=0,q=_.length;J<q;++J){var U=_[J];if(V===0&&(V=k,(Q+=re)>=X&&(re=4*M+4*t*(G-1),Q=O+(k+M)*(G<<1),G>>=1)),U===S)Q+=4;else{var Z=r[E+3*U],ie=r[E+3*U+1],le=r[E+3*U+2];T[Q++]=le,T[Q++]=ie,T[Q++]=Z,T[Q++]=255}--V}},this.decodeAndBlitFrameRGBA=function(B,T){var R=this.frameInfo(B),N=R.width*R.height,_=new Uint8Array(N);nD(r,R.data_offset,_,N);var E=R.palette_offset,S=R.transparent_index;S===null&&(S=256);var k=R.width,M=t-k,V=k,O=4*(R.y*t+R.x),X=4*((R.y+R.height)*t+R.x),Q=O,re=4*M;R.interlaced===!0&&(re+=4*t*7);for(var G=8,J=0,q=_.length;J<q;++J){var U=_[J];if(V===0&&(V=k,(Q+=re)>=X&&(re=4*M+4*t*(G-1),Q=O+(k+M)*(G<<1),G>>=1)),U===S)Q+=4;else{var Z=r[E+3*U],ie=r[E+3*U+1],le=r[E+3*U+2];T[Q++]=Z,T[Q++]=ie,T[Q++]=le,T[Q++]=255}--V}}}function nD(r,e,t,n){for(var i=r[e++],a=1<<i,s=a+1,l=s+1,c=i+1,o=(1<<c)-1,u=0,f=0,d=0,h=r[e++],m=new Int32Array(4096),g=null;;){for(;u<16&&h!==0;)f|=r[e++]<<u,u+=8,h===1?h=r[e++]:--h;if(u<c)break;var p=f&o;if(f>>=c,u-=c,p!==a){if(p===s)break;for(var y=p<l?p:g,v=0,w=y;w>a;)w=m[w]>>8,++v;var C=w;if(d+v+(y!==p?1:0)>n)return void ai.log("Warning, gif stream longer than expected.");t[d++]=C;var P=d+=v;for(y!==p&&(t[d++]=C),w=y;v--;)w=m[w],t[--P]=255&w,w>>=8;g!==null&&l<4096&&(m[l++]=g<<8|C,l>=o+1&&c<12&&(++c,o=o<<1|1)),g=p}else l=s+1,o=(1<<(c=i+1))-1,g=null}return d!==n&&ai.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function P2(r){var e,t,n,i,a,s=Math.floor,l=new Array(64),c=new Array(64),o=new Array(64),u=new Array(64),f=new Array(65535),d=new Array(65535),h=new Array(64),m=new Array(64),g=[],p=0,y=7,v=new Array(64),w=new Array(64),C=new Array(64),P=new Array(256),F=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],$=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],N=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function _(O,X){for(var Q=0,re=0,G=new Array,J=1;J<=16;J++){for(var q=1;q<=O[J];q++)G[X[re]]=[],G[X[re]][0]=Q,G[X[re]][1]=J,re++,Q++;Q*=2}return G}function E(O){for(var X=O[0],Q=O[1]-1;Q>=0;)X&1<<Q&&(p|=1<<y),Q--,--y<0&&(p==255?(S(255),S(0)):S(p),y=7,p=0)}function S(O){g.push(O)}function k(O){S(O>>8&255),S(255&O)}function M(O,X,Q,re,G){for(var J,q=G[0],U=G[240],Z=(function(me,Ce){var ke,Oe,De,He,Qe,tt,st,it,pt,bt,mt=0;for(pt=0;pt<8;++pt){ke=me[mt],Oe=me[mt+1],De=me[mt+2],He=me[mt+3],Qe=me[mt+4],tt=me[mt+5],st=me[mt+6];var Mt=ke+(it=me[mt+7]),wt=ke-it,et=Oe+st,dt=Oe-st,It=De+tt,ht=De-tt,zt=He+Qe,Vt=He-Qe,Bt=Mt+zt,sr=Mt-zt,Ht=et+It,Nt=et-It;me[mt]=Bt+Ht,me[mt+4]=Bt-Ht;var Yt=.707106781*(Nt+sr);me[mt+2]=sr+Yt,me[mt+6]=sr-Yt;var Ur=.382683433*((Bt=Vt+ht)-(Nt=dt+wt)),Wt=.5411961*Bt+Ur,Ir=1.306562965*Nt+Ur,Or=.707106781*(Ht=ht+dt),At=wt+Or,fr=wt-Or;me[mt+5]=fr+Wt,me[mt+3]=fr-Wt,me[mt+1]=At+Ir,me[mt+7]=At-Ir,mt+=8}for(mt=0,pt=0;pt<8;++pt){ke=me[mt],Oe=me[mt+8],De=me[mt+16],He=me[mt+24],Qe=me[mt+32],tt=me[mt+40],st=me[mt+48];var Gr=ke+(it=me[mt+56]),Qt=ke-it,Re=Oe+st,$e=Oe-st,Je=De+tt,xt=De-tt,ar=He+Qe,Ot=He-Qe,er=Gr+ar,Jt=Gr-ar,qt=Re+Je,or=Re-Je;me[mt]=er+qt,me[mt+32]=er-qt;var Gt=.707106781*(or+Jt);me[mt+16]=Jt+Gt,me[mt+48]=Jt-Gt;var kr=.382683433*((er=Ot+xt)-(or=$e+Qt)),sn=.5411961*er+kr,tn=1.306562965*or+kr,xn=.707106781*(qt=xt+$e),Tn=Qt+xn,oi=Qt-xn;me[mt+40]=oi+sn,me[mt+24]=oi-sn,me[mt+8]=Tn+tn,me[mt+56]=Tn-tn,mt++}for(pt=0;pt<64;++pt)bt=me[pt]*Ce[pt],h[pt]=bt>0?bt+.5|0:bt-.5|0;return h})(O,X),ie=0;ie<64;++ie)m[L[ie]]=Z[ie];var le=m[0]-Q;Q=m[0],le==0?E(re[0]):(E(re[d[J=32767+le]]),E(f[J]));for(var de=63;de>0&&m[de]==0;)de--;if(de==0)return E(q),Q;for(var fe,ue=1;ue<=de;){for(var Ae=ue;m[ue]==0&&ue<=de;)++ue;var he=ue-Ae;if(he>=16){fe=he>>4;for(var xe=1;xe<=fe;++xe)E(U);he&=15}J=32767+m[ue],E(G[(he<<4)+d[J]]),E(f[J]),ue++}return de!=63&&E(q),Q}function V(O){O=Math.min(Math.max(O,1),100),a!=O&&((function(X){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var G=s((Q[re]*X+50)/100);G=Math.min(Math.max(G,1),255),l[L[re]]=G}for(var J=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],q=0;q<64;q++){var U=s((J[q]*X+50)/100);U=Math.min(Math.max(U,1),255),c[L[q]]=U}for(var Z=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ie=0,le=0;le<8;le++)for(var de=0;de<8;de++)o[ie]=1/(l[L[ie]]*Z[le]*Z[de]*8),u[ie]=1/(c[L[ie]]*Z[le]*Z[de]*8),ie++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),a=O)}this.encode=function(O,X){X&&V(X),g=new Array,p=0,y=7,k(65496),k(65504),k(16),S(74),S(70),S(73),S(70),S(0),S(1),S(1),S(0),k(1),k(1),S(0),S(0),(function(){k(65499),k(132),S(0);for(var Oe=0;Oe<64;Oe++)S(l[Oe]);S(1);for(var De=0;De<64;De++)S(c[De])})(),(function(Oe,De){k(65472),k(17),S(8),k(De),k(Oe),S(3),S(1),S(17),S(0),S(2),S(17),S(1),S(3),S(17),S(1)})(O.width,O.height),(function(){k(65476),k(418),S(0);for(var Oe=0;Oe<16;Oe++)S(j[Oe+1]);for(var De=0;De<=11;De++)S(I[De]);S(16);for(var He=0;He<16;He++)S(z[He+1]);for(var Qe=0;Qe<=161;Qe++)S($[Qe]);S(1);for(var tt=0;tt<16;tt++)S(B[tt+1]);for(var st=0;st<=11;st++)S(T[st]);S(17);for(var it=0;it<16;it++)S(R[it+1]);for(var pt=0;pt<=161;pt++)S(N[pt])})(),k(65498),k(12),S(3),S(1),S(0),S(2),S(17),S(3),S(17),S(0),S(63),S(0);var Q=0,re=0,G=0;p=0,y=7,this.encode.displayName="_encode_";for(var J,q,U,Z,ie,le,de,fe,ue,Ae=O.data,he=O.width,xe=O.height,me=4*he,Ce=0;Ce<xe;){for(J=0;J<me;){for(ie=me*Ce+J,de=-1,fe=0,ue=0;ue<64;ue++)le=ie+(fe=ue>>3)*me+(de=4*(7&ue)),Ce+fe>=xe&&(le-=me*(Ce+1+fe-xe)),J+de>=me&&(le-=J+de-me+4),q=Ae[le++],U=Ae[le++],Z=Ae[le++],v[ue]=(F[q]+F[U+256|0]+F[Z+512|0]>>16)-128,w[ue]=(F[q+768|0]+F[U+1024|0]+F[Z+1280|0]>>16)-128,C[ue]=(F[q+1280|0]+F[U+1536|0]+F[Z+1792|0]>>16)-128;Q=M(v,o,Q,e,n),re=M(w,u,re,t,i),G=M(C,u,G,t,i),J+=32}Ce+=8}if(y>=0){var ke=[];ke[1]=y+1,ke[0]=(1<<y+1)-1,E(ke)}return k(65497),new Uint8Array(g)},r=r||50,(function(){for(var O=String.fromCharCode,X=0;X<256;X++)P[X]=O(X)})(),e=_(j,I),t=_(B,T),n=_(z,$),i=_(R,N),(function(){for(var O=1,X=2,Q=1;Q<=15;Q++){for(var re=O;re<X;re++)d[32767+re]=Q,f[32767+re]=[],f[32767+re][1]=Q,f[32767+re][0]=re;for(var G=-(X-1);G<=-O;G++)d[32767+G]=Q,f[32767+G]=[],f[32767+G][1]=Q,f[32767+G][0]=X-1+G;O<<=1,X<<=1}})(),(function(){for(var O=0;O<256;O++)F[O]=19595*O,F[O+256|0]=38470*O,F[O+512|0]=7471*O+32768,F[O+768|0]=-11059*O,F[O+1024|0]=-21709*O,F[O+1280|0]=32768*O+8421375,F[O+1536|0]=-27439*O,F[O+1792|0]=-5329*O})(),V(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function kl(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function iD(r){function e(I){if(!I)throw Error("assert :P")}function t(I,z,$){for(var B=0;4>B;B++)if(I[z+B]!=$.charCodeAt(B))return!0;return!1}function n(I,z,$,B,T){for(var R=0;R<T;R++)I[z+R]=$[B+R]}function i(I,z,$,B){for(var T=0;T<B;T++)I[z+T]=$}function a(I){return new Int32Array(I)}function s(I,z){for(var $=[],B=0;B<I;B++)$.push(new z);return $}function l(I,z){var $=[];return(function B(T,R,N){for(var _=N[R],E=0;E<_&&(T.push(N.length>R+1?[]:new z),!(N.length<R+1));E++)B(T[E],R+1,N)})($,0,I),$}var c=function(){var I=this;function z(H,Y){for(var ne=1<<Y-1>>>0;H&ne;)ne>>>=1;return ne?(H&ne-1)+ne:H}function $(H,Y,ne,oe,ye){e(!(oe%ne));do H[Y+(oe-=ne)]=ye;while(0<oe)}function B(H,Y,ne,oe,ye){if(e(2328>=ye),512>=ye)var be=a(512);else if((be=a(ye))==null)return 0;return(function(we,_e,Ee,Te,Fe,Ke){var Pe,Ve,Ge=_e,lt=1<<Ee,Ye=a(16),at=a(16);for(e(Fe!=0),e(Te!=null),e(we!=null),e(0<Ee),Ve=0;Ve<Fe;++Ve){if(15<Te[Ve])return 0;++Ye[Te[Ve]]}if(Ye[0]==Fe)return 0;for(at[1]=0,Pe=1;15>Pe;++Pe){if(Ye[Pe]>1<<Pe)return 0;at[Pe+1]=at[Pe]+Ye[Pe]}for(Ve=0;Ve<Fe;++Ve)Pe=Te[Ve],0<Te[Ve]&&(Ke[at[Pe]++]=Ve);if(at[15]==1)return(Te=new T).g=0,Te.value=Ke[0],$(we,Ge,1,lt,Te),lt;var ot,gt=-1,yt=lt-1,yr=0,rr=1,Xr=1,ur=1<<Ee;for(Ve=0,Pe=1,Fe=2;Pe<=Ee;++Pe,Fe<<=1){if(rr+=Xr<<=1,0>(Xr-=Ye[Pe]))return 0;for(;0<Ye[Pe];--Ye[Pe])(Te=new T).g=Pe,Te.value=Ke[Ve++],$(we,Ge+yr,Fe,ur,Te),yr=z(yr,Pe)}for(Pe=Ee+1,Fe=2;15>=Pe;++Pe,Fe<<=1){if(rr+=Xr<<=1,0>(Xr-=Ye[Pe]))return 0;for(;0<Ye[Pe];--Ye[Pe]){if(Te=new T,(yr&yt)!=gt){for(Ge+=ur,ot=1<<(gt=Pe)-Ee;15>gt&&!(0>=(ot-=Ye[gt]));)++gt,ot<<=1;lt+=ur=1<<(ot=gt-Ee),we[_e+(gt=yr&yt)].g=ot+Ee,we[_e+gt].value=Ge-_e-gt}Te.g=Pe-Ee,Te.value=Ke[Ve++],$(we,Ge+(yr>>Ee),Fe,ur,Te),yr=z(yr,Pe)}}return rr!=2*at[15]-1?0:lt})(H,Y,ne,oe,ye,be)}function T(){this.value=this.g=0}function R(){this.value=this.g=0}function N(){this.G=s(5,T),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(as,R)}function _(H,Y,ne,oe){e(H!=null),e(Y!=null),e(2147483648>oe),H.Ca=254,H.I=0,H.b=-8,H.Ka=0,H.oa=Y,H.pa=ne,H.Jd=Y,H.Yc=ne+oe,H.Zc=4<=oe?ne+oe-4+1:ne,q(H)}function E(H,Y){for(var ne=0;0<Y--;)ne|=Z(H,128)<<Y;return ne}function S(H,Y){var ne=E(H,Y);return U(H)?-ne:ne}function k(H,Y,ne,oe){var ye,be=0;for(e(H!=null),e(Y!=null),e(4294967288>oe),H.Sb=oe,H.Ra=0,H.u=0,H.h=0,4<oe&&(oe=4),ye=0;ye<oe;++ye)be+=Y[ne+ye]<<8*ye;H.Ra=be,H.bb=oe,H.oa=Y,H.pa=ne}function M(H){for(;8<=H.u&&H.bb<H.Sb;)H.Ra>>>=8,H.Ra+=H.oa[H.pa+H.bb]<<Xl-8>>>0,++H.bb,H.u-=8;re(H)&&(H.h=1,H.u=0)}function V(H,Y){if(e(0<=Y),!H.h&&Y<=qf){var ne=Q(H)&Kl[Y];return H.u+=Y,M(H),ne}return H.h=1,H.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(H){return H.Ra>>>(H.u&Xl-1)>>>0}function re(H){return e(H.bb<=H.Sb),H.h||H.bb==H.Sb&&H.u>Xl}function G(H,Y){H.u=Y,H.h=re(H)}function J(H){H.u>=ki&&(e(H.u>=ki),M(H))}function q(H){e(H!=null&&H.oa!=null),H.pa<H.Zc?(H.I=(H.oa[H.pa++]|H.I<<8)>>>0,H.b+=8):(e(H!=null&&H.oa!=null),H.pa<H.Yc?(H.b+=8,H.I=H.oa[H.pa++]|H.I<<8):H.Ka?H.b=0:(H.I<<=8,H.b+=8,H.Ka=1))}function U(H){return E(H,1)}function Z(H,Y){var ne=H.Ca;0>H.b&&q(H);var oe=H.b,ye=ne*Y>>>8,be=(H.I>>>oe>ye)+0;for(be?(ne-=ye,H.I-=ye+1<<oe>>>0):ne=ye+1,oe=ne,ye=0;256<=oe;)ye+=8,oe>>=8;return oe=7^ye+gh[oe],H.b-=oe,H.Ca=(ne<<oe)-1,be}function ie(H,Y,ne){H[Y+0]=ne>>24&255,H[Y+1]=ne>>16&255,H[Y+2]=ne>>8&255,H[Y+3]=255&ne}function le(H,Y){return H[Y+0]|H[Y+1]<<8}function de(H,Y){return le(H,Y)|H[Y+2]<<16}function fe(H,Y){return le(H,Y)|le(H,Y+2)<<16}function ue(H,Y){var ne=1<<Y;return e(H!=null),e(0<Y),H.X=a(ne),H.X==null?0:(H.Mb=32-Y,H.Xa=Y,1)}function Ae(H,Y){e(H!=null),e(Y!=null),e(H.Xa==Y.Xa),n(Y.X,0,H.X,0,1<<Y.Xa)}function he(){this.X=[],this.Xa=this.Mb=0}function xe(H,Y,ne,oe){e(ne!=null),e(oe!=null);var ye=ne[0],be=oe[0];return ye==0&&(ye=(H*be+Y/2)/Y),be==0&&(be=(Y*ye+H/2)/H),0>=ye||0>=be?0:(ne[0]=ye,oe[0]=be,1)}function me(H,Y){return H+(1<<Y)-1>>>Y}function Ce(H,Y){return((4278255360&H)+(4278255360&Y)>>>0&4278255360)+((16711935&H)+(16711935&Y)>>>0&16711935)>>>0}function ke(H,Y){I[Y]=function(ne,oe,ye,be,we,_e,Ee){var Te;for(Te=0;Te<we;++Te){var Fe=I[H](_e[Ee+Te-1],ye,be+Te);_e[Ee+Te]=Ce(ne[oe+Te],Fe)}}}function Oe(){this.ud=this.hd=this.jd=0}function De(H,Y){return((4278124286&(H^Y))>>>1)+(H&Y)>>>0}function He(H){return 0<=H&&256>H?H:0>H?0:255<H?255:void 0}function Qe(H,Y){return He(H+(H-Y+.5>>1))}function tt(H,Y,ne){return Math.abs(Y-ne)-Math.abs(H-ne)}function st(H,Y,ne,oe,ye,be,we){for(oe=be[we-1],ne=0;ne<ye;++ne)be[we+ne]=oe=Ce(H[Y+ne],oe)}function it(H,Y,ne,oe,ye){var be;for(be=0;be<ne;++be){var we=H[Y+be],_e=we>>8&255,Ee=16711935&(Ee=(Ee=16711935&we)+((_e<<16)+_e));oe[ye+be]=(4278255360&we)+Ee>>>0}}function pt(H,Y){Y.jd=255&H,Y.hd=H>>8&255,Y.ud=H>>16&255}function bt(H,Y,ne,oe,ye,be){var we;for(we=0;we<oe;++we){var _e=Y[ne+we],Ee=_e>>>8,Te=_e,Fe=255&(Fe=(Fe=_e>>>16)+((H.jd<<24>>24)*(Ee<<24>>24)>>>5));Te=255&(Te=(Te+=(H.hd<<24>>24)*(Ee<<24>>24)>>>5)+((H.ud<<24>>24)*(Fe<<24>>24)>>>5)),ye[be+we]=(4278255360&_e)+(Fe<<16)+Te}}function mt(H,Y,ne,oe,ye){I[Y]=function(be,we,_e,Ee,Te,Fe,Ke,Pe,Ve){for(Ee=Ke;Ee<Pe;++Ee)for(Ke=0;Ke<Ve;++Ke)Te[Fe++]=ye(_e[oe(be[we++])])},I[H]=function(be,we,_e,Ee,Te,Fe,Ke){var Pe=8>>be.b,Ve=be.Ea,Ge=be.K[0],lt=be.w;if(8>Pe)for(be=(1<<be.b)-1,lt=(1<<Pe)-1;we<_e;++we){var Ye,at=0;for(Ye=0;Ye<Ve;++Ye)Ye&be||(at=oe(Ee[Te++])),Fe[Ke++]=ye(Ge[at&lt]),at>>=Pe}else I["VP8LMapColor"+ne](Ee,Te,Ge,lt,Fe,Ke,we,_e,Ve)}}function Mt(H,Y,ne,oe,ye){for(ne=Y+ne;Y<ne;){var be=H[Y++];oe[ye++]=be>>16&255,oe[ye++]=be>>8&255,oe[ye++]=255&be}}function wt(H,Y,ne,oe,ye){for(ne=Y+ne;Y<ne;){var be=H[Y++];oe[ye++]=be>>16&255,oe[ye++]=be>>8&255,oe[ye++]=255&be,oe[ye++]=be>>24&255}}function et(H,Y,ne,oe,ye){for(ne=Y+ne;Y<ne;){var be=(we=H[Y++])>>16&240|we>>12&15,we=240&we|we>>28&15;oe[ye++]=be,oe[ye++]=we}}function dt(H,Y,ne,oe,ye){for(ne=Y+ne;Y<ne;){var be=(we=H[Y++])>>16&248|we>>13&7,we=we>>5&224|we>>3&31;oe[ye++]=be,oe[ye++]=we}}function It(H,Y,ne,oe,ye){for(ne=Y+ne;Y<ne;){var be=H[Y++];oe[ye++]=255&be,oe[ye++]=be>>8&255,oe[ye++]=be>>16&255}}function ht(H,Y,ne,oe,ye,be){if(be==0)for(ne=Y+ne;Y<ne;)ie(oe,((be=H[Y++])[0]>>24|be[1]>>8&65280|be[2]<<8&16711680|be[3]<<24)>>>0),ye+=32;else n(oe,ye,H,Y,ne)}function zt(H,Y){I[Y][0]=I[H+"0"],I[Y][1]=I[H+"1"],I[Y][2]=I[H+"2"],I[Y][3]=I[H+"3"],I[Y][4]=I[H+"4"],I[Y][5]=I[H+"5"],I[Y][6]=I[H+"6"],I[Y][7]=I[H+"7"],I[Y][8]=I[H+"8"],I[Y][9]=I[H+"9"],I[Y][10]=I[H+"10"],I[Y][11]=I[H+"11"],I[Y][12]=I[H+"12"],I[Y][13]=I[H+"13"],I[Y][14]=I[H+"0"],I[Y][15]=I[H+"0"]}function Vt(H){return H==Fu||H==Mc||H==Xf||H==Yf}function Bt(){this.eb=[],this.size=this.A=this.fb=0}function sr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ht(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Bt,this.f.kb=new sr,this.sd=null}function Nt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Yt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ur(H){return alert("todo:WebPSamplerProcessPlane"),H.T}function Wt(H,Y){var ne=H.T,oe=Y.ba.f.RGBA,ye=oe.eb,be=oe.fb+H.ka*oe.A,we=Es[Y.ba.S],_e=H.y,Ee=H.O,Te=H.f,Fe=H.N,Ke=H.ea,Pe=H.W,Ve=Y.cc,Ge=Y.dc,lt=Y.Mc,Ye=Y.Nc,at=H.ka,ot=H.ka+H.T,gt=H.U,yt=gt+1>>1;for(at==0?we(_e,Ee,null,null,Te,Fe,Ke,Pe,Te,Fe,Ke,Pe,ye,be,null,null,gt):(we(Y.ec,Y.fc,_e,Ee,Ve,Ge,lt,Ye,Te,Fe,Ke,Pe,ye,be-oe.A,ye,be,gt),++ne);at+2<ot;at+=2)Ve=Te,Ge=Fe,lt=Ke,Ye=Pe,Fe+=H.Rc,Pe+=H.Rc,be+=2*oe.A,we(_e,(Ee+=2*H.fa)-H.fa,_e,Ee,Ve,Ge,lt,Ye,Te,Fe,Ke,Pe,ye,be-oe.A,ye,be,gt);return Ee+=H.fa,H.j+ot<H.o?(n(Y.ec,Y.fc,_e,Ee,gt),n(Y.cc,Y.dc,Te,Fe,yt),n(Y.Mc,Y.Nc,Ke,Pe,yt),ne--):1&ot||we(_e,Ee,null,null,Te,Fe,Ke,Pe,Te,Fe,Ke,Pe,ye,be+oe.A,null,null,gt),ne}function Ir(H,Y,ne){var oe=H.F,ye=[H.J];if(oe!=null){var be=H.U,we=Y.ba.S,_e=we==Kf||we==Xf;Y=Y.ba.f.RGBA;var Ee=[0],Te=H.ka;Ee[0]=H.T,H.Kb&&(Te==0?--Ee[0]:(--Te,ye[0]-=H.width),H.j+H.ka+H.T==H.o&&(Ee[0]=H.o-H.j-Te));var Fe=Y.eb;Te=Y.fb+Te*Y.A,H=Wf(oe,ye[0],H.width,be,Ee,Fe,Te+(_e?0:3),Y.A),e(ne==Ee),H&&Vt(we)&&Rc(Fe,Te,_e,be,Ee,Y.A)}return 0}function Or(H){var Y=H.ma,ne=Y.ba.S,oe=11>ne,ye=ne==Ql||ne==Gf||ne==Kf||ne==zn||ne==12||Vt(ne);if(Y.memory=null,Y.Ib=null,Y.Jb=null,Y.Nd=null,!ns(Y.Oa,H,ye?11:12))return 0;if(ye&&Vt(ne)&&Wl(),H.da)alert("todo:use_scaling");else{if(oe){if(Y.Ib=Ur,H.Kb){if(ne=H.U+1>>1,Y.memory=a(H.U+2*ne),Y.memory==null)return 0;Y.ec=Y.memory,Y.fc=0,Y.cc=Y.ec,Y.dc=Y.fc+H.U,Y.Mc=Y.cc,Y.Nc=Y.dc+ne,Y.Ib=Wt,Wl()}}else alert("todo:EmitYUV");ye&&(Y.Jb=Ir,oe&&Oi())}if(oe&&!ja){for(H=0;256>H;++H)As[H]=89858*(H-128)+_o>>yl,Cs[H]=-22014*(H-128)+_o,Vu[H]=-45773*(H-128),Bc[H]=113618*(H-128)+_o>>yl;for(H=On;H<Fn;++H)Y=76283*(H-16)+_o>>yl,Eh[H-On]=un(Y,255),v1[H-On]=un(Y+8>>4,15);ja=1}return 1}function At(H){var Y=H.ma,ne=H.U,oe=H.T;return e(!(1&H.ka)),0>=ne||0>=oe?0:(ne=Y.Ib(H,Y),Y.Jb!=null&&Y.Jb(H,Y,ne),Y.Dc+=ne,1)}function fr(H){H.ma.memory=null}function Gr(H,Y,ne,oe){return V(H,8)!=47?0:(Y[0]=V(H,14)+1,ne[0]=V(H,14)+1,oe[0]=V(H,1),V(H,3)!=0?0:!H.h)}function Qt(H,Y){if(4>H)return H+1;var ne=H-2>>1;return(2+(1&H)<<ne)+V(Y,ne)+1}function Re(H,Y){return 120<Y?Y-120:1<=(ne=((ne=Zw[Y-1])>>4)*H+(8-(15&ne)))?ne:1;var ne}function $e(H,Y,ne){var oe=Q(ne),ye=H[Y+=255&oe].g-8;return 0<ye&&(G(ne,ne.u+8),oe=Q(ne),Y+=H[Y].value,Y+=oe&(1<<ye)-1),G(ne,ne.u+H[Y].g),H[Y].value}function Je(H,Y,ne){return ne.g+=H.g,ne.value+=H.value<<Y>>>0,e(8>=ne.g),H.g}function xt(H,Y,ne){var oe=H.xc;return e((Y=oe==0?0:H.vc[H.md*(ne>>oe)+(Y>>oe)])<H.Wb),H.Ya[Y]}function ar(H,Y,ne,oe){var ye=H.ab,be=H.c*Y,we=H.C;Y=we+Y;var _e=ne,Ee=oe;for(oe=H.Ta,ne=H.Ua;0<ye--;){var Te=H.gc[ye],Fe=we,Ke=Y,Pe=_e,Ve=Ee,Ge=(Ee=oe,_e=ne,Te.Ea);switch(e(Fe<Ke),e(Ke<=Te.nc),Te.hc){case 2:Iu(Pe,Ve,(Ke-Fe)*Ge,Ee,_e);break;case 0:var lt=Fe,Ye=Ke,at=Ee,ot=_e,gt=(ur=Te).Ea;lt==0&&(ws(Pe,Ve,null,null,1,at,ot),st(Pe,Ve+1,0,0,gt-1,at,ot+1),Ve+=gt,ot+=gt,++lt);for(var yt=1<<ur.b,yr=yt-1,rr=me(gt,ur.b),Xr=ur.K,ur=ur.w+(lt>>ur.b)*rr;lt<Ye;){var fn=Xr,Ti=ur,Qr=1;for(xs(Pe,Ve,at,ot-gt,1,at,ot);Qr<gt;){var nr=(Qr&~yr)+yt;nr>gt&&(nr=gt),(0,gl[fn[Ti++]>>8&15])(Pe,Ve+ +Qr,at,ot+Qr-gt,nr-Qr,at,ot+Qr),Qr=nr}Ve+=gt,ot+=gt,++lt&yr||(ur+=rr)}Ke!=Te.nc&&n(Ee,_e-Ge,Ee,_e+(Ke-Fe-1)*Ge,Ge);break;case 1:for(Ge=Pe,Ye=Ve,gt=(Pe=Te.Ea)-(ot=Pe&~(at=(Ve=1<<Te.b)-1)),lt=me(Pe,Te.b),yt=Te.K,Te=Te.w+(Fe>>Te.b)*lt;Fe<Ke;){for(yr=yt,rr=Te,Xr=new Oe,ur=Ye+ot,fn=Ye+Pe;Ye<ur;)pt(yr[rr++],Xr),Uo(Xr,Ge,Ye,Ve,Ee,_e),Ye+=Ve,_e+=Ve;Ye<fn&&(pt(yr[rr++],Xr),Uo(Xr,Ge,Ye,gt,Ee,_e),Ye+=gt,_e+=gt),++Fe&at||(Te+=lt)}break;case 3:if(Pe==Ee&&Ve==_e&&0<Te.b){for(Ye=Ee,Pe=Ge=_e+(Ke-Fe)*Ge-(ot=(Ke-Fe)*me(Te.Ea,Te.b)),Ve=Ee,at=_e,lt=[],ot=(gt=ot)-1;0<=ot;--ot)lt[ot]=Ve[at+ot];for(ot=gt-1;0<=ot;--ot)Ye[Pe+ot]=lt[ot];Yl(Te,Fe,Ke,Ee,Ge,Ee,_e)}else Yl(Te,Fe,Ke,Pe,Ve,Ee,_e)}_e=oe,Ee=ne}Ee!=ne&&n(oe,ne,_e,Ee,be)}function Ot(H,Y){var ne=H.V,oe=H.Ba+H.c*H.C,ye=Y-H.C;if(e(Y<=H.l.o),e(16>=ye),0<ye){var be=H.l,we=H.Ta,_e=H.Ua,Ee=be.width;if(ar(H,ye,ne,oe),ye=_e=[_e],e((ne=H.C)<(oe=Y)),e(be.v<be.va),oe>be.o&&(oe=be.o),ne<be.j){var Te=be.j-ne;ne=be.j,ye[0]+=Te*Ee}if(ne>=oe?ne=0:(ye[0]+=4*be.v,be.ka=ne-be.j,be.U=be.va-be.v,be.T=oe-ne,ne=1),ne){if(_e=_e[0],11>(ne=H.ca).S){var Fe=ne.f.RGBA,Ke=(oe=ne.S,ye=be.U,be=be.T,Te=Fe.eb,Fe.A),Pe=be;for(Fe=Fe.fb+H.Ma*Fe.A;0<Pe--;){var Ve=we,Ge=_e,lt=ye,Ye=Te,at=Fe;switch(oe){case wh:Ru(Ve,Ge,lt,Ye,at);break;case Ql:_s(Ve,Ge,lt,Ye,at);break;case Fu:_s(Ve,Ge,lt,Ye,at),Rc(Ye,at,0,lt,1,0);break;case h1:Zn(Ve,Ge,lt,Ye,at);break;case Gf:ht(Ve,Ge,lt,Ye,at,1);break;case Mc:ht(Ve,Ge,lt,Ye,at,1),Rc(Ye,at,0,lt,1,0);break;case Kf:ht(Ve,Ge,lt,Ye,at,0);break;case Xf:ht(Ve,Ge,lt,Ye,at,0),Rc(Ye,at,1,lt,1,0);break;case zn:Vo(Ve,Ge,lt,Ye,at);break;case Yf:Vo(Ve,Ge,lt,Ye,at),Tm(Ye,at,lt,1,0);break;case xh:Qn(Ve,Ge,lt,Ye,at);break;default:e(0)}_e+=Ee,Fe+=Ke}H.Ma+=be}else alert("todo:EmitRescaledRowsYUVA");e(H.Ma<=ne.height)}}H.C=Y,e(H.C<=H.i)}function er(H){var Y;if(0<H.ua)return 0;for(Y=0;Y<H.Wb;++Y){var ne=H.Ya[Y].G,oe=H.Ya[Y].H;if(0<ne[1][oe[1]+0].g||0<ne[2][oe[2]+0].g||0<ne[3][oe[3]+0].g)return 0}return 1}function Jt(H,Y,ne,oe,ye,be){if(H.Z!=0){var we=H.qd,_e=H.rd;for(e(qa[H.Z]!=null);Y<ne;++Y)qa[H.Z](we,_e,oe,ye,oe,ye,be),we=oe,_e=ye,ye+=be;H.qd=we,H.rd=_e}}function qt(H,Y){var ne=H.l.ma,oe=ne.Z==0||ne.Z==1?H.l.j:H.C;if(oe=H.C<oe?oe:H.C,e(Y<=H.l.o),Y>oe){var ye=H.l.width,be=ne.ca,we=ne.tb+ye*oe,_e=H.V,Ee=H.Ba+H.c*oe,Te=H.gc;e(H.ab==1),e(Te[0].hc==3),jc(Te[0],oe,Y,_e,Ee,be,we),Jt(ne,oe,Y,be,we,ye)}H.C=H.Ma=Y}function or(H,Y,ne,oe,ye,be,we){var _e=H.$/oe,Ee=H.$%oe,Te=H.m,Fe=H.s,Ke=ne+H.$,Pe=Ke;ye=ne+oe*ye;var Ve=ne+oe*be,Ge=280+Fe.ua,lt=H.Pb?_e:16777216,Ye=0<Fe.ua?Fe.Wa:null,at=Fe.wc,ot=Ke<Ve?xt(Fe,Ee,_e):null;e(H.C<be),e(Ve<=ye);var gt=!1;e:for(;;){for(;gt||Ke<Ve;){var yt=0;if(_e>=lt){var yr=Ke-ne;e((lt=H).Pb),lt.wd=lt.m,lt.xd=yr,0<lt.s.ua&&Ae(lt.s.Wa,lt.s.vb),lt=_e+Sh}if(Ee&at||(ot=xt(Fe,Ee,_e)),e(ot!=null),ot.Qb&&(Y[Ke]=ot.qb,gt=!0),!gt)if(J(Te),ot.jc){yt=Te,yr=Y;var rr=Ke,Xr=ot.pd[Q(yt)&as-1];e(ot.jc),256>Xr.g?(G(yt,yt.u+Xr.g),yr[rr]=Xr.value,yt=0):(G(yt,yt.u+Xr.g-256),e(256<=Xr.value),yt=Xr.value),yt==0&&(gt=!0)}else yt=$e(ot.G[0],ot.H[0],Te);if(Te.h)break;if(gt||256>yt){if(!gt)if(ot.nd)Y[Ke]=(ot.qb|yt<<8)>>>0;else{if(J(Te),gt=$e(ot.G[1],ot.H[1],Te),J(Te),yr=$e(ot.G[2],ot.H[2],Te),rr=$e(ot.G[3],ot.H[3],Te),Te.h)break;Y[Ke]=(rr<<24|gt<<16|yt<<8|yr)>>>0}if(gt=!1,++Ke,++Ee>=oe&&(Ee=0,++_e,we!=null&&_e<=be&&!(_e%16)&&we(H,_e),Ye!=null))for(;Pe<Ke;)yt=Y[Pe++],Ye.X[(506832829*yt&4294967295)>>>Ye.Mb]=yt}else if(280>yt){if(yt=Qt(yt-256,Te),yr=$e(ot.G[4],ot.H[4],Te),J(Te),yr=Re(oe,yr=Qt(yr,Te)),Te.h)break;if(Ke-ne<yr||ye-Ke<yt)break e;for(rr=0;rr<yt;++rr)Y[Ke+rr]=Y[Ke+rr-yr];for(Ke+=yt,Ee+=yt;Ee>=oe;)Ee-=oe,++_e,we!=null&&_e<=be&&!(_e%16)&&we(H,_e);if(e(Ke<=ye),Ee&at&&(ot=xt(Fe,Ee,_e)),Ye!=null)for(;Pe<Ke;)yt=Y[Pe++],Ye.X[(506832829*yt&4294967295)>>>Ye.Mb]=yt}else{if(!(yt<Ge))break e;for(gt=yt-280,e(Ye!=null);Pe<Ke;)yt=Y[Pe++],Ye.X[(506832829*yt&4294967295)>>>Ye.Mb]=yt;yt=Ke,e(!(gt>>>(yr=Ye).Xa)),Y[yt]=yr.X[gt],gt=!0}gt||e(Te.h==re(Te))}if(H.Pb&&Te.h&&Ke<ye)e(H.m.h),H.a=5,H.m=H.wd,H.$=H.xd,0<H.s.ua&&Ae(H.s.vb,H.s.Wa);else{if(Te.h)break e;we!=null&&we(H,_e>be?be:_e),H.a=0,H.$=Ke-ne}return 1}return H.a=3,0}function Gt(H){e(H!=null),H.vc=null,H.yc=null,H.Ya=null;var Y=H.Wa;Y!=null&&(Y.X=null),H.vb=null,e(H!=null)}function kr(){var H=new Yn;return H==null?null:(H.a=0,H.xb=$u,zt("Predictor","VP8LPredictors"),zt("Predictor","VP8LPredictors_C"),zt("PredictorAdd","VP8LPredictorsAdd"),zt("PredictorAdd","VP8LPredictorsAdd_C"),Iu=it,Uo=bt,Ru=Mt,_s=wt,Vo=et,Qn=dt,Zn=It,I.VP8LMapColor32b=Ou,I.VP8LMapColor8b=ml,H)}function sn(H,Y,ne,oe,ye){var be=1,we=[H],_e=[Y],Ee=oe.m,Te=oe.s,Fe=null,Ke=0;e:for(;;){if(ne)for(;be&&V(Ee,1);){var Pe=we,Ve=_e,Ge=oe,lt=1,Ye=Ge.m,at=Ge.gc[Ge.ab],ot=V(Ye,2);if(Ge.Oc&1<<ot)be=0;else{switch(Ge.Oc|=1<<ot,at.hc=ot,at.Ea=Pe[0],at.nc=Ve[0],at.K=[null],++Ge.ab,e(4>=Ge.ab),ot){case 0:case 1:at.b=V(Ye,3)+2,lt=sn(me(at.Ea,at.b),me(at.nc,at.b),0,Ge,at.K),at.K=at.K[0];break;case 3:var gt,yt=V(Ye,8)+1,yr=16<yt?0:4<yt?1:2<yt?2:3;if(Pe[0]=me(at.Ea,yr),at.b=yr,gt=lt=sn(yt,1,0,Ge,at.K)){var rr,Xr=yt,ur=at,fn=1<<(8>>ur.b),Ti=a(fn);if(Ti==null)gt=0;else{var Qr=ur.K[0],nr=ur.w;for(Ti[0]=ur.K[0][0],rr=1;rr<1*Xr;++rr)Ti[rr]=Ce(Qr[nr+rr],Ti[rr-1]);for(;rr<4*fn;++rr)Ti[rr]=0;ur.K[0]=null,ur.K[0]=Ti,gt=1}}lt=gt;break;case 2:break;default:e(0)}be=lt}}if(we=we[0],_e=_e[0],be&&V(Ee,1)&&!(be=1<=(Ke=V(Ee,4))&&11>=Ke)){oe.a=3;break e}var Ut;if(Ut=be)t:{var Di,Dr,ln,Jn=oe,ma=we,Wi=_e,bi=Ke,na=ne,ga=Jn.m,ui=Jn.s,pn=[null],En=1,fi=0,An=m1[bi];r:for(;;){if(na&&V(ga,1)){var Ni=V(ga,3)+2,Pi=me(ma,Ni),qn=me(Wi,Ni),Ha=Pi*qn;if(!sn(Pi,qn,0,Jn,pn))break r;for(pn=pn[0],ui.xc=Ni,Di=0;Di<Ha;++Di){var Bn=pn[Di]>>8&65535;pn[Di]=Bn,Bn>=En&&(En=Bn+1)}}if(ga.h)break r;for(Dr=0;5>Dr;++Dr){var Hn=Dc[Dr];!Dr&&0<bi&&(Hn+=1<<bi),fi<Hn&&(fi=Hn)}var Gi=s(En*An,T),Ia=En,ks=s(Ia,N);if(ks==null)var Li=null;else e(65536>=Ia),Li=ks;var Fi=a(fi);if(Li==null||Fi==null||Gi==null){Jn.a=1;break r}var Wa=Gi;for(Di=ln=0;Di<En;++Di){var Wn=Li[Di],Ga=Wn.G,to=Wn.H,So=0,ya=1,Bi=0;for(Dr=0;5>Dr;++Dr){Hn=Dc[Dr],Ga[Dr]=Wa,to[Dr]=ln,!Dr&&0<bi&&(Hn+=1<<bi);i:{var ec,bl=Hn,zu=Jn,Wo=Fi,w1=Wa,$m=ln,ii=0,Eo=zu.m,Um=V(Eo,1);if(i(Wo,0,0,bl),Um){var Vm=V(Eo,1)+1,Ah=V(Eo,1),Ch=V(Eo,Ah==0?1:8);Wo[Ch]=1,Vm==2&&(Wo[Ch=V(Eo,8)]=1);var Go=1}else{var di=a(19),Ki=V(Eo,4)+4;if(19<Ki){zu.a=3;var $i=0;break i}for(ec=0;ec<Ki;++ec)di[Qw[ec]]=V(Eo,3);var qu=void 0,wl=void 0,Hu=zu,nx=di,ia=bl,kh=Wo,td=0,Ko=Hu.m,Ao=8,zs=s(128,T);n:for(;B(zs,0,7,nx,19);){if(V(Ko,1)){var rd=2+2*V(Ko,3);if((qu=2+V(Ko,rd))>ia)break n}else qu=ia;for(wl=0;wl<ia&&qu--;){J(Ko);var Th=zs[0+(127&Q(Ko))];G(Ko,Ko.u+Th.g);var tc=Th.value;if(16>tc)kh[wl++]=tc,tc!=0&&(Ao=tc);else{var x1=tc==16,zm=tc-16,_1=_h[zm],qm=V(Ko,Qf[zm])+_1;if(wl+qm>ia)break n;for(var S1=x1?Ao:0;0<qm--;)kh[wl++]=S1}}td=1;break n}td||(Hu.a=3),Go=td}(Go=Go&&!Eo.h)&&(ii=B(w1,$m,8,Wo,bl)),Go&&ii!=0?$i=ii:(zu.a=3,$i=0)}if($i==0)break r;if(ya&&p1[Dr]==1&&(ya=Wa[ln].g==0),So+=Wa[ln].g,ln+=$i,3>=Dr){var Wu,Nh=Fi[0];for(Wu=1;Wu<Hn;++Wu)Fi[Wu]>Nh&&(Nh=Fi[Wu]);Bi+=Nh}}if(Wn.nd=ya,Wn.Qb=0,ya&&(Wn.qb=(Ga[3][to[3]+0].value<<24|Ga[1][to[1]+0].value<<16|Ga[2][to[2]+0].value)>>>0,So==0&&256>Ga[0][to[0]+0].value&&(Wn.Qb=1,Wn.qb+=Ga[0][to[0]+0].value<<8)),Wn.jc=!Wn.Qb&&6>Bi,Wn.jc){var nd,qs=Wn;for(nd=0;nd<as;++nd){var xl=nd,Co=qs.pd[xl],Uc=qs.G[0][qs.H[0]+xl];256<=Uc.value?(Co.g=Uc.g+256,Co.value=Uc.value):(Co.g=0,Co.value=0,xl>>=Je(Uc,8,Co),xl>>=Je(qs.G[1][qs.H[1]+xl],16,Co),xl>>=Je(qs.G[2][qs.H[2]+xl],0,Co),Je(qs.G[3][qs.H[3]+xl],24,Co))}}}ui.vc=pn,ui.Wb=En,ui.Ya=Li,ui.yc=Gi,Ut=1;break t}Ut=0}if(!(be=Ut)){oe.a=3;break e}if(0<Ke){if(Te.ua=1<<Ke,!ue(Te.Wa,Ke)){oe.a=1,be=0;break e}}else Te.ua=0;var Ph=oe,jh=we,E1=_e,Ih=Ph.s,Oh=Ih.xc;if(Ph.c=jh,Ph.i=E1,Ih.md=me(jh,Oh),Ih.wc=Oh==0?-1:(1<<Oh)-1,ne){oe.xb=Ho;break e}if((Fe=a(we*_e))==null){oe.a=1,be=0;break e}be=(be=or(oe,Fe,0,we,_e,_e,null))&&!Ee.h;break e}return be?(ye!=null?ye[0]=Fe:(e(Fe==null),e(ne)),oe.$=0,ne||Gt(Te)):Gt(Te),be}function tn(H,Y){var ne=H.c*H.i,oe=ne+Y+16*Y;return e(H.c<=Y),H.V=a(oe),H.V==null?(H.Ta=null,H.Ua=0,H.a=1,0):(H.Ta=H.V,H.Ua=H.Ba+ne+Y,1)}function xn(H,Y){var ne=H.C,oe=Y-ne,ye=H.V,be=H.Ba+H.c*ne;for(e(Y<=H.l.o);0<oe;){var we=16<oe?16:oe,_e=H.l.ma,Ee=H.l.width,Te=Ee*we,Fe=_e.ca,Ke=_e.tb+Ee*ne,Pe=H.Ta,Ve=H.Ua;ar(H,we,ye,be),Nm(Pe,Ve,Fe,Ke,Te),Jt(_e,ne,ne+we,Fe,Ke,Ee),oe-=we,ye+=we*H.c,ne+=we}e(ne==Y),H.C=H.Ma=Y}function Tn(){this.ub=this.yd=this.td=this.Rb=0}function oi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function je(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ue(){this.Yb=(function(){var H=[];return(function Y(ne,oe,ye){for(var be=ye[oe],we=0;we<be&&(ne.push(ye.length>oe+1?[]:0),!(ye.length<oe+1));we++)Y(ne[we],oe+1,ye)})(H,0,[3,11]),H})()}function ft(){this.jb=a(3),this.Wc=l([4,8],Ue),this.Xc=l([4,17],Ue)}function _t(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function $t(){this.ld=this.La=this.dd=this.tc=0}function Ct(){this.Na=this.la=0}function Rt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Vr(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _r(){this.uc=this.M=this.Nb=0,this.wa=Array(new $t),this.Y=0,this.ya=Array(new Vr),this.aa=0,this.l=new Tr}function br(){this.y=a(16),this.f=a(8),this.ea=a(8)}function pr(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new Tn,this.Kc=new oi,this.ed=new _t,this.Qa=new je,this.Ic=this.$c=this.Aa=0,this.D=new _r,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,O),this.ia=0,this.pb=s(4,Rt),this.Pa=new ft,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new br),this.Hd=0,this.rb=Array(new Ct),this.sb=0,this.wa=Array(new $t),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Vr),this.L=this.aa=0,this.gd=l([4,2],$t),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Tr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function an(){var H=new pr;return H!=null&&(H.a=0,H.sc="OK",H.cb=0,H.Xb=0,Lc||(Lc=Nn)),H}function Sr(H,Y,ne){return H.a==0&&(H.a=Y,H.sc=ne,H.cb=0),0}function _n(H,Y,ne){return 3<=ne&&H[Y+0]==157&&H[Y+1]==1&&H[Y+2]==42}function Mn(H,Y){if(H==null)return 0;if(H.a=0,H.sc="OK",Y==null)return Sr(H,2,"null VP8Io passed to VP8GetHeaders()");var ne=Y.data,oe=Y.w,ye=Y.ha;if(4>ye)return Sr(H,7,"Truncated header.");var be=ne[oe+0]|ne[oe+1]<<8|ne[oe+2]<<16,we=H.Od;if(we.Rb=!(1&be),we.td=be>>1&7,we.yd=be>>4&1,we.ub=be>>5,3<we.td)return Sr(H,3,"Incorrect keyframe parameters.");if(!we.yd)return Sr(H,4,"Frame not displayable.");oe+=3,ye-=3;var _e=H.Kc;if(we.Rb){if(7>ye)return Sr(H,7,"cannot parse picture header");if(!_n(ne,oe,ye))return Sr(H,3,"Bad code word");_e.c=16383&(ne[oe+4]<<8|ne[oe+3]),_e.Td=ne[oe+4]>>6,_e.i=16383&(ne[oe+6]<<8|ne[oe+5]),_e.Ud=ne[oe+6]>>6,oe+=7,ye-=7,H.za=_e.c+15>>4,H.Ub=_e.i+15>>4,Y.width=_e.c,Y.height=_e.i,Y.Da=0,Y.j=0,Y.v=0,Y.va=Y.width,Y.o=Y.height,Y.da=0,Y.ib=Y.width,Y.hb=Y.height,Y.U=Y.width,Y.T=Y.height,i((be=H.Pa).jb,0,255,be.jb.length),e((be=H.Qa)!=null),be.Cb=0,be.Bb=0,be.Fb=1,i(be.Zb,0,0,be.Zb.length),i(be.Lb,0,0,be.Lb)}if(we.ub>ye)return Sr(H,7,"bad partition length");_(be=H.m,ne,oe,we.ub),oe+=we.ub,ye-=we.ub,we.Rb&&(_e.Ld=U(be),_e.Kd=U(be)),_e=H.Qa;var Ee,Te=H.Pa;if(e(be!=null),e(_e!=null),_e.Cb=U(be),_e.Cb){if(_e.Bb=U(be),U(be)){for(_e.Fb=U(be),Ee=0;4>Ee;++Ee)_e.Zb[Ee]=U(be)?S(be,7):0;for(Ee=0;4>Ee;++Ee)_e.Lb[Ee]=U(be)?S(be,6):0}if(_e.Bb)for(Ee=0;3>Ee;++Ee)Te.jb[Ee]=U(be)?E(be,8):255}else _e.Bb=0;if(be.Ka)return Sr(H,3,"cannot parse segment header");if((_e=H.ed).zd=U(be),_e.Tb=E(be,6),_e.wb=E(be,3),_e.Pc=U(be),_e.Pc&&U(be)){for(Te=0;4>Te;++Te)U(be)&&(_e.vd[Te]=S(be,6));for(Te=0;4>Te;++Te)U(be)&&(_e.od[Te]=S(be,6))}if(H.L=_e.Tb==0?0:_e.zd?1:2,be.Ka)return Sr(H,3,"cannot parse filter header");var Fe=ye;if(ye=Ee=oe,oe=Ee+Fe,_e=Fe,H.Xb=(1<<E(H.m,2))-1,Fe<3*(Te=H.Xb))ne=7;else{for(Ee+=3*Te,_e-=3*Te,Fe=0;Fe<Te;++Fe){var Ke=ne[ye+0]|ne[ye+1]<<8|ne[ye+2]<<16;Ke>_e&&(Ke=_e),_(H.Jc[+Fe],ne,Ee,Ke),Ee+=Ke,_e-=Ke,ye+=3}_(H.Jc[+Te],ne,Ee,_e),ne=Ee<oe?0:5}if(ne!=0)return Sr(H,ne,"cannot parse partitions");for(ne=E(Ee=H.m,7),ye=U(Ee)?S(Ee,4):0,oe=U(Ee)?S(Ee,4):0,_e=U(Ee)?S(Ee,4):0,Te=U(Ee)?S(Ee,4):0,Ee=U(Ee)?S(Ee,4):0,Fe=H.Qa,Ke=0;4>Ke;++Ke){if(Fe.Cb){var Pe=Fe.Zb[Ke];Fe.Fb||(Pe+=ne)}else{if(0<Ke){H.pb[Ke]=H.pb[0];continue}Pe=ne}var Ve=H.pb[Ke];Ve.Sc[0]=Bu[un(Pe+ye,127)],Ve.Sc[1]=Zf[un(Pe+0,127)],Ve.Eb[0]=2*Bu[un(Pe+oe,127)],Ve.Eb[1]=101581*Zf[un(Pe+_e,127)]>>16,8>Ve.Eb[1]&&(Ve.Eb[1]=8),Ve.Qc[0]=Bu[un(Pe+Te,117)],Ve.Qc[1]=Zf[un(Pe+Ee,127)],Ve.lc=Pe+Ee}if(!we.Rb)return Sr(H,4,"Not a key frame.");for(U(be),we=H.Pa,ne=0;4>ne;++ne){for(ye=0;8>ye;++ye)for(oe=0;3>oe;++oe)for(_e=0;11>_e;++_e)Te=Z(be,ex[ne][ye][oe][_e])?E(be,8):y1[ne][ye][oe][_e],we.Wc[ne][ye].Yb[oe][_e]=Te;for(ye=0;17>ye;++ye)we.Xc[ne][ye]=we.Wc[ne][Lm[ye]]}return H.kc=U(be),H.kc&&(H.Bd=E(be,8)),H.cb=1}function Nn(H,Y,ne,oe,ye,be,we){var _e=Y[ye].Yb[ne];for(ne=0;16>ye;++ye){if(!Z(H,_e[ne+0]))return ye;for(;!Z(H,_e[ne+1]);)if(_e=Y[++ye].Yb[0],ne=0,ye==16)return 16;var Ee=Y[ye+1].Yb;if(Z(H,_e[ne+2])){var Te=H,Fe=0;if(Z(Te,(Pe=_e)[(Ke=ne)+3]))if(Z(Te,Pe[Ke+6])){for(_e=0,Ke=2*(Fe=Z(Te,Pe[Ke+8]))+(Pe=Z(Te,Pe[Ke+9+Fe])),Fe=0,Pe=Mm[Ke];Pe[_e];++_e)Fe+=Fe+Z(Te,Pe[_e]);Fe+=3+(8<<Ke)}else Z(Te,Pe[Ke+7])?(Fe=7+2*Z(Te,165),Fe+=Z(Te,145)):Fe=5+Z(Te,159);else Fe=Z(Te,Pe[Ke+4])?3+Z(Te,Pe[Ke+5]):2;_e=Ee[2]}else Fe=1,_e=Ee[1];Ee=we+Dm[ye],0>(Te=H).b&&q(Te);var Ke,Pe=Te.b,Ve=(Ke=Te.Ca>>1)-(Te.I>>Pe)>>31;--Te.b,Te.Ca+=Ve,Te.Ca|=1,Te.I-=(Ke+1&Ve)<<Pe,be[Ee]=((Fe^Ve)-Ve)*oe[(0<ye)+0]}return 16}function Xn(H){var Y=H.rb[H.sb-1];Y.la=0,Y.Na=0,i(H.zc,0,0,H.zc.length),H.ja=0}function ti(H,Y,ne,oe,ye){ye=H[Y+ne+32*oe]+(ye>>3),H[Y+ne+32*oe]=-256&ye?0>ye?0:255:ye}function $a(H,Y,ne,oe,ye,be){ti(H,Y,0,ne,oe+ye),ti(H,Y,1,ne,oe+be),ti(H,Y,2,ne,oe-be),ti(H,Y,3,ne,oe-ye)}function cn(H){return(20091*H>>16)+H}function li(H,Y,ne,oe){var ye,be=0,we=a(16);for(ye=0;4>ye;++ye){var _e=H[Y+0]+H[Y+8],Ee=H[Y+0]-H[Y+8],Te=(35468*H[Y+4]>>16)-cn(H[Y+12]),Fe=cn(H[Y+4])+(35468*H[Y+12]>>16);we[be+0]=_e+Fe,we[be+1]=Ee+Te,we[be+2]=Ee-Te,we[be+3]=_e-Fe,be+=4,Y++}for(ye=be=0;4>ye;++ye)_e=(H=we[be+0]+4)+we[be+8],Ee=H-we[be+8],Te=(35468*we[be+4]>>16)-cn(we[be+12]),ti(ne,oe,0,0,_e+(Fe=cn(we[be+4])+(35468*we[be+12]>>16))),ti(ne,oe,1,0,Ee+Te),ti(ne,oe,2,0,Ee-Te),ti(ne,oe,3,0,_e-Fe),be++,oe+=32}function rn(H,Y,ne,oe){var ye=H[Y+0]+4,be=35468*H[Y+4]>>16,we=cn(H[Y+4]),_e=35468*H[Y+1]>>16;$a(ne,oe,0,ye+we,H=cn(H[Y+1]),_e),$a(ne,oe,1,ye+be,H,_e),$a(ne,oe,2,ye-be,H,_e),$a(ne,oe,3,ye-we,H,_e)}function zr(H,Y,ne,oe,ye){li(H,Y,ne,oe),ye&&li(H,Y+16,ne,oe+4)}function Ji(H,Y,ne,oe){Mi(H,Y+0,ne,oe,1),Mi(H,Y+32,ne,oe+128,1)}function Kr(H,Y,ne,oe){var ye;for(H=H[Y+0]+4,ye=0;4>ye;++ye)for(Y=0;4>Y;++Y)ti(ne,oe,Y,ye,H)}function Ua(H,Y,ne,oe){H[Y+0]&&xo(H,Y+0,ne,oe),H[Y+16]&&xo(H,Y+16,ne,oe+4),H[Y+32]&&xo(H,Y+32,ne,oe+128),H[Y+48]&&xo(H,Y+48,ne,oe+128+4)}function Cr(H,Y,ne,oe){var ye,be=a(16);for(ye=0;4>ye;++ye){var we=H[Y+0+ye]+H[Y+12+ye],_e=H[Y+4+ye]+H[Y+8+ye],Ee=H[Y+4+ye]-H[Y+8+ye],Te=H[Y+0+ye]-H[Y+12+ye];be[0+ye]=we+_e,be[8+ye]=we-_e,be[4+ye]=Te+Ee,be[12+ye]=Te-Ee}for(ye=0;4>ye;++ye)we=(H=be[0+4*ye]+3)+be[3+4*ye],_e=be[1+4*ye]+be[2+4*ye],Ee=be[1+4*ye]-be[2+4*ye],Te=H-be[3+4*ye],ne[oe+0]=we+_e>>3,ne[oe+16]=Te+Ee>>3,ne[oe+32]=we-_e>>3,ne[oe+48]=Te-Ee>>3,oe+=64}function ri(H,Y,ne){var oe,ye=Y-32,be=ss,we=255-H[ye-1];for(oe=0;oe<ne;++oe){var _e,Ee=be,Te=we+H[Y-1];for(_e=0;_e<ne;++_e)H[Y+_e]=Ee[Te+H[ye+_e]];Y+=32}}function Aa(H,Y){ri(H,Y,4)}function ms(H,Y){ri(H,Y,8)}function mo(H,Y){ri(H,Y,16)}function Us(H,Y){var ne;for(ne=0;16>ne;++ne)n(H,Y+32*ne,H,Y-32,16)}function Ca(H,Y){var ne;for(ne=16;0<ne;--ne)i(H,Y,H[Y-1],16),Y+=32}function gs(H,Y,ne){var oe;for(oe=0;16>oe;++oe)i(Y,ne+32*oe,H,16)}function Si(H,Y){var ne,oe=16;for(ne=0;16>ne;++ne)oe+=H[Y-1+32*ne]+H[Y+ne-32];gs(oe>>5,H,Y)}function vi(H,Y){var ne,oe=8;for(ne=0;16>ne;++ne)oe+=H[Y-1+32*ne];gs(oe>>4,H,Y)}function Ei(H,Y){var ne,oe=8;for(ne=0;16>ne;++ne)oe+=H[Y+ne-32];gs(oe>>4,H,Y)}function qi(H,Y){gs(128,H,Y)}function wr(H,Y,ne){return H+2*Y+ne+2>>2}function ea(H,Y){var ne,oe=Y-32;for(oe=new Uint8Array([wr(H[oe-1],H[oe+0],H[oe+1]),wr(H[oe+0],H[oe+1],H[oe+2]),wr(H[oe+1],H[oe+2],H[oe+3]),wr(H[oe+2],H[oe+3],H[oe+4])]),ne=0;4>ne;++ne)n(H,Y+32*ne,oe,0,oe.length)}function ka(H,Y){var ne=H[Y-1],oe=H[Y-1+32],ye=H[Y-1+64],be=H[Y-1+96];ie(H,Y+0,16843009*wr(H[Y-1-32],ne,oe)),ie(H,Y+32,16843009*wr(ne,oe,ye)),ie(H,Y+64,16843009*wr(oe,ye,be)),ie(H,Y+96,16843009*wr(ye,be,be))}function zf(H,Y){var ne,oe=4;for(ne=0;4>ne;++ne)oe+=H[Y+ne-32]+H[Y-1+32*ne];for(oe>>=3,ne=0;4>ne;++ne)i(H,Y+32*ne,oe,4)}function Pu(H,Y){var ne=H[Y-1+0],oe=H[Y-1+32],ye=H[Y-1+64],be=H[Y-1-32],we=H[Y+0-32],_e=H[Y+1-32],Ee=H[Y+2-32],Te=H[Y+3-32];H[Y+0+96]=wr(oe,ye,H[Y-1+96]),H[Y+1+96]=H[Y+0+64]=wr(ne,oe,ye),H[Y+2+96]=H[Y+1+64]=H[Y+0+32]=wr(be,ne,oe),H[Y+3+96]=H[Y+2+64]=H[Y+1+32]=H[Y+0+0]=wr(we,be,ne),H[Y+3+64]=H[Y+2+32]=H[Y+1+0]=wr(_e,we,be),H[Y+3+32]=H[Y+2+0]=wr(Ee,_e,we),H[Y+3+0]=wr(Te,Ee,_e)}function Ai(H,Y){var ne=H[Y+1-32],oe=H[Y+2-32],ye=H[Y+3-32],be=H[Y+4-32],we=H[Y+5-32],_e=H[Y+6-32],Ee=H[Y+7-32];H[Y+0+0]=wr(H[Y+0-32],ne,oe),H[Y+1+0]=H[Y+0+32]=wr(ne,oe,ye),H[Y+2+0]=H[Y+1+32]=H[Y+0+64]=wr(oe,ye,be),H[Y+3+0]=H[Y+2+32]=H[Y+1+64]=H[Y+0+96]=wr(ye,be,we),H[Y+3+32]=H[Y+2+64]=H[Y+1+96]=wr(be,we,_e),H[Y+3+64]=H[Y+2+96]=wr(we,_e,Ee),H[Y+3+96]=wr(_e,Ee,Ee)}function go(H,Y){var ne=H[Y-1+0],oe=H[Y-1+32],ye=H[Y-1+64],be=H[Y-1-32],we=H[Y+0-32],_e=H[Y+1-32],Ee=H[Y+2-32],Te=H[Y+3-32];H[Y+0+0]=H[Y+1+64]=be+we+1>>1,H[Y+1+0]=H[Y+2+64]=we+_e+1>>1,H[Y+2+0]=H[Y+3+64]=_e+Ee+1>>1,H[Y+3+0]=Ee+Te+1>>1,H[Y+0+96]=wr(ye,oe,ne),H[Y+0+64]=wr(oe,ne,be),H[Y+0+32]=H[Y+1+96]=wr(ne,be,we),H[Y+1+32]=H[Y+2+96]=wr(be,we,_e),H[Y+2+32]=H[Y+3+96]=wr(we,_e,Ee),H[Y+3+32]=wr(_e,Ee,Te)}function ju(H,Y){var ne=H[Y+0-32],oe=H[Y+1-32],ye=H[Y+2-32],be=H[Y+3-32],we=H[Y+4-32],_e=H[Y+5-32],Ee=H[Y+6-32],Te=H[Y+7-32];H[Y+0+0]=ne+oe+1>>1,H[Y+1+0]=H[Y+0+64]=oe+ye+1>>1,H[Y+2+0]=H[Y+1+64]=ye+be+1>>1,H[Y+3+0]=H[Y+2+64]=be+we+1>>1,H[Y+0+32]=wr(ne,oe,ye),H[Y+1+32]=H[Y+0+96]=wr(oe,ye,be),H[Y+2+32]=H[Y+1+96]=wr(ye,be,we),H[Y+3+32]=H[Y+2+96]=wr(be,we,_e),H[Y+3+64]=wr(we,_e,Ee),H[Y+3+96]=wr(_e,Ee,Te)}function yo(H,Y){var ne=H[Y-1+0],oe=H[Y-1+32],ye=H[Y-1+64],be=H[Y-1+96];H[Y+0+0]=ne+oe+1>>1,H[Y+2+0]=H[Y+0+32]=oe+ye+1>>1,H[Y+2+32]=H[Y+0+64]=ye+be+1>>1,H[Y+1+0]=wr(ne,oe,ye),H[Y+3+0]=H[Y+1+32]=wr(oe,ye,be),H[Y+3+32]=H[Y+1+64]=wr(ye,be,be),H[Y+3+64]=H[Y+2+64]=H[Y+0+96]=H[Y+1+96]=H[Y+2+96]=H[Y+3+96]=be}function Ys(H,Y){var ne=H[Y-1+0],oe=H[Y-1+32],ye=H[Y-1+64],be=H[Y-1+96],we=H[Y-1-32],_e=H[Y+0-32],Ee=H[Y+1-32],Te=H[Y+2-32];H[Y+0+0]=H[Y+2+32]=ne+we+1>>1,H[Y+0+32]=H[Y+2+64]=oe+ne+1>>1,H[Y+0+64]=H[Y+2+96]=ye+oe+1>>1,H[Y+0+96]=be+ye+1>>1,H[Y+3+0]=wr(_e,Ee,Te),H[Y+2+0]=wr(we,_e,Ee),H[Y+1+0]=H[Y+3+32]=wr(ne,we,_e),H[Y+1+32]=H[Y+3+64]=wr(oe,ne,we),H[Y+1+64]=H[Y+3+96]=wr(ye,oe,ne),H[Y+1+96]=wr(be,ye,oe)}function Hl(H,Y){var ne;for(ne=0;8>ne;++ne)n(H,Y+32*ne,H,Y-32,8)}function Ta(H,Y){var ne;for(ne=0;8>ne;++ne)i(H,Y,H[Y-1],8),Y+=32}function Va(H,Y,ne){var oe;for(oe=0;8>oe;++oe)i(Y,ne+32*oe,H,8)}function ys(H,Y){var ne,oe=8;for(ne=0;8>ne;++ne)oe+=H[Y+ne-32]+H[Y-1+32*ne];Va(oe>>4,H,Y)}function Fo(H,Y){var ne,oe=4;for(ne=0;8>ne;++ne)oe+=H[Y+ne-32];Va(oe>>3,H,Y)}function Dn(H,Y){var ne,oe=4;for(ne=0;8>ne;++ne)oe+=H[Y-1+32*ne];Va(oe>>3,H,Y)}function Nc(H,Y){Va(128,H,Y)}function vo(H,Y,ne){var oe=H[Y-ne],ye=H[Y+0],be=3*(ye-oe)+qo[1020+H[Y-2*ne]-H[Y+ne]],we=Lu[112+(be+4>>3)];H[Y-ne]=ss[255+oe+Lu[112+(be+3>>3)]],H[Y+0]=ss[255+ye-we]}function Vs(H,Y,ne,oe){var ye=H[Y+0],be=H[Y+ne];return Js[255+H[Y-2*ne]-H[Y-ne]]>oe||Js[255+be-ye]>oe}function Bo(H,Y,ne,oe){return 4*Js[255+H[Y-ne]-H[Y+0]]+Js[255+H[Y-2*ne]-H[Y+ne]]<=oe}function $o(H,Y,ne,oe,ye){var be=H[Y-3*ne],we=H[Y-2*ne],_e=H[Y-ne],Ee=H[Y+0],Te=H[Y+ne],Fe=H[Y+2*ne],Ke=H[Y+3*ne];return 4*Js[255+_e-Ee]+Js[255+we-Te]>oe?0:Js[255+H[Y-4*ne]-be]<=ye&&Js[255+be-we]<=ye&&Js[255+we-_e]<=ye&&Js[255+Ke-Fe]<=ye&&Js[255+Fe-Te]<=ye&&Js[255+Te-Ee]<=ye}function Na(H,Y,ne,oe){var ye=2*oe+1;for(oe=0;16>oe;++oe)Bo(H,Y+oe,ne,ye)&&vo(H,Y+oe,ne)}function Qs(H,Y,ne,oe){var ye=2*oe+1;for(oe=0;16>oe;++oe)Bo(H,Y+oe*ne,1,ye)&&vo(H,Y+oe*ne,1)}function ha(H,Y,ne,oe){var ye;for(ye=3;0<ye;--ye)Na(H,Y+=4*ne,ne,oe)}function hl(H,Y,ne,oe){var ye;for(ye=3;0<ye;--ye)Qs(H,Y+=4,ne,oe)}function pa(H,Y,ne,oe,ye,be,we,_e){for(be=2*be+1;0<ye--;){if($o(H,Y,ne,be,we))if(Vs(H,Y,ne,_e))vo(H,Y,ne);else{var Ee=H,Te=Y,Fe=ne,Ke=Ee[Te-2*Fe],Pe=Ee[Te-Fe],Ve=Ee[Te+0],Ge=Ee[Te+Fe],lt=Ee[Te+2*Fe],Ye=27*(ot=qo[1020+3*(Ve-Pe)+qo[1020+Ke-Ge]])+63>>7,at=18*ot+63>>7,ot=9*ot+63>>7;Ee[Te-3*Fe]=ss[255+Ee[Te-3*Fe]+ot],Ee[Te-2*Fe]=ss[255+Ke+at],Ee[Te-Fe]=ss[255+Pe+Ye],Ee[Te+0]=ss[255+Ve-Ye],Ee[Te+Fe]=ss[255+Ge-at],Ee[Te+2*Fe]=ss[255+lt-ot]}Y+=oe}}function ta(H,Y,ne,oe,ye,be,we,_e){for(be=2*be+1;0<ye--;){if($o(H,Y,ne,be,we))if(Vs(H,Y,ne,_e))vo(H,Y,ne);else{var Ee=H,Te=Y,Fe=ne,Ke=Ee[Te-Fe],Pe=Ee[Te+0],Ve=Ee[Te+Fe],Ge=Lu[112+(4+(lt=3*(Pe-Ke))>>3)],lt=Lu[112+(lt+3>>3)],Ye=Ge+1>>1;Ee[Te-2*Fe]=ss[255+Ee[Te-2*Fe]+Ye],Ee[Te-Fe]=ss[255+Ke+lt],Ee[Te+0]=ss[255+Pe-Ge],Ee[Te+Fe]=ss[255+Ve-Ye]}Y+=oe}}function te(H,Y,ne,oe,ye,be){pa(H,Y,ne,1,16,oe,ye,be)}function ge(H,Y,ne,oe,ye,be){pa(H,Y,1,ne,16,oe,ye,be)}function Ne(H,Y,ne,oe,ye,be){var we;for(we=3;0<we;--we)ta(H,Y+=4*ne,ne,1,16,oe,ye,be)}function Me(H,Y,ne,oe,ye,be){var we;for(we=3;0<we;--we)ta(H,Y+=4,1,ne,16,oe,ye,be)}function qe(H,Y,ne,oe,ye,be,we,_e){pa(H,Y,ye,1,8,be,we,_e),pa(ne,oe,ye,1,8,be,we,_e)}function ct(H,Y,ne,oe,ye,be,we,_e){pa(H,Y,1,ye,8,be,we,_e),pa(ne,oe,1,ye,8,be,we,_e)}function St(H,Y,ne,oe,ye,be,we,_e){ta(H,Y+4*ye,ye,1,8,be,we,_e),ta(ne,oe+4*ye,ye,1,8,be,we,_e)}function Kt(H,Y,ne,oe,ye,be,we,_e){ta(H,Y+4,1,ye,8,be,we,_e),ta(ne,oe+4,1,ye,8,be,we,_e)}function tr(){this.ba=new Ht,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Yt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Er(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Mr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function hn(){this.ua=0,this.Wa=new he,this.vb=new he,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new N,this.yc=new T}function Yn(){this.xb=this.a=0,this.l=new Tr,this.ca=new Ht,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new hn,this.ab=0,this.gc=s(4,Mr),this.Oc=0}function ni(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Tr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function vn(H,Y,ne,oe,ye,be,we){for(H=H==null?0:H[Y+0],Y=0;Y<we;++Y)ye[be+Y]=H+ne[oe+Y]&255,H=ye[be+Y]}function Ci(H,Y,ne,oe,ye,be,we){var _e;if(H==null)vn(null,null,ne,oe,ye,be,we);else for(_e=0;_e<we;++_e)ye[be+_e]=H[Y+_e]+ne[oe+_e]&255}function Ln(H,Y,ne,oe,ye,be,we){if(H==null)vn(null,null,ne,oe,ye,be,we);else{var _e,Ee=H[Y+0],Te=Ee,Fe=Ee;for(_e=0;_e<we;++_e)Te=Fe+(Ee=H[Y+_e])-Te,Fe=ne[oe+_e]+(-256&Te?0>Te?0:255:Te)&255,Te=Ee,ye[be+_e]=Fe}}function Hi(H,Y,ne,oe){var ye=Y.width,be=Y.o;if(e(H!=null&&Y!=null),0>ne||0>=oe||ne+oe>be)return null;if(!H.Cc){if(H.ga==null){var we;if(H.ga=new ni,(we=H.ga==null)||(we=Y.width*Y.o,e(H.Gb.length==0),H.Gb=a(we),H.Uc=0,H.Gb==null?we=0:(H.mb=H.Gb,H.nb=H.Uc,H.rc=null,we=1),we=!we),!we){we=H.ga;var _e=H.Fa,Ee=H.P,Te=H.qc,Fe=H.mb,Ke=H.nb,Pe=Ee+1,Ve=Te-1,Ge=we.l;if(e(_e!=null&&Fe!=null&&Y!=null),qa[0]=null,qa[1]=vn,qa[2]=Ci,qa[3]=Ln,we.ca=Fe,we.tb=Ke,we.c=Y.width,we.i=Y.height,e(0<we.c&&0<we.i),1>=Te)Y=0;else if(we.$a=3&_e[Ee+0],we.Z=_e[Ee+0]>>2&3,we.Lc=_e[Ee+0]>>4&3,Ee=_e[Ee+0]>>6&3,0>we.$a||1<we.$a||4<=we.Z||1<we.Lc||Ee)Y=0;else if(Ge.put=At,Ge.ac=Or,Ge.bc=fr,Ge.ma=we,Ge.width=Y.width,Ge.height=Y.height,Ge.Da=Y.Da,Ge.v=Y.v,Ge.va=Y.va,Ge.j=Y.j,Ge.o=Y.o,we.$a)e:{e(we.$a==1),Y=kr();t:for(;;){if(Y==null){Y=0;break e}if(e(we!=null),we.mc=Y,Y.c=we.c,Y.i=we.i,Y.l=we.l,Y.l.ma=we,Y.l.width=we.c,Y.l.height=we.i,Y.a=0,k(Y.m,_e,Pe,Ve),!sn(we.c,we.i,1,Y,null)||(Y.ab==1&&Y.gc[0].hc==3&&er(Y.s)?(we.ic=1,_e=Y.c*Y.i,Y.Ta=null,Y.Ua=0,Y.V=a(_e),Y.Ba=0,Y.V==null?(Y.a=1,Y=0):Y=1):(we.ic=0,Y=tn(Y,we.c)),!Y))break t;Y=1;break e}we.mc=null,Y=0}else Y=Ve>=we.c*we.i;we=!Y}if(we)return null;H.ga.Lc!=1?H.Ga=0:oe=be-ne}e(H.ga!=null),e(ne+oe<=be);e:{if(Y=(_e=H.ga).c,be=_e.l.o,_e.$a==0){if(Pe=H.rc,Ve=H.Vc,Ge=H.Fa,Ee=H.P+1+ne*Y,Te=H.mb,Fe=H.nb+ne*Y,e(Ee<=H.P+H.qc),_e.Z!=0)for(e(qa[_e.Z]!=null),we=0;we<oe;++we)qa[_e.Z](Pe,Ve,Ge,Ee,Te,Fe,Y),Pe=Te,Ve=Fe,Fe+=Y,Ee+=Y;else for(we=0;we<oe;++we)n(Te,Fe,Ge,Ee,Y),Pe=Te,Ve=Fe,Fe+=Y,Ee+=Y;H.rc=Pe,H.Vc=Ve}else{if(e(_e.mc!=null),Y=ne+oe,e((we=_e.mc)!=null),e(Y<=we.i),we.C>=Y)Y=1;else if(_e.ic||Oi(),_e.ic){_e=we.V,Pe=we.Ba,Ve=we.c;var lt=we.i,Ye=(Ge=1,Ee=we.$/Ve,Te=we.$%Ve,Fe=we.m,Ke=we.s,we.$),at=Ve*lt,ot=Ve*Y,gt=Ke.wc,yt=Ye<ot?xt(Ke,Te,Ee):null;e(Ye<=at),e(Y<=lt),e(er(Ke));t:for(;;){for(;!Fe.h&&Ye<ot;){if(Te&gt||(yt=xt(Ke,Te,Ee)),e(yt!=null),J(Fe),256>(lt=$e(yt.G[0],yt.H[0],Fe)))_e[Pe+Ye]=lt,++Ye,++Te>=Ve&&(Te=0,++Ee<=Y&&!(Ee%16)&&qt(we,Ee));else{if(!(280>lt)){Ge=0;break t}lt=Qt(lt-256,Fe);var yr,rr=$e(yt.G[4],yt.H[4],Fe);if(J(Fe),!(Ye>=(rr=Re(Ve,rr=Qt(rr,Fe)))&&at-Ye>=lt)){Ge=0;break t}for(yr=0;yr<lt;++yr)_e[Pe+Ye+yr]=_e[Pe+Ye+yr-rr];for(Ye+=lt,Te+=lt;Te>=Ve;)Te-=Ve,++Ee<=Y&&!(Ee%16)&&qt(we,Ee);Ye<ot&&Te&gt&&(yt=xt(Ke,Te,Ee))}e(Fe.h==re(Fe))}qt(we,Ee>Y?Y:Ee);break t}!Ge||Fe.h&&Ye<at?(Ge=0,we.a=Fe.h?5:3):we.$=Ye,Y=Ge}else Y=or(we,we.V,we.Ba,we.c,we.i,Y,xn);if(!Y){oe=0;break e}}ne+oe>=be&&(H.Cc=1),oe=1}if(!oe)return null;if(H.Cc&&((oe=H.ga)!=null&&(oe.mc=null),H.ga=null,0<H.Ga))return alert("todo:WebPDequantizeLevels"),null}return H.nb+ne*ye}function Zs(H,Y,ne,oe,ye,be){for(;0<ye--;){var we,_e=H,Ee=Y+(ne?1:0),Te=H,Fe=Y+(ne?0:3);for(we=0;we<oe;++we){var Ke=Te[Fe+4*we];Ke!=255&&(Ke*=32897,_e[Ee+4*we+0]=_e[Ee+4*we+0]*Ke>>23,_e[Ee+4*we+1]=_e[Ee+4*we+1]*Ke>>23,_e[Ee+4*we+2]=_e[Ee+4*we+2]*Ke>>23)}Y+=be}}function bo(H,Y,ne,oe,ye){for(;0<oe--;){var be;for(be=0;be<ne;++be){var we=H[Y+2*be+0],_e=15&(Te=H[Y+2*be+1]),Ee=4369*_e,Te=(240&Te|Te>>4)*Ee>>16;H[Y+2*be+0]=(240&we|we>>4)*Ee>>16&240|(15&we|we<<4)*Ee>>16>>4&15,H[Y+2*be+1]=240&Te|_e}Y+=ye}}function Pc(H,Y,ne,oe,ye,be,we,_e){var Ee,Te,Fe=255;for(Te=0;Te<ye;++Te){for(Ee=0;Ee<oe;++Ee){var Ke=H[Y+Ee];be[we+4*Ee]=Ke,Fe&=Ke}Y+=ne,we+=_e}return Fe!=255}function pl(H,Y,ne,oe,ye){var be;for(be=0;be<ye;++be)ne[oe+be]=H[Y+be]>>8}function Oi(){Rc=Zs,Tm=bo,Wf=Pc,Nm=pl}function vs(H,Y,ne){I[H]=function(oe,ye,be,we,_e,Ee,Te,Fe,Ke,Pe,Ve,Ge,lt,Ye,at,ot,gt){var yt,yr=gt-1>>1,rr=_e[Ee+0]|Te[Fe+0]<<16,Xr=Ke[Pe+0]|Ve[Ge+0]<<16;e(oe!=null);var ur=3*rr+Xr+131074>>2;for(Y(oe[ye+0],255&ur,ur>>16,lt,Ye),be!=null&&(ur=3*Xr+rr+131074>>2,Y(be[we+0],255&ur,ur>>16,at,ot)),yt=1;yt<=yr;++yt){var fn=_e[Ee+yt]|Te[Fe+yt]<<16,Ti=Ke[Pe+yt]|Ve[Ge+yt]<<16,Qr=rr+fn+Xr+Ti+524296,nr=Qr+2*(fn+Xr)>>3;ur=nr+rr>>1,rr=(Qr=Qr+2*(rr+Ti)>>3)+fn>>1,Y(oe[ye+2*yt-1],255&ur,ur>>16,lt,Ye+(2*yt-1)*ne),Y(oe[ye+2*yt-0],255&rr,rr>>16,lt,Ye+(2*yt-0)*ne),be!=null&&(ur=Qr+Xr>>1,rr=nr+Ti>>1,Y(be[we+2*yt-1],255&ur,ur>>16,at,ot+(2*yt-1)*ne),Y(be[we+2*yt+0],255&rr,rr>>16,at,ot+(2*yt+0)*ne)),rr=fn,Xr=Ti}1&gt||(ur=3*rr+Xr+131074>>2,Y(oe[ye+gt-1],255&ur,ur>>16,lt,Ye+(gt-1)*ne),be!=null&&(ur=3*Xr+rr+131074>>2,Y(be[we+gt-1],255&ur,ur>>16,at,ot+(gt-1)*ne)))}}function Wl(){Es[wh]=tx,Es[Ql]=Zl,Es[h1]=rx,Es[Gf]=Uu,Es[Kf]=Fc,Es[zn]=Jf,Es[xh]=Fm,Es[Fu]=Zl,Es[Mc]=Uu,Es[Xf]=Fc,Es[Yf]=Jf}function rs(H){return H&-16384?0>H?0:255:H>>Jl}function W(H,Y){return rs((19077*H>>8)+(26149*Y>>8)-14234)}function ae(H,Y,ne){return rs((19077*H>>8)-(6419*Y>>8)-(13320*ne>>8)+8708)}function pe(H,Y){return rs((19077*H>>8)+(33050*Y>>8)-17685)}function Se(H,Y,ne,oe,ye){oe[ye+0]=W(H,ne),oe[ye+1]=ae(H,Y,ne),oe[ye+2]=pe(H,Y)}function We(H,Y,ne,oe,ye){oe[ye+0]=pe(H,Y),oe[ye+1]=ae(H,Y,ne),oe[ye+2]=W(H,ne)}function nt(H,Y,ne,oe,ye){var be=ae(H,Y,ne);Y=be<<3&224|pe(H,Y)>>3,oe[ye+0]=248&W(H,ne)|be>>5,oe[ye+1]=Y}function Pt(H,Y,ne,oe,ye){var be=240&pe(H,Y)|15;oe[ye+0]=240&W(H,ne)|ae(H,Y,ne)>>4,oe[ye+1]=be}function bn(H,Y,ne,oe,ye){oe[ye+0]=255,Se(H,Y,ne,oe,ye+1)}function ci(H,Y,ne,oe,ye){We(H,Y,ne,oe,ye),oe[ye+3]=255}function on(H,Y,ne,oe,ye){Se(H,Y,ne,oe,ye),oe[ye+3]=255}function un(H,Y){return 0>H?0:H>Y?Y:H}function Sn(H,Y,ne){I[H]=function(oe,ye,be,we,_e,Ee,Te,Fe,Ke){for(var Pe=Fe+(-2&Ke)*ne;Fe!=Pe;)Y(oe[ye+0],be[we+0],_e[Ee+0],Te,Fe),Y(oe[ye+1],be[we+0],_e[Ee+0],Te,Fe+ne),ye+=2,++we,++Ee,Fe+=2*ne;1&Ke&&Y(oe[ye+0],be[we+0],_e[Ee+0],Te,Fe)}}function za(H,Y,ne){return ne==0?H==0?Y==0?6:5:Y==0?4:0:ne}function Pa(H,Y,ne,oe,ye){switch(H>>>30){case 3:Mi(Y,ne,oe,ye,0);break;case 2:ra(Y,ne,oe,ye);break;case 1:xo(Y,ne,oe,ye)}}function bs(H,Y){var ne,oe,ye=Y.M,be=Y.Nb,we=H.oc,_e=H.pc+40,Ee=H.oc,Te=H.pc+584,Fe=H.oc,Ke=H.pc+600;for(ne=0;16>ne;++ne)we[_e+32*ne-1]=129;for(ne=0;8>ne;++ne)Ee[Te+32*ne-1]=129,Fe[Ke+32*ne-1]=129;for(0<ye?we[_e-1-32]=Ee[Te-1-32]=Fe[Ke-1-32]=129:(i(we,_e-32-1,127,21),i(Ee,Te-32-1,127,9),i(Fe,Ke-32-1,127,9)),oe=0;oe<H.za;++oe){var Pe=Y.ya[Y.aa+oe];if(0<oe){for(ne=-1;16>ne;++ne)n(we,_e+32*ne-4,we,_e+32*ne+12,4);for(ne=-1;8>ne;++ne)n(Ee,Te+32*ne-4,Ee,Te+32*ne+4,4),n(Fe,Ke+32*ne-4,Fe,Ke+32*ne+4,4)}var Ve=H.Gd,Ge=H.Hd+oe,lt=Pe.ad,Ye=Pe.Hc;if(0<ye&&(n(we,_e-32,Ve[Ge].y,0,16),n(Ee,Te-32,Ve[Ge].f,0,8),n(Fe,Ke-32,Ve[Ge].ea,0,8)),Pe.Za){var at=we,ot=_e-32+16;for(0<ye&&(oe>=H.za-1?i(at,ot,Ve[Ge].y[15],4):n(at,ot,Ve[Ge+1].y,0,4)),ne=0;4>ne;ne++)at[ot+128+ne]=at[ot+256+ne]=at[ot+384+ne]=at[ot+0+ne];for(ne=0;16>ne;++ne,Ye<<=2)at=we,ot=_e+Bm[ne],eo[Pe.Ob[ne]](at,ot),Pa(Ye,lt,16*+ne,at,ot)}else if(at=za(oe,ye,Pe.Ob[0]),os[at](we,_e),Ye!=0)for(ne=0;16>ne;++ne,Ye<<=2)Pa(Ye,lt,16*+ne,we,_e+Bm[ne]);for(ne=Pe.Gc,at=za(oe,ye,Pe.Dd),Ss[at](Ee,Te),Ss[at](Fe,Ke),Ye=lt,at=Ee,ot=Te,255&(Pe=0|ne)&&(170&Pe?zo(Ye,256,at,ot):Mu(Ye,256,at,ot)),Pe=Fe,Ye=Ke,255&(ne>>=8)&&(170&ne?zo(lt,320,Pe,Ye):Mu(lt,320,Pe,Ye)),ye<H.Ub-1&&(n(Ve[Ge].y,0,we,_e+480,16),n(Ve[Ge].f,0,Ee,Te+224,8),n(Ve[Ge].ea,0,Fe,Ke+224,8)),ne=8*be*H.B,Ve=H.sa,Ge=H.ta+16*oe+16*be*H.R,lt=H.qa,Pe=H.ra+8*oe+ne,Ye=H.Ha,at=H.Ia+8*oe+ne,ne=0;16>ne;++ne)n(Ve,Ge+ne*H.R,we,_e+32*ne,16);for(ne=0;8>ne;++ne)n(lt,Pe+ne*H.B,Ee,Te+32*ne,8),n(Ye,at+ne*H.B,Fe,Ke+32*ne,8)}}function wo(H,Y,ne,oe,ye,be,we,_e,Ee){var Te=[0],Fe=[0],Ke=0,Pe=Ee!=null?Ee.kd:0,Ve=Ee??new Er;if(H==null||12>ne)return 7;Ve.data=H,Ve.w=Y,Ve.ha=ne,Y=[Y],ne=[ne],Ve.gb=[Ve.gb];e:{var Ge=Y,lt=ne,Ye=Ve.gb;if(e(H!=null),e(lt!=null),e(Ye!=null),Ye[0]=0,12<=lt[0]&&!t(H,Ge[0],"RIFF")){if(t(H,Ge[0]+8,"WEBP")){Ye=3;break e}var at=fe(H,Ge[0]+4);if(12>at||4294967286<at){Ye=3;break e}if(Pe&&at>lt[0]-8){Ye=7;break e}Ye[0]=at,Ge[0]+=12,lt[0]-=12}Ye=0}if(Ye!=0)return Ye;for(at=0<Ve.gb[0],ne=ne[0];;){e:{var ot=H;lt=Y,Ye=ne;var gt=Te,yt=Fe,yr=Ge=[0];if((ur=Ke=[Ke])[0]=0,8>Ye[0])Ye=7;else{if(!t(ot,lt[0],"VP8X")){if(fe(ot,lt[0]+4)!=10){Ye=3;break e}if(18>Ye[0]){Ye=7;break e}var rr=fe(ot,lt[0]+8),Xr=1+de(ot,lt[0]+12);if(2147483648<=Xr*(ot=1+de(ot,lt[0]+15))){Ye=3;break e}yr!=null&&(yr[0]=rr),gt!=null&&(gt[0]=Xr),yt!=null&&(yt[0]=ot),lt[0]+=18,Ye[0]-=18,ur[0]=1}Ye=0}}if(Ke=Ke[0],Ge=Ge[0],Ye!=0)return Ye;if(lt=!!(2&Ge),!at&&Ke)return 3;if(be!=null&&(be[0]=!!(16&Ge)),we!=null&&(we[0]=lt),_e!=null&&(_e[0]=0),we=Te[0],Ge=Fe[0],Ke&&lt&&Ee==null){Ye=0;break}if(4>ne){Ye=7;break}if(at&&Ke||!at&&!Ke&&!t(H,Y[0],"ALPH")){ne=[ne],Ve.na=[Ve.na],Ve.P=[Ve.P],Ve.Sa=[Ve.Sa];e:{rr=H,Ye=Y,at=ne;var ur=Ve.gb;gt=Ve.na,yt=Ve.P,yr=Ve.Sa,Xr=22,e(rr!=null),e(at!=null),ot=Ye[0];var fn=at[0];for(e(gt!=null),e(yr!=null),gt[0]=null,yt[0]=null,yr[0]=0;;){if(Ye[0]=ot,at[0]=fn,8>fn){Ye=7;break e}var Ti=fe(rr,ot+4);if(4294967286<Ti){Ye=3;break e}var Qr=8+Ti+1&-2;if(Xr+=Qr,0<ur&&Xr>ur){Ye=3;break e}if(!t(rr,ot,"VP8 ")||!t(rr,ot,"VP8L")){Ye=0;break e}if(fn[0]<Qr){Ye=7;break e}t(rr,ot,"ALPH")||(gt[0]=rr,yt[0]=ot+8,yr[0]=Ti),ot+=Qr,fn-=Qr}}if(ne=ne[0],Ve.na=Ve.na[0],Ve.P=Ve.P[0],Ve.Sa=Ve.Sa[0],Ye!=0)break}ne=[ne],Ve.Ja=[Ve.Ja],Ve.xa=[Ve.xa];e:if(ur=H,Ye=Y,at=ne,gt=Ve.gb[0],yt=Ve.Ja,yr=Ve.xa,rr=Ye[0],ot=!t(ur,rr,"VP8 "),Xr=!t(ur,rr,"VP8L"),e(ur!=null),e(at!=null),e(yt!=null),e(yr!=null),8>at[0])Ye=7;else{if(ot||Xr){if(ur=fe(ur,rr+4),12<=gt&&ur>gt-12){Ye=3;break e}if(Pe&&ur>at[0]-8){Ye=7;break e}yt[0]=ur,Ye[0]+=8,at[0]-=8,yr[0]=Xr}else yr[0]=5<=at[0]&&ur[rr+0]==47&&!(ur[rr+4]>>5),yt[0]=at[0];Ye=0}if(ne=ne[0],Ve.Ja=Ve.Ja[0],Ve.xa=Ve.xa[0],Y=Y[0],Ye!=0)break;if(4294967286<Ve.Ja)return 3;if(_e==null||lt||(_e[0]=Ve.xa?2:1),we=[we],Ge=[Ge],Ve.xa){if(5>ne){Ye=7;break}_e=we,Pe=Ge,lt=be,H==null||5>ne?H=0:5<=ne&&H[Y+0]==47&&!(H[Y+4]>>5)?(at=[0],ur=[0],gt=[0],k(yt=new X,H,Y,ne),Gr(yt,at,ur,gt)?(_e!=null&&(_e[0]=at[0]),Pe!=null&&(Pe[0]=ur[0]),lt!=null&&(lt[0]=gt[0]),H=1):H=0):H=0}else{if(10>ne){Ye=7;break}_e=Ge,H==null||10>ne||!_n(H,Y+3,ne-3)?H=0:(Pe=H[Y+0]|H[Y+1]<<8|H[Y+2]<<16,lt=16383&(H[Y+7]<<8|H[Y+6]),H=16383&(H[Y+9]<<8|H[Y+8]),1&Pe||3<(Pe>>1&7)||!(Pe>>4&1)||Pe>>5>=Ve.Ja||!lt||!H?H=0:(we&&(we[0]=lt),_e&&(_e[0]=H),H=1))}if(!H||(we=we[0],Ge=Ge[0],Ke&&(Te[0]!=we||Fe[0]!=Ge)))return 3;Ee!=null&&(Ee[0]=Ve,Ee.offset=Y-Ee.w,e(4294967286>Y-Ee.w),e(Ee.offset==Ee.ha-ne));break}return Ye==0||Ye==7&&Ke&&Ee==null?(be!=null&&(be[0]|=Ve.na!=null&&0<Ve.na.length),oe!=null&&(oe[0]=we),ye!=null&&(ye[0]=Ge),0):Ye}function ns(H,Y,ne){var oe=Y.width,ye=Y.height,be=0,we=0,_e=oe,Ee=ye;if(Y.Da=H!=null&&0<H.Da,Y.Da&&(_e=H.cd,Ee=H.bd,be=H.v,we=H.j,11>ne||(be&=-2,we&=-2),0>be||0>we||0>=_e||0>=Ee||be+_e>oe||we+Ee>ye))return 0;if(Y.v=be,Y.j=we,Y.va=be+_e,Y.o=we+Ee,Y.U=_e,Y.T=Ee,Y.da=H!=null&&0<H.da,Y.da){if(!xe(_e,Ee,ne=[H.ib],be=[H.hb]))return 0;Y.ib=ne[0],Y.hb=be[0]}return Y.ob=H!=null&&H.ob,Y.Kb=H==null||!H.Sd,Y.da&&(Y.ob=Y.ib<3*oe/4&&Y.hb<3*ye/4,Y.Kb=0),1}function is(H){if(H==null)return 2;if(11>H.S){var Y=H.f.RGBA;Y.fb+=(H.height-1)*Y.A,Y.A=-Y.A}else Y=H.f.kb,H=H.height,Y.O+=(H-1)*Y.fa,Y.fa=-Y.fa,Y.N+=(H-1>>1)*Y.Ab,Y.Ab=-Y.Ab,Y.W+=(H-1>>1)*Y.Db,Y.Db=-Y.Db,Y.F!=null&&(Y.J+=(H-1)*Y.lb,Y.lb=-Y.lb);return 0}function Gl(H,Y,ne,oe){if(oe==null||0>=H||0>=Y)return 2;if(ne!=null){if(ne.Da){var ye=ne.cd,be=ne.bd,we=-2&ne.v,_e=-2&ne.j;if(0>we||0>_e||0>=ye||0>=be||we+ye>H||_e+be>Y)return 2;H=ye,Y=be}if(ne.da){if(!xe(H,Y,ye=[ne.ib],be=[ne.hb]))return 2;H=ye[0],Y=be[0]}}oe.width=H,oe.height=Y;e:{var Ee=oe.width,Te=oe.height;if(H=oe.S,0>=Ee||0>=Te||!(H>=wh&&13>H))H=2;else{if(0>=oe.Rd&&oe.sd==null){we=be=ye=Y=0;var Fe=(_e=Ee*ed[H])*Te;if(11>H||(be=(Te+1)/2*(Y=(Ee+1)/2),H==12&&(we=(ye=Ee)*Te)),(Te=a(Fe+2*be+we))==null){H=1;break e}oe.sd=Te,11>H?((Ee=oe.f.RGBA).eb=Te,Ee.fb=0,Ee.A=_e,Ee.size=Fe):((Ee=oe.f.kb).y=Te,Ee.O=0,Ee.fa=_e,Ee.Fd=Fe,Ee.f=Te,Ee.N=0+Fe,Ee.Ab=Y,Ee.Cd=be,Ee.ea=Te,Ee.W=0+Fe+be,Ee.Db=Y,Ee.Ed=be,H==12&&(Ee.F=Te,Ee.J=0+Fe+2*be),Ee.Tc=we,Ee.lb=ye)}if(Y=1,ye=oe.S,be=oe.width,we=oe.height,ye>=wh&&13>ye)if(11>ye)H=oe.f.RGBA,Y&=(_e=Math.abs(H.A))*(we-1)+be<=H.size,Y&=_e>=be*ed[ye],Y&=H.eb!=null;else{H=oe.f.kb,_e=(be+1)/2,Fe=(we+1)/2,Ee=Math.abs(H.fa),Te=Math.abs(H.Ab);var Ke=Math.abs(H.Db),Pe=Math.abs(H.lb),Ve=Pe*(we-1)+be;Y&=Ee*(we-1)+be<=H.Fd,Y&=Te*(Fe-1)+_e<=H.Cd,Y=(Y&=Ke*(Fe-1)+_e<=H.Ed)&Ee>=be&Te>=_e&Ke>=_e,Y&=H.y!=null,Y&=H.f!=null,Y&=H.ea!=null,ye==12&&(Y&=Pe>=be,Y&=Ve<=H.Tc,Y&=H.F!=null)}else Y=0;H=Y?0:2}}return H!=0||ne!=null&&ne.fd&&(H=is(oe)),H}var as=64,Kl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qf=24,Xl=32,ki=8,gh=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ke("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(H){return H},I.Predictor2=function(H,Y,ne){return Y[ne+0]},I.Predictor3=function(H,Y,ne){return Y[ne+1]},I.Predictor4=function(H,Y,ne){return Y[ne-1]},I.Predictor5=function(H,Y,ne){return De(De(H,Y[ne+1]),Y[ne+0])},I.Predictor6=function(H,Y,ne){return De(H,Y[ne-1])},I.Predictor7=function(H,Y,ne){return De(H,Y[ne+0])},I.Predictor8=function(H,Y,ne){return De(Y[ne-1],Y[ne+0])},I.Predictor9=function(H,Y,ne){return De(Y[ne+0],Y[ne+1])},I.Predictor10=function(H,Y,ne){return De(De(H,Y[ne-1]),De(Y[ne+0],Y[ne+1]))},I.Predictor11=function(H,Y,ne){var oe=Y[ne+0];return 0>=tt(oe>>24&255,H>>24&255,(Y=Y[ne-1])>>24&255)+tt(oe>>16&255,H>>16&255,Y>>16&255)+tt(oe>>8&255,H>>8&255,Y>>8&255)+tt(255&oe,255&H,255&Y)?oe:H},I.Predictor12=function(H,Y,ne){var oe=Y[ne+0];return(He((H>>24&255)+(oe>>24&255)-((Y=Y[ne-1])>>24&255))<<24|He((H>>16&255)+(oe>>16&255)-(Y>>16&255))<<16|He((H>>8&255)+(oe>>8&255)-(Y>>8&255))<<8|He((255&H)+(255&oe)-(255&Y)))>>>0},I.Predictor13=function(H,Y,ne){var oe=Y[ne-1];return(Qe((H=De(H,Y[ne+0]))>>24&255,oe>>24&255)<<24|Qe(H>>16&255,oe>>16&255)<<16|Qe(H>>8&255,oe>>8&255)<<8|Qe(255&H,255&oe))>>>0};var ws=I.PredictorAdd0;I.PredictorAdd1=st,ke("Predictor2","PredictorAdd2"),ke("Predictor3","PredictorAdd3"),ke("Predictor4","PredictorAdd4"),ke("Predictor5","PredictorAdd5"),ke("Predictor6","PredictorAdd6"),ke("Predictor7","PredictorAdd7"),ke("Predictor8","PredictorAdd8"),ke("Predictor9","PredictorAdd9"),ke("Predictor10","PredictorAdd10"),ke("Predictor11","PredictorAdd11"),ke("Predictor12","PredictorAdd12"),ke("Predictor13","PredictorAdd13");var xs=I.PredictorAdd2;mt("ColorIndexInverseTransform","MapARGB","32b",function(H){return H>>8&255},function(H){return H}),mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(H){return H},function(H){return H>>8&255});var Iu,Yl=I.ColorIndexInverseTransform,Ou=I.MapARGB,jc=I.VP8LColorIndexInverseTransformAlpha,ml=I.MapAlpha,gl=I.VP8LPredictorsAdd=[];gl.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Uo,Ru,_s,Vo,Qn,Zn,Ri,Mi,ra,zo,xo,Mu,Am,Cm,yh,f1,d1,Ic,vh,Du,bh,km,Hf,Oc,Rc,Tm,Wf,Nm,Pm=a(511),jm=a(2041),Im=a(225),Om=a(767),Rm=0,qo=jm,Lu=Im,ss=Om,Js=Pm,wh=0,Ql=1,h1=2,Gf=3,Kf=4,zn=5,xh=6,Fu=7,Mc=8,Xf=9,Yf=10,Qf=[2,3,7],_h=[3,3,11],Dc=[280,256,256,256,40],p1=[0,1,1,1,0],Qw=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Zw=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],m1=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Sh=8,Bu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Zf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Lc=null,Mm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Dm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],g1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],y1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Jw=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ex=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Lm=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],os=[],eo=[],Ss=[],Ho=1,$u=2,qa=[],Es=[];vs("UpsampleRgbLinePair",Se,3),vs("UpsampleBgrLinePair",We,3),vs("UpsampleRgbaLinePair",on,4),vs("UpsampleBgraLinePair",ci,4),vs("UpsampleArgbLinePair",bn,4),vs("UpsampleRgba4444LinePair",Pt,2),vs("UpsampleRgb565LinePair",nt,2);var tx=I.UpsampleRgbLinePair,rx=I.UpsampleBgrLinePair,Zl=I.UpsampleRgbaLinePair,Uu=I.UpsampleBgraLinePair,Fc=I.UpsampleArgbLinePair,Jf=I.UpsampleRgba4444LinePair,Fm=I.UpsampleRgb565LinePair,yl=16,_o=1<<yl-1,On=-227,Fn=482,Jl=6,ja=0,As=a(256),Bc=a(256),Vu=a(256),Cs=a(256),Eh=a(Fn-On),v1=a(Fn-On);Sn("YuvToRgbRow",Se,3),Sn("YuvToBgrRow",We,3),Sn("YuvToRgbaRow",on,4),Sn("YuvToBgraRow",ci,4),Sn("YuvToArgbRow",bn,4),Sn("YuvToRgba4444Row",Pt,2),Sn("YuvToRgb565Row",nt,2);var Bm=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$c=[0,2,8],b1=[8,7,6,4,4,2,2,2,1,1,1,1],vl=1;this.WebPDecodeRGBA=function(H,Y,ne,oe,ye){var be=Ql,we=new tr,_e=new Ht;we.ba=_e,_e.S=be,_e.width=[_e.width],_e.height=[_e.height];var Ee=_e.width,Te=_e.height,Fe=new Nt;if(Fe==null||H==null)var Ke=2;else e(Fe!=null),Ke=wo(H,Y,ne,Fe.width,Fe.height,Fe.Pd,Fe.Qd,Fe.format,null);if(Ke!=0?Ee=0:(Ee!=null&&(Ee[0]=Fe.width[0]),Te!=null&&(Te[0]=Fe.height[0]),Ee=1),Ee){_e.width=_e.width[0],_e.height=_e.height[0],oe!=null&&(oe[0]=_e.width),ye!=null&&(ye[0]=_e.height);e:{if(oe=new Tr,(ye=new Er).data=H,ye.w=Y,ye.ha=ne,ye.kd=1,Y=[0],e(ye!=null),((H=wo(ye.data,ye.w,ye.ha,null,null,null,Y,null,ye))==0||H==7)&&Y[0]&&(H=4),(Y=H)==0){if(e(we!=null),oe.data=ye.data,oe.w=ye.w+ye.offset,oe.ha=ye.ha-ye.offset,oe.put=At,oe.ac=Or,oe.bc=fr,oe.ma=we,ye.xa){if((H=kr())==null){we=1;break e}if((function(Pe,Ve){var Ge=[0],lt=[0],Ye=[0];t:for(;;){if(Pe==null)return 0;if(Ve==null)return Pe.a=2,0;if(Pe.l=Ve,Pe.a=0,k(Pe.m,Ve.data,Ve.w,Ve.ha),!Gr(Pe.m,Ge,lt,Ye)){Pe.a=3;break t}if(Pe.xb=$u,Ve.width=Ge[0],Ve.height=lt[0],!sn(Ge[0],lt[0],1,Pe,null))break t;return 1}return e(Pe.a!=0),0})(H,oe)){if(oe=(Y=Gl(oe.width,oe.height,we.Oa,we.ba))==0){t:{oe=H;r:for(;;){if(oe==null){oe=0;break t}if(e(oe.s.yc!=null),e(oe.s.Ya!=null),e(0<oe.s.Wb),e((ne=oe.l)!=null),e((ye=ne.ma)!=null),oe.xb!=0){if(oe.ca=ye.ba,oe.tb=ye.tb,e(oe.ca!=null),!ns(ye.Oa,ne,Gf)){oe.a=2;break r}if(!tn(oe,ne.width)||ne.da)break r;if((ne.da||Vt(oe.ca.S))&&Oi(),11>oe.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),oe.ca.f.kb.F!=null&&Oi()),oe.Pb&&0<oe.s.ua&&oe.s.vb.X==null&&!ue(oe.s.vb,oe.s.Wa.Xa)){oe.a=1;break r}oe.xb=0}if(!or(oe,oe.V,oe.Ba,oe.c,oe.i,ne.o,Ot))break r;ye.Dc=oe.Ma,oe=1;break t}e(oe.a!=0),oe=0}oe=!oe}oe&&(Y=H.a)}else Y=H.a}else{if((H=new an)==null){we=1;break e}if(H.Fa=ye.na,H.P=ye.P,H.qc=ye.Sa,Mn(H,oe)){if((Y=Gl(oe.width,oe.height,we.Oa,we.ba))==0){if(H.Aa=0,ne=we.Oa,e((ye=H)!=null),ne!=null){if(0<(Ee=0>(Ee=ne.Md)?0:100<Ee?255:255*Ee/100)){for(Te=Fe=0;4>Te;++Te)12>(Ke=ye.pb[Te]).lc&&(Ke.ia=Ee*b1[0>Ke.lc?0:Ke.lc]>>3),Fe|=Ke.ia;Fe&&(alert("todo:VP8InitRandom"),ye.ia=1)}ye.Ga=ne.Id,100<ye.Ga?ye.Ga=100:0>ye.Ga&&(ye.Ga=0)}(function(Pe,Ve){if(Pe==null)return 0;if(Ve==null)return Sr(Pe,2,"NULL VP8Io parameter in VP8Decode().");if(!Pe.cb&&!Mn(Pe,Ve))return 0;if(e(Pe.cb),Ve.ac==null||Ve.ac(Ve)){Ve.ob&&(Pe.L=0);var Ge=$c[Pe.L];if(Pe.L==2?(Pe.yb=0,Pe.zb=0):(Pe.yb=Ve.v-Ge>>4,Pe.zb=Ve.j-Ge>>4,0>Pe.yb&&(Pe.yb=0),0>Pe.zb&&(Pe.zb=0)),Pe.Va=Ve.o+15+Ge>>4,Pe.Hb=Ve.va+15+Ge>>4,Pe.Hb>Pe.za&&(Pe.Hb=Pe.za),Pe.Va>Pe.Ub&&(Pe.Va=Pe.Ub),0<Pe.L){var lt=Pe.ed;for(Ge=0;4>Ge;++Ge){var Ye;if(Pe.Qa.Cb){var at=Pe.Qa.Lb[Ge];Pe.Qa.Fb||(at+=lt.Tb)}else at=lt.Tb;for(Ye=0;1>=Ye;++Ye){var ot=Pe.gd[Ge][Ye],gt=at;if(lt.Pc&&(gt+=lt.vd[0],Ye&&(gt+=lt.od[0])),0<(gt=0>gt?0:63<gt?63:gt)){var yt=gt;0<lt.wb&&(yt=4<lt.wb?yt>>2:yt>>1)>9-lt.wb&&(yt=9-lt.wb),1>yt&&(yt=1),ot.dd=yt,ot.tc=2*gt+yt,ot.ld=40<=gt?2:15<=gt?1:0}else ot.tc=0;ot.La=Ye}}}Ge=0}else Sr(Pe,6,"Frame setup failed"),Ge=Pe.a;if(Ge=Ge==0){if(Ge){Pe.$c=0,0<Pe.Aa||(Pe.Ic=vl);t:{Ge=Pe.Ic,lt=4*(yt=Pe.za);var yr=32*yt,rr=yt+1,Xr=0<Pe.L?yt*(0<Pe.Aa?2:1):0,ur=(Pe.Aa==2?2:1)*yt;if((ot=lt+832+(Ye=3*(16*Ge+$c[Pe.L])/2*yr)+(at=Pe.Fa!=null&&0<Pe.Fa.length?Pe.Kc.c*Pe.Kc.i:0))!=ot)Ge=0;else{if(ot>Pe.Vb){if(Pe.Vb=0,Pe.Ec=a(ot),Pe.Fc=0,Pe.Ec==null){Ge=Sr(Pe,1,"no memory during frame initialization.");break t}Pe.Vb=ot}ot=Pe.Ec,gt=Pe.Fc,Pe.Ac=ot,Pe.Bc=gt,gt+=lt,Pe.Gd=s(yr,br),Pe.Hd=0,Pe.rb=s(rr+1,Ct),Pe.sb=1,Pe.wa=Xr?s(Xr,$t):null,Pe.Y=0,Pe.D.Nb=0,Pe.D.wa=Pe.wa,Pe.D.Y=Pe.Y,0<Pe.Aa&&(Pe.D.Y+=yt),e(!0),Pe.oc=ot,Pe.pc=gt,gt+=832,Pe.ya=s(ur,Vr),Pe.aa=0,Pe.D.ya=Pe.ya,Pe.D.aa=Pe.aa,Pe.Aa==2&&(Pe.D.aa+=yt),Pe.R=16*yt,Pe.B=8*yt,yt=(yr=$c[Pe.L])*Pe.R,yr=yr/2*Pe.B,Pe.sa=ot,Pe.ta=gt+yt,Pe.qa=Pe.sa,Pe.ra=Pe.ta+16*Ge*Pe.R+yr,Pe.Ha=Pe.qa,Pe.Ia=Pe.ra+8*Ge*Pe.B+yr,Pe.$c=0,gt+=Ye,Pe.mb=at?ot:null,Pe.nb=at?gt:null,e(gt+at<=Pe.Fc+Pe.Vb),Xn(Pe),i(Pe.Ac,Pe.Bc,0,lt),Ge=1}}if(Ge){if(Ve.ka=0,Ve.y=Pe.sa,Ve.O=Pe.ta,Ve.f=Pe.qa,Ve.N=Pe.ra,Ve.ea=Pe.Ha,Ve.Vd=Pe.Ia,Ve.fa=Pe.R,Ve.Rc=Pe.B,Ve.F=null,Ve.J=0,!Rm){for(Ge=-255;255>=Ge;++Ge)Pm[255+Ge]=0>Ge?-Ge:Ge;for(Ge=-1020;1020>=Ge;++Ge)jm[1020+Ge]=-128>Ge?-128:127<Ge?127:Ge;for(Ge=-112;112>=Ge;++Ge)Im[112+Ge]=-16>Ge?-16:15<Ge?15:Ge;for(Ge=-255;510>=Ge;++Ge)Om[255+Ge]=0>Ge?0:255<Ge?255:Ge;Rm=1}Ri=Cr,Mi=zr,zo=Ji,xo=Kr,Mu=Ua,ra=rn,Am=te,Cm=ge,yh=qe,f1=ct,d1=Ne,Ic=Me,vh=St,Du=Kt,bh=Na,km=Qs,Hf=ha,Oc=hl,eo[0]=zf,eo[1]=Aa,eo[2]=ea,eo[3]=ka,eo[4]=Pu,eo[5]=go,eo[6]=Ai,eo[7]=ju,eo[8]=Ys,eo[9]=yo,os[0]=Si,os[1]=mo,os[2]=Us,os[3]=Ca,os[4]=vi,os[5]=Ei,os[6]=qi,Ss[0]=ys,Ss[1]=ms,Ss[2]=Hl,Ss[3]=Ta,Ss[4]=Dn,Ss[5]=Fo,Ss[6]=Nc,Ge=1}else Ge=0}Ge&&(Ge=(function(fn,Ti){for(fn.M=0;fn.M<fn.Va;++fn.M){var Qr,nr=fn.Jc[fn.M&fn.Xb],Ut=fn.m,Di=fn;for(Qr=0;Qr<Di.za;++Qr){var Dr=Ut,ln=Di,Jn=ln.Ac,ma=ln.Bc+4*Qr,Wi=ln.zc,bi=ln.ya[ln.aa+Qr];if(ln.Qa.Bb?bi.$b=Z(Dr,ln.Pa.jb[0])?2+Z(Dr,ln.Pa.jb[2]):Z(Dr,ln.Pa.jb[1]):bi.$b=0,ln.kc&&(bi.Ad=Z(Dr,ln.Bd)),bi.Za=!Z(Dr,145)+0,bi.Za){var na=bi.Ob,ga=0;for(ln=0;4>ln;++ln){var ui,pn=Wi[0+ln];for(ui=0;4>ui;++ui){pn=Jw[Jn[ma+ui]][pn];for(var En=g1[Z(Dr,pn[0])];0<En;)En=g1[2*En+Z(Dr,pn[En])];pn=-En,Jn[ma+ui]=pn}n(na,ga,Jn,ma,4),ga+=4,Wi[0+ln]=pn}}else pn=Z(Dr,156)?Z(Dr,128)?1:3:Z(Dr,163)?2:0,bi.Ob[0]=pn,i(Jn,ma,pn,4),i(Wi,0,pn,4);bi.Dd=Z(Dr,142)?Z(Dr,114)?Z(Dr,183)?1:3:2:0}if(Di.m.Ka)return Sr(fn,7,"Premature end-of-partition0 encountered.");for(;fn.ja<fn.za;++fn.ja){if(Di=nr,Dr=(Ut=fn).rb[Ut.sb-1],Jn=Ut.rb[Ut.sb+Ut.ja],Qr=Ut.ya[Ut.aa+Ut.ja],ma=Ut.kc?Qr.Ad:0)Dr.la=Jn.la=0,Qr.Za||(Dr.Na=Jn.Na=0),Qr.Hc=0,Qr.Gc=0,Qr.ia=0;else{var fi,An;if(Dr=Jn,Jn=Di,ma=Ut.Pa.Xc,Wi=Ut.ya[Ut.aa+Ut.ja],bi=Ut.pb[Wi.$b],ln=Wi.ad,na=0,ga=Ut.rb[Ut.sb-1],pn=ui=0,i(ln,na,0,384),Wi.Za)var Ni=0,Pi=ma[3];else{En=a(16);var qn=Dr.Na+ga.Na;if(qn=Lc(Jn,ma[1],qn,bi.Eb,0,En,0),Dr.Na=ga.Na=(0<qn)+0,1<qn)Ri(En,0,ln,na);else{var Ha=En[0]+3>>3;for(En=0;256>En;En+=16)ln[na+En]=Ha}Ni=1,Pi=ma[0]}var Bn=15&Dr.la,Hn=15&ga.la;for(En=0;4>En;++En){var Gi=1&Hn;for(Ha=An=0;4>Ha;++Ha)Bn=Bn>>1|(Gi=(qn=Lc(Jn,Pi,qn=Gi+(1&Bn),bi.Sc,Ni,ln,na))>Ni)<<7,An=An<<2|(3<qn?3:1<qn?2:ln[na+0]!=0),na+=16;Bn>>=4,Hn=Hn>>1|Gi<<7,ui=(ui<<8|An)>>>0}for(Pi=Bn,Ni=Hn>>4,fi=0;4>fi;fi+=2){for(An=0,Bn=Dr.la>>4+fi,Hn=ga.la>>4+fi,En=0;2>En;++En){for(Gi=1&Hn,Ha=0;2>Ha;++Ha)qn=Gi+(1&Bn),Bn=Bn>>1|(Gi=0<(qn=Lc(Jn,ma[2],qn,bi.Qc,0,ln,na)))<<3,An=An<<2|(3<qn?3:1<qn?2:ln[na+0]!=0),na+=16;Bn>>=2,Hn=Hn>>1|Gi<<5}pn|=An<<4*fi,Pi|=Bn<<4<<fi,Ni|=(240&Hn)<<fi}Dr.la=Pi,ga.la=Ni,Wi.Hc=ui,Wi.Gc=pn,Wi.ia=43690&pn?0:bi.ia,ma=!(ui|pn)}if(0<Ut.L&&(Ut.wa[Ut.Y+Ut.ja]=Ut.gd[Qr.$b][Qr.Za],Ut.wa[Ut.Y+Ut.ja].La|=!ma),Di.Ka)return Sr(fn,7,"Premature end-of-file encountered.")}if(Xn(fn),Ut=Ti,Di=1,Qr=(nr=fn).D,Dr=0<nr.L&&nr.M>=nr.zb&&nr.M<=nr.Va,nr.Aa==0)t:{if(Qr.M=nr.M,Qr.uc=Dr,bs(nr,Qr),Di=1,Qr=(An=nr.D).Nb,Dr=(pn=$c[nr.L])*nr.R,Jn=pn/2*nr.B,En=16*Qr*nr.R,Ha=8*Qr*nr.B,ma=nr.sa,Wi=nr.ta-Dr+En,bi=nr.qa,ln=nr.ra-Jn+Ha,na=nr.Ha,ga=nr.Ia-Jn+Ha,Hn=(Bn=An.M)==0,ui=Bn>=nr.Va-1,nr.Aa==2&&bs(nr,An),An.uc)for(Gi=(qn=nr).D.M,e(qn.D.uc),An=qn.yb;An<qn.Hb;++An){Ni=An,Pi=Gi;var Ia=(ks=(Bi=qn).D).Nb;fi=Bi.R;var ks=ks.wa[ks.Y+Ni],Li=Bi.sa,Fi=Bi.ta+16*Ia*fi+16*Ni,Wa=ks.dd,Wn=ks.tc;if(Wn!=0)if(e(3<=Wn),Bi.L==1)0<Ni&&km(Li,Fi,fi,Wn+4),ks.La&&Oc(Li,Fi,fi,Wn),0<Pi&&bh(Li,Fi,fi,Wn+4),ks.La&&Hf(Li,Fi,fi,Wn);else{var Ga=Bi.B,to=Bi.qa,So=Bi.ra+8*Ia*Ga+8*Ni,ya=Bi.Ha,Bi=Bi.Ia+8*Ia*Ga+8*Ni;Ia=ks.ld,0<Ni&&(Cm(Li,Fi,fi,Wn+4,Wa,Ia),f1(to,So,ya,Bi,Ga,Wn+4,Wa,Ia)),ks.La&&(Ic(Li,Fi,fi,Wn,Wa,Ia),Du(to,So,ya,Bi,Ga,Wn,Wa,Ia)),0<Pi&&(Am(Li,Fi,fi,Wn+4,Wa,Ia),yh(to,So,ya,Bi,Ga,Wn+4,Wa,Ia)),ks.La&&(d1(Li,Fi,fi,Wn,Wa,Ia),vh(to,So,ya,Bi,Ga,Wn,Wa,Ia))}}if(nr.ia&&alert("todo:DitherRow"),Ut.put!=null){if(An=16*Bn,Bn=16*(Bn+1),Hn?(Ut.y=nr.sa,Ut.O=nr.ta+En,Ut.f=nr.qa,Ut.N=nr.ra+Ha,Ut.ea=nr.Ha,Ut.W=nr.Ia+Ha):(An-=pn,Ut.y=ma,Ut.O=Wi,Ut.f=bi,Ut.N=ln,Ut.ea=na,Ut.W=ga),ui||(Bn-=pn),Bn>Ut.o&&(Bn=Ut.o),Ut.F=null,Ut.J=null,nr.Fa!=null&&0<nr.Fa.length&&An<Bn&&(Ut.J=Hi(nr,Ut,An,Bn-An),Ut.F=nr.mb,Ut.F==null&&Ut.F.length==0)){Di=Sr(nr,3,"Could not decode alpha data.");break t}An<Ut.j&&(pn=Ut.j-An,An=Ut.j,e(!(1&pn)),Ut.O+=nr.R*pn,Ut.N+=nr.B*(pn>>1),Ut.W+=nr.B*(pn>>1),Ut.F!=null&&(Ut.J+=Ut.width*pn)),An<Bn&&(Ut.O+=Ut.v,Ut.N+=Ut.v>>1,Ut.W+=Ut.v>>1,Ut.F!=null&&(Ut.J+=Ut.v),Ut.ka=An-Ut.j,Ut.U=Ut.va-Ut.v,Ut.T=Bn-An,Di=Ut.put(Ut))}Qr+1!=nr.Ic||ui||(n(nr.sa,nr.ta-Dr,ma,Wi+16*nr.R,Dr),n(nr.qa,nr.ra-Jn,bi,ln+8*nr.B,Jn),n(nr.Ha,nr.Ia-Jn,na,ga+8*nr.B,Jn))}if(!Di)return Sr(fn,6,"Output aborted.")}return 1})(Pe,Ve)),Ve.bc!=null&&Ve.bc(Ve),Ge&=1}return Ge?(Pe.cb=0,Ge):0})(H,oe)||(Y=H.a)}}else Y=H.a}Y==0&&we.Oa!=null&&we.Oa.fd&&(Y=is(we.ba))}we=Y}be=we!=0?null:11>be?_e.f.RGBA.eb:_e.f.kb.y}else be=null;return be};var ed=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function o(I,z){for(var $="",B=0;B<4;B++)$+=String.fromCharCode(I[z++]);return $}function u(I,z){return I[z+0]|I[z+1]<<8}function f(I,z){return(I[z+0]|I[z+1]<<8|I[z+2]<<16)>>>0}function d(I,z){return(I[z+0]|I[z+1]<<8|I[z+2]<<16|I[z+3]<<24)>>>0}new c;var h=[0],m=[0],g=[],p=new c,y=r,v=(function(I,z){var $={},B=0,T=!1,R=0,N=0;if($.frames=[],!(function(O,X){for(var Q=0;Q<4;Q++)if(O[X+Q]!="RIFF".charCodeAt(Q))return!0;return!1})(I,z)){for(d(I,z+=4),z+=8;z<I.length;){var _=o(I,z),E=d(I,z+=4);z+=4;var S=E+(1&E);switch(_){case"VP8 ":case"VP8L":$.frames[B]===void 0&&($.frames[B]={}),(V=$.frames[B]).src_off=T?N:z-8,V.src_size=R+E+8,B++,T&&(T=!1,R=0,N=0);break;case"VP8X":(V=$.header={}).feature_flags=I[z];var k=z+4;V.canvas_width=1+f(I,k),k+=3,V.canvas_height=1+f(I,k),k+=3;break;case"ALPH":T=!0,R=S+8,N=z-8;break;case"ANIM":(V=$.header).bgcolor=d(I,z),k=z+4,V.loop_count=u(I,k),k+=2;break;case"ANMF":var M,V;(V=$.frames[B]={}).offset_x=2*f(I,z),z+=3,V.offset_y=2*f(I,z),z+=3,V.width=1+f(I,z),z+=3,V.height=1+f(I,z),z+=3,V.duration=f(I,z),z+=3,M=I[z++],V.dispose=1&M,V.blend=M>>1&1}_!="ANMF"&&(z+=S)}return $}})(y,0);v.response=y,v.rgbaoutput=!0,v.dataurl=!1;var w=v.header?v.header:null,C=v.frames?v.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],m=[w.canvas_width];for(var P=0;P<C.length&&C[P].blend!=0;P++);}var F=C[0],L=p.WebPDecodeRGBA(y,F.src_off,F.src_size,m,h);F.rgba=L,F.imgwidth=m[0],F.imgheight=h[0];for(var j=0;j<m[0]*h[0]*4;j++)g[j]=L[j];return this.width=m,this.height=h,this.data=g,this}(function(r){var e,t,n,i,a,s,l,c,o,u=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new c,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new s,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new s,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,o=new u}]);var f=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=O;Object.defineProperty(this,"pdf",{get:function(){return X}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(fe){Q=!!fe}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(fe){re=!!fe}});var G=0;Object.defineProperty(this,"posX",{get:function(){return G},set:function(fe){isNaN(fe)||(G=fe)}});var J=0;Object.defineProperty(this,"posY",{get:function(){return J},set:function(fe){isNaN(fe)||(J=fe)}}),Object.defineProperty(this,"margin",{get:function(){return o.margin},set:function(fe){var ue;typeof fe=="number"?ue=[fe,fe,fe,fe]:((ue=new Array(4))[0]=fe[0],ue[1]=fe.length>=2?fe[1]:ue[0],ue[2]=fe.length>=3?fe[2]:ue[0],ue[3]=fe.length>=4?fe[3]:ue[1]),o.margin=ue}});var q=!1;Object.defineProperty(this,"autoPaging",{get:function(){return q},set:function(fe){q=fe}});var U=0;Object.defineProperty(this,"lastBreak",{get:function(){return U},set:function(fe){U=fe}});var Z=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Z},set:function(fe){Z=fe}}),Object.defineProperty(this,"ctx",{get:function(){return o},set:function(fe){fe instanceof u&&(o=fe)}}),Object.defineProperty(this,"path",{get:function(){return o.path},set:function(fe){o.path=fe}});var ie=[];Object.defineProperty(this,"ctxStack",{get:function(){return ie},set:function(fe){ie=fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(fe){var ue;ue=d(fe),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(fe){var ue=d(fe);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(fe){["butt","round","square"].indexOf(fe)!==-1&&(this.ctx.lineCap=fe,this.pdf.setLineCap(fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(fe){isNaN(fe)||(this.ctx.lineWidth=fe,this.pdf.setLineWidth(fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(fe){["bevel","round","miter"].indexOf(fe)!==-1&&(this.ctx.lineJoin=fe,this.pdf.setLineJoin(fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(fe){isNaN(fe)||(this.ctx.miterLimit=fe,this.pdf.setMiterLimit(fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(fe){this.ctx.textBaseline=fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(fe){["right","end","center","left","start"].indexOf(fe)!==-1&&(this.ctx.textAlign=fe)}});var le=null,de=null;Object.defineProperty(this,"fontFaces",{get:function(){return de},set:function(fe){le=null,de=fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(fe){var ue;if(this.ctx.font=fe,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(fe))!==null){var Ae=ue[1];ue[2];var he=ue[3],xe=ue[4];ue[5];var me=ue[6],Ce=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xe)[2];xe=Math.floor(Ce==="px"?parseFloat(xe)*this.pdf.internal.scaleFactor:Ce==="em"?parseFloat(xe)*this.pdf.getFontSize():parseFloat(xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xe);var ke=(function(bt){var mt,Mt,wt=[],et=bt.trim();if(et==="")return T2;if(et in zM)return[zM[et]];for(;et!=="";){switch(Mt=null,mt=(et=HM(et)).charAt(0)){case'"':case"'":Mt=r_e(et.substring(1),mt);break;default:Mt=n_e(et)}if(Mt===null||(wt.push(Mt[0]),(et=HM(Mt[1]))!==""&&et.charAt(0)!==","))return T2;et=et.replace(/^,/,"")}return wt})(me);if(this.fontFaces){var Oe=(function(bt,mt){if(le===null){var Mt=(function(wt){var et=[];return Object.keys(wt).forEach(function(dt){wt[dt].forEach(function(It){var ht=null;switch(It){case"bold":ht={family:dt,weight:"bold"};break;case"italic":ht={family:dt,style:"italic"};break;case"bolditalic":ht={family:dt,weight:"bold",style:"italic"};break;case"":case"normal":ht={family:dt}}ht!==null&&(ht.ref={name:dt,style:It},et.push(ht))})}),et})(bt.getFontList());le=(function(wt){for(var et={},dt=0;dt<wt.length;++dt){var It=k2(wt[dt]),ht=It.family,zt=It.stretch,Vt=It.style,Bt=It.weight;et[ht]=et[ht]||{},et[ht][zt]=et[ht][zt]||{},et[ht][zt][Vt]=et[ht][zt][Vt]||{},et[ht][zt][Vt][Bt]=It}return et})(Mt.concat(mt))}return le})(this.pdf,this.fontFaces),De=ke.map(function(bt){return{family:bt,stretch:"normal",weight:he,style:Ae}}),He=(function(bt,mt,Mt){for(var wt=(Mt=Mt||{}).defaultFontFamily||"times",et=Object.assign({},t_e,Mt.genericFontFamilies||{}),dt=null,It=null,ht=0;ht<mt.length;++ht)if(et[(dt=k2(mt[ht])).family]&&(dt.family=et[dt.family]),bt.hasOwnProperty(dt.family)){It=bt[dt.family];break}if(!(It=It||bt[wt]))throw new Error("Could not find a font-family for the rule '"+qM(dt)+"' and default family '"+wt+"'.");if(It=(function(zt,Vt){if(Vt[zt])return Vt[zt];var Bt=YE[zt],sr=Bt<=YE.normal?-1:1,Ht=VM(Vt,uz,Bt,sr);if(!Ht)throw new Error("Could not find a matching font-stretch value for "+zt);return Ht})(dt.stretch,It),It=(function(zt,Vt){if(Vt[zt])return Vt[zt];for(var Bt=cz[zt],sr=0;sr<Bt.length;++sr)if(Vt[Bt[sr]])return Vt[Bt[sr]];throw new Error("Could not find a matching font-style for "+zt)})(dt.style,It),!(It=(function(zt,Vt){if(Vt[zt])return Vt[zt];if(zt===400&&Vt[500])return Vt[500];if(zt===500&&Vt[400])return Vt[400];var Bt=e_e[zt],sr=VM(Vt,fz,Bt,zt<400?-1:1);if(!sr)throw new Error("Could not find a matching font-weight for value "+zt);return sr})(dt.weight,It)))throw new Error("Failed to resolve a font for the rule '"+qM(dt)+"'.");return It})(Oe,De);this.pdf.setFont(He.ref.name,He.ref.style)}else{var Qe="";(he==="bold"||parseInt(he,10)>=700||Ae==="bold")&&(Qe="bold"),Ae==="italic"&&(Qe+="italic"),Qe.length===0&&(Qe="normal");for(var tt="",st={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},it=0;it<ke.length;it++){if(this.pdf.internal.getFont(ke[it],Qe,{noFallback:!0,disableWarning:!0})!==void 0){tt=ke[it];break}if(Qe==="bolditalic"&&this.pdf.internal.getFont(ke[it],"bold",{noFallback:!0,disableWarning:!0})!==void 0)tt=ke[it],Qe="bold";else if(this.pdf.internal.getFont(ke[it],"normal",{noFallback:!0,disableWarning:!0})!==void 0){tt=ke[it],Qe="normal";break}}if(tt===""){for(var pt=0;pt<ke.length;pt++)if(st[ke[pt]]){tt=st[ke[pt]];break}}tt=tt===""?"Times":tt,this.pdf.setFont(tt,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(fe){this.ctx.globalCompositeOperation=fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(fe){this.ctx.globalAlpha=fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(fe){this.ctx.lineDashOffset=fe,V.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(fe){this.ctx.lineDash=fe,V.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(fe){this.ctx.ignoreClearRect=!!fe}})};f.prototype.setLineDash=function(O){this.lineDash=O},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){C.call(this,"fill",!1)},f.prototype.stroke=function(){C.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(O,X){if(isNaN(O)||isNaN(X))throw ai.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new s(O,X));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(O,X)},f.prototype.closePath=function(){var O=new s(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&Kn(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){O=new s(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(O.x,O.y)},f.prototype.lineTo=function(O,X){if(isNaN(O)||isNaN(X))throw ai.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new s(O,X));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},f.prototype.quadraticCurveTo=function(O,X,Q,re){if(isNaN(Q)||isNaN(re)||isNaN(O)||isNaN(X))throw ai.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var G=this.ctx.transform.applyToPoint(new s(Q,re)),J=this.ctx.transform.applyToPoint(new s(O,X));this.path.push({type:"qct",x1:J.x,y1:J.y,x:G.x,y:G.y}),this.ctx.lastPoint=new s(G.x,G.y)},f.prototype.bezierCurveTo=function(O,X,Q,re,G,J){if(isNaN(G)||isNaN(J)||isNaN(O)||isNaN(X)||isNaN(Q)||isNaN(re))throw ai.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var q=this.ctx.transform.applyToPoint(new s(G,J)),U=this.ctx.transform.applyToPoint(new s(O,X)),Z=this.ctx.transform.applyToPoint(new s(Q,re));this.path.push({type:"bct",x1:U.x,y1:U.y,x2:Z.x,y2:Z.y,x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},f.prototype.arc=function(O,X,Q,re,G,J){if(isNaN(O)||isNaN(X)||isNaN(Q)||isNaN(re)||isNaN(G))throw ai.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(J=!!J,!this.ctx.transform.isIdentity){var q=this.ctx.transform.applyToPoint(new s(O,X));O=q.x,X=q.y;var U=this.ctx.transform.applyToPoint(new s(0,Q)),Z=this.ctx.transform.applyToPoint(new s(0,0));Q=Math.sqrt(Math.pow(U.x-Z.x,2)+Math.pow(U.y-Z.y,2))}Math.abs(G-re)>=2*Math.PI&&(re=0,G=2*Math.PI),this.path.push({type:"arc",x:O,y:X,radius:Q,startAngle:re,endAngle:G,counterclockwise:J})},f.prototype.arcTo=function(O,X,Q,re,G){throw new Error("arcTo not implemented.")},f.prototype.rect=function(O,X,Q,re){if(isNaN(O)||isNaN(X)||isNaN(Q)||isNaN(re))throw ai.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,X),this.lineTo(O+Q,X),this.lineTo(O+Q,X+re),this.lineTo(O,X+re),this.lineTo(O,X),this.lineTo(O+Q,X),this.lineTo(O,X)},f.prototype.fillRect=function(O,X,Q,re){if(isNaN(O)||isNaN(X)||isNaN(Q)||isNaN(re))throw ai.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var G={};this.lineCap!=="butt"&&(G.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(G.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,X,Q,re),this.fill(),G.hasOwnProperty("lineCap")&&(this.lineCap=G.lineCap),G.hasOwnProperty("lineJoin")&&(this.lineJoin=G.lineJoin)}},f.prototype.strokeRect=function(O,X,Q,re){if(isNaN(O)||isNaN(X)||isNaN(Q)||isNaN(re))throw ai.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(O,X,Q,re),this.stroke())},f.prototype.clearRect=function(O,X,Q,re){if(isNaN(O)||isNaN(X)||isNaN(Q)||isNaN(re))throw ai.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,X,Q,re))},f.prototype.save=function(O){O=typeof O!="boolean"||O;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},f.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(X),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(O){var X,Q,re,G;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))X=0,Q=0,re=0,G=0;else{var J=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(J!==null)X=parseInt(J[1]),Q=parseInt(J[2]),re=parseInt(J[3]),G=1;else if((J=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)X=parseInt(J[1]),Q=parseInt(J[2]),re=parseInt(J[3]),G=parseFloat(J[4]);else{if(G=1,typeof O=="string"&&O.charAt(0)!=="#"){var q=new rz(O);O=q.ok?q.toHex():"#000000"}O.length===4?(X=O.substring(1,2),X+=X,Q=O.substring(2,3),Q+=Q,re=O.substring(3,4),re+=re):(X=O.substring(1,3),Q=O.substring(3,5),re=O.substring(5,7)),X=parseInt(X,16),Q=parseInt(Q,16),re=parseInt(re,16)}}return{r:X,g:Q,b:re,a:G,style:O}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(O,X,Q,re){if(isNaN(X)||isNaN(Q)||typeof O!="string")throw ai.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!h.call(this)){var G=S(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;B.call(this,{text:O,x:X,y:Q,scale:J,angle:G,align:this.textAlign,maxWidth:re})}},f.prototype.strokeText=function(O,X,Q,re){if(isNaN(X)||isNaN(Q)||typeof O!="string")throw ai.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){re=isNaN(re)?void 0:re;var G=S(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;B.call(this,{text:O,x:X,y:Q,scale:J,renderingMode:"stroke",angle:G,align:this.textAlign,maxWidth:re})}},f.prototype.measureText=function(O){if(typeof O!="string")throw ai.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,Q=this.pdf.internal.scaleFactor,re=X.internal.getFontSize(),G=X.getStringUnitWidth(O)*re/X.internal.scaleFactor;return new function(J){var q=(J=J||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return q}}),this}({width:G*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(O,X){if(isNaN(O)||isNaN(X))throw ai.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new c(O,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(O){if(isNaN(O))throw ai.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new c(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.translate=function(O,X){if(isNaN(O)||isNaN(X))throw ai.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new c(1,0,0,1,O,X);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(O,X,Q,re,G,J){if(isNaN(O)||isNaN(X)||isNaN(Q)||isNaN(re)||isNaN(G)||isNaN(J))throw ai.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var q=new c(O,X,Q,re,G,J);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.setTransform=function(O,X,Q,re,G,J){O=isNaN(O)?1:O,X=isNaN(X)?0:X,Q=isNaN(Q)?0:Q,re=isNaN(re)?1:re,G=isNaN(G)?0:G,J=isNaN(J)?0:J,this.ctx.transform=new c(O,X,Q,re,G,J)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(O,X,Q,re,G,J,q,U,Z){var ie=this.pdf.getImageProperties(O),le=1,de=1,fe=1,ue=1;re!==void 0&&U!==void 0&&(fe=U/re,ue=Z/G,le=ie.width/re*U/re,de=ie.height/G*Z/G),J===void 0&&(J=X,q=Q,X=0,Q=0),re!==void 0&&U===void 0&&(U=re,Z=G),re===void 0&&U===void 0&&(U=ie.width,Z=ie.height);for(var Ae,he=this.ctx.transform.decompose(),xe=S(he.rotate.shx),me=new c,Ce=(me=(me=(me=me.multiply(he.translate)).multiply(he.skew)).multiply(he.scale)).applyToRectangle(new l(J-X*fe,q-Q*ue,re*le,G*de)),ke=p.call(this,Ce),Oe=[],De=0;De<ke.length;De+=1)Oe.indexOf(ke[De])===-1&&Oe.push(ke[De]);if(w(Oe),this.autoPaging)for(var He=Oe[0],Qe=Oe[Oe.length-1],tt=He;tt<Qe+1;tt++){this.pdf.setPage(tt);var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],it=tt===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=tt===1?0:pt+(tt-2)*bt;if(this.ctx.clip_path.length!==0){var Mt=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Ae,this.posX+this.margin[3],-mt+it+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Mt}var wt=JSON.parse(JSON.stringify(Ce));wt=v([wt],this.posX+this.margin[3],-mt+it+this.ctx.prevPageLastElemOffset)[0];var et=(tt>He||tt<Qe)&&g.call(this);et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,bt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",wt.x,wt.y,wt.w,wt.h,null,null,xe),et&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",Ce.x,Ce.y,Ce.w,Ce.h,null,null,xe)};var p=function(O,X,Q){var re=[];X=X||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var G=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":re.push(Math.floor((O.y+G)/Q)+1);break;case"arc":re.push(Math.floor((O.y+G-O.radius)/Q)+1),re.push(Math.floor((O.y+G+O.radius)/Q)+1);break;case"qct":var J=k(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);re.push(Math.floor((J.y+G)/Q)+1),re.push(Math.floor((J.y+J.h+G)/Q)+1);break;case"bct":var q=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);re.push(Math.floor((q.y+G)/Q)+1),re.push(Math.floor((q.y+q.h+G)/Q)+1);break;case"rect":re.push(Math.floor((O.y+G)/Q)+1),re.push(Math.floor((O.y+O.h+G)/Q)+1)}for(var U=0;U<re.length;U+=1)for(;this.pdf.internal.getNumberOfPages()<re[U];)y.call(this);return re},y=function(){var O=this.fillStyle,X=this.strokeStyle,Q=this.font,re=this.lineCap,G=this.lineWidth,J=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=X,this.font=Q,this.lineCap=re,this.lineWidth=G,this.lineJoin=J},v=function(O,X,Q){for(var re=0;re<O.length;re++)switch(O[re].type){case"bct":O[re].x2+=X,O[re].y2+=Q;case"qct":O[re].x1+=X,O[re].y1+=Q;default:O[re].x+=X,O[re].y+=Q}return O},w=function(O){return O.sort(function(X,Q){return X-Q})},C=function(O,X){for(var Q,re,G=this.fillStyle,J=this.strokeStyle,q=this.lineCap,U=this.lineWidth,Z=Math.abs(U*this.ctx.transform.scaleX),ie=this.lineJoin,le=JSON.parse(JSON.stringify(this.path)),de=JSON.parse(JSON.stringify(this.path)),fe=[],ue=0;ue<de.length;ue++)if(de[ue].x!==void 0)for(var Ae=p.call(this,de[ue]),he=0;he<Ae.length;he+=1)fe.indexOf(Ae[he])===-1&&fe.push(Ae[he]);for(var xe=0;xe<fe.length;xe++)for(;this.pdf.internal.getNumberOfPages()<fe[xe];)y.call(this);if(w(fe),this.autoPaging)for(var me=fe[0],Ce=fe[fe.length-1],ke=me;ke<Ce+1;ke++){this.pdf.setPage(ke),this.fillStyle=G,this.strokeStyle=J,this.lineCap=q,this.lineWidth=Z,this.lineJoin=ie;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],De=ke===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=ke===1?0:He+(ke-2)*Qe;if(this.ctx.clip_path.length!==0){var st=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Q,this.posX+this.margin[3],-tt+De+this.ctx.prevPageLastElemOffset),P.call(this,O,!0),this.path=st}if(re=JSON.parse(JSON.stringify(le)),this.path=v(re,this.posX+this.margin[3],-tt+De+this.ctx.prevPageLastElemOffset),X===!1||ke===0){var it=(ke>me||ke<Ce)&&g.call(this);it&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,Qe,null).clip().discardPath()),P.call(this,O,X),it&&this.pdf.restoreGraphicsState()}this.lineWidth=U}else this.lineWidth=Z,P.call(this,O,X),this.lineWidth=U;this.path=le},P=function(O,X){if((O!=="stroke"||X||!m.call(this))&&(O==="stroke"||X||!h.call(this))){for(var Q,re,G=[],J=this.path,q=0;q<J.length;q++){var U=J[q];switch(U.type){case"begin":G.push({begin:!0});break;case"close":G.push({close:!0});break;case"mt":G.push({start:U,deltas:[],abs:[]});break;case"lt":var Z=G.length;if(J[q-1]&&!isNaN(J[q-1].x)&&(Q=[U.x-J[q-1].x,U.y-J[q-1].y],Z>0)){for(;Z>=0;Z--)if(G[Z-1].close!==!0&&G[Z-1].begin!==!0){G[Z-1].deltas.push(Q),G[Z-1].abs.push(U);break}}break;case"bct":Q=[U.x1-J[q-1].x,U.y1-J[q-1].y,U.x2-J[q-1].x,U.y2-J[q-1].y,U.x-J[q-1].x,U.y-J[q-1].y],G[G.length-1].deltas.push(Q);break;case"qct":var ie=J[q-1].x+2/3*(U.x1-J[q-1].x),le=J[q-1].y+2/3*(U.y1-J[q-1].y),de=U.x+2/3*(U.x1-U.x),fe=U.y+2/3*(U.y1-U.y),ue=U.x,Ae=U.y;Q=[ie-J[q-1].x,le-J[q-1].y,de-J[q-1].x,fe-J[q-1].y,ue-J[q-1].x,Ae-J[q-1].y],G[G.length-1].deltas.push(Q);break;case"arc":G.push({deltas:[],abs:[],arc:!0}),Array.isArray(G[G.length-1].abs)&&G[G.length-1].abs.push(U)}}re=X?null:O==="stroke"?"stroke":"fill";for(var he=!1,xe=0;xe<G.length;xe++)if(G[xe].arc)for(var me=G[xe].abs,Ce=0;Ce<me.length;Ce++){var ke=me[Ce];ke.type==="arc"?j.call(this,ke.x,ke.y,ke.radius,ke.startAngle,ke.endAngle,ke.counterclockwise,void 0,X,!he):T.call(this,ke.x,ke.y),he=!0}else if(G[xe].close===!0)this.pdf.internal.out("h"),he=!1;else if(G[xe].begin!==!0){var Oe=G[xe].start.x,De=G[xe].start.y;R.call(this,G[xe].deltas,Oe,De),he=!0}re&&I.call(this,re),X&&z.call(this)}},F=function(O){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-Q;case"top":return O+X-Q;case"hanging":return O+X-2*Q;case"middle":return O+X/2-Q;default:return O}},L=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(X,Q){this.colorStops.push([X,Q])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(O,X,Q,re,G,J,q,U,Z){for(var ie=_.call(this,Q,re,G,J),le=0;le<ie.length;le++){var de=ie[le];le===0&&(Z?$.call(this,de.x1+O,de.y1+X):T.call(this,de.x1+O,de.y1+X)),N.call(this,O,X,de.x2,de.y2,de.x3,de.y3,de.x4,de.y4)}U?z.call(this):I.call(this,q)},I=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},$=function(O,X){this.pdf.internal.out(t(O)+" "+n(X)+" m")},B=function(O){var X;switch(O.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var Q=this.pdf.getTextDimensions(O.text),re=F.call(this,O.y),G=L.call(this,re)-Q.h,J=this.ctx.transform.applyToPoint(new s(O.x,re)),q=this.ctx.transform.decompose(),U=new c;U=(U=(U=U.multiply(q.translate)).multiply(q.skew)).multiply(q.scale);for(var Z,ie,le,de=this.ctx.transform.applyToRectangle(new l(O.x,re,Q.w,Q.h)),fe=U.applyToRectangle(new l(O.x,G,Q.w,Q.h)),ue=p.call(this,fe),Ae=[],he=0;he<ue.length;he+=1)Ae.indexOf(ue[he])===-1&&Ae.push(ue[he]);if(w(Ae),this.autoPaging)for(var xe=Ae[0],me=Ae[Ae.length-1],Ce=xe;Ce<me+1;Ce++){this.pdf.setPage(Ce);var ke=Ce===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[2],He=De-this.margin[0],Qe=this.pdf.internal.pageSize.width-this.margin[1],tt=Qe-this.margin[3],st=Ce===1?0:Oe+(Ce-2)*He;if(this.ctx.clip_path.length!==0){var it=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Z,this.posX+this.margin[3],-1*st+ke),P.call(this,"fill",!0),this.path=it}var pt=v([JSON.parse(JSON.stringify(fe))],this.posX+this.margin[3],-st+ke+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*O.scale),le=this.lineWidth,this.lineWidth=le*O.scale);var bt=this.autoPaging!=="text";if(bt||pt.y+pt.h<=De){if(bt||pt.y>=ke&&pt.x<=Qe){var mt=bt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Qe-pt.x)[0],Mt=v([JSON.parse(JSON.stringify(de))],this.posX+this.margin[3],-st+ke+this.ctx.prevPageLastElemOffset)[0],wt=bt&&(Ce>xe||Ce<me)&&g.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,He,null).clip().discardPath()),this.pdf.text(mt,Mt.x,Mt.y,{angle:O.angle,align:X,renderingMode:O.renderingMode}),wt&&this.pdf.restoreGraphicsState()}}else pt.y<De&&(this.ctx.prevPageLastElemOffset+=De-pt.y);O.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=le)}else O.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*O.scale),le=this.lineWidth,this.lineWidth=le*O.scale),this.pdf.text(O.text,J.x+this.posX,J.y+this.posY,{angle:O.angle,align:X,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=le)},T=function(O,X,Q,re){Q=Q||0,re=re||0,this.pdf.internal.out(t(O+Q)+" "+n(X+re)+" l")},R=function(O,X,Q){return this.pdf.lines(O,X,Q,null,null)},N=function(O,X,Q,re,G,J,q,U){this.pdf.internal.out([e(i(Q+O)),e(a(re+X)),e(i(G+O)),e(a(J+X)),e(i(q+O)),e(a(U+X)),"c"].join(" "))},_=function(O,X,Q,re){for(var G=2*Math.PI,J=Math.PI/2;X>Q;)X-=G;var q=Math.abs(Q-X);q<G&&re&&(q=G-q);for(var U=[],Z=re?-1:1,ie=X;q>1e-5;){var le=ie+Z*Math.min(q,J);U.push(E.call(this,O,ie,le)),q-=Math.abs(le-ie),ie=le}return U},E=function(O,X,Q){var re=(Q-X)/2,G=O*Math.cos(re),J=O*Math.sin(re),q=G,U=-J,Z=q*q+U*U,ie=Z+q*G+U*J,le=4/3*(Math.sqrt(2*Z*ie)-ie)/(q*J-U*G),de=q-le*U,fe=U+le*q,ue=de,Ae=-fe,he=re+X,xe=Math.cos(he),me=Math.sin(he);return{x1:O*Math.cos(X),y1:O*Math.sin(X),x2:de*xe-fe*me,y2:de*me+fe*xe,x3:ue*xe-Ae*me,y3:ue*me+Ae*xe,x4:O*Math.cos(Q),y4:O*Math.sin(Q)}},S=function(O){return 180*O/Math.PI},k=function(O,X,Q,re,G,J){var q=O+.5*(Q-O),U=X+.5*(re-X),Z=G+.5*(Q-G),ie=J+.5*(re-J),le=Math.min(O,G,q,Z),de=Math.max(O,G,q,Z),fe=Math.min(X,J,U,ie),ue=Math.max(X,J,U,ie);return new l(le,fe,de-le,ue-fe)},M=function(O,X,Q,re,G,J,q,U){var Z,ie,le,de,fe,ue,Ae,he,xe,me,Ce,ke,Oe,De,He=Q-O,Qe=re-X,tt=G-Q,st=J-re,it=q-G,pt=U-J;for(ie=0;ie<41;ie++)xe=(Ae=(le=O+(Z=ie/40)*He)+Z*((fe=Q+Z*tt)-le))+Z*(fe+Z*(G+Z*it-fe)-Ae),me=(he=(de=X+Z*Qe)+Z*((ue=re+Z*st)-de))+Z*(ue+Z*(J+Z*pt-ue)-he),ie==0?(Ce=xe,ke=me,Oe=xe,De=me):(Ce=Math.min(Ce,xe),ke=Math.min(ke,me),Oe=Math.max(Oe,xe),De=Math.max(De,me));return new l(Math.round(Ce),Math.round(ke),Math.round(Oe-Ce),Math.round(De-ke))},V=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,X,Q=(O=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:X}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(gr.API),(function(r){var e=function(s){var l,c,o,u,f,d,h,m,g,p;for(c=[],o=0,u=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;u>o;o+=4)(f=(s.charCodeAt(o)<<24)+(s.charCodeAt(o+1)<<16)+(s.charCodeAt(o+2)<<8)+s.charCodeAt(o+3))!==0?(d=(f=((f=((f=((f=(f-(p=f%85))/85)-(g=f%85))/85)-(m=f%85))/85)-(h=f%85))/85)%85,c.push(d+33,h+33,m+33,g+33,p+33)):c.push(122);return(function(y,v){for(var w=v;w>0;w--)y.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},t=function(s){var l,c,o,u,f,d=String,h="length",m=255,g="charCodeAt",p="slice",y="replace";for(s[p](-2),s=s[p](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),o=[],u=0,f=(s+=l="uuuuu"[p](s[h]%5||5))[h];f>u;u+=5)c=52200625*(s[g](u)-33)+614125*(s[g](u+1)-33)+7225*(s[g](u+2)-33)+85*(s[g](u+3)-33)+(s[g](u+4)-33),o.push(m&c>>24,m&c>>16,m&c>>8,m&c);return(function(v,w){for(var C=w;C>0;C--)v.pop()})(o,l[h]),d.fromCharCode.apply(d,o)},n=function(s){return s.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var c="",o=0;o<s.length;o+=2)c+=String.fromCharCode("0x"+(s[o]+s[o+1]));return c},a=function(s){for(var l=new Uint8Array(s.length),c=s.length;c--;)l[c]=s.charCodeAt(c);return(l=zE(l)).reduce(function(o,u){return o+String.fromCharCode(u)},"")};r.processDataByFilters=function(s,l){var c=0,o=s||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":o=t(o),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":o=e(o),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":o=i(o),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":o=n(o),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":o=a(o),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:o,reverseChain:u.reverse().join(" ")}}})(gr.API),(function(r){r.loadFile=function(e,t,n){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=(function(c,o,u){var f=new XMLHttpRequest,d=0,h=function(m){var g=m.length,p=[],y=String.fromCharCode;for(d=0;d<g;d+=1)p.push(y(255&m.charCodeAt(d)));return p.join("")};if(f.open("GET",c,!o),f.overrideMimeType("text/plain; charset=x-user-defined"),o===!1&&(f.onload=function(){f.status===200?u(h(this.responseText)):u(void 0)}),f.send(null),o&&f.status===200)return h(f.responseText)})(i,a,s)}catch{}return l})(e,t,n)},r.loadImageFile=r.loadFile})(gr.API),(function(r){function e(){return(Hr.html2canvas?Promise.resolve(Hr.html2canvas):iu(()=>import("./html2canvas.esm-BzfVsbfJ.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(Hr.DOMPurify?Promise.resolve(Hr.DOMPurify):iu(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Kn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var o=document.createElement(l);for(var u in c.className&&(o.className=c.className),c.innerHTML&&c.dompurify&&(o.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)o.style[u]=c.style[u];return o},a=function l(c,o){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)o!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(l(f,o));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},s=function l(c){var o=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),o);return(u=u.setProgress(1,l,1,[l])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,c){return l.__proto__=c||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(o){switch(n(o)){case"string":return"string";case"element":return o.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(t).then(function(o){return this.set({src:i("div",{innerHTML:l,dompurify:o})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var o=Object.assign({},this.opt.html2canvas);return delete o.onrendered,c(this.prop.container,o)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var o=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,o.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,o.context2d.posX=this.opt.x,o.context2d.posY=this.opt.y,o.context2d.margin=this.opt.margin,o.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var m=u[h],g=m.src.find(function(p){return p.format==="truetype"});g&&o.addFont(g.url,m.ref.name,m.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,o.context2d.save(!0),c(this.prop.container,d)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,c,o){return(o=o||"pdf").toLowerCase()==="img"||o.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},s.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(o){if(o in s.template.prop)return function(){this.prop[o]=l[o]};switch(o){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[o]=l[o]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(l,c){return this.then(function(){var o=l in s.template.prop?this.prop[l]:this.opt[l];return c?c(o):o})},s.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function c(o,u){return Math.floor(o*u/72*96)}return this.then(function(){(l=l||gr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,c,o,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),o!=null&&(this.progress.n=o),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,c,o,u){return this.setProgress(l?this.progress.val+l:null,c||null,o?this.progress.n+o:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(l,c){var o=this;return this.thenCore(l,c,function(u,f){return o.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return o.updateProgress(null,u),d}).then(u,f).then(function(d){return o.updateProgress(1),d})})},s.prototype.thenCore=function(l,c,o){o=o||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),d=o.call(f,l,c);return s.convert(d,u.__proto__)},s.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},s.prototype.thenList=function(l){var c=this;return l.forEach(function(o){c=c.thenCore(o)}),c},s.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return s.convert(c,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,gr.getPageSize=function(l,c,o){if(Kn(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,o=u.format||o}c=c||"mm",o=o||"a4",l=(""+(l||"P")).toLowerCase();var f,d=(""+o).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var m,g=0,p=0;if(h.hasOwnProperty(d))g=h[d][1]/f,p=h[d][0]/f;else try{g=o[1],p=o[0]}catch{throw new Error("Invalid format: "+o)}if(l==="p"||l==="portrait")l="p",p>g&&(m=p,p=g,g=m);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>p&&(m=p,p=g,g=m)}return{width:p,height:g,unit:c,k:f,orientation:l}},r.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(k2):null;var o=new s(c);return c.worker?o:o.from(l).doCallback()}})(gr.API),gr.API.addJS=function(r){return GM=r,this.internal.events.subscribe("postPutResources",function(){Ay=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ay+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),WM=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+GM+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ay!==void 0&&WM!==void 0&&this.internal.out("/Names <</JavaScript "+Ay+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=n.exec(s);if(l!=null){var c=l[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var o=this.internal.pages.length,u=[];for(a=0;a<o;a++){var f=t.internal.newObject();u.push(f);var d=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var h=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<u.length;a++)t.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+h+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var o=0;o<n.children.length;o++)this.renderItems(n.children[o])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])})(gr.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,i,a,s,l){var c,o=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=(function(f){for(var d,h=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,g={width:0,height:0,numcomponents:1},p=4;p<m;p+=2){if(p+=h,e.indexOf(f.charCodeAt(p+1))!==-1){d=256*f.charCodeAt(p+5)+f.charCodeAt(p+6),g={width:256*f.charCodeAt(p+7)+f.charCodeAt(p+8),height:d,numcomponents:f.charCodeAt(p+9)};break}h=256*f.charCodeAt(p+2)+f.charCodeAt(p+3)}return g})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:t,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:o,index:n,alias:i}}return u}})(gr.API),gr.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var i,a=$xe(r,{checkCrc:!0}),s=a.width,l=a.height,c=a.channels,o=a.palette,u=a.depth;i=o&&c===1?(function(L){for(var j=L.width,I=L.height,z=L.data,$=L.palette,B=L.depth,T=!1,R=[],N=[],_=void 0,E=!1,S=0,k=0;k<$.length;k++){var M=QR($[k],4),V=M[0],O=M[1],X=M[2],Q=M[3];R.push(V,O,X),Q!=null&&(Q===0?(S++,N.length<1&&N.push(k)):Q<255&&(E=!0))}if(E||S>1){T=!0,N=void 0;var re=j*I;_=new Uint8Array(re);for(var G=new DataView(z.buffer),J=0;J<re;J++){var q=N2(G,J,B),U=QR($[q],4)[3];_[J]=U}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:z,alphaBytes:_,needSMask:T,palette:R,mask:N}})(a):c===2||c===4?(function(L){for(var j=L.data,I=L.width,z=L.height,$=L.channels,B=L.depth,T=$===2?"DeviceGray":"DeviceRGB",R=$-1,N=I*z,_=R,E=N*_,S=1*N,k=Math.ceil(E*B/8),M=Math.ceil(S*B/8),V=new Uint8Array(k),O=new Uint8Array(M),X=new DataView(j.buffer),Q=new DataView(V.buffer),re=new DataView(O.buffer),G=!1,J=0;J<N;J++){for(var q=J*$,U=0;U<_;U++)rD(Q,N2(X,q+U,B),J*_+U,B);var Z=N2(X,q+_,B);Z<(1<<B)-1&&(G=!0),rD(re,Z,1*J,B)}return{colorSpace:T,colorsPerPixel:R,colorBytes:V,alphaBytes:O,needSMask:G}})(a):(function(L){var j=L.data,I=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:I,colorsPerPixel:I==="DeviceGray"?1:3,colorBytes:j instanceof Uint8Array?j:new Uint8Array(j.buffer),needSMask:!1}})(a);var f,d,h,m=i,g=m.colorSpace,p=m.colorsPerPixel,y=m.colorBytes,v=m.alphaBytes,w=m.needSMask,C=m.palette,P=m.mask,F=null;return n!==gr.API.image_compression.NONE&&typeof zE=="function"?(F=(function(L){var j;switch(L){case gr.API.image_compression.FAST:j=11;break;case gr.API.image_compression.MEDIUM:j=13;break;case gr.API.image_compression.SLOW:j=14;break;default:j=12}return j})(n),f=this.decode.FLATE_DECODE,d="/Predictor ".concat(F," "),r=QM(y,s*p,p,n),w&&(h=QM(v,s,1,n))):(f=void 0,d="",r=y,w&&(h=v)),d+="/Colors ".concat(p," /BitsPerComponent ").concat(u," /Columns ").concat(s),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:t,data:r,index:e,filter:f,decodeParameters:d,transparency:P,palette:C,sMask:h,predictor:F,width:s,height:l,bitsPerComponent:u,colorSpace:g}}},(function(r){r.processGIF89A=function(e,t,n,i){var a=new o_e(e),s=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var o={data:c,width:s,height:l},u=new P2(100).encode(o,100);return r.processJPEG.call(this,u,t,n,i)},r.processGIF87A=r.processGIF89A})(gr.API),kl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},kl.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){ai.log("bit decode error:"+t)}},kl.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}t!==0&&(this.pos+=4-t)}},kl.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<r;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,l=a>>4,c=15&a,o=this.palette[l];if(this.data[s]=o.blue,this.data[s+1]=o.green,this.data[s+2]=o.red,this.data[s+3]=255,2*i+1>=this.width)break;o=this.palette[c],this.data[s+4]=o.blue,this.data[s+4+1]=o.green,this.data[s+4+2]=o.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},kl.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}r!==0&&(this.pos+=4-r)}},kl.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,o=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=s,this.data[u+3]=o}this.pos+=r}},kl.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&t)/t*255|0,o=(s>>11)/e*255|0,u=i*this.width*4+4*a;this.data[u]=o,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=r}},kl.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},kl.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=s}},kl.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,i){var a=new kl(e,!1),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},o=new P2(100).encode(c,100);return r.processJPEG.call(this,o,t,n,i)}})(gr.API),iD.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,i){var a=new iD(e),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},o=new P2(100).encode(c,100);return r.processJPEG.call(this,o,t,n,i)}})(gr.API),gr.API.processRGBA=function(r,e,t){for(var n=r.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,c=0,o=0;o<i;o+=4){var u=n[o],f=n[o+1],d=n[o+2],h=n[o+3];a[l++]=u,a[l++]=f,a[l++]=d,s[c++]=h}var m=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},gr.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Gh=gr.API,Cy=Gh.getCharWidthsArray=function(r,e){var t,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,o=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=o.fof?o.fof:1,f=e.doKerning!==!1,d=0,h=r.length,m=0,g=l[0]||c,p=[];for(t=0;t<h;t++)n=r.charCodeAt(t),typeof i.metadata.widthOfString=="function"?p.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(d=f&&Kn(o[n])==="object"&&!isNaN(parseInt(o[n][m],10))?o[n][m]/u:0,p.push((l[n]||g)/c+d)),m=n;return p},KM=Gh.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Gh.processArabic&&(r=Gh.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,i)/t:Cy.apply(this,arguments).reduce(function(a,s){return a+s},0)},XM=function(r,e,t,n){for(var i=[],a=0,s=r.length,l=0;a!==s&&l+e[a]<t;)l+=e[a],a++;i.push(r.slice(0,a));var c=a;for(l=0;a!==s;)l+e[a]>n&&(i.push(r.slice(c,a)),l=0,c=a),l+=e[a],a++;return c!==a&&i.push(r.slice(c,a)),i},YM=function(r,e,t){t||(t={});var n,i,a,s,l,c,o,u=[],f=[u],d=t.textIndent||0,h=0,m=0,g=r.split(" "),p=Cy.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?g[0].length+2:t.lineIndent||0){var y=Array(c).join(" "),v=[];g.map(function(C){(C=C.split(/\s*\n/)).length>1?v=v.concat(C.map(function(P,F){return(F&&P.length?`
`:"")+P})):v.push(C[0])}),g=v,c=KM.apply(this,[y,t])}for(a=0,s=g.length;a<s;a++){var w=0;if(n=g[a],c&&n[0]==`
`&&(n=n.substr(1),w=1),d+h+(m=(i=Cy.apply(this,[n,t])).reduce(function(C,P){return C+P},0))>e||w){if(m>e){for(l=XM.apply(this,[n,i,e-(d+h),e]),u.push(l.shift()),u=[l.pop()];l.length;)f.push([l.shift()]);m=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(C,P){return C+P},0)}else u=[n];f.push(u),d=m+c,h=p}else u.push(n),d+=h+m,h=p}return o=c?function(C,P){return(P?y:"")+C.join(" ")}:function(C){return C.join(" ")},f.map(o)},Gh.splitTextToSize=function(r,e,t){var n,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),d="Unicode";return f.metadata[d]?{widths:f.metadata[d].widths||{0:1},kerning:f.metadata[d].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var l,c,o=[];for(l=0,c=n.length;l<c;l++)o=o.concat(YM.apply(this,[n[l],s,a]));return o},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[t[a]]=e[a],i[e[a]]=t[a];var s=function(d){return"0x"+parseInt(d,10).toString(16)},l=r.__fontmetrics__.compress=function(d){var h,m,g,p,y=["{"];for(var v in d){if(h=d[v],isNaN(parseInt(v,10))?m="'"+v+"'":(v=parseInt(v,10),m=(m=s(v).slice(2)).slice(0,-1)+i[m.slice(-1)]),typeof h=="number")h<0?(g=s(h).slice(3),p="-"):(g=s(h).slice(2),p=""),g=p+g.slice(0,-1)+i[g.slice(-1)];else{if(Kn(h)!=="object")throw new Error("Don't know what to do with value type "+Kn(h)+".");g=l(h)}y.push(m+g)}return y.push("}"),y.join("")},c=r.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,m,g,p,y={},v=1,w=y,C=[],P="",F="",L=d.length-1,j=1;j<L;j+=1)(p=d[j])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(p):p=="{"?(C.push([w,g]),w={},g=void 0):p=="}"?((m=C.pop())[0][m[1]]=w,g=void 0,w=m[0]):p=="-"?v=-1:g===void 0?n.hasOwnProperty(p)?(P+=n[p],g=parseInt(P,16)*v,v=1,P=""):P+=p:n.hasOwnProperty(p)?(F+=n[p],w[g]=parseInt(F,16)*v,v=1,g=void 0,F=""):F+=p;return y},o={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:o,"Courier-Bold":o,"Courier-BoldOblique":o,"Courier-Oblique":o,Helvetica:o,"Helvetica-Bold":o,"Helvetica-BoldOblique":o,"Helvetica-Oblique":o,"Times-Roman":o,"Times-Bold":o,"Times-BoldItalic":o,"Times-Italic":o}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(d){var h=d.font,m=f.Unicode[h.postScriptName];m&&(h.metadata.Unicode={},h.metadata.Unicode.widths=m.widths,h.metadata.Unicode.kerning=m.kerning);var g=u.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])})(gr.API),(function(r){var e=function(t){for(var n=t.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=t.charCodeAt(a);return i};r.API.events.push(["addFont",function(t){var n=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(qy(l)),s.metadata=r.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])})(gr),gr.API.addSvgAsImage=function(r,e,t,n,i,a,s,l){if(isNaN(e)||isNaN(t))throw ai.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw ai.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var o=c.getContext("2d");o.fillStyle="#fff",o.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Hr.canvg?Promise.resolve(Hr.canvg):iu(()=>import("./index.es-g5OeWMvM.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(o,r,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(u)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),e,t,n,i,s,l)})},gr.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,t);return this},gr.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],o=0,u=0,f=0;function d(m,g){var p,y=!1;for(p=0;p<m.length;p+=1)m[p]===g&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var h=l.length;for(f=0;f<h;f+=1)t[l[f]].value=t[l[f]].defaultValue,t[l[f]].explicitSet=!1}if(Kn(r)==="object"){for(i in r)if(a=r[i],d(l,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&d(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(o=0;o<a.length;o+=1)if(n=!0,a[o].length===1&&typeof a[o][0]=="number")c.push(String(a[o]-1));else if(a[o].length>1){for(u=0;u<a[o].length;u+=1)typeof a[o][u]!="number"&&(n=!1);n===!0&&c.push([a[o][0]-1,a[o][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in t)t[m].explicitSet===!0&&(t[m].type==="name"?g.push("/"+m+" /"+t[m].value):g.push("/"+m+" "+t[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),o=a.length+s.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+o+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(gr.API),(function(r){var e=r.API,t=e.pdfEscape16=function(a,s){for(var l,c=s.metadata.Unicode.widths,o=["","0","00","000","0000"],u=[""],f=0,d=a.length;f<d;++f){if(l=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(o[4-l.length],l)}return u.join("")},n=function(a){var s,l,c,o,u,f,d;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,d=(l=Object.keys(a).sort(function(h,m){return h-m})).length;f<d;f++)s=l[f],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(o=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+o+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,o=s.newObject,u=s.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,d=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",m=0;m<d.length;m++)h+=String.fromCharCode(d[m]);var g=o();u({data:h,addLength1:!0,objectId:g}),c("endobj");var p=o();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var y=o();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ep(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var v=o();c("<<"),c("/Type /Font"),c("/BaseFont /"+ep(l.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+r.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=o(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+p+" 0 R"),c("/BaseFont /"+ep(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+v+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,o=s.newObject,u=s.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,d="",h=0;h<f.length;h++)d+=String.fromCharCode(f[h]);var m=o();u({data:d,addLength1:!0,objectId:m}),c("endobj");var g=o();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var p=o();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+m+" 0 R"),c("/Flags 96"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+ep(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=o();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+ep(l.fontName)+"/FontDescriptor "+p+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",c=a.x,o=a.y,u=a.options||{},f=a.mutex||{},d=f.pdfEscape,h=f.activeFontKey,m=f.fonts,g=h,p="",y=0,v="",w=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:l,x:c,y:o,options:u,mutex:f};for(v=l,g=h,Array.isArray(l)&&(v=l[0]),y=0;y<v.length;y+=1)m[g].metadata.hasOwnProperty("cmap")&&(s=m[g].metadata.cmap.unicode.codeMap[v[y].charCodeAt(0)]),s||v[y].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?p+=v[y]:p+="";var C="";return parseInt(g.slice(1))<14||w==="WinAnsiEncoding"?C=d(p,g).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(C=t(p,m[g])),f.isHex=!0,{text:C,x:c,y:o,options:u,mutex:f}};e.events.push(["postProcessText",function(a){var s=a.text||"",l=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var o=0;for(o=0;o<s.length;o+=1)Array.isArray(s[o])&&s[o].length===3?l.push([i(Object.assign({},c,{text:s[o][0]})).text,s[o][1],s[o][2]]):l.push(i(Object.assign({},c,{text:s[o]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:s})).text}])})(gr),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(gr.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,a,s,l,c,o,u,f=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,w=0;this.__bidiEngine__={};var C=function($){var B=$.charCodeAt(),T=B>>8,R=g[T];return R!==void 0?f[256*R+(255&B)]:T===252||T===253?"AL":y.test(T)?"L":T===8?"R":"N"},P=function($){for(var B,T=0;T<$.length;T++){if((B=C($.charAt(T)))==="L")return!1;if(B==="R")return!0}return!1},F=function($,B,T,R){var N,_,E,S,k=B[R];switch(k){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"N":case"AN":break;case"EN":v&&(k="AN");break;case"AL":v=!0,k="R";break;case"WS":case"BN":k="N";break;case"CS":R<1||R+1>=B.length||(N=T[R-1])!=="EN"&&N!=="AN"||(_=B[R+1])!=="EN"&&_!=="AN"?k="N":v&&(_="AN"),k=_===N?_:"N";break;case"ES":k=(N=R>0?T[R-1]:"B")==="EN"&&R+1<B.length&&B[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&T[R-1]==="EN"){k="EN";break}if(v){k="N";break}for(E=R+1,S=B.length;E<S&&B[E]==="ET";)E++;k=E<S&&B[E]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(S=B.length,E=R+1;E<S&&B[E]==="NSM";)E++;if(E<S){var M=$[R],V=M>=1425&&M<=2303||M===64286;if(N=B[E],V&&(N==="R"||N==="AL")){k="R";break}}}k=R<1||(N=B[R-1])==="B"?"N":T[R-1];break;case"B":v=!1,i=!0,k=w;break;case"S":a=!0,k="N"}return k},L=function($,B,T){var R=$.split("");return T&&j(R,T,{hiLevel:w}),R.reverse(),B&&B.reverse(),R.join("")},j=function($,B,T){var R,N,_,E,S,k=-1,M=$.length,V=0,O=[],X=w?h:d,Q=[];for(v=!1,i=!1,a=!1,N=0;N<M;N++)Q[N]=C($[N]);for(_=0;_<M;_++){if(S=V,O[_]=F($,Q,O,_),R=240&(V=X[S][m[O[_]]]),V&=15,B[_]=E=X[V][5],R>0)if(R===16){for(N=k;N<_;N++)B[N]=1;k=-1}else k=-1;if(X[V][6])k===-1&&(k=_);else if(k>-1){for(N=k;N<_;N++)B[N]=E;k=-1}Q[_]==="B"&&(B[_]=0),T.hiLevel|=E}a&&(function(re,G,J){for(var q=0;q<J;q++)if(re[q]==="S"){G[q]=w;for(var U=q-1;U>=0&&re[U]==="WS";U--)G[U]=w}})(Q,B,M)},I=function($,B,T,R,N){if(!(N.hiLevel<$)){if($===1&&w===1&&!i)return B.reverse(),void(T&&T.reverse());for(var _,E,S,k,M=B.length,V=0;V<M;){if(R[V]>=$){for(S=V+1;S<M&&R[S]>=$;)S++;for(k=V,E=S-1;k<E;k++,E--)_=B[k],B[k]=B[E],B[E]=_,T&&(_=T[k],T[k]=T[E],T[E]=_);V=S}V++}}},z=function($,B,T){var R=$.split(""),N={hiLevel:w};return T||(T=[]),j(R,T,N),(function(_,E,S){if(S.hiLevel!==0&&u)for(var k,M=0;M<_.length;M++)E[M]===1&&(k=p.indexOf(_[M]))>=0&&(_[M]=p[k+1])})(R,T,N),I(2,R,B,T,N),I(1,R,B,T,N),R.join("")};return this.__bidiEngine__.doBidiReorder=function($,B,T){if((function(N,_){if(_)for(var E=0;E<N.length;E++)_[E]=E;l===void 0&&(l=P(N)),o===void 0&&(o=P(N))})($,B),s||!c||o)if(s&&c&&l^o)w=l?1:0,$=L($,B,T);else if(!s&&c&&o)w=l?1:0,$=z($,B,T),$=L($,B);else if(!s||l||c||o){if(s&&!c&&l^o)$=L($,B),l?(w=0,$=z($,B,T)):(w=1,$=z($,B,T),$=L($,B));else if(s&&l&&!c&&o)w=1,$=z($,B,T),$=L($,B);else if(!s&&!c&&l^o){var R=u;l?(w=1,$=z($,B,T),w=0,u=!1,$=z($,B,T),u=R):(w=0,$=z($,B,T),$=L($,B),w=1,u=!1,$=z($,B,T),u=R,$=L($,B))}}else w=0,$=z($,B,T);else w=l?1:0,$=z($,B,T);return $},this.__bidiEngine__.setOptions=function($){$&&(s=$.isInputVisual,c=$.isOutputVisual,l=$.isInputRtl,o=$.isOutputRtl,u=$.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([t.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([t.doBidiReorder(i[l])]);n.text=s}else n.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(gr),gr.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Pf(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new __e(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new l_e(this.contents),this.head=new u_e(this),this.name=new m_e(this),this.cmap=new hz(this),this.toUnicode={},this.hhea=new f_e(this),this.maxp=new g_e(this),this.hmtx=new y_e(this),this.post=new h_e(this),this.os2=new d_e(this),this.loca=new x_e(this),this.glyf=new v_e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,o;for(o=[],s=0,l=(c=this.bbox).length;s<l;s++)e=c[s],o.push(Math.round(e*this.scaleFactor));return o}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var i,a,s,l;for(s=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return s*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();var ql,Pf=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,i,a,s,l,c;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*a+65536*s+256*l+c},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)t=e[n],a.push(this.writeByte(t));return a},r})(),l_e=(function(){var r;function e(t){var n,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,i,a,s,l,c,o,u,f,d,h,m,g;for(g in h=Object.keys(t).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),s=Math.floor(f/c),u=16*h-f,(i=new Pf).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(s),i.writeShort(u),a=16*h,o=i.pos+a,l=null,m=[],t)for(d=t[g],i.writeString(g),i.writeInt(r(d)),i.writeInt(o),i.writeInt(d.length),m=m.concat(d),g==="head"&&(l=o),o+=d.length;o%4;)m.push(0),o++;return i.write(m),n=2981146554-r(i.data),i.pos=l+8,i.writeUInt32(n),i.data},r=function(t){var n,i,a,s;for(t=pz.call(t);t.length%4;)t.push(0);for(a=new Pf(t),i=0,n=0,s=t.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e})(),c_e={}.hasOwnProperty,Tc=function(r,e){for(var t in e)c_e.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};ql=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var u_e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tc(r,ql),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new Pf).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),aD=(function(){function r(e,t){var n,i,a,s,l,c,o,u,f,d,h,m,g,p,y,v,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(h=e.readUInt16(),d=h/2,e.pos+=6,a=(function(){var C,P;for(P=[],c=C=0;0<=d?C<d:C>d;c=0<=d?++C:--C)P.push(e.readUInt16());return P})(),e.pos+=2,g=(function(){var C,P;for(P=[],c=C=0;0<=d?C<d:C>d;c=0<=d?++C:--C)P.push(e.readUInt16());return P})(),o=(function(){var C,P;for(P=[],c=C=0;0<=d?C<d:C>d;c=0<=d?++C:--C)P.push(e.readUInt16());return P})(),u=(function(){var C,P;for(P=[],c=C=0;0<=d?C<d:C>d;c=0<=d?++C:--C)P.push(e.readUInt16());return P})(),i=(this.length-e.pos+this.offset)/2,l=(function(){var C,P;for(P=[],c=C=0;0<=i?C<i:C>i;c=0<=i?++C:--C)P.push(e.readUInt16());return P})(),c=y=0,w=a.length;y<w;c=++y)for(p=a[c],n=v=m=g[c];m<=p?v<=p:v>=p;n=m<=p?++v:--v)u[c]===0?s=n+o[c]:(s=l[u[c]/2+(n-m)-(d-c)]||0)!==0&&(s+=o[c]),this.codeMap[n]=65535&s}e.pos=f}return r.encode=function(e,t){var n,i,a,s,l,c,o,u,f,d,h,m,g,p,y,v,w,C,P,F,L,j,I,z,$,B,T,R,N,_,E,S,k,M,V,O,X,Q,re,G,J,q,U,Z,ie,le;switch(R=new Pf,s=Object.keys(e).sort(function(de,fe){return de-fe}),t){case"macroman":for(g=0,p=(function(){var de=[];for(m=0;m<256;++m)de.push(0);return de})(),v={0:0},a={},N=0,k=s.length;N<k;N++)v[U=e[i=s[N]]]==null&&(v[U]=++g),a[i]={old:e[i],new:v[e[i]]},p[i]=v[e[i]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(p),{charMap:a,subtable:R.data,maxGlyphID:g+1};case"unicode":for(B=[],f=[],w=0,v={},n={},y=o=null,_=0,M=s.length;_<M;_++)v[P=e[i=s[_]]]==null&&(v[P]=++w),n[i]={old:P,new:v[P]},l=v[P]-i,y!=null&&l===o||(y&&f.push(y),B.push(i),o=l),y=i;for(y&&f.push(y),f.push(65535),B.push(65535),z=2*(I=B.length),j=2*Math.pow(Math.log(I)/Math.LN2,2),d=Math.log(j/2)/Math.LN2,L=2*I-j,c=[],F=[],h=[],m=E=0,V=B.length;E<V;m=++E){if($=B[m],u=f[m],$===65535){c.push(0),F.push(0);break}if($-(T=n[$].new)>=32768)for(c.push(0),F.push(2*(h.length+I-m)),i=S=$;$<=u?S<=u:S>=u;i=$<=u?++S:--S)h.push(n[i].new);else c.push(T-$),F.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*I+2*h.length),R.writeUInt16(0),R.writeUInt16(z),R.writeUInt16(j),R.writeUInt16(d),R.writeUInt16(L),J=0,O=f.length;J<O;J++)i=f[J],R.writeUInt16(i);for(R.writeUInt16(0),q=0,X=B.length;q<X;q++)i=B[q],R.writeUInt16(i);for(Z=0,Q=c.length;Z<Q;Z++)l=c[Z],R.writeUInt16(l);for(ie=0,re=F.length;ie<re;ie++)C=F[ie],R.writeUInt16(C);for(le=0,G=h.length;le<G;le++)g=h[le],R.writeUInt16(g);return{charMap:n,subtable:R.data,maxGlyphID:w+1}}},r})(),hz=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tc(r,ql),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)t=new aD(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,i;return t==null&&(t="macroman"),n=aD.encode(e,t),(i=new Pf).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},r})(),f_e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tc(r,ql),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),d_e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tc(r,ql),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),h_e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tc(r,ql),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,l,c;for(c=[],a=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;a=0<=l?++s:--s)c.push(e.readUInt32());return c}).call(this)}},r})(),p_e=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},m_e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tc(r,ql),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,i,a,s,l,c,o,u,f,d;for(e.pos=this.offset,e.readShort(),t=e.readShort(),l=e.readShort(),n=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},a=u=0,f=n.length;u<f;a=++u)i=n[a],e.pos=i.offset,o=e.readString(i.length),s=new p_e(o,i),c[d=i.nameID]==null&&(c[d]=[]),c[i.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},r})(),g_e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tc(r,ql),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),y_e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tc(r,ql),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,i,a,s,l,c;for(e.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var o,u;for(u=[],t=o=0;0<=i?o<i:o>i;t=0<=i?++o:--o)u.push(e.readInt16());return u})(),this.widths=(function(){var o,u,f,d;for(d=[],o=0,u=(f=this.metrics).length;o<u;o++)a=f[o],d.push(a.advance);return d}).call(this),n=this.widths[this.widths.length-1],c=[],t=s=0;0<=i?s<i:s>i;t=0<=i?++s:--s)c.push(this.widths.push(n));return c},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),pz=[].slice,v_e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tc(r,ql),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,i,a,s,l,c,o,u,f;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,s=(l=new Pf(t.read(i))).readShort(),o=l.readShort(),f=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[e]=s===-1?new w_e(l,o,f,c,u):new b_e(l,s,o,f,c,u),this.cache[e]))},r.prototype.encode=function(e,t,n){var i,a,s,l,c;for(s=[],a=[],l=0,c=t.length;l<c;l++)i=e[t[l]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},r})(),b_e=(function(){function r(e,t,n,i,a,s){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),w_e=(function(){function r(e,t,n,i,a){var s,l;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Pf(pz.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),x_e=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Tc(r,ql),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<t.length&&t[a]==s){++a,n[s]=i;var l=this.offsets[s],c=this.offsets[s+1]-l;c>0&&(i+=c)}for(var o=new Array(4*n.length),u=0;u<n.length;++u)o[4*u+3]=255&n[u],o[4*u+2]=(65280&n[u])>>8,o[4*u+1]=(16711680&n[u])>>16,o[4*u]=(4278190080&n[u])>>24;return o},r})(),__e=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,i,a;for(t in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[t],e[t]=i[n];return e},r.prototype.glyphsFor=function(e){var t,n,i,a,s,l,c;for(i={},s=0,l=e.length;s<l;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(n=i[a])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(a in c=this.glyphsFor(t))n=c[a],i[a]=n;return i},r.prototype.encode=function(e,t){var n,i,a,s,l,c,o,u,f,d,h,m,g,p,y;for(i in n=hz.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},y=n.charMap)h[(c=y[i]).old]=c.new;for(m in d=n.maxGlyphID,s)m in h||(h[m]=d++);return u=(function(v){var w,C;for(w in C={},v)C[v[w]]=w;return C})(h),f=Object.keys(u).sort(function(v,w){return v-w}),g=(function(){var v,w,C;for(C=[],v=0,w=f.length;v<w;v++)l=f[v],C.push(u[l]);return C})(),a=this.font.glyf.encode(s,g,h),o=this.font.loca.encode(a.offsets,g),p={cmap:this.font.cmap.raw(),glyf:a.table,loca:o,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},r})();gr.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,i,a,s;if(Array.isArray(t))return"["+(function(){var l,c,o;for(o=[],l=0,c=t.length;l<c;l++)n=t[l],o.push(e.convert(n));return o})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)s=t[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+t},e})();function mz(r,e,t,n,i){n=n||{};var a=1.15,s=i.internal.scaleFactor,l=i.internal.getFontSize()/s,c=i.getLineHeightFactor?i.getLineHeightFactor():a,o=l*c,u=/\r\n|\r|\n/g,f="",d=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof r=="string"?r.split(u):r,d=f.length||1),t+=l*(2-a),n.valign==="middle"?t-=d/2*o:n.valign==="bottom"&&(t-=d*o),n.halign==="center"||n.halign==="right"){var h=l;if(n.halign==="center"&&(h*=.5),f&&d>=1){for(var m=0;m<f.length;m++)i.text(f[m],e-i.getStringUnitWidth(f[m])*h,t),t+=o;return i}e-=i.getStringUnitWidth(r)*h}return n.halign==="justify"?i.text(r,e,t,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(r,e,t),i}var sD={},wp=(function(){function r(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:sD=e},r.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},r.prototype.applyStyles=function(e,t){var n,i,a;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),l=s.fontStyle,c=s.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var o=this.getFontList()[c];o&&o.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(o[0]),l=o[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var u=r.unifyColor(e.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=r.unifyColor(e.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=r.unifyColor(e.lineColor),u&&(a=this.jsPDFDocument).setDrawColor.apply(a,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},r.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},r.prototype.rect=function(e,t,n,i,a){return this.jsPDFDocument.rect(e,t,n,i,a)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return sD||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r})(),QE=function(r,e){return QE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},QE(r,e)};function gz(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");QE(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var yz=(function(r){gz(e,r);function e(t){var n=r.call(this)||this;return n._element=t,n}return e})(Array);function S_e(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function E_e(r){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[r]}function Sb(r,e,t){t.applyStyles(e,!0);var n=Array.isArray(r)?r:[r],i=n.map(function(a){return t.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return i}function vz(r,e,t,n){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;r.applyStyles({lineWidth:i,lineColor:a});var s=bz(i,!1);s&&r.rect(t.x,t.y,e.getWidth(r.pageSize().width),n.y-t.y,s)}function bz(r,e){var t=r>0,n=e||e===0;return t&&n?"DF":t?"S":n?"F":null}function Yw(r,e){var t,n,i,a;if(r=r||e,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=e}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(t=r.left)!==null&&t!==void 0?t:e,top:(n=r.top)!==null&&n!==void 0?n:e,right:(i=r.right)!==null&&i!==void 0?i:e,bottom:(a=r.bottom)!==null&&a!==void 0?a:e}):(typeof r!="number"&&(r=e),{top:r,right:r,bottom:r,left:r})}function wz(r,e){var t=Yw(e.settings.margin,0);return r.pageSize().width-(t.left+t.right)}function A_e(r,e,t,n,i){var a={},s=1.3333333333333333,l=j2(e,function(w){return i.getComputedStyle(w).backgroundColor});l!=null&&(a.fillColor=l);var c=j2(e,function(w){return i.getComputedStyle(w).color});c!=null&&(a.textColor=c);var o=k_e(n,t);o&&(a.cellPadding=o);var u="borderTopColor",f=s*t,d=n.borderTopWidth;if(n.borderBottomWidth===d&&n.borderRightWidth===d&&n.borderLeftWidth===d){var h=(parseFloat(d)||0)/f;h&&(a.lineWidth=h)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},a.lineWidth.top||(a.lineWidth.right?u="borderRightColor":a.lineWidth.bottom?u="borderBottomColor":a.lineWidth.left&&(u="borderLeftColor"));var m=j2(e,function(w){return i.getComputedStyle(w)[u]});m!=null&&(a.lineColor=m);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var p=parseInt(n.fontSize||"");isNaN(p)||(a.fontSize=p/s);var y=C_e(n);y&&(a.fontStyle=y);var v=(n.fontFamily||"").toLowerCase();return r.indexOf(v)!==-1&&(a.font=v),a}function C_e(r){var e="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(e="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(e+="italic"),e}function j2(r,e){var t=xz(r,e);if(!t)return null;var n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function xz(r,e){var t=e(r);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?r.parentElement==null?null:xz(r.parentElement,e):t}function k_e(r,e){var t=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],n=96/(72/e),i=(parseInt(r.lineHeight)-parseInt(r.fontSize))/e/2,a=t.map(function(l){return parseInt(l||"0")/n}),s=Yw(a,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function _z(r,e,t,n,i){var a,s;n===void 0&&(n=!1),i===void 0&&(i=!1);var l;typeof e=="string"?l=t.document.querySelector(e):l=e;var c=Object.keys(r.getFontList()),o=r.scaleFactor(),u=[],f=[],d=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:u,body:f,foot:d};for(var h=0;h<l.rows.length;h++){var m=l.rows[h],g=(s=(a=m==null?void 0:m.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),p=T_e(c,o,t,m,n,i);p&&(g==="thead"?u.push(p):g==="tfoot"?d.push(p):f.push(p))}return{head:u,body:f,foot:d}}function T_e(r,e,t,n,i,a){for(var s=new yz(n),l=0;l<n.cells.length;l++){var c=n.cells[l],o=t.getComputedStyle(c);if(i||o.display!=="none"){var u=void 0;a&&(u=A_e(r,c,e,o,t)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:N_e(c)})}}var f=t.getComputedStyle(n);if(s.length>0&&(i||f.display!=="none"))return s}function N_e(r){var e=r.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function P_e(r,e,t){for(var n=0,i=[r,e,t];n<i.length;n++){var a=i[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function au(r,e,t,n,i){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(r),s=1;s<arguments.length;s++){var l=arguments[s];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(a[c]=l[c])}return a}function Sz(r,e){var t=new wp(r),n=t.getDocumentOptions(),i=t.getGlobalOptions();P_e(i,n,e);var a=au({},i,n,e),s;typeof window<"u"&&(s=window);var l=j_e(i,n,e),c=I_e(i,n,e),o=O_e(t,a),u=M_e(t,a,s);return{id:e.tableId,content:u,hooks:c,styles:l,settings:o}}function j_e(r,e,t){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var o=r[c],u=e[c],f=t[c];n.columnStyles=au({},o,u,f)}else{var d=[r,e,t],h=d.map(function(m){return m[c]||{}});n[c]=au({},h[0],h[1],h[2])}},a=0,s=Object.keys(n);a<s.length;a++){var l=s[a];i(l)}return n}function I_e(r,e,t){for(var n=[r,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=n;a<s.length;a++){var l=s[a];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function O_e(r,e){var t,n,i,a,s,l,c,o,u,f,d,h,m=Yw(e.margin,40/r.scaleFactor()),g=(t=R_e(r,e.startY))!==null&&t!==void 0?t:m.top,p;e.showFoot===!0?p="everyPage":e.showFoot===!1?p="never":p=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var y;e.showHead===!0?y="everyPage":e.showHead===!1?y="never":y=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var v=(a=e.useCss)!==null&&a!==void 0?a:!1,w=e.theme||(v?"plain":"striped"),C=!!e.horizontalPageBreak,P=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:v,theme:w,startY:g,margin:m,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(o=e.rowPageBreak)!==null&&o!==void 0?o:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:p,tableLineWidth:(f=e.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(d=e.tableLineColor)!==null&&d!==void 0?d:200,horizontalPageBreak:C,horizontalPageBreakRepeat:P,horizontalPageBreakBehaviour:(h=e.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function R_e(r,e){var t=r.getLastAutoTable(),n=r.scaleFactor(),i=r.pageNumber(),a=!1;if(t&&t.startPageNumber){var s=t.startPageNumber+t.pageNumber-1;a=s===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&(t==null?void 0:t.finalY)!=null?t.finalY+20/n:null}function M_e(r,e,t){var n=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(t){var l=_z(r,e.html,t,s,e.useCss)||{};n=l.head||n,i=l.body||n,a=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||D_e(n,i,a);return{columns:c,head:n,body:i,foot:a}}function D_e(r,e,t){var n=r[0]||e[0]||t[0]||[],i=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var s=1,l;Array.isArray(n)?l=n[parseInt(a)]:l=n[a],typeof l=="object"&&!Array.isArray(l)&&(s=(l==null?void 0:l.colSpan)||1);for(var c=0;c<s;c++){var o=void 0;Array.isArray(n)?o=i.length:o=a+(c>0?"_".concat(c):"");var u={dataKey:o};i.push(u)}}),i}var ZE=(function(){function r(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()}return r})(),L_e=(function(r){gz(e,r);function e(t,n,i,a,s,l){var c=r.call(this,t,n,l)||this;return c.cell=i,c.row=a,c.column=s,c.section=a.section,c}return e})(ZE),F_e=(function(){function r(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return r.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(e,t,n,i,a,s){for(var l=0,c=t;l<c.length;l++){var o=c[l],u=new L_e(e,this,n,i,a,s),f=o(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},r.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var a=i[n];a(new ZE(e,this,t))}},r.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var a=i[n];a(new ZE(e,this,t))}},r.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return t}else{var n=this.settings.margin;return e-n.left-n.right}},r})(),Ez=(function(){function r(e,t,n,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof yz&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=i,this.spansMultiplePages=a}return r.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(n,i){var a;return Math.max(n,((a=t.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},r.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(n){var i=t.cells[n.index];return i?i.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},r.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(i,a){var s=n.cells[a.index];if(!s)return 0;var l=t.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),o=c+l;return o>i?o:i},0)},r})(),Az=(function(){function r(e,t,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=a!=null?""+a:"",l=/\r\n|\r|\n/g;this.text=s.split(l)}return r.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},r.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,a=n*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},r.prototype.padding=function(e){var t=Yw(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},r})(),B_e=(function(){function r(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return r.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,i=e.allRows();n<i.length;n++){var a=i[n],s=a.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(t=Math.max(t,s.styles.cellWidth))}return t},r})();function $_e(r,e){U_e(r,e);var t=[],n=0;e.columns.forEach(function(a){var s=a.getMaxCustomCellWidth(e);s?a.width=s:(a.width=a.wrappedWidth,t.push(a)),n+=a.width});var i=e.getWidth(r.pageSize().width)-n;i&&(i=JE(t,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=JE(t,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/r.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),z_e(e),q_e(e,r),V_e(e)}function U_e(r,e){var t=r.scaleFactor(),n=e.settings.horizontalPageBreak,i=wz(r,e);e.allRows().forEach(function(a){for(var s=0,l=e.columns;s<l.length;s++){var c=l[s],o=a.cells[c.index];if(o){var u=e.hooks.didParseCell;e.callCellHooks(r,u,o,a,c,null);var f=o.padding("horizontal");o.contentWidth=Sb(o.text,o.styles,r)+f;var d=Sb(o.text.join(" ").split(/[^\S\u00A0]+/),o.styles,r);if(o.minReadableWidth=d+o.padding("horizontal"),typeof o.styles.cellWidth=="number")o.minWidth=o.styles.cellWidth,o.wrappedWidth=o.styles.cellWidth;else if(o.styles.cellWidth==="wrap"||n===!0)o.contentWidth>i?(o.minWidth=i,o.wrappedWidth=i):(o.minWidth=o.contentWidth,o.wrappedWidth=o.contentWidth);else{var h=10/t;o.minWidth=o.styles.minCellWidth||h,o.wrappedWidth=o.contentWidth,o.minWidth>o.wrappedWidth&&(o.wrappedWidth=o.minWidth)}}}}),e.allRows().forEach(function(a){for(var s=0,l=e.columns;s<l.length;s++){var c=l[s],o=a.cells[c.index];if(o&&o.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,o.wrappedWidth),c.minWidth=Math.max(c.minWidth,o.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,o.minReadableWidth);else{var u=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}o&&(o.colSpan>1&&!c.minWidth&&(c.minWidth=o.minWidth),o.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=o.minWidth))}})}function JE(r,e,t){for(var n=e,i=r.reduce(function(h,m){return h+m.wrappedWidth},0),a=0;a<r.length;a++){var s=r[a],l=s.wrappedWidth/i,c=n*l,o=s.width+c,u=t(s),f=o<u?u:o;e-=f-s.width,s.width=f}if(e=Math.round(e*1e10)/1e10,e){var d=r.filter(function(h){return e<0?h.width>t(h):!0});d.length&&(e=JE(d,e,t))}return e}function V_e(r){for(var e={},t=1,n=r.allRows(),i=0;i<n.length;i++)for(var a=n[i],s=0,l=r.columns;s<l.length;s++){var c=l[s],o=e[c.index];if(t>1)t--,delete a.cells[c.index];else if(o)o.cell.height+=a.height,t=o.cell.colSpan,delete a.cells[c.index],o.left--,o.left<=1&&delete e[c.index];else{var u=a.cells[c.index];if(!u)continue;if(u.height=a.height,u.rowSpan>1){var f=n.length-i,d=u.rowSpan>f?f:u.rowSpan;e[c.index]={cell:u,left:d,row:a}}}}}function z_e(r){for(var e=r.allRows(),t=0;t<e.length;t++)for(var n=e[t],i=null,a=0,s=0,l=0;l<r.columns.length;l++){var c=r.columns[l];if(s-=1,s>1&&r.columns[l+1])a+=c.width,delete n.cells[c.index];else if(i){var o=i;delete n.cells[c.index],i=null,o.width=c.width+a}else{var o=n.cells[c.index];if(!o)continue;if(s=o.colSpan,a=0,o.colSpan>1){i=o,a+=c.width;continue}o.width=c.width+a}}}function q_e(r,e){for(var t={count:0,height:0},n=0,i=r.allRows();n<i.length;n++){for(var a=i[n],s=0,l=r.columns;s<l.length;s++){var c=l[s],o=a.cells[c.index];if(o){e.applyStyles(o.styles,!0);var u=o.width-o.padding("horizontal");if(o.styles.overflow==="linebreak")o.text=e.splitTextToSize(o.text,u+1/e.scaleFactor(),{fontSize:o.styles.fontSize});else if(o.styles.overflow==="ellipsize")o.text=oD(o.text,u,o.styles,e,"...");else if(o.styles.overflow==="hidden")o.text=oD(o.text,u,o.styles,e,"");else if(typeof o.styles.overflow=="function"){var f=o.styles.overflow(o.text,u);typeof f=="string"?o.text=[f]:o.text=f}o.contentHeight=o.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var d=o.contentHeight/o.rowSpan;o.rowSpan>1&&t.count*t.height<d*o.rowSpan?t={height:d,count:o.rowSpan}:t&&t.count>0&&t.height>d&&(d=t.height),d>a.height&&(a.height=d)}}t.count--}}function oD(r,e,t,n,i){return r.map(function(a){return H_e(a,e,t,n,i)})}function H_e(r,e,t,n,i){var a=1e4*n.scaleFactor();if(e=Math.ceil(e*a)/a,e>=Sb(r,t,n))return r;for(;e<Sb(r+i,t,n)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+i}function Cz(r,e){var t=new wp(r),n=W_e(e,t.scaleFactor()),i=new F_e(e,n);return $_e(t,i),t.applyStyles(t.userStyles),i}function W_e(r,e){var t=r.content,n=K_e(t.columns);if(t.head.length===0){var i=lD(n,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=lD(n,"foot");i&&t.foot.push(i)}var a=r.settings.theme,s=r.styles;return{columns:n,head:I2("head",t.head,n,s,a,e),body:I2("body",t.body,n,s,a,e),foot:I2("foot",t.foot,n,s,a,e)}}function I2(r,e,t,n,i,a){var s={},l=e.map(function(c,o){for(var u=0,f={},d=0,h=0,m=0,g=t;m<g.length;m++){var p=g[m];if(s[p.index]==null||s[p.index].left===0)if(h===0){var y=void 0;Array.isArray(c)?y=c[p.index-d-u]:y=c[p.dataKey];var v={};typeof y=="object"&&!Array.isArray(y)&&(v=(y==null?void 0:y.styles)||{});var w=X_e(r,p,o,i,n,a,v),C=new Az(y,w,r);f[p.dataKey]=C,f[p.index]=C,h=C.colSpan-1,s[p.index]={left:C.rowSpan-1,times:h}}else h--,d++;else s[p.index].left--,h=s[p.index].times,u++}return new Ez(c,o,r,f)});return l}function lD(r,e){var t={};return r.forEach(function(n){if(n.raw!=null){var i=G_e(e,n.raw);i!=null&&(t[n.dataKey]=i)}}),Object.keys(t).length>0?t:null}function G_e(r,e){if(r==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(r==="foot"&&typeof e=="object")return e.footer;return null}function K_e(r){return r.map(function(e,t){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:t:i=t,new B_e(i,e,t)})}function X_e(r,e,t,n,i,a,s){var l=E_e(n),c;r==="head"?c=i.headStyles:r==="body"?c=i.bodyStyles:r==="foot"&&(c=i.footStyles);var o=au({},l.table,l[r],i.styles,c),u=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},f=r==="body"?u:{},d=r==="body"&&t%2===0?au({},l.alternateRow,i.alternateRowStyles):{},h=S_e(a),m=au({},h,o,d,f);return au(m,s)}function Y_e(r,e,t){var n;t===void 0&&(t={});var i=wz(r,e),a=new Map,s=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(d){var h=e.columns.find(function(m){return m.dataKey===d||m.index===d});h&&!a.has(h.index)&&(a.set(h.index,!0),s.push(h.index),l.push(e.columns[h.index]),i-=h.wrappedWidth)});for(var o=!0,u=(n=t==null?void 0:t.start)!==null&&n!==void 0?n:0;u<e.columns.length;){if(a.has(u)){u++;continue}var f=e.columns[u].wrappedWidth;if(o||i>=f)o=!1,s.push(u),l.push(e.columns[u]),i-=f;else break;u++}return{colIndexes:s,columns:l,lastIndex:u-1}}function Q_e(r,e){for(var t=[],n=0;n<e.columns.length;n++){var i=Y_e(r,e,{start:n});i.columns.length&&(t.push(i),n=i.lastIndex)}return t}function kz(r,e){var t=e.settings,n=t.startY,i=t.margin,a={x:i.left,y:n},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=n+i.bottom+s;if(t.pageBreak==="avoid"){var c=e.body,o=c.reduce(function(d,h){return d+h.height},0);l+=o}var u=new wp(r);(t.pageBreak==="always"||t.startY!=null&&l>u.pageSize().height)&&(Nz(u),a.y=i.top),e.callWillDrawPageHooks(u,a);var f=au({},a);e.startPageNumber=u.pageNumber(),t.horizontalPageBreak?Z_e(u,e,f,a):(u.applyStyles(u.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(d){return xu(u,e,d,a,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(d,h){var m=h===e.body.length-1;Eb(u,e,d,m,f,a,e.columns)}),u.applyStyles(u.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(d){return xu(u,e,d,a,e.columns)})),vz(u,e,f,a),e.callEndPageHooks(u,a),e.finalY=a.y,r.lastAutoTable=e,u.applyStyles(u.userStyles)}function Z_e(r,e,t,n){var i=Q_e(r,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(o,u){r.applyStyles(r.userStyles),u>0?R0(r,e,t,n,o.columns,!0):cD(r,e,n,o.columns),J_e(r,e,t,n,o.columns),O2(r,e,n,o.columns)});else for(var s=-1,l=i[0],c=function(){var o=s;if(l){r.applyStyles(r.userStyles);var u=l.columns;s>=0?R0(r,e,t,n,u,!0):cD(r,e,n,u),o=uD(r,e,s+1,n,u),O2(r,e,n,u)}var f=o-s;i.slice(1).forEach(function(d){r.applyStyles(r.userStyles),R0(r,e,t,n,d.columns,!0),uD(r,e,s+1,n,d.columns,f),O2(r,e,n,d.columns)}),s=o};s<e.body.length-1;)c()}function cD(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return xu(r,e,a,t,n)})}function J_e(r,e,t,n,i){r.applyStyles(r.userStyles),e.body.forEach(function(a,s){var l=s===e.body.length-1;Eb(r,e,a,l,t,n,i)})}function uD(r,e,t,n,i,a){r.applyStyles(r.userStyles),a=a??e.body.length;var s=Math.min(t+a,e.body.length),l=-1;return e.body.slice(t,s).forEach(function(c,o){var u=t+o===e.body.length-1,f=Tz(r,e,u,n);c.canEntireRowFit(f,i)&&(xu(r,e,c,n,i),l=t+o)}),l}function O2(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return xu(r,e,a,t,n)})}function e5e(r,e,t){var n=t.getLineHeight(r.styles.fontSize),i=r.padding("vertical"),a=Math.floor((e-i)/n);return Math.max(0,a)}function t5e(r,e,t,n){var i={};r.spansMultiplePages=!0,r.height=0;for(var a=0,s=0,l=t.columns;s<l.length;s++){var c=l[s],o=r.cells[c.index];if(o){Array.isArray(o.text)||(o.text=[o.text]);var u=new Az(o.raw,o.styles,o.section);u=au(u,o),u.text=[];var f=e5e(o,e,n);o.text.length>f&&(u.text=o.text.splice(f,o.text.length));var d=n.scaleFactor(),h=n.getLineHeightFactor();o.contentHeight=o.getContentHeight(d,h),o.contentHeight>=e&&(o.contentHeight=e,u.styles.minCellHeight-=e),o.contentHeight>r.height&&(r.height=o.contentHeight),u.contentHeight=u.getContentHeight(d,h),u.contentHeight>a&&(a=u.contentHeight),i[c.index]=u}}var m=new Ez(r.raw,-1,r.section,i,!0);m.height=a;for(var g=0,p=t.columns;g<p.length;g++){var c=p[g],u=m.cells[c.index];u&&(u.height=m.height);var o=r.cells[c.index];o&&(o.height=r.height)}return m}function r5e(r,e,t,n){var i=r.pageSize().height,a=n.settings.margin,s=a.top+a.bottom,l=i-s;e.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,r),o=c<t;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!o)return!1;var u=e.hasRowSpan(n.columns),f=e.getMaxCellHeight(n.columns)>l;return f?(u&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function Eb(r,e,t,n,i,a,s){var l=Tz(r,e,n,a);if(t.canEntireRowFit(l,s))xu(r,e,t,a,s);else if(r5e(r,t,l,e)){var c=t5e(t,l,e,r);xu(r,e,t,a,s),R0(r,e,i,a,s),Eb(r,e,c,n,i,a,s)}else R0(r,e,i,a,s),Eb(r,e,t,n,i,a,s)}function xu(r,e,t,n,i){n.x=e.settings.margin.left;for(var a=0,s=i;a<s.length;a++){var l=s[a],c=t.cells[l.index];if(!c){n.x+=l.width;continue}r.applyStyles(c.styles),c.x=n.x,c.y=n.y;var o=e.callCellHooks(r,e.hooks.willDrawCell,c,t,l,n);if(o===!1){n.x+=l.width;continue}n5e(r,c,n);var u=c.getTextPos();mz(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},r.getDocument()),e.callCellHooks(r,e.hooks.didDrawCell,c,t,l,n),n.x+=l.width}n.y+=t.height}function n5e(r,e,t){var n=e.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=bz(n.lineWidth,n.fillColor);i&&r.rect(e.x,t.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&r.rect(e.x,t.y,e.width,e.height,"F"),i5e(r,e,t,n.lineWidth))}function i5e(r,e,t,n){var i,a,s,l;n.top&&(i=t.x,a=t.y,s=t.x+e.width,l=t.y,n.right&&(s+=.5*n.right),n.left&&(i-=.5*n.left),c(n.top,i,a,s,l)),n.bottom&&(i=t.x,a=t.y+e.height,s=t.x+e.width,l=t.y+e.height,n.right&&(s+=.5*n.right),n.left&&(i-=.5*n.left),c(n.bottom,i,a,s,l)),n.left&&(i=t.x,a=t.y,s=t.x,l=t.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,i,a,s,l)),n.right&&(i=t.x+e.width,a=t.y,s=t.x+e.width,l=t.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,i,a,s,l));function c(o,u,f,d,h){r.getDocument().setLineWidth(o),r.getDocument().line(u,f,d,h,"S")}}function Tz(r,e,t,n){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),r.pageSize().height-n.y-i}function R0(r,e,t,n,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),r.applyStyles(r.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(l){return xu(r,e,l,n,i)}),e.callEndPageHooks(r,n);var s=e.settings.margin;vz(r,e,t,n),Nz(r),e.pageNumber++,n.x=s.left,n.y=s.top,t.y=s.top,e.callWillDrawPageHooks(r,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return xu(r,e,l,n,i)}),r.applyStyles(r.userStyles))}function Nz(r){var e=r.pageNumber();r.setPage(e+1);var t=r.pageNumber();return t===e?(r.addPage(),!0):!1}function a5e(r){r.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],i=Sz(this,n),a=Cz(this,i);return kz(this,a),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(e,t,n,i){mz(e,t,n,i,this)},r.API.autoTableSetDefaults=function(e){return wp.setDefaults(e,this),this},r.autoTableSetDefaults=function(e,t){wp.setDefaults(e,t)},r.API.autoTableHtmlToJson=function(e,t){var n;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new wp(this),a=_z(i,e,window,t,!1),s=a.head,l=a.body,c=((n=s[0])===null||n===void 0?void 0:n.map(function(o){return o.content}))||[];return{columns:c,rows:l,data:l}}}var R2;function u1(r,e){var t=Sz(r,e),n=Cz(r,t);kz(r,n)}try{if(typeof window<"u"&&window){var fD=window,dD=fD.jsPDF||((R2=fD.jspdf)===null||R2===void 0?void 0:R2.jsPDF);dD&&a5e(dD)}}catch(r){console.error("Could not apply autoTable plugin",r)}class Em{constructor(){this.CORPORATE_COLORS={primary:[0,0,0],secondary:[107,114,128],accent:[0,0,0],warning:[0,0,0],danger:[0,0,0],light:[249,250,251],dark:[0,0,0]},this.FONT_CONFIG={title:{size:20,style:"bold"},subtitle:{size:14,style:"bold"},header:{size:12,style:"bold"},body:{size:10,style:"normal"},small:{size:8,style:"normal"}}}formatValue(e,t){var n;if((n=this.config.formatacao)!=null&&n[e])return this.config.formatacao[e](t);if(t&&typeof t=="object"&&t.toDate)return t.toDate().toLocaleDateString("pt-BR");if(t instanceof Date)return t.toLocaleDateString("pt-BR");if(typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)){const[i,a,s]=t.split("-");return`${s}/${a}/${i}`}return t==null?"":t.toString()}getFilteredData(e){return e.map(t=>{const n={};return this.config.campos.forEach(i=>{t.hasOwnProperty(i)&&(n[i]=this.formatValue(i,t[i]))}),n})}getColumnHeaders(){return this.config.campos.map(e=>e.charAt(0).toUpperCase()+e.slice(1))}getResumoHeaders(){return["Status","Quantidade","Percentual"]}formatPeriodo(e){return{semana:"Semana",mes:"Mês",trimestre:"Trimestre",ano:"Ano",folgas:"Folgas",funcionarios:"Funcionários",veiculos:"Veículos",rotas:"Rotas",vendedores:"Vendedores",cidades:"Cidades"}[e]||e.charAt(0).toUpperCase()+e.slice(1)}getCurrentDateTime(){return new Date().toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}drawCorporateHeader(e,t){var c;const n=e.internal.pageSize.getWidth(),i=10;let a=10;if(e.setTextColor(0,0,0),e.setFontSize(12),e.setFont("helvetica","bold"),e.text(`Relatório de ${this.config.titulo}`,i,a),e.setFontSize(7),e.setFont("helvetica","normal"),e.text("Sistema de Gestão de Logística",i,a+7.5),e.text(`Período de Referência: ${this.formatPeriodo(((c=this.config.titulo)==null?void 0:c.toLowerCase())||"")}`,i,a+4),t!=null&&t.displayName){e.setFontSize(6),e.setFont("helvetica","normal");const o=`Gerado por: ${t.displayName}`,u=e.getTextWidth(o);if(e.text(o,n-i-u,a+2),t.cargo){const f=`Cargo: ${t.cargo}`,d=e.getTextWidth(f);e.text(f,n-i-d,a+5)}}const s=`Data: ${this.getCurrentDateTime()}`,l=e.getTextWidth(s);return e.text(s,n-i-l,a+8),e.setDrawColor(200,200,200),e.setLineWidth(.5),e.line(i,a+10,n-i,a+10),a+15}drawReportTitle(e,t){return t}drawFooter(e){const t=e.internal.pageSize.getWidth(),n=e.internal.pageSize.getHeight(),i=10;e.setDrawColor(200,200,200),e.setLineWidth(.5),e.line(i,n-25,t-i,n-25),e.setTextColor(107,114,128),e.setFontSize(8),e.setFont("helvetica","normal");const a="Sistema de Gestão de Logística.",s=e.getTextWidth(a);e.text(a,(t-s)/2,n-20);const l=`Página ${e.getCurrentPageInfo().pageNumber} de ${e.getCurrentPageInfo().pageNumber}`;e.text(l,(t-e.getTextWidth(l))/2,n-15)}async exportToPDF(e,t){var n;try{const i=new gr("landscape"),a=10;let s=this.drawCorporateHeader(i,t);if(e.dadosProcessados.length>0){s+=5,i.setTextColor(0,0,0),i.setFontSize(9),i.setFont("helvetica","bold"),i.text("Resumo Estatístico",a,s),s+=4;const c=e.dadosProcessados.reduce((m,g)=>m+g.value,0),o=e.dadosProcessados.length+1,u=i.internal.pageSize.getWidth()-a*2,f=Math.min(40,(u-(o-1)*6)/o),d=6;let h=a;i.setFontSize(6),i.setFont("helvetica","normal"),i.text("TOTAL",h,s),i.setFontSize(12),i.setFont("helvetica","bold"),i.text(c.toString(),h,s+8),h+=f+d,e.dadosProcessados.forEach(m=>{i.setFontSize(6),i.setFont("helvetica","normal"),i.text(m.name.toUpperCase(),h,s),i.setFontSize(12),i.setFont("helvetica","bold");const g=c>0?`${(m.value/c*100).toFixed(1)}%`:"0%";i.text(`${m.value} `,h,s+8),i.setFontSize(8),i.setFont("helvetica","normal"),i.setTextColor(107,114,128),i.text(`(${g})`,h+i.getTextWidth(`${m.value} `),s+8),i.setTextColor(0,0,0),h+=f+d}),s+=10}if(e.dados.length>0){s+=10,i.setTextColor(0,0,0),i.setFontSize(9),i.setFont("helvetica","bold"),i.text("Dados Detalhados",a,s),s+=5;const c=this.getFilteredData(e.dados),o=this.getColumnHeaders(),u=c.slice(0,50).map(f=>this.config.campos.map(d=>f[d]||""));u1(i,{head:[o],body:u,startY:s,theme:"plain",styles:{fontSize:7,cellPadding:2,textColor:[0,0,0]},headStyles:{textColor:[107,114,128],fontStyle:"bold",fontSize:6,lineColor:[209,213,219],lineWidth:.5},bodyStyles:{textColor:[0,0,0],fontSize:7,lineColor:[229,231,235],lineWidth:.5},columnStyles:{...Object.fromEntries(this.config.campos.map((f,d)=>f==="funcionarioNome"?[d,{cellWidth:80}]:[d,{cellWidth:25}]))},margin:{left:a,right:a}})}this.drawFooter(i);const l=`relatorio_${(n=this.config.titulo)==null?void 0:n.toLowerCase()}_${e.periodo}_${new Date().toISOString().split("T")[0]}.pdf`;i.save(l)}catch(i){throw console.error("Erro ao gerar PDF:",i),i}}async exportToExcel(e,t){var n;try{const i=new _V.Workbook,a=i.addWorksheet("Cabeçalho");if([[`Relatório de ${this.config.titulo}`],["Sistema de Gestão de Logística"],[`Período de Referência: ${this.formatPeriodo(e.periodo)}`],[""],[`Gerado por: ${(t==null?void 0:t.displayName)||"Sistema"}`],[`Cargo: ${(t==null?void 0:t.cargo)||"N/A"}`],[`Data: ${this.getCurrentDateTime()}`],[""]].forEach((o,u)=>{o.forEach((f,d)=>{const h=a.getCell(u+1,d+1);h.value=f,u===0?h.font={bold:!0,size:12}:u<3?h.font={size:10}:h.font={size:9}})}),e.dadosProcessados.length>0){const o=i.addWorksheet("Resumo"),u=e.dadosProcessados.reduce((f,d)=>f+d.value,0);o.getCell(1,1).value="RESUMO ESTATÍSTICO",o.getCell(1,1).font={bold:!0,size:12},o.getCell(3,1).value="Status",o.getCell(3,2).value="Quantidade",o.getCell(3,3).value="Percentual",[o.getCell(3,1),o.getCell(3,2),o.getCell(3,3)].forEach(f=>{f.font={bold:!0,size:10}}),e.dadosProcessados.forEach((f,d)=>{const h=d+4;o.getCell(h,1).value=f.name,o.getCell(h,2).value=f.value,o.getCell(h,3).value=u>0?`${(f.value/u*100).toFixed(1)}%`:"0%"})}if(e.dados.length>0){const o=i.addWorksheet("Dados Detalhados"),u=this.getFilteredData(e.dados),f=this.getColumnHeaders();o.getCell(1,1).value="DADOS DETALHADOS",o.getCell(1,1).font={bold:!0,size:12},f.forEach((d,h)=>{const m=o.getCell(3,h+1);m.value=d,m.font={bold:!0,size:10}}),u.forEach((d,h)=>{this.config.campos.forEach((m,g)=>{o.getCell(h+4,g+1).value=d[m]||""})})}const l=await i.xlsx.writeBuffer(),c=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});dh.saveAs(c,`relatorio_${(n=this.config.titulo)==null?void 0:n.toLowerCase()}_${e.periodo}_${new Date().toISOString().split("T")[0]}.xlsx`)}catch(i){throw console.error("Erro ao exportar Excel:",i),new Error("Erro ao exportar dados para Excel")}}async exportRelatorio(e,t,n){try{e==="pdf"?await this.exportToPDF(t,n):await this.exportToExcel(t,n)}catch(i){throw console.error(`Erro ao exportar relatório ${this.config.titulo}:`,i),i}}}class s5e extends Em{constructor(){super(...arguments),this.config={titulo:"Funcionários",campos:["nome","cpf","cnh","cnhVencimento","cnhCategoria","celular","email","endereco","cep","cidade","funcao","status","tipoContrato","unidadeNegocio","dataAdmissao","salario","toxicoUltimoExame","toxicoVencimento","ativo","observacao"],formatacao:{nome:e=>e?e.toUpperCase():"N/A",cpf:e=>e?Nf(e):"N/A",cnh:e=>e?e.toUpperCase():"N/A",celular:e=>e?fh(e):"N/A",email:e=>e?e.toLowerCase():"N/A",endereco:e=>e||"N/A",cep:e=>e||"N/A",cidade:e=>e?e.toUpperCase():"N/A",salario:e=>e?vV(e):"N/A",cnhVencimento:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e},toxicoUltimoExame:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e},toxicoVencimento:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e},dataAdmissao:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e},status:e=>e?{trabalhando:"Trabalhando",disponivel:"Disponível",folga:"Folga",ferias:"Férias"}[e]||e:"N/A",tipoContrato:e=>e?{integral:"Integral",temporario:"Temporário",folguista:"Folguista",inativo:"Inativo"}[e]||e:"N/A",unidadeNegocio:e=>e?{frigorifico:"Frigorífico",ovos:"Ovos",ambos:"Ambos"}[e]||e:"N/A",funcao:e=>e?{motorista:"Motorista",ajudante:"Ajudante",outro:"Outro"}[e]||e:"N/A",ativo:e=>e?"Ativo":"Inativo",observacao:e=>e||"N/A"},ordenacao:["nome","status","cidade"]}}getFilteredData(e){return e.map(t=>{const n={};return this.config.campos.forEach(i=>{t.hasOwnProperty(i)?n[i]=this.formatValue(i,t[i]):n[i]="N/A"}),n})}getColumnHeaders(){const e={nome:"Nome",cpf:"CPF",cnh:"CNH",cnhVencimento:"Vencimento CNH",cnhCategoria:"Categoria CNH",celular:"Celular",email:"E-mail",endereco:"Endereço",cep:"CEP",cidade:"Cidade",funcao:"Função",status:"Status",tipoContrato:"Tipo de Contrato",unidadeNegocio:"Unidade de Negócio",dataAdmissao:"Data de Admissão",salario:"Salário",toxicoUltimoExame:"Último Exame Toxicológico",toxicoVencimento:"Vencimento Toxicológico",ativo:"Ativo",observacao:"Observação"};return this.config.campos.map(t=>e[t]||t)}getResumoHeaders(){return["Status","Quantidade","Percentual"]}getColumnWidths(){return{0:{cellWidth:35},1:{cellWidth:25},2:{cellWidth:20},3:{cellWidth:25},4:{cellWidth:20},5:{cellWidth:25},6:{cellWidth:30},7:{cellWidth:40},8:{cellWidth:15},9:{cellWidth:25},10:{cellWidth:20},11:{cellWidth:20},12:{cellWidth:25},13:{cellWidth:25},14:{cellWidth:25},15:{cellWidth:20},16:{cellWidth:30},17:{cellWidth:30},18:{cellWidth:15},19:{cellWidth:30}}}async exportToPDF(e,t){var n;try{const i=new gr("landscape"),a=10;let s=this.drawCorporateHeader(i,t);if(e.dadosProcessados.length>0){s+=5,i.setTextColor(0,0,0),i.setFontSize(9),i.setFont("helvetica","bold"),i.text("Resumo Estatístico",a,s),s+=4;const c=e.dadosProcessados.reduce((m,g)=>m+g.value,0),o=e.dadosProcessados.length+1,u=i.internal.pageSize.getWidth()-a*2,f=Math.min(40,(u-(o-1)*6)/o),d=6;let h=a;i.setFontSize(6),i.setFont("helvetica","normal"),i.text("TOTAL",h,s),i.setFontSize(12),i.setFont("helvetica","bold"),i.text(c.toString(),h,s+8),h+=f+d,e.dadosProcessados.forEach(m=>{i.setFontSize(6),i.setFont("helvetica","normal"),i.text(m.name.toUpperCase(),h,s),i.setFontSize(12),i.setFont("helvetica","bold");const g=c>0?`${(m.value/c*100).toFixed(1)}%`:"0%";i.text(`${m.value} `,h,s+8),i.setFontSize(8),i.setFont("helvetica","normal"),i.setTextColor(107,114,128),i.text(`(${g})`,h+i.getTextWidth(`${m.value} `),s+8),i.setTextColor(0,0,0),h+=f+d}),s+=10}if(e.dados.length>0){s+=10,i.setTextColor(0,0,0),i.setFontSize(9),i.setFont("helvetica","bold"),i.text("Dados Detalhados",a,s),s+=5;const c=this.getFilteredData(e.dados),o=this.getColumnHeaders(),u=c.slice(0,50).map(f=>this.config.campos.map(d=>f[d]||""));u1(i,{head:[o],body:u,startY:s,theme:"plain",styles:{fontSize:7,cellPadding:2,textColor:[0,0,0]},headStyles:{textColor:[107,114,128],fontStyle:"bold",fontSize:6,lineColor:[209,213,219],lineWidth:.5},bodyStyles:{textColor:[0,0,0],fontSize:7,lineColor:[229,231,235],lineWidth:.5},columnStyles:this.getColumnWidths(),margin:{left:a,right:a}})}this.drawFooter(i);const l=`relatorio_${(n=this.config.titulo)==null?void 0:n.toLowerCase()}_${e.periodo}_${new Date().toISOString().split("T")[0]}.pdf`;i.save(l)}catch(i){throw console.error("Erro ao gerar PDF:",i),i}}async exportToExcel(e,t){var n;try{const i=new hh.Workbook,a=i.addWorksheet("Cabeçalho");if([[`Relatório de ${this.config.titulo}`],["Sistema de Gestão de Logística"],[`Período de Referência: ${this.formatPeriodo(e.periodo)}`],[""],[`Gerado por: ${(t==null?void 0:t.displayName)||"Sistema"}`],[`Cargo: ${(t==null?void 0:t.cargo)||"N/A"}`],[`Data: ${this.getCurrentDateTime()}`],[""]].forEach((o,u)=>{o.forEach((f,d)=>{const h=a.getCell(u+1,d+1);h.value=f,u===0?h.font={bold:!0,size:12}:u<3?h.font={size:10}:h.font={size:9}})}),e.dadosProcessados.length>0){const o=i.addWorksheet("Resumo"),u=e.dadosProcessados.reduce((f,d)=>f+d.value,0);o.getCell(1,1).value="RESUMO ESTATÍSTICO",o.getCell(1,1).font={bold:!0,size:12},o.getCell(3,1).value="Status",o.getCell(3,2).value="Quantidade",o.getCell(3,3).value="Percentual",[o.getCell(3,1),o.getCell(3,2),o.getCell(3,3)].forEach(f=>{f.font={bold:!0,size:10}}),e.dadosProcessados.forEach((f,d)=>{const h=d+4;o.getCell(h,1).value=f.name,o.getCell(h,2).value=f.value,o.getCell(h,3).value=u>0?`${(f.value/u*100).toFixed(1)}%`:"0%"})}if(e.dados.length>0){const o=i.addWorksheet("Dados Detalhados"),u=this.getFilteredData(e.dados),f=this.getColumnHeaders();o.getCell(1,1).value="DADOS DETALHADOS",o.getCell(1,1).font={bold:!0,size:12},f.forEach((d,h)=>{const m=o.getCell(3,h+1);m.value=d,m.font={bold:!0,size:10}}),u.forEach((d,h)=>{this.config.campos.forEach((m,g)=>{o.getCell(h+4,g+1).value=d[m]||""})})}const l=await i.xlsx.writeBuffer(),c=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});dh.saveAs(c,`relatorio_${(n=this.config.titulo)==null?void 0:n.toLowerCase()}_${e.periodo}_${new Date().toISOString().split("T")[0]}.xlsx`)}catch(i){throw console.error("Erro ao exportar Excel:",i),new Error("Erro ao exportar dados para Excel")}}}class o5e extends Em{constructor(){super(...arguments),this.config={titulo:"Veículos",campos:["placa","marca","modelo","ano","capacidade","tipoCarroceria","quantidadeEixos","tipoBau","status","unidadeNegocio","ultimaManutencao","proximaManutencao","motorista","observacao"],formatacao:{placa:e=>e?e.toUpperCase():"N/A",marca:e=>e?e.toUpperCase():"N/A",modelo:e=>e?e.toUpperCase():"N/A",ano:e=>e||"N/A",capacidade:e=>e?`${e} kg`:"N/A",tipoCarroceria:e=>e?{truck:"Truck",toco:"Toco",bitruck:"Bitruck",carreta:"Carreta",carreta_ls:"Carreta LS",carreta_3_eixos:"Carreta 3 Eixos",truck_3_eixos:"Truck 3 Eixos",truck_4_eixos:"Truck 4 Eixos"}[e]||e:"N/A",quantidadeEixos:e=>{if(!e)return"N/A";const t=parseInt(e);return`${e} eixo${t!==1?"s":""}`},tipoBau:e=>e?{frigorifico:"Frigorífico",carga_seca:"Carga Seca",baucher:"Baucher",graneleiro:"Graneleiro",tanque:"Tanque",caçamba:"Caçamba",plataforma:"Plataforma"}[e]||e:"N/A",status:e=>e?{disponivel:"Disponível",em_uso:"Em Uso",manutencao:"Manutenção",inativo:"Inativo",acidentado:"Acidentado"}[e]||e:"N/A",unidadeNegocio:e=>e?{frigorifico:"Frigorífico",ovos:"Ovos",ambos:"Ambos"}[e]||e:"N/A",ultimaManutencao:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e},proximaManutencao:e=>{if(!e)return"N/A";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e},motorista:e=>e||"Não atribuído",observacao:e=>e||"N/A"},ordenacao:["placa","status","marca"]}}getFilteredData(e){return e.map(t=>{const n={};return this.config.campos.forEach(i=>{t.hasOwnProperty(i)?n[i]=this.formatValue(i,t[i]):n[i]="N/A"}),n})}getColumnHeaders(){const e={placa:"Placa",marca:"Marca",modelo:"Modelo",ano:"Ano",capacidade:"Capacidade",tipoCarroceria:"Carroceria",quantidadeEixos:"Quantidade de Eixos",tipoBau:"Tipo de Baú",status:"Status",unidadeNegocio:"Unidade de Negócio",ultimaManutencao:"Última Manutenção",proximaManutencao:"Próxima Manutenção",motorista:"Motorista",observacao:"Observação"};return this.config.campos.map(t=>e[t]||t)}getResumoHeaders(){return["Status","Quantidade","Percentual"]}getColumnWidths(){return{0:{cellWidth:20},1:{cellWidth:10},2:{cellWidth:15},3:{cellWidth:15},4:{cellWidth:18},5:{cellWidth:20},6:{cellWidth:25},7:{cellWidth:20},8:{cellWidth:20},9:{cellWidth:25},10:{cellWidth:25},11:{cellWidth:25},12:{cellWidth:20},13:{cellWidth:20}}}async exportToPDF(e,t){var n;try{const i=new gr("landscape"),a=10;let s=this.drawCorporateHeader(i,t);if(e.dadosProcessados.length>0){s+=5,i.setTextColor(0,0,0),i.setFontSize(9),i.setFont("helvetica","bold"),i.text("Resumo Estatístico",a,s),s+=4;const c=e.dadosProcessados.reduce((m,g)=>m+g.value,0),o=e.dadosProcessados.length+1,u=i.internal.pageSize.getWidth()-a*2,f=Math.min(40,(u-(o-1)*6)/o),d=6;let h=a;i.setFontSize(6),i.setFont("helvetica","normal"),i.text("TOTAL",h,s),i.setFontSize(12),i.setFont("helvetica","bold"),i.text(c.toString(),h,s+8),h+=f+d,e.dadosProcessados.forEach(m=>{i.setFontSize(6),i.setFont("helvetica","normal"),i.text(m.name.toUpperCase(),h,s),i.setFontSize(12),i.setFont("helvetica","bold");const g=c>0?`${(m.value/c*100).toFixed(1)}%`:"0%";i.text(`${m.value} `,h,s+8),i.setFontSize(8),i.setFont("helvetica","normal"),i.setTextColor(107,114,128),i.text(`(${g})`,h+i.getTextWidth(`${m.value} `),s+8),i.setTextColor(0,0,0),h+=f+d}),s+=10}if(e.dados.length>0){s+=10,i.setTextColor(0,0,0),i.setFontSize(9),i.setFont("helvetica","bold"),i.text("Dados Detalhados",a,s),s+=5;const c=this.getFilteredData(e.dados),o=this.getColumnHeaders(),u=c.slice(0,50).map(f=>this.config.campos.map(d=>f[d]||""));u1(i,{head:[o],body:u,startY:s,theme:"plain",styles:{fontSize:7,cellPadding:2,textColor:[0,0,0]},headStyles:{textColor:[107,114,128],fontStyle:"bold",fontSize:6,lineColor:[209,213,219],lineWidth:.5},bodyStyles:{textColor:[0,0,0],fontSize:7,lineColor:[229,231,235],lineWidth:.5},columnStyles:this.getColumnWidths(),margin:{left:a,right:a}})}this.drawFooter(i);const l=`relatorio_${(n=this.config.titulo)==null?void 0:n.toLowerCase()}_${e.periodo}_${new Date().toISOString().split("T")[0]}.pdf`;i.save(l)}catch(i){throw console.error("Erro ao gerar PDF:",i),i}}async exportToExcel(e,t){var n;try{const i=new hh.Workbook,a=i.addWorksheet("Cabeçalho");if([[`Relatório de ${this.config.titulo}`],["Sistema de Gestão de Logística"],[`Período de Referência: ${this.formatPeriodo(e.periodo)}`],[""],[`Gerado por: ${(t==null?void 0:t.displayName)||"Sistema"}`],[`Cargo: ${(t==null?void 0:t.cargo)||"N/A"}`],[`Data: ${this.getCurrentDateTime()}`],[""]].forEach((o,u)=>{o.forEach((f,d)=>{const h=a.getCell(u+1,d+1);h.value=f,u===0?h.font={bold:!0,size:12}:u<3?h.font={size:10}:h.font={size:9}})}),e.dadosProcessados.length>0){const o=i.addWorksheet("Resumo"),u=e.dadosProcessados.reduce((f,d)=>f+d.value,0);o.getCell(1,1).value="RESUMO ESTATÍSTICO",o.getCell(1,1).font={bold:!0,size:12},o.getCell(3,1).value="Status",o.getCell(3,2).value="Quantidade",o.getCell(3,3).value="Percentual",[o.getCell(3,1),o.getCell(3,2),o.getCell(3,3)].forEach(f=>{f.font={bold:!0,size:10}}),e.dadosProcessados.forEach((f,d)=>{const h=d+4;o.getCell(h,1).value=f.name,o.getCell(h,2).value=f.value,o.getCell(h,3).value=u>0?`${(f.value/u*100).toFixed(1)}%`:"0%"})}if(e.dados.length>0){const o=i.addWorksheet("Dados Detalhados"),u=this.getFilteredData(e.dados),f=this.getColumnHeaders();o.getCell(1,1).value="DADOS DETALHADOS",o.getCell(1,1).font={bold:!0,size:12},f.forEach((d,h)=>{const m=o.getCell(3,h+1);m.value=d,m.font={bold:!0,size:10}}),u.forEach((d,h)=>{this.config.campos.forEach((m,g)=>{o.getCell(h+4,g+1).value=d[m]||""})})}const l=await i.xlsx.writeBuffer(),c=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});dh.saveAs(c,`relatorio_${(n=this.config.titulo)==null?void 0:n.toLowerCase()}_${e.periodo}_${new Date().toISOString().split("T")[0]}.xlsx`)}catch(i){throw console.error("Erro ao exportar Excel:",i),new Error("Erro ao exportar dados para Excel")}}}class l5e extends Em{constructor(){super(...arguments),this.config={titulo:"Rotas",campos:["nome","dataRota","pesoMinimo","diaSemana","cidades","dataCriacao"],formatacao:{dataRota:e=>{if(!e)return"";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e},pesoMinimo:e=>!e||e===0?"Não definido":`${e} kg`,diaSemana:e=>e?Array.isArray(e)?e.join(", "):e:"N/A",cidades:e=>!e||!Array.isArray(e)||e.length===0?"0 cidades":`${e.length} cidade${e.length!==1?"s":""}`,dataCriacao:e=>e?typeof e=="string"?e:e.toDate?e.toDate().toLocaleDateString("pt-BR"):e:""},ordenacao:["nome","dataRota","dataCriacao"]}}getFilteredData(e){return e.map(t=>{const n={};return this.config.campos.forEach(i=>{t.hasOwnProperty(i)?n[i]=this.formatValue(i,t[i]):n[i]="N/A"}),n})}getColumnHeaders(){const e={nome:"Nome da Rota",dataRota:"Data da Rota",pesoMinimo:"Peso Mínimo",diaSemana:"Dias da Semana",cidades:"Cidades Vinculadas",dataCriacao:"Data de Criação"};return this.config.campos.map(t=>e[t]||t)}getResumoHeaders(){return["Dia da Semana","Quantidade","Percentual"]}}class c5e extends Em{constructor(){super(...arguments),this.config={titulo:"Folgas",campos:["funcionarioNome","dataInicio","dataFim","tipo","status"],formatacao:{funcionarioNome:e=>e||"N/A",dataInicio:e=>{if(!e)return"";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e},dataFim:e=>{if(!e)return"";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,i]=e.split("-");return`${i}/${n}/${t}`}return e.toDate?e.toDate().toLocaleDateString("pt-BR"):e},tipo:e=>e?{ferias:"Férias",folga:"Folga",licenca:"Licença",banco_horas:"Banco de Horas",compensacao:"Compensação",atestado:"Atestado Médico"}[e]||e:"N/A",status:e=>e?{pendente:"Pendente",aprovada:"Aprovada",rejeitada:"Rejeitada",cancelada:"Cancelada"}[e]||e:"N/A"},ordenacao:["funcionarioNome","dataInicio","status"]}}getFilteredData(e){return e.map(t=>{const n={};return this.config.campos.forEach(i=>{t.hasOwnProperty(i)?n[i]=this.formatValue(i,t[i]):n[i]="N/A"}),n})}getColumnHeaders(){const e={funcionarioNome:"Funcionário",dataInicio:"Início",dataFim:"Fim",tipo:"Folga",status:"Status"};return this.config.campos.map(t=>e[t]||t)}getResumoHeaders(){return["Status","Quantidade","Percentual"]}}class u5e extends Em{constructor(){super(...arguments),this.config={titulo:"Cidades",campos:["nome","estado","regiao","distancia","pesoMinimo","rota","observacao"],formatacao:{distancia:e=>e?`${e} km`:"-",pesoMinimo:e=>e?`${e} kg`:"-"},ordenacao:["nome","estado","regiao"]}}getFilteredData(e){return e.map(t=>{const n={};return this.config.campos.forEach(i=>{i==="rota"?n[i]=t.rotaId||"-":t.hasOwnProperty(i)&&(n[i]=this.formatValue(i,t[i]))}),n})}getColumnHeaders(){return["Nome","Estado","Região","Distância","Peso Mínimo","Rota","Observação"]}getColumnWidths(){return{0:{cellWidth:35},1:{cellWidth:15},2:{cellWidth:30},3:{cellWidth:20},4:{cellWidth:20},5:{cellWidth:30},6:{cellWidth:30}}}async processDataWithRotas(e){const n=(await Lr(xr(Lt,"rotas"))).docs.map(i=>({id:i.id,nome:i.data().nome}));return e.map(i=>{const a={};return this.config.campos.forEach(s=>{if(s==="rota")if(i.rotaId){const l=n.find(c=>c.id===i.rotaId);a[s]=l?l.nome:"Rota não encontrada"}else a[s]="-";else i.hasOwnProperty(s)&&(a[s]=this.formatValue(s,i[s]))}),a})}async exportToPDF(e,t){var n;try{const i=new gr("landscape"),a=10;let s=this.drawCorporateHeader(i,t);if(e.dadosProcessados&&e.dadosProcessados.length>0){s+=5,i.setTextColor(0,0,0),i.setFontSize(9),i.setFont("helvetica","bold"),i.text("Resumo Estatístico",a,s),s+=4;const c=e.dadosProcessados.reduce((m,g)=>m+g.value,0),o=e.dadosProcessados.length+1,u=i.internal.pageSize.getWidth()-a*2,f=Math.min(40,(u-(o-1)*6)/o),d=6;let h=a;i.setFontSize(6),i.setFont("helvetica","normal"),i.text("TOTAL",h,s),i.setFontSize(12),i.setFont("helvetica","bold"),i.text(c.toString(),h,s+8),h+=f+d,e.dadosProcessados.forEach(m=>{i.setFontSize(6),i.setFont("helvetica","normal"),i.text(m.name.toUpperCase(),h,s),i.setFontSize(12),i.setFont("helvetica","bold");const g=c>0?`${(m.value/c*100).toFixed(1)}%`:"0%";i.text(`${m.value} `,h,s+8),i.setFontSize(8),i.setFont("helvetica","normal"),i.setTextColor(107,114,128),i.text(`(${g})`,h+i.getTextWidth(`${m.value} `),s+8),i.setTextColor(0,0,0),h+=f+d}),s+=10}if(e.dados.length>0){s+=10,i.setTextColor(0,0,0),i.setFontSize(9),i.setFont("helvetica","bold"),i.text("Dados Detalhados",a,s),s+=5;const c=await this.processDataWithRotas(e.dados),o=this.getColumnHeaders(),u=c.slice(0,50).map(f=>this.config.campos.map(d=>f[d]||""));u1(i,{head:[o],body:u,startY:s,theme:"plain",styles:{fontSize:7,cellPadding:2,textColor:[0,0,0]},headStyles:{textColor:[107,114,128],fontStyle:"bold",fontSize:6,lineColor:[209,213,219],lineWidth:.5},bodyStyles:{textColor:[0,0,0],fontSize:7,lineColor:[229,231,235],lineWidth:.5},columnStyles:this.getColumnWidths(),margin:{left:a,right:a}})}this.drawFooter(i);const l=`relatorio_${(n=this.config.titulo)==null?void 0:n.toLowerCase()}_${e.periodo}_${new Date().toISOString().split("T")[0]}.pdf`;i.save(l)}catch(i){throw console.error("Erro ao gerar PDF:",i),i}}async exportToExcel(e,t){var n;try{const i=new hh.Workbook,a=i.addWorksheet("Cabeçalho");if([[`Relatório de ${this.config.titulo}`],["Sistema de Gestão de Logística"],[`Período de Referência: ${this.formatPeriodo(e.periodo)}`],[""],[`Gerado por: ${(t==null?void 0:t.displayName)||"Sistema"}`],[`Cargo: ${(t==null?void 0:t.cargo)||"N/A"}`],[`Data: ${this.getCurrentDateTime()}`],[""]].forEach((o,u)=>{o.forEach((f,d)=>{const h=a.getCell(u+1,d+1);h.value=f,u===0?h.font={bold:!0,size:12}:u<3?h.font={size:10}:h.font={size:9}})}),e.dadosProcessados&&e.dadosProcessados.length>0){const o=i.addWorksheet("Resumo"),u=e.dadosProcessados.reduce((f,d)=>f+d.value,0);o.getCell(1,1).value="RESUMO ESTATÍSTICO",o.getCell(1,1).font={bold:!0,size:12},o.getCell(3,1).value="Região",o.getCell(3,2).value="Quantidade",o.getCell(3,3).value="Percentual",[o.getCell(3,1),o.getCell(3,2),o.getCell(3,3)].forEach(f=>{f.font={bold:!0,size:10}}),e.dadosProcessados.forEach((f,d)=>{const h=d+4;o.getCell(h,1).value=f.name,o.getCell(h,2).value=f.value,o.getCell(h,3).value=u>0?`${(f.value/u*100).toFixed(1)}%`:"0%"})}if(e.dados.length>0){const o=i.addWorksheet("Dados Detalhados"),u=await this.processDataWithRotas(e.dados),f=this.getColumnHeaders();o.getCell(1,1).value="DADOS DETALHADOS",o.getCell(1,1).font={bold:!0,size:12},f.forEach((d,h)=>{const m=o.getCell(3,h+1);m.value=d,m.font={bold:!0,size:10}}),u.forEach((d,h)=>{this.config.campos.forEach((m,g)=>{o.getCell(h+4,g+1).value=d[m]||""})})}const l=await i.xlsx.writeBuffer(),c=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});dh.saveAs(c,`relatorio_${(n=this.config.titulo)==null?void 0:n.toLowerCase()}_${e.periodo}_${new Date().toISOString().split("T")[0]}.xlsx`)}catch(i){throw console.error("Erro ao exportar Excel:",i),new Error("Erro ao exportar dados para Excel")}}}class f5e extends Em{constructor(){super(...arguments),this.config={titulo:"Vendedores",campos:["nome","cpf","email","celular","regiao","codigoVendSistema","unidadeNegocio","tipoContrato","cidadesAtendidas","ativo"],formatacao:{nome:e=>e?e.toUpperCase():"N/A",cpf:e=>e?Nf(e):"N/A",celular:e=>e?fh(e):"N/A",email:e=>e?e.toLowerCase():"N/A",regiao:e=>e?{norte:"Norte",nordeste:"Nordeste","centro-oeste":"Centro-Oeste",sudeste:"Sudeste",sul:"Sul"}[e]||e:"N/A",codigoVendSistema:e=>e||"N/A",unidadeNegocio:e=>e?{frigorifico:"Frigorífico",ovos:"Ovos",ambos:"Ambos"}[e]||e:"N/A",tipoContrato:e=>e?{clt:"CLT",pj:"PJ",autonomo:"Autônomo",outro:"Outro"}[e]||e:"N/A",cidadesAtendidas:e=>e?Array.isArray(e)?e.join(", "):e:"N/A",ativo:e=>e?"Ativo":"Inativo"},ordenacao:["nome","regiao","unidadeNegocio"]}}getFilteredData(e){return e.map(t=>{const n={};return this.config.campos.forEach(i=>{i==="cidadesAtendidas"?n[i]=t.cidadesAtendidas||[]:t.hasOwnProperty(i)&&(n[i]=this.formatValue(i,t[i]))}),n})}getColumnHeaders(){return["Nome","CPF","E-mail","Celular","Região","Código","Unidade de Negócio","Tipo de Contrato","Cidades Atendidas","Ativo"]}getColumnWidths(){return{0:{cellWidth:40},1:{cellWidth:25},2:{cellWidth:40},3:{cellWidth:25},4:{cellWidth:20},5:{cellWidth:15},6:{cellWidth:25},7:{cellWidth:25},8:{cellWidth:40},9:{cellWidth:15}}}async processDataWithCidades(e){const n=(await Lr(xr(Lt,"cidades"))).docs.map(i=>({id:i.id,nome:i.data().nome}));return e.map(i=>{const a={};return this.config.campos.forEach(s=>{if(s==="cidadesAtendidas")if(i.cidadesAtendidas&&Array.isArray(i.cidadesAtendidas)){const l=i.cidadesAtendidas.map(c=>{const o=n.find(u=>u.id===c);return o?o.nome:"Cidade não encontrada"});a[s]=l.join(", ")}else a[s]="-";else i.hasOwnProperty(s)&&(a[s]=this.formatValue(s,i[s]))}),a})}async exportToPDF(e,t){var n;try{const i=new gr("landscape"),a=10;let s=this.drawCorporateHeader(i,t);if(e.dadosProcessados&&e.dadosProcessados.length>0){s+=5,i.setTextColor(0,0,0),i.setFontSize(9),i.setFont("helvetica","bold"),i.text("Resumo Estatístico",a,s),s+=4;const c=e.dadosProcessados.filter(d=>d.name.startsWith("Região:")),o=e.dadosProcessados.filter(d=>d.name.startsWith("Unidade:")),u=e.dadosProcessados.filter(d=>d.name.startsWith("Contrato:")),f=(d,h,m)=>{i.setFontSize(7),i.setFont("helvetica","bold"),i.text(d,a,m),m+=3;const g=h.length+1,p=i.internal.pageSize.getWidth()-a*2,y=Math.min(35,(p-(g-1)*4)/g),v=4;let w=a;const C=h.reduce((P,F)=>P+F.value,0);return i.setFontSize(5),i.setFont("helvetica","normal"),i.text("TOTAL",w,m),i.setFontSize(10),i.setFont("helvetica","bold"),i.text(C.toString(),w,m+6),w+=y+v,h.forEach(P=>{i.setFontSize(5),i.setFont("helvetica","normal");const F=P.name.replace(/^(Região|Unidade|Contrato):\s*/,"");i.text(F.toUpperCase(),w,m),i.setFontSize(10),i.setFont("helvetica","bold");const L=C>0?`${(P.value/C*100).toFixed(1)}%`:"0%";i.text(`${P.value} `,w,m+6),i.setFontSize(7),i.setFont("helvetica","normal"),i.setTextColor(107,114,128),i.text(`(${L})`,w+i.getTextWidth(`${P.value} `),m+6),i.setTextColor(0,0,0),w+=y+v}),m+12};c.length>0&&(s=f("Distribuição por Região:",c,s)),o.length>0&&(s=f("Distribuição por Unidade de Negócio:",o,s)),u.length>0&&(s=f("Distribuição por Tipo de Contrato:",u,s)),s+=5}if(e.dados.length>0){s+=10,i.setTextColor(0,0,0),i.setFontSize(9),i.setFont("helvetica","bold"),i.text("Dados Detalhados",a,s),s+=5;const c=await this.processDataWithCidades(e.dados),o=this.getColumnHeaders(),u=c.slice(0,50).map(f=>this.config.campos.map(d=>f[d]||""));u1(i,{head:[o],body:u,startY:s,theme:"plain",styles:{fontSize:7,cellPadding:2,textColor:[0,0,0]},headStyles:{textColor:[107,114,128],fontStyle:"bold",fontSize:6,lineColor:[209,213,219],lineWidth:.5},bodyStyles:{textColor:[0,0,0],fontSize:7,lineColor:[229,231,235],lineWidth:.5},columnStyles:this.getColumnWidths(),margin:{left:a,right:a}})}this.drawFooter(i);const l=`relatorio_${(n=this.config.titulo)==null?void 0:n.toLowerCase()}_${e.periodo}_${new Date().toISOString().split("T")[0]}.pdf`;i.save(l)}catch(i){throw console.error("Erro ao gerar PDF:",i),i}}async exportToExcel(e,t){var n;try{const i=new hh.Workbook,a=i.addWorksheet("Cabeçalho");if([[`Relatório de ${this.config.titulo}`],["Sistema de Gestão de Logística"],[`Período de Referência: ${this.formatPeriodo(e.periodo)}`],[""],[`Gerado por: ${(t==null?void 0:t.displayName)||"Sistema"}`],[`Cargo: ${(t==null?void 0:t.cargo)||"N/A"}`],[`Data: ${this.getCurrentDateTime()}`],[""]].forEach((o,u)=>{o.forEach((f,d)=>{const h=a.getCell(u+1,d+1);h.value=f,u===0?h.font={bold:!0,size:12}:u<3?h.font={size:10}:h.font={size:9}})}),e.dadosProcessados.length>0){const o=e.dadosProcessados.filter(g=>g.name.startsWith("Região:")),u=e.dadosProcessados.filter(g=>g.name.startsWith("Unidade:")),f=e.dadosProcessados.filter(g=>g.name.startsWith("Contrato:")),d=(g,p)=>{const y=i.addWorksheet(g),v=p.reduce((w,C)=>w+C.value,0);return y.getCell(1,1).value=g,y.getCell(1,1).font={bold:!0,size:12},y.getCell(3,1).value="Categoria",y.getCell(3,2).value="Quantidade",y.getCell(3,3).value="Percentual",[y.getCell(3,1),y.getCell(3,2),y.getCell(3,3)].forEach(w=>{w.font={bold:!0,size:10}}),p.forEach((w,C)=>{const P=C+4,F=w.name.replace(/^(Região|Unidade|Contrato):\s*/,"");y.getCell(P,1).value=F,y.getCell(P,2).value=w.value,y.getCell(P,3).value=v>0?`${(w.value/v*100).toFixed(1)}%`:"0%"}),{sheet:y}};o.length>0&&d("Resumo por Região",o),u.length>0&&d("Resumo por Unidade",u),f.length>0&&d("Resumo por Contrato",f);const h=e.dadosProcessados.reduce((g,p)=>g+p.value,0),m=i.addWorksheet("Resumo Geral");m.getCell(1,1).value="RESUMO GERAL",m.getCell(1,1).font={bold:!0,size:12},m.getCell(3,1).value="Categoria",m.getCell(3,2).value="Quantidade",m.getCell(3,3).value="Percentual",[m.getCell(3,1),m.getCell(3,2),m.getCell(3,3)].forEach(g=>{g.font={bold:!0,size:10}}),e.dadosProcessados.forEach((g,p)=>{const y=p+4;m.getCell(y,1).value=g.name,m.getCell(y,2).value=g.value,m.getCell(y,3).value=h>0?`${(g.value/h*100).toFixed(1)}%`:"0%"})}if(e.dados.length>0){const o=i.addWorksheet("Dados Detalhados"),u=await this.processDataWithCidades(e.dados),f=this.getColumnHeaders();o.getCell(1,1).value="DADOS DETALHADOS",o.getCell(1,1).font={bold:!0,size:12},f.forEach((d,h)=>{const m=o.getCell(3,h+1);m.value=d,m.font={bold:!0,size:10}}),u.forEach((d,h)=>{this.config.campos.forEach((m,g)=>{o.getCell(h+4,g+1).value=d[m]||""})})}const l=await i.xlsx.writeBuffer(),c=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});dh.saveAs(c,`relatorio_${(n=this.config.titulo)==null?void 0:n.toLowerCase()}_${e.periodo}_${new Date().toISOString().split("T")[0]}.xlsx`)}catch(i){throw console.error("Erro ao exportar Excel:",i),new Error("Erro ao exportar dados para Excel")}}}class d5e{static createService(e){switch(e.toLowerCase()){case"funcionarios":case"funcionarios_detalhado":case"motoristas":case"motoristas_detalhado":case"status_dos_funcionários":case"status_dos_funcionarios":case"status_dos_motoristas":return new s5e;case"veiculos":case"veiculos_detalhado":case"status_dos_veículos":case"status_dos_veiculos":return new o5e;case"rotas":case"rotas_detalhado":case"status_das_rotas":return new l5e;case"folgas":case"folgas_detalhado":case"status_das_folgas":return new c5e;case"cidades":case"cidades_detalhado":return new u5e;case"vendedores":case"vendedores_detalhado":return new f5e;default:throw new Error(`Tipo de relatório não suportado: ${e}`)}}}const h5e=r=>({Sudeste:"#3B82F6",Sul:"#10B981",Nordeste:"#F59E0B","Centro-Oeste":"#8B5CF6",Norte:"#EF4444","Não definida":"#6B7280"})[r]||"#6B7280",p5e=()=>{const{showNotification:r}=fl(),{userProfile:e}=Lf(),[t,n]=ce.useState(!0),[i,a]=ce.useState("mes"),[s,l]=ce.useState([]),[c,o]=ce.useState([]),[u,f]=ce.useState([]),[d,h]=ce.useState([]),[m,g]=ce.useState([]),[p,y]=ce.useState([]),[v,w]=ce.useState([]),[C,P]=ce.useState([]),[F,L]=ce.useState([]),[j,I]=ce.useState([]),[z,$]=ce.useState([]),[B,T]=ce.useState([]),R=ce.useCallback(async()=>{n(!0);try{const[E,S,k,M,V,O,X]=await Promise.all([el.buscarMotoristas(i),el.buscarFuncionarios(i),el.buscarVeiculos(i),el.buscarRotas(i),el.buscarFolgas(i),el.buscarCidades(i),el.buscarVendedores(i)]);y(E),w(S),P(k),L(M),I(V),$(O),T(X);const Q=el.processarDadosMotoristas(E),re=el.processarDadosFuncionarios(S),G=el.processarDadosVeiculos(k),J=el.processarDadosRotas(M),q=el.processarDadosFolgas(V);l(Q),o(re),f(G),h(J),g(q),n(!1);const U=E.length+S.length+k.length+M.length+V.length+O.length+X.length;r(`Dados carregados: ${U} itens encontrados`,"success")}catch(E){console.error("Erro ao buscar dados para relatórios:",E),n(!1),r("Erro ao carregar dados dos relatórios","error")}},[i]);ce.useEffect(()=>{R()},[R]);const N=ce.useCallback(async(E,S="pdf")=>{try{const k=E.includes("_detalhado");let M=[],V=[],O="";switch(r(k?"Gerando relatório detalhado...":"Gerando relatório...","info"),E){case"motoristas":case"motoristas_detalhado":case"status_dos_motoristas":M=p,V=s,O="Motoristas";break;case"funcionarios":case"funcionarios_detalhado":case"status_dos_funcionários":case"status_dos_funcionarios":M=v,V=c,O="Funcionários";break;case"veiculos":case"veiculos_detalhado":case"status_dos_veículos":case"status_dos_veiculos":M=C,V=u,O="Veículos";break;case"rotas":case"rotas_detalhado":case"status_das_rotas":M=F,V=d,O="Rotas";break;case"folgas":case"folgas_detalhado":case"status_das_folgas":M=j,V=m,O="Folgas";break;case"cidades":case"cidades_detalhado":M=z;const q=z.reduce((Ae,he)=>{const xe=he.regiao||"Não definida";return Ae[xe]=(Ae[xe]||0)+1,Ae},{});V=[],["NORDESTE","CENTRO-OESTE","SUL","NORTE","SUDESTE"].forEach(Ae=>{V.push({name:Ae,value:q[Ae]||0,color:h5e(Ae)})}),O="Cidades";break;case"vendedores_detalhado":M=B;const Z=B.reduce((Ae,he)=>{const xe=he.regiao||"Não definida";return Ae[xe]=(Ae[xe]||0)+1,Ae},{}),ie=B.reduce((Ae,he)=>{const xe=he.unidadeNegocio||"Não definida";return Ae[xe]=(Ae[xe]||0)+1,Ae},{}),le=B.reduce((Ae,he)=>{const xe=he.tipoContrato||"Não definido";return Ae[xe]=(Ae[xe]||0)+1,Ae},{});V=[],["norte","nordeste","centro-oeste","sudeste","sul"].forEach(Ae=>{V.push({name:`Região: ${Ae}`,value:Z[Ae]||0,color:"#3B82F6"})}),["frigorifico","ovos","ambos"].forEach(Ae=>{V.push({name:`Unidade: ${Ae}`,value:ie[Ae]||0,color:"#10B981"})}),["clt","pj","autonomo","outro"].forEach(Ae=>{V.push({name:`Contrato: ${Ae}`,value:le[Ae]||0,color:"#F59E0B"})}),V.sort((Ae,he)=>he.value-Ae.value),O="Vendedores";break;default:console.error(`Tipo de relatório não reconhecido: ${E}`),r("Tipo de relatório não reconhecido","error");return}const Q=d5e.createService(E),re={dados:M,dadosProcessados:V,periodo:i},G=e?{displayName:e.displayName,email:e.email,cargo:e.cargo}:void 0;await Q.exportRelatorio(S,re,G),r(`${k?"Relatório Detalhado":"Relatório"} de ${O} exportado com sucesso!`,"success")}catch(k){console.error("Erro ao exportar relatório:",k),r("Erro ao exportar relatório","error")}},[p,C,F,j,z,B,s,u,d,m,i,r]),_=ce.useCallback(E=>{a(E),r("Atualizando dados...","info"),R()},[R,r]);return{loading:t,periodo:i,dadosMotoristas:s,dadosFuncionarios:c,dadosVeiculos:u,dadosRotas:d,dadosFolgas:m,handleDownload:N,handlePeriodoChange:_,refetch:R}},m5e=({periodo:r,onPeriodoChange:e,loading:t=!1,className:n=""})=>A.jsxs("div",{className:`flex justify-between items-center ${n}`,children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Relatórios"}),A.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Análise detalhada das operações de logística"})]}),A.jsx("div",{className:"flex items-center space-x-4",children:A.jsxs("div",{className:"relative",children:[A.jsxs("select",{value:r,onChange:i=>e(i.target.value),className:"input-field w-40 pr-10",disabled:t,children:[A.jsx("option",{value:"semana",children:"Semana"}),A.jsx("option",{value:"mes",children:"Mês"}),A.jsx("option",{value:"trimestre",children:"Trimestre"}),A.jsx("option",{value:"ano",children:"Ano"})]}),t&&A.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:A.jsx(Kte,{className:"h-4 w-4 animate-spin text-gray-500"})})]})})]}),g5e=({dadosMotoristas:r,dadosFuncionarios:e,dadosVeiculos:t,dadosRotas:n,dadosFolgas:i,className:a=""})=>{const s=c=>c.reduce((o,u)=>o+u.value,0),l=(c,o)=>{var u;return((u=c.find(f=>f.name===o))==null?void 0:u.value)||0};return A.jsxs("div",{className:`grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4 ${a}`,children:[A.jsx("div",{className:"card",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:A.jsx(Qg,{className:"h-6 w-6 text-white"})}),A.jsxs("div",{className:"ml-4",children:[A.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Funcionários"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s(e)})]})]})}),A.jsx("div",{className:"card",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:A.jsx(lw,{className:"h-6 w-6 text-white"})}),A.jsxs("div",{className:"ml-4",children:[A.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Motoristas"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s(r)})]})]})}),A.jsx("div",{className:"card",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:A.jsx(xc,{className:"h-6 w-6 text-white"})}),A.jsxs("div",{className:"ml-4",children:[A.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Veículos"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s(t)})]})]})}),A.jsx("div",{className:"card",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"p-3 rounded-lg bg-orange-500",children:A.jsx(Yg,{className:"h-6 w-6 text-white"})}),A.jsxs("div",{className:"ml-4",children:[A.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Folgas Pendentes"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l(i,"Pendente")})]})]})})]})},Pz=({isOpen:r,onClose:e,onExport:t,titulo:n,disablePDF:i=!1})=>{const[a,s]=ce.useState("pdf");if(ce.useEffect(()=>{s(i?"csv":"pdf")},[i]),!r)return null;const l=()=>{t(a),e()};return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-md",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Exportar Relatório"}),A.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:A.jsx(da,{className:"h-5 w-5"})})]}),A.jsxs("div",{className:"mb-4",children:[A.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Selecione o formato para exportar o relatório detalhado de"," ",A.jsx("strong",{children:n}),":"]}),A.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Este relatório incluirá todos os dados e campos de"," ",n.toLowerCase(),"."]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("label",{className:`flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 ${i?"opacity-50 cursor-not-allowed":""}`,children:[A.jsx("input",{type:"radio",name:"formato",value:"pdf",checked:a==="pdf",onChange:c=>s(c.target.value),disabled:i,className:"mr-3"}),A.jsx(Hte,{className:"h-5 w-5 text-red-500 mr-2"}),A.jsxs("div",{children:[A.jsx("div",{className:"font-medium",children:"PDF"}),A.jsxs("div",{className:"text-sm text-gray-500",children:["Documento formatado para impressão",i&&A.jsx("span",{className:"text-red-500 ml-1",children:"(Não disponível para este relatório)"})]})]})]}),A.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[A.jsx("input",{type:"radio",name:"formato",value:"csv",checked:a==="csv",onChange:c=>s(c.target.value),className:"mr-3"}),A.jsx(qte,{className:"h-5 w-5 text-green-500 mr-2"}),A.jsxs("div",{children:[A.jsx("div",{className:"font-medium",children:"Excel (XLSX)"}),A.jsx("div",{className:"text-sm text-gray-500",children:"Planilha para análise de dados"})]})]})]})]}),A.jsxs("div",{className:"flex justify-end space-x-3",children:[A.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200",children:"Cancelar"}),A.jsxs("button",{onClick:l,className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 flex items-center",children:[A.jsx(X0,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]})})},ky=({config:r,onDownload:e,className:t=""})=>{const[n,i]=ce.useState(!1),a=()=>{i(!0)},s=c=>{const o=r.titulo.toLowerCase().replace(/ /g,"_");e(o,c)},l=()=>{if(r.tipo==="pie")return A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx(sy,{width:"100%",height:r.altura||256,children:A.jsxs(gV,{children:[A.jsx(kc,{data:r.dados,cx:"50%",cy:"50%",labelLine:!1,label:({percent:c})=>`${(c*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.dados.map((c,o)=>A.jsx(t1,{fill:c.color},`cell-${o}`))}),A.jsx(oo,{formatter:(c,o)=>[`${c} (${(c/r.dados.reduce((u,f)=>u+f.value,0)*100).toFixed(0)}%)`,o]})]})}),A.jsx("div",{className:"mt-6 w-full",children:A.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2",children:r.dados.map((c,o)=>A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:c.color}}),A.jsx("div",{className:"flex-1 min-w-0",children:A.jsx("span",{className:"text-sm text-gray-700 block truncate",children:c.name})}),A.jsx("span",{className:"text-sm font-semibold text-gray-900 flex-shrink-0",children:c.value})]},`legend-${o}`))})})]});if(r.tipo==="bar")return A.jsx(sy,{width:"100%",height:"100%",children:A.jsxs(DR,{data:r.dados,children:[A.jsx(Uy,{strokeDasharray:"3 3"}),A.jsx(jd,{dataKey:"name"}),A.jsx(Id,{}),A.jsx(oo,{}),A.jsx(Tf,{dataKey:"value",fill:r.cor||"#3B82F6"})]})});if(r.tipo==="line")return A.jsx(sy,{width:"100%",height:"100%",children:A.jsxs(Wye,{data:r.dados,children:[A.jsx(Uy,{strokeDasharray:"3 3"}),A.jsx(jd,{dataKey:"name"}),A.jsx(Id,{}),A.jsx(oo,{}),A.jsx(l1,{type:"monotone",dataKey:"value",stroke:r.cor||"#3B82F6",strokeWidth:2,dot:{fill:r.cor||"#3B82F6",strokeWidth:2,r:4}})]})});if(r.tipo==="horizontal-bar"){const c=r.dados.filter(f=>f&&typeof f=="object"&&"name"in f&&"value"in f&&typeof f.value=="number"&&f.value>0),o=c.reduce((f,d)=>f+d.value,0),u=[...c].sort((f,d)=>d.value-f.value);return u.length===0?A.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:A.jsxs("div",{className:"text-center py-8",children:[A.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"Nenhum dado disponível"}),A.jsxs("p",{className:"text-gray-400 text-sm",children:["Não há"," ",r.titulo.toLowerCase().includes("rotas")?"rotas":"folgas"," ","para exibir"]})]})}):A.jsxs("div",{className:"flex flex-col h-full",children:[A.jsx("div",{style:{height:r.altura||300},children:A.jsx(sy,{width:"100%",height:"100%",children:A.jsxs(DR,{data:u,margin:{top:20,right:30,left:20,bottom:20},children:[A.jsx(Uy,{strokeDasharray:"3 3"}),A.jsx(jd,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#6B7280"}}),A.jsx(Id,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#6B7280"}}),A.jsx(oo,{contentStyle:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:(f,d)=>{const h=r.titulo.toLowerCase().includes("rotas")?"rotas":"folgas",m=o>0?(f/o*100).toFixed(1):"0";return[`${f} ${h} (${m}%)`,d]},labelStyle:{fontWeight:600,color:"#374151"}}),A.jsx(Tf,{dataKey:"value",fill:r.cor||"#3B82F6",radius:[4,4,0,0],barSize:40})]})})}),A.jsx("div",{className:"mt-4 flex flex-wrap gap-3 justify-center",children:u.map((f,d)=>{const h=o>0?(f.value/o*100).toFixed(1):"0";return A.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 px-3 py-2 rounded-lg",children:[A.jsx("div",{className:"w-3 h-3 rounded-sm flex-shrink-0",style:{backgroundColor:f.color}}),A.jsx("span",{className:"text-sm font-medium text-gray-700",children:f.name}),A.jsx("span",{className:"text-sm font-bold text-gray-900 bg-white px-2 py-1 rounded",children:f.value}),A.jsxs("span",{className:"text-xs text-gray-500",children:["(",h,"%)"]})]},`legend-${d}`)})})]})}return null};return A.jsxs("div",{className:`card ${t}`,children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r.titulo}),r.tipo==="horizontal-bar"&&A.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Total: ",r.dados.reduce((c,o)=>c+o.value,0)," ",r.titulo.toLowerCase().includes("rotas")?"rotas":"folgas"]})]}),e&&A.jsx("button",{onClick:a,className:"text-primary-600 hover:text-primary-900",title:"Exportar relatório",children:A.jsx(X0,{className:"h-5 w-5"})})]}),A.jsx("div",{children:l()}),e&&A.jsx(Pz,{isOpen:n,onClose:()=>i(!1),onExport:s,titulo:r.titulo})]})},y5e=({onDownload:r,className:e=""})=>{const[t,n]=ce.useState(!1),[i,a]=ce.useState(""),s=o=>{a(o),n(!0)},l=o=>{r(i,o)},c=i==="funcionarios_detalhado";return A.jsxs("div",{className:`card ${e}`,children:[A.jsx("div",{className:"flex items-center justify-between mb-4",children:A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Relatórios Detalhados"}),A.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Exporte listas completas com todos os dados de cada entidade"})]})}),A.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4 mb-4",children:[A.jsxs("button",{onClick:()=>s("funcionarios_detalhado"),className:"flex flex-col items-center justify-center p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[A.jsx(Qg,{className:"h-8 w-8 text-primary-600 mb-2"}),A.jsx("span",{className:"font-medium text-gray-900",children:"Funcionários"}),A.jsx("span",{className:"text-xs text-gray-500",children:"Lista completa"})]}),A.jsxs("button",{onClick:()=>s("veiculos_detalhado"),className:"flex flex-col items-center justify-center p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[A.jsx(xc,{className:"h-8 w-8 text-primary-600 mb-2"}),A.jsx("span",{className:"font-medium text-gray-900",children:"Veículos"}),A.jsx("span",{className:"text-xs text-gray-500",children:"Lista completa"})]}),A.jsxs("button",{onClick:()=>s("rotas_detalhado"),className:"flex flex-col items-center justify-center p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[A.jsx(gc,{className:"h-8 w-8 text-primary-600 mb-2"}),A.jsx("span",{className:"font-medium text-gray-900",children:"Rotas"}),A.jsx("span",{className:"text-xs text-gray-500",children:"Lista completa"})]}),A.jsxs("button",{onClick:()=>s("folgas_detalhado"),className:"flex flex-col items-center justify-center p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[A.jsx(Yg,{className:"h-8 w-8 text-primary-600 mb-2"}),A.jsx("span",{className:"font-medium text-gray-900",children:"Folgas"}),A.jsx("span",{className:"text-xs text-gray-500",children:"Lista completa"})]})]}),A.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[A.jsxs("button",{onClick:()=>s("cidades_detalhado"),className:"flex flex-col items-center justify-center p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[A.jsx(sw,{className:"h-8 w-8 text-primary-600 mb-2"}),A.jsx("span",{className:"font-medium text-gray-900",children:"Cidades"}),A.jsx("span",{className:"text-xs text-gray-500",children:"Lista completa"})]}),A.jsxs("button",{onClick:()=>s("vendedores_detalhado"),className:"flex flex-col items-center justify-center p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[A.jsx(lw,{className:"h-8 w-8 text-primary-600 mb-2"}),A.jsx("span",{className:"font-medium text-gray-900",children:"Vendedores"}),A.jsx("span",{className:"text-xs text-gray-500",children:"Lista completa"})]}),A.jsx("div",{className:"hidden lg:block"}),A.jsx("div",{className:"hidden lg:block"})]}),A.jsx(Pz,{isOpen:t,onClose:()=>n(!1),onExport:l,titulo:i.replace("_detalhado","").replace(/([A-Z])/g," $1").trim(),disablePDF:c})]})},v5e=({className:r=""})=>{const{loading:e,periodo:t,dadosMotoristas:n,dadosFuncionarios:i,dadosVeiculos:a,dadosRotas:s,dadosFolgas:l,handleDownload:c,handlePeriodoChange:o}=p5e();return e?A.jsx("div",{className:"flex items-center justify-center h-64",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):A.jsxs("div",{className:`space-y-6 ${r}`,children:[A.jsx(m5e,{periodo:t,onPeriodoChange:o,loading:e}),A.jsx(g5e,{dadosMotoristas:n,dadosFuncionarios:i,dadosVeiculos:a,dadosRotas:s,dadosFolgas:l}),A.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 xl:grid-cols-2",children:[A.jsx(ky,{config:{titulo:"Status dos Motoristas",tipo:"pie",dados:n,altura:256}}),A.jsx(ky,{config:{titulo:"Status dos Veículos",tipo:"pie",dados:a,altura:256}}),A.jsx(ky,{config:{titulo:"Status das Rotas",tipo:"horizontal-bar",dados:s,altura:256,cor:"#3B82F6"}}),A.jsx(ky,{config:{titulo:"Status das Folgas",tipo:"horizontal-bar",dados:l,altura:256,cor:"#F59E0B"}})]}),A.jsx(y5e,{onDownload:c})]})},b5e=r=>A.jsx(v5e,{...r}),w5e=()=>{var F,L,j,I,z;const{userProfile:r,updateUserProfile:e}=Lf(),{showNotification:t}=fl(),[n,i]=ce.useState("perfil"),[a,s]=ce.useState(!1),[l,c]=ce.useState({}),[o,u]=ce.useState(!1),[f,d]=ce.useState({displayName:(r==null?void 0:r.displayName)||"",email:(r==null?void 0:r.email)||"",telefone:(r==null?void 0:r.telefone)||"",cargo:(r==null?void 0:r.cargo)||""}),[h,m]=ce.useState({email:((F=r==null?void 0:r.notificacoes)==null?void 0:F.email)??!1,push:((L=r==null?void 0:r.notificacoes)==null?void 0:L.push)??!0,rotas:((j=r==null?void 0:r.notificacoes)==null?void 0:j.rotas)??!0,folgas:((I=r==null?void 0:r.notificacoes)==null?void 0:I.folgas)??!0,manutencao:((z=r==null?void 0:r.notificacoes)==null?void 0:z.manutencao)??!0}),[g,p]=ce.useState({idioma:"pt-BR",timezone:"America/Sao_Paulo",backup:!1});ce.useEffect(()=>{r&&!o&&(r.notificacoes?m({email:r.notificacoes.email??!1,push:r.notificacoes.push??!0,rotas:r.notificacoes.rotas??!0,folgas:r.notificacoes.folgas??!0,manutencao:r.notificacoes.manutencao??!0}):m({email:!1,push:!0,rotas:!0,folgas:!0,manutencao:!0}),u(!0))},[r,o]);const y=ce.useCallback(()=>{const $={};return f.email&&!gC(f.email)&&($.email="Email inválido"),f.telefone&&!yC(f.telefone)&&($.telefone="Telefone inválido (formato: (73) 99999-9999)"),c($),Object.keys($).length===0},[f]),v=ce.useCallback(async $=>{if(!y()){t("Por favor, corrija os erros no formulário","error");return}s(!0);try{const B={...$,displayName:$.displayName.toUpperCase(),cargo:$.cargo.toUpperCase(),notificacoes:h};await e(r==null?void 0:r.uid,B),t("Perfil e configurações atualizados com sucesso!","success")}catch(B){console.error("Erro ao atualizar perfil:",B),t("Erro ao atualizar perfil","error")}finally{s(!1)}},[y,t,e,r==null?void 0:r.uid,h]),w=ce.useCallback(($,B)=>{d(T=>({...T,[$]:B}))},[]),C=ce.useCallback($=>{if($==="email"){t("Notificações por email em breve!","info");return}m(B=>({...B,[$]:!B[$]}))},[t]),P=ce.useCallback(($,B)=>{p(T=>({...T,[$]:B}))},[]);return{activeTab:n,setActiveTab:i,loading:a,errors:l,perfilData:f,notificacoes:h,sistema:g,handlePerfilSubmit:v,handlePerfilChange:w,handleNotificacoesChange:C,handleSistemaChange:P}},x5e=({tabs:r,activeTab:e,onTabChange:t,className:n=""})=>A.jsx("div",{className:`border-b border-gray-200 ${n}`,children:A.jsx("nav",{className:"-mb-px flex space-x-8",children:r.map(i=>{const a=i.icon;return A.jsxs("button",{onClick:()=>t(i.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${e===i.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[A.jsx(a,{className:"h-4 w-4 inline mr-2"}),i.name]},i.id)})})}),_5e=({data:r,errors:e,loading:t,onSubmit:n,onChange:i,className:a=""})=>{const s=l=>{l.preventDefault(),n(r)};return A.jsxs("div",{className:`card ${a}`,children:[A.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Perfil do Usuário"}),A.jsxs("form",{onSubmit:s,className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome Completo"}),A.jsx("input",{type:"text",value:r.displayName,onChange:l=>i("displayName",l.target.value),className:"input-field",placeholder:"Digite seu nome completo"}),A.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"O nome será salvo em maiúsculas automaticamente"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),A.jsx("input",{type:"email",value:r.email,onChange:l=>i("email",l.target.value),className:`input-field ${e.email?"border-red-500":""}`,placeholder:"exemplo@email.com"}),e.email&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:e.email})]})]}),A.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Telefone"}),A.jsx("input",{type:"text",value:r.telefone,onChange:l=>i("telefone",Og(l.target.value)),className:`input-field ${e.telefone?"border-red-500":""}`,placeholder:"(73) 99999-9999"}),e.telefone&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:e.telefone})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cargo"}),A.jsx("input",{type:"text",value:r.cargo,onChange:l=>i("cargo",l.target.value),className:"input-field",placeholder:"Ex: Gerente, Analista..."}),A.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"O cargo será salvo em maiúsculas automaticamente"})]})]}),A.jsx("div",{className:"flex justify-end",children:A.jsxs("button",{type:"submit",disabled:t,className:"btn-primary flex items-center",children:[A.jsx(Zte,{className:"h-4 w-4 mr-2"}),t?"Salvando...":"Salvar Alterações"]})})]})]})},S5e=({config:r,onChange:e,className:t=""})=>A.jsxs("div",{className:`card ${t}`,children:[A.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Configurações de Notificações"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex items-center justify-between opacity-50",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Notificações por Email"}),A.jsx("p",{className:"text-sm text-gray-500",children:"Receber notificações importantes por email"}),A.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"⚠️ Em breve - Em desenvolvimento"})]}),A.jsx("button",{disabled:!0,className:"relative inline-flex h-6 w-11 items-center rounded-full bg-gray-200 cursor-not-allowed",children:A.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white translate-x-1"})})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Notificações Push"}),A.jsx("p",{className:"text-sm text-gray-500",children:"Receber notificações no navegador"})]}),A.jsx("button",{onClick:()=>e("push"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${r.push?"bg-primary-600":"bg-gray-200"}`,children:A.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${r.push?"translate-x-6":"translate-x-1"}`})})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Novas Rotas"}),A.jsx("p",{className:"text-sm text-gray-500",children:"Notificar sobre novas rotas atribuídas"})]}),A.jsx("button",{onClick:()=>e("rotas"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${r.rotas?"bg-primary-600":"bg-gray-200"}`,children:A.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${r.rotas?"translate-x-6":"translate-x-1"}`})})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Folgas e Férias"}),A.jsx("p",{className:"text-sm text-gray-500",children:"Notificar sobre solicitações de folga"})]}),A.jsx("button",{onClick:()=>e("folgas"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${r.folgas?"bg-primary-600":"bg-gray-200"}`,children:A.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${r.folgas?"translate-x-6":"translate-x-1"}`})})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Manutenção de Veículos"}),A.jsx("p",{className:"text-sm text-gray-500",children:"Notificar sobre manutenções programadas"})]}),A.jsx("button",{onClick:()=>e("manutencao"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${r.manutencao?"bg-primary-600":"bg-gray-200"}`,children:A.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${r.manutencao?"translate-x-6":"translate-x-1"}`})})]})]})]}),E5e=({config:r,onChange:e,className:t=""})=>A.jsxs("div",{className:`card ${t}`,children:[A.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Configurações do Sistema"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Idioma"}),A.jsxs("select",{value:r.idioma,onChange:n=>e("idioma",n.target.value),className:"input-field",disabled:!0,children:[A.jsx("option",{value:"pt-BR",children:"Português (Brasil)"}),A.jsx("option",{value:"en-US",children:"English (US)"}),A.jsx("option",{value:"es-ES",children:"Español"})]}),A.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Idioma fixo do sistema"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fuso Horário"}),A.jsxs("select",{value:r.timezone,onChange:n=>e("timezone",n.target.value),className:"input-field",children:[A.jsx("option",{value:"America/Sao_Paulo",children:"Brasília (GMT-3)"}),A.jsx("option",{value:"America/Manaus",children:"Manaus (GMT-4)"}),A.jsx("option",{value:"America/Belem",children:"Belém (GMT-3)"})]})]}),A.jsxs("div",{className:"flex items-center justify-between opacity-50",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Backup Automático"}),A.jsx("p",{className:"text-sm text-gray-500",children:"Fazer backup automático dos dados"}),A.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"⚠️ Em breve - Em desenvolvimento"})]}),A.jsx("button",{disabled:!0,className:"relative inline-flex h-6 w-11 items-center rounded-full bg-gray-200 cursor-not-allowed",children:A.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white translate-x-1"})})]})]})]}),A5e=({userProfile:r,className:e=""})=>{const[t,n]=ce.useState(null),[i,a]=ce.useState(!0),s=l=>{if(!l)return"N/A";try{return l&&typeof l.toDate=="function"?new Date(l.toDate()).toLocaleString("pt-BR"):l instanceof Date?l.toLocaleString("pt-BR"):typeof l=="number"?new Date(l).toLocaleString("pt-BR"):typeof l=="string"?new Date(l).toLocaleString("pt-BR"):"N/A"}catch(c){return console.error("Erro ao formatar data do último login:",c),"N/A"}};return ce.useEffect(()=>{(async()=>{try{if(a(!0),r!=null&&r.sessionInfo){const c=By.formatSessionInfo(r.sessionInfo);n(c)}else{const c=await By.getSessionInfo(),o=By.formatSessionInfo(c);n(o)}}catch(c){console.error("Erro ao carregar informações de sessão:",c),n({ip:"Não disponível",device:"Não disponível",browser:"Não disponível",os:"Não disponível"})}finally{a(!1)}})()},[r==null?void 0:r.sessionInfo]),A.jsxs("div",{className:`card ${e}`,children:[A.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Segurança"}),A.jsxs("div",{className:"space-y-4",children:[A.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:A.jsxs("div",{className:"flex",children:[A.jsx("div",{className:"flex-shrink-0",children:A.jsx(f4,{className:"h-5 w-5 text-yellow-400"})}),A.jsxs("div",{className:"ml-3",children:[A.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Segurança da Conta"}),A.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:A.jsx("p",{children:"Para alterar sua senha, entre em contato com o administrador do sistema."})})]})]})}),A.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:A.jsxs("div",{className:"flex",children:[A.jsx("div",{className:"flex-shrink-0",children:A.jsx(Gte,{className:"h-5 w-5 text-blue-400"})}),A.jsxs("div",{className:"ml-3",children:[A.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Informações de Sessão"}),A.jsxs("div",{className:"mt-2 text-sm text-blue-700",children:[A.jsxs("p",{children:["Último login: ",s(r==null?void 0:r.lastLogin)]}),A.jsxs("p",{children:["IP:"," ",i?"Carregando...":(t==null?void 0:t.ip)||"Não disponível"]}),A.jsxs("p",{children:["Dispositivo:"," ",i?"Carregando...":(t==null?void 0:t.device)||"Não disponível"]})]})]})]})})]})]})},C5e=[{id:"perfil",name:"Perfil",icon:GF},{id:"notificacoes",name:"Notificações",icon:VF},{id:"sistema",name:"Sistema",icon:zte},{id:"seguranca",name:"Segurança",icon:f4}],k5e=({className:r=""})=>{const{userProfile:e}=Lf(),{activeTab:t,setActiveTab:n,loading:i,errors:a,perfilData:s,notificacoes:l,sistema:c,handlePerfilSubmit:o,handlePerfilChange:u,handleNotificacoesChange:f,handleSistemaChange:d}=w5e();return A.jsxs("div",{className:`space-y-6 ${r}`,children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Configurações"}),A.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Gerencie suas preferências e configurações do sistema"})]}),A.jsx(x5e,{tabs:C5e,activeTab:t,onTabChange:n}),A.jsxs("div",{className:"mt-6",children:[t==="perfil"&&A.jsx(_5e,{data:s,errors:a,loading:i,onSubmit:o,onChange:u}),t==="notificacoes"&&A.jsx(S5e,{config:l,onChange:f}),t==="sistema"&&A.jsx(E5e,{config:c,onChange:d}),t==="seguranca"&&A.jsx(A5e,{userProfile:e})]})]})},T5e=r=>A.jsx(k5e,{...r}),jz=({code:r,title:e,message:t,description:n,icon:i,showHomeButton:a=!0,showBackButton:s=!0,showRefreshButton:l=!0,className:c=""})=>{const o=Yd(),u=()=>{o("/dashboard")},f=()=>{o(-1)},d=()=>{window.location.reload()};return A.jsx("div",{className:`min-h-screen flex items-center justify-center bg-gray-50 ${c}`,children:A.jsxs("div",{className:"max-w-md w-full mx-auto text-center px-4",children:[A.jsx("div",{className:"mb-8",children:A.jsx("h1",{className:"text-9xl font-bold text-gray-200",children:r})}),i&&A.jsx("div",{className:"mb-6 flex justify-center",children:A.jsx("div",{className:"p-4 bg-red-100 rounded-full",children:i})}),A.jsxs("div",{className:"mb-8",children:[A.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:e}),A.jsx("p",{className:"text-lg text-gray-600 mb-4",children:t}),n&&A.jsx("p",{className:"text-sm text-gray-500",children:n})]}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[a&&A.jsxs("button",{onClick:u,className:"flex items-center justify-center gap-2 px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[A.jsx(qF,{className:"h-4 w-4"}),"Ir para o Dashboard"]}),s&&A.jsxs("button",{onClick:f,className:"flex items-center justify-center gap-2 px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[A.jsx(UF,{className:"h-4 w-4"}),"Voltar"]}),l&&A.jsxs("button",{onClick:d,className:"flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[A.jsx(Qte,{className:"h-4 w-4"}),"Recarregar"]})]})]})})},hD=()=>A.jsx(jz,{code:"404",title:"Página não encontrada",message:"Ops! Parece que você se perdeu no caminho.",description:"A página que você está procurando não existe ou foi movida para outro endereço.",icon:A.jsx(Cu,{className:"h-8 w-8 text-red-500"}),showHomeButton:!0,showBackButton:!0,showRefreshButton:!1}),Iz=()=>A.jsx(jz,{code:"500",title:"Erro interno do servidor",message:"Algo deu errado no nosso servidor.",description:"Nossa equipe foi notificada e está trabalhando para resolver o problema. Tente novamente em alguns minutos.",icon:A.jsx(WF,{className:"h-8 w-8 text-red-500"}),showHomeButton:!0,showBackButton:!1,showRefreshButton:!0}),N5e=()=>{const r=Yd(),e=[{code:"400",title:"Bad Request",path:"/error/400",description:"Requisição inválida",icon:A.jsx($F,{className:"h-6 w-6 text-orange-500"})},{code:"401",title:"Unauthorized",path:"/error/401",description:"Acesso não autorizado",icon:A.jsx(f4,{className:"h-6 w-6 text-red-500"})},{code:"403",title:"Forbidden",path:"/error/403",description:"Acesso proibido",icon:A.jsx(g8,{className:"h-6 w-6 text-red-500"})},{code:"404",title:"Not Found",path:"/error/404",description:"Página não encontrada",icon:A.jsx(Cu,{className:"h-6 w-6 text-red-500"})},{code:"500",title:"Server Error",path:"/error/500",description:"Erro interno do servidor",icon:A.jsx(WF,{className:"h-6 w-6 text-red-500"})}];return A.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:A.jsxs("div",{className:"max-w-4xl mx-auto",children:[A.jsxs("div",{className:"text-center mb-12",children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Páginas de Erro - SGL"}),A.jsx("p",{className:"text-lg text-gray-600",children:"Teste todas as páginas de erro disponíveis no sistema"})]}),A.jsx("div",{className:"mb-8",children:A.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[A.jsx(UF,{className:"h-4 w-4"}),"Voltar"]})}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(t=>A.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.icon,A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.title}),A.jsx("p",{className:"text-sm text-gray-500",children:t.description})]})]}),A.jsx("div",{className:"mb-4",children:A.jsx("span",{className:"inline-block bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-sm font-mono",children:t.code})}),A.jsx("button",{onClick:()=>r(t.path),className:"w-full px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Testar Página"})]},t.code))}),A.jsxs("div",{className:"mt-12 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[A.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Como Usar"}),A.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[A.jsxs("p",{children:["• ",A.jsx("strong",{children:"Error Boundary:"})," Captura erros de JavaScript automaticamente"]}),A.jsxs("p",{children:["• ",A.jsx("strong",{children:"Hook useErrorHandler:"})," Para tratamento programático de erros"]}),A.jsxs("p",{children:["• ",A.jsx("strong",{children:"Rotas:"})," Acesse diretamente via URL (ex: /error/404)"]}),A.jsxs("p",{children:["• ",A.jsx("strong",{children:"Personalização:"})," Todas as páginas são customizáveis"]})]})]})]})})};class P5e extends ce.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary capturou um erro:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:A.jsx(Iz,{}):this.props.children}}class j5e extends ce.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return e.message.includes("ResizeObserver loop completed with undelivered notifications")?(console.log("🔧 Erro do ResizeObserver capturado pelo Error Boundary"),{hasError:!1}):{hasError:!0}}componentDidCatch(e,t){if(e.message.includes("ResizeObserver loop completed with undelivered notifications")){console.log("🔧 Erro do ResizeObserver suprimido pelo Error Boundary");return}console.error("Error caught by ResizeObserverErrorBoundary:",e,t)}render(){return this.state.hasError?A.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md",children:[A.jsx("h2",{className:"text-red-800 font-semibold",children:"Algo deu errado"}),A.jsx("p",{className:"text-red-600",children:"Ocorreu um erro inesperado. Tente recarregar a página."})]}):this.props.children}}const I5e=()=>{const[r,e]=ce.useState(null),[t,n]=ce.useState(!0);return a4(),ce.useEffect(()=>{const i=Q3(vd,a=>{e(a),n(!1)});return()=>i()},[]),t?A.jsx("div",{className:"min-h-screen flex items-center justify-center",children:A.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):A.jsx(P5e,{children:A.jsx(j5e,{children:A.jsx(Dte,{children:A.jsx(Lte,{children:A.jsx(CH,{children:A.jsxs("div",{className:"App",children:[A.jsx(wW,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}}),A.jsxs(vH,{children:[A.jsx(Ya,{path:"/login",element:r?A.jsx(K1,{to:"/dashboard"}):A.jsx(nre,{})}),A.jsx(Ya,{path:"/error/500",element:A.jsx(Iz,{})}),A.jsx(Ya,{path:"/error/404",element:A.jsx(hD,{})}),A.jsx(Ya,{path:"/error-test",element:A.jsx(N5e,{})}),A.jsxs(Ya,{path:"/",element:r?A.jsx(fre,{}):A.jsx(K1,{to:"/login"}),children:[A.jsx(Ya,{index:!0,element:A.jsx(K1,{to:"/dashboard"})}),A.jsx(Ya,{path:"dashboard",element:A.jsx(Zye,{})}),A.jsx(Ya,{path:"funcionarios",element:A.jsx(Pve,{})}),A.jsx(Ya,{path:"motoristas",element:A.jsx(K1,{to:"/funcionarios"})}),A.jsx(Ya,{path:"veiculos",element:A.jsx(Lve,{})}),A.jsx(Ya,{path:"rotas",element:A.jsx(Gve,{})}),A.jsx(Ya,{path:"folgas",element:A.jsx(fbe,{})}),A.jsx(Ya,{path:"cidades",element:A.jsx(bbe,{})}),A.jsx(Ya,{path:"vendedores",element:A.jsx(Rbe,{})}),A.jsx(Ya,{path:"relatorios",element:A.jsx(b5e,{})}),A.jsx(Ya,{path:"configuracoes",element:A.jsx(T5e,{})})]}),A.jsx(Ya,{path:"*",element:A.jsx(hD,{})})]})]})})})})})})},O5e=Cq.createRoot(document.getElementById("root"));O5e.render(A.jsx(Le.StrictMode,{children:A.jsx(I5e,{})}));export{xve as B,Kn as _,cc as c,Zh as f,Rn as g,o0 as v};
//# sourceMappingURL=index-GRtTAizn.js.map
